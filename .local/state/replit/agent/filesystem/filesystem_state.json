{"file_contents":{"client/src/components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","path":null,"size_bytes":2396,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/pages/AdminPanel.tsx":{"content":"import { useState, useEffect, ChangeEvent, useCallback } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { \n  LayoutDashboard, \n  Package, \n  FileText, \n  Settings, \n  Plus, \n  Search,\n  MoreHorizontal,\n  Users,\n  Eye,\n  Clock,\n  Activity,\n  Monitor,\n  Smartphone,\n  Tablet,\n  Globe,\n  MapPin,\n  TrendingUp,\n  Edit,\n  Trash2,\n  Save,\n  X,\n  Image as ImageIcon,\n  CheckCircle,\n  AlertCircle,\n  Flame,\n  RefreshCw,\n  Upload,\n  Loader2,\n  Palette,\n  Type,\n  ExternalLink,\n  Truck,\n  Copy,\n  ShoppingCart,\n  Lock,\n  LogOut,\n  Sparkles,\n  BookOpen,\n  BarChart3,\n  Wand2,\n  List,\n  Hash,\n  Target,\n  Github,\n  GitBranch,\n  CloudUpload,\n  CheckCheck\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { \n  Table, \n  TableBody, \n  TableCell, \n  TableHead, \n  TableHeader, \n  TableRow \n} from \"@/components/ui/table\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { supabase, getStorageUrl, formatPriceDisplay, centsToDollars, dollarsToCents } from \"@/lib/supabase\";\nimport SeoToolkit from \"@/components/seo/SeoToolkit\";\n\ninterface VisitorStats {\n  totalVisitors: number;\n  todayVisitors: number;\n  weekVisitors: number;\n  onlineNow: number;\n  deviceBreakdown: { desktop: number; mobile: number; tablet: number };\n  topCountries: Array<{ name: string; count: number }>;\n  topRegions: Array<{ name: string; count: number }>;\n  topCities: Array<{ name: string; count: number }>;\n  recentVisitors: Array<{\n    id: string;\n    pageUrl: string;\n    referrer: string | null;\n    userAgent: string;\n    ipAddress: string | null;\n    country: string | null;\n    countryCode: string | null;\n    region: string | null;\n    city: string | null;\n    timezone: string | null;\n    isProxy: boolean | null;\n    createdAt: string;\n  }>;\n}\n\ninterface PageEdit {\n  id: string;\n  pageId: string;\n  sectionId: string;\n  elementId: string;\n  elementType: string;\n  content: string | null;\n  imageUrl: string | null;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface FulfillmentOrder {\n  id: string;\n  customerEmail: string;\n  customerName: string | null;\n  realProductName: string | null;\n  amount: number;\n  status: string | null;\n  shippingName: string | null;\n  shippingPhone: string | null;\n  shippingStreet: string | null;\n  shippingCity: string | null;\n  shippingState: string | null;\n  shippingZip: string | null;\n  shippingCountry: string | null;\n  fulfillmentStatus: string | null;\n  amazonOrderId: string | null;\n  createdAt: string | null;\n}\n\ninterface Customer {\n  id: string;\n  username: string;\n  password: string;\n  email: string;\n  fullName: string | null;\n  phone: string | null;\n  status: string | null;\n  notes: string | null;\n  totalOrders: number | null;\n  lastOrderAt: string | null;\n  createdAt: string | null;\n  updatedAt: string | null;\n}\n\ninterface CustomerOrder {\n  id: string;\n  realProductName: string | null;\n  amount: number;\n  status: string | null;\n  createdAt: string | null;\n}\n\ninterface OrderStats {\n  totalOrders: number;\n  ordersToday: number;\n  ordersThisWeek: number;\n  ordersThisMonth: number;\n  totalRevenue: number;\n  revenueToday: number;\n  revenueThisWeek: number;\n  revenueThisMonth: number;\n  pendingFulfillments: number;\n  recentOrders: Array<{\n    id: string;\n    customerEmail: string;\n    customerName: string | null;\n    productName: string | null;\n    amount: number;\n    status: string | null;\n    fulfillmentStatus: string | null;\n    createdAt: string | null;\n  }>;\n}\n\ninterface Product {\n  id: string;\n  name: string;\n  slug: string;\n  description: string;\n  short_description?: string;\n  price: number;\n  sale_price: number | null;\n  sku: string;\n  stock_quantity: number;\n  stock_status: string;\n  category: string;\n  status: string;\n  featured: boolean;\n  main_image: string;\n  cloaked_name: string;\n  sort_order?: number;\n}\n\ninterface BlogPost {\n  id: string;\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  category: string;\n  imageUrl: string | null;\n  metaTitle: string | null;\n  metaDescription: string | null;\n  keywords: string[] | null;\n  readTime: string | null;\n  wordCount: number | null;\n  headingScore: number | null;\n  keywordDensityScore: number | null;\n  contentLengthScore: number | null;\n  metaScore: number | null;\n  structureScore: number | null;\n  overallSeoScore: number | null;\n  seoAnalysis: string | null;\n  featured: boolean | null;\n  published: boolean | null;\n  publishedAt: string | null;\n  linkedProductIds: string[] | null;\n  createdAt: string | null;\n  updatedAt: string | null;\n}\n\ninterface AIGenerationRequest {\n  topic: string;\n  keywords?: string[];\n  tone?: 'professional' | 'casual' | 'educational' | 'persuasive' | 'entertaining';\n  length?: 'short' | 'medium' | 'long' | 'comprehensive';\n  category?: string;\n  targetAudience?: string;\n  includeHeadings?: boolean;\n  includeLists?: boolean;\n  includeFAQ?: boolean;\n  productContext?: string;\n}\n\ninterface GeneratedContent {\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  metaTitle: string;\n  metaDescription: string;\n  keywords: string[];\n  category: string;\n  faq?: { question: string; answer: string }[];\n}\n\nconst shadowProductMap: Record<string, string> = {\n  \"Fire Stick HD\": \"Web Design Basic\",\n  \"Fire Stick 4K\": \"Web Design Pro\",\n  \"Fire Stick 4K Max\": \"Web Design Enterprise\",\n  \"1 Month IPTV\": \"SEO Basic\",\n  \"3 Month IPTV\": \"SEO Standard\",\n  \"6 Month IPTV\": \"SEO Pro\",\n  \"1 Year IPTV\": \"SEO Enterprise\"\n};\n\nconst AUTH_TOKEN_KEY = 'admin_auth_token';\n\nfunction getStoredToken(): string | null {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem(AUTH_TOKEN_KEY);\n  }\n  return null;\n}\n\nfunction setStoredToken(token: string): void {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(AUTH_TOKEN_KEY, token);\n  }\n}\n\nfunction clearStoredToken(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(AUTH_TOKEN_KEY);\n  }\n}\n\nexport default function AdminPanel() {\n  const [activeSection, setActiveSection] = useState(\"dashboard\");\n  const [, setLocation] = useLocation();\n  \n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [authToken, setAuthToken] = useState<string | null>(null);\n  const [loginLoading, setLoginLoading] = useState(false);\n  const [loginError, setLoginError] = useState<string | null>(null);\n  const [loginForm, setLoginForm] = useState({ username: '', password: '' });\n  const [checkingAuth, setCheckingAuth] = useState(true);\n  \n  const [visitorStats, setVisitorStats] = useState<VisitorStats>({\n    totalVisitors: 0,\n    todayVisitors: 0,\n    weekVisitors: 0,\n    onlineNow: 0,\n    deviceBreakdown: { desktop: 0, mobile: 0, tablet: 0 },\n    topCountries: [],\n    topRegions: [],\n    topCities: [],\n    recentVisitors: []\n  });\n  const [loadingStats, setLoadingStats] = useState(true);\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date());\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loadingProducts, setLoadingProducts] = useState(true);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [toast, setToast] = useState<{ message: string; type: 'success' | 'error' } | null>(null);\n\n  const [pageEdits, setPageEdits] = useState<PageEdit[]>([]);\n  const [loadingEdits, setLoadingEdits] = useState(true);\n  const [editingPageEdit, setEditingPageEdit] = useState<Partial<PageEdit> | null>(null);\n\n  const [fulfillmentOrders, setFulfillmentOrders] = useState<FulfillmentOrder[]>([]);\n  const [loadingFulfillment, setLoadingFulfillment] = useState(true);\n  const [updatingFulfillment, setUpdatingFulfillment] = useState<string | null>(null);\n\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [loadingCustomers, setLoadingCustomers] = useState(true);\n  const [customerSearch, setCustomerSearch] = useState(\"\");\n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\n  const [editingCustomer, setEditingCustomer] = useState<Customer | null>(null);\n  const [customerOrders, setCustomerOrders] = useState<CustomerOrder[]>([]);\n  const [loadingCustomerOrders, setLoadingCustomerOrders] = useState(false);\n  const [savingCustomer, setSavingCustomer] = useState(false);\n  const [newCustomerForm, setNewCustomerForm] = useState<Partial<Customer> | null>(null);\n\n  const [orderStats, setOrderStats] = useState<OrderStats>({\n    totalOrders: 0,\n    ordersToday: 0,\n    ordersThisWeek: 0,\n    ordersThisMonth: 0,\n    totalRevenue: 0,\n    revenueToday: 0,\n    revenueThisWeek: 0,\n    revenueThisMonth: 0,\n    pendingFulfillments: 0,\n    recentOrders: []\n  });\n  const [loadingOrderStats, setLoadingOrderStats] = useState(true);\n\n  const [blogPosts, setBlogPosts] = useState<BlogPost[]>([]);\n  const [loadingBlogPosts, setLoadingBlogPosts] = useState(true);\n  const [editingBlogPost, setEditingBlogPost] = useState<Partial<BlogPost> | null>(null);\n  const [blogSearchTerm, setBlogSearchTerm] = useState(\"\");\n  const [blogView, setBlogView] = useState<'list' | 'create' | 'edit'>('list');\n  const [aiGenerating, setAiGenerating] = useState(false);\n  const [aiRequest, setAiRequest] = useState<AIGenerationRequest>({\n    topic: '',\n    keywords: [],\n    tone: 'professional',\n    length: 'medium',\n    category: 'streaming',\n    targetAudience: 'cord-cutters and streaming enthusiasts',\n    includeHeadings: true,\n    includeLists: true,\n    includeFAQ: false\n  });\n  const [generatedContent, setGeneratedContent] = useState<GeneratedContent | null>(null);\n  const [seoAnalysis, setSeoAnalysis] = useState<any>(null);\n  const [savingBlogPost, setSavingBlogPost] = useState(false);\n  const [keywordInput, setKeywordInput] = useState(\"\");\n\n  const [githubStatus, setGithubStatus] = useState<{ connected: boolean; username?: string; avatarUrl?: string; error?: string } | null>(null);\n  const [githubRepos, setGithubRepos] = useState<Array<{ id: number; name: string; fullName: string; private: boolean; defaultBranch: string; htmlUrl: string }>>([]);\n  const [loadingGithub, setLoadingGithub] = useState(false);\n  const [selectedRepo, setSelectedRepo] = useState<string>(\"\");\n  const [pushBranch, setPushBranch] = useState(\"clean main\");\n  const [pushMessage, setPushMessage] = useState(\"\");\n  const [pushing, setPushing] = useState(false);\n  const [pushResult, setPushResult] = useState<{ success: boolean; message: string; commitUrl?: string; filesCount?: number } | null>(null);\n\n  const showToast = (message: string, type: 'success' | 'error') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  const authFetch = useCallback(async (url: string, options: RequestInit = {}): Promise<Response> => {\n    const token = authToken || getStoredToken();\n    const headers = new Headers(options.headers);\n    if (token) {\n      headers.set('Authorization', `Bearer ${token}`);\n    }\n    return apiCall(url, { ...options, headers });\n  }, [authToken]);\n\n  const checkAuth = useCallback(async () => {\n    const token = getStoredToken();\n    if (!token) {\n      setCheckingAuth(false);\n      return;\n    }\n\n    try {\n      const response = await apiCall('/api/auth/verify', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const result = await response.json();\n      \n      if (result.valid) {\n        setAuthToken(token);\n        setIsAuthenticated(true);\n      } else {\n        clearStoredToken();\n        setAuthToken(null);\n        setIsAuthenticated(false);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n      clearStoredToken();\n      setAuthToken(null);\n      setIsAuthenticated(false);\n    } finally {\n      setCheckingAuth(false);\n    }\n  }, []);\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoginLoading(true);\n    setLoginError(null);\n\n    try {\n      const response = await apiCall('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(loginForm)\n      });\n      const result = await response.json();\n\n      if (result.success && result.token) {\n        setStoredToken(result.token);\n        setAuthToken(result.token);\n        setIsAuthenticated(true);\n        setLoginForm({ username: '', password: '' });\n        showToast('Login successful!', 'success');\n      } else {\n        setLoginError(result.error || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setLoginError('Connection failed. Please try again.');\n    } finally {\n      setLoginLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    clearStoredToken();\n    setAuthToken(null);\n    setIsAuthenticated(false);\n    showToast('Logged out successfully', 'success');\n  };\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  useEffect(() => {\n    if (!isAuthenticated) return;\n    \n    loadVisitorStats();\n    loadOrderStats();\n    loadProducts();\n    loadPageEdits();\n    loadFulfillmentOrders();\n    loadCustomers();\n    loadBlogPosts();\n    \n    const interval = setInterval(() => {\n      loadVisitorStats();\n      loadOrderStats();\n      setLastUpdate(new Date());\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [isAuthenticated]);\n\n  const loadOrderStats = async () => {\n    try {\n      setLoadingOrderStats(true);\n      const response = await authFetch('/api/admin/orders/stats');\n      const result = await response.json();\n      \n      if (result.data) {\n        setOrderStats(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading order statistics:', error);\n    } finally {\n      setLoadingOrderStats(false);\n    }\n  };\n\n  const loadVisitorStats = async () => {\n    try {\n      setLoadingStats(true);\n      \n      const response = await authFetch('/api/admin/visitors/stats');\n      const result = await response.json();\n      \n      if (result.data) {\n        const { totalVisitors, todayVisitors, weekVisitors, onlineNow, recentVisitors, topCountries, topRegions, topCities } = result.data;\n        \n        const deviceBreakdown = {\n          desktop: recentVisitors.filter((v: any) => {\n            const ua = (v.userAgent || '').toLowerCase();\n            return !ua.includes('mobile') && !ua.includes('tablet');\n          }).length,\n          mobile: recentVisitors.filter((v: any) => {\n            const ua = (v.userAgent || '').toLowerCase();\n            return ua.includes('mobile') && !ua.includes('tablet');\n          }).length,\n          tablet: recentVisitors.filter((v: any) => {\n            const ua = (v.userAgent || '').toLowerCase();\n            return ua.includes('tablet');\n          }).length\n        };\n\n        const mappedRecentVisitors = recentVisitors.map((v: any) => ({\n          id: v.id || 'unknown',\n          pageUrl: v.pageUrl || '/',\n          referrer: v.referrer || null,\n          userAgent: v.userAgent || 'Unknown',\n          ipAddress: v.ipAddress || null,\n          country: v.country || null,\n          countryCode: v.countryCode || null,\n          region: v.region || null,\n          city: v.city || null,\n          timezone: v.timezone || null,\n          isProxy: v.isProxy || false,\n          createdAt: v.createdAt || new Date().toISOString()\n        }));\n\n        setVisitorStats({\n          totalVisitors,\n          todayVisitors,\n          weekVisitors,\n          onlineNow,\n          deviceBreakdown,\n          topCountries: topCountries || [],\n          topRegions: topRegions || [],\n          topCities: topCities || [],\n          recentVisitors: mappedRecentVisitors\n        });\n      }\n    } catch (error) {\n      console.error('Error loading visitor statistics:', error);\n    } finally {\n      setLoadingStats(false);\n    }\n  };\n\n  const loadProducts = async () => {\n    setLoadingProducts(true);\n    try {\n      const response = await authFetch('/api/admin/products');\n      const result = await response.json();\n      if (result.data) {\n        setProducts(result.data.map((p: any) => ({\n          id: p.id,\n          name: p.name,\n          slug: p.id,\n          description: p.description || '',\n          price: p.price,\n          sale_price: null,\n          sku: p.id,\n          stock_quantity: 100,\n          stock_status: 'instock',\n          category: p.category === 'firestick' ? 'devices' : 'subscriptions',\n          status: 'publish',\n          featured: false,\n          main_image: p.imageUrl || '',\n          cloaked_name: p.shadowProductId || '',\n          sort_order: 0\n        })));\n      }\n    } catch (error) {\n      console.error('Error loading products:', error);\n    }\n    setLoadingProducts(false);\n  };\n\n  const loadBlogPosts = async () => {\n    setLoadingBlogPosts(true);\n    try {\n      const response = await authFetch('/api/admin/blog/posts');\n      const result = await response.json();\n      if (result.data) {\n        setBlogPosts(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading blog posts:', error);\n    } finally {\n      setLoadingBlogPosts(false);\n    }\n  };\n\n  const generateAIContent = async () => {\n    if (!aiRequest.topic.trim()) {\n      showToast('Please enter a topic for AI content generation', 'error');\n      return;\n    }\n\n    setAiGenerating(true);\n    try {\n      const response = await authFetch('/api/admin/blog/ai/generate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(aiRequest)\n      });\n      const result = await response.json();\n\n      if (result.data) {\n        setGeneratedContent(result.data);\n        setEditingBlogPost({\n          title: result.data.title,\n          slug: result.data.slug,\n          excerpt: result.data.excerpt,\n          content: result.data.content,\n          metaTitle: result.data.metaTitle,\n          metaDescription: result.data.metaDescription,\n          keywords: result.data.keywords,\n          category: result.data.category || aiRequest.category || 'streaming',\n          featured: false,\n          published: false\n        });\n        showToast('AI content generated successfully!', 'success');\n      } else {\n        showToast(result.error || 'Failed to generate content', 'error');\n      }\n    } catch (error) {\n      console.error('Error generating AI content:', error);\n      showToast('Failed to generate AI content', 'error');\n    } finally {\n      setAiGenerating(false);\n    }\n  };\n\n  const saveBlogPost = async () => {\n    if (!editingBlogPost?.title || !editingBlogPost?.content || !editingBlogPost?.excerpt) {\n      showToast('Title, content, and excerpt are required', 'error');\n      return;\n    }\n\n    setSavingBlogPost(true);\n    try {\n      const isNew = !editingBlogPost.id;\n      const url = isNew ? '/api/admin/blog/posts' : `/api/admin/blog/posts/${editingBlogPost.id}`;\n      const method = isNew ? 'POST' : 'PUT';\n\n      const slug = editingBlogPost.slug || editingBlogPost.title\n        .toLowerCase()\n        .replace(/[^a-z0-9\\s-]/g, '')\n        .replace(/\\s+/g, '-')\n        .substring(0, 100);\n\n      const response = await authFetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...editingBlogPost,\n          slug\n        })\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        showToast(`Blog post ${isNew ? 'created' : 'updated'} successfully!`, 'success');\n        loadBlogPosts();\n        setBlogView('list');\n        setEditingBlogPost(null);\n        setGeneratedContent(null);\n        if (result.seoAnalysis) {\n          setSeoAnalysis(result.seoAnalysis);\n        }\n      } else {\n        showToast(result.error || 'Failed to save blog post', 'error');\n      }\n    } catch (error) {\n      console.error('Error saving blog post:', error);\n      showToast('Failed to save blog post', 'error');\n    } finally {\n      setSavingBlogPost(false);\n    }\n  };\n\n  const deleteBlogPost = async (postId: string) => {\n    if (!confirm('Are you sure you want to delete this blog post? This cannot be undone.')) return;\n\n    try {\n      const response = await authFetch(`/api/admin/blog/posts/${postId}`, {\n        method: 'DELETE'\n      });\n\n      if (response.ok) {\n        showToast('Blog post deleted successfully!', 'success');\n        loadBlogPosts();\n      } else {\n        showToast('Failed to delete blog post', 'error');\n      }\n    } catch (error) {\n      console.error('Error deleting blog post:', error);\n      showToast('Failed to delete blog post', 'error');\n    }\n  };\n\n  const addKeyword = () => {\n    if (keywordInput.trim() && aiRequest.keywords) {\n      setAiRequest({\n        ...aiRequest,\n        keywords: [...aiRequest.keywords, keywordInput.trim()]\n      });\n      setKeywordInput('');\n    }\n  };\n\n  const loadGithubStatus = async () => {\n    setLoadingGithub(true);\n    try {\n      const response = await authFetch('/api/admin/github/status');\n      const result = await response.json();\n      setGithubStatus(result);\n      \n      if (result.connected) {\n        const reposResponse = await authFetch('/api/admin/github/repos');\n        const reposResult = await reposResponse.json();\n        if (reposResult.data) {\n          setGithubRepos(reposResult.data);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading GitHub status:', error);\n      setGithubStatus({ connected: false, error: 'Failed to connect' });\n    } finally {\n      setLoadingGithub(false);\n    }\n  };\n\n  const pushToGithub = async () => {\n    if (!selectedRepo) {\n      showToast('Please select a repository', 'error');\n      return;\n    }\n\n    setPushing(true);\n    setPushResult(null);\n    try {\n      const [owner, repo] = selectedRepo.split('/');\n      const response = await authFetch('/api/admin/github/push', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          owner,\n          repo,\n          branch: pushBranch,\n          message: pushMessage || undefined\n        })\n      });\n      const result = await response.json();\n      \n      if (result.success) {\n        setPushResult({\n          success: true,\n          message: result.message,\n          commitUrl: result.commitUrl,\n          filesCount: result.filesCount\n        });\n        showToast('Code pushed to GitHub successfully!', 'success');\n      } else {\n        setPushResult({ success: false, message: result.error });\n        showToast(result.error || 'Push failed', 'error');\n      }\n    } catch (error: any) {\n      console.error('GitHub push error:', error);\n      setPushResult({ success: false, message: error.message });\n      showToast('Failed to push to GitHub', 'error');\n    } finally {\n      setPushing(false);\n    }\n  };\n\n  const removeKeyword = (index: number) => {\n    if (aiRequest.keywords) {\n      setAiRequest({\n        ...aiRequest,\n        keywords: aiRequest.keywords.filter((_, i) => i !== index)\n      });\n    }\n  };\n\n  const getSeoScoreColor = (score: number | null) => {\n    if (!score) return 'bg-gray-500';\n    if (score >= 80) return 'bg-green-500';\n    if (score >= 60) return 'bg-yellow-500';\n    if (score >= 40) return 'bg-orange-500';\n    return 'bg-red-500';\n  };\n\n  const getSeoScoreLabel = (score: number | null) => {\n    if (!score) return 'Not analyzed';\n    if (score >= 80) return 'Excellent';\n    if (score >= 60) return 'Good';\n    if (score >= 40) return 'Fair';\n    return 'Needs Work';\n  };\n\n  const filteredBlogPosts = blogPosts.filter(post =>\n    post.title.toLowerCase().includes(blogSearchTerm.toLowerCase()) ||\n    post.category.toLowerCase().includes(blogSearchTerm.toLowerCase()) ||\n    (post.keywords && post.keywords.some(k => k.toLowerCase().includes(blogSearchTerm.toLowerCase())))\n  );\n\n  const loadPageEdits = async () => {\n    setLoadingEdits(true);\n    try {\n      const response = await authFetch('/api/admin/page-edits');\n      const result = await response.json();\n      if (result.data) {\n        setPageEdits(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading page edits:', error);\n    } finally {\n      setLoadingEdits(false);\n    }\n  };\n\n  const loadFulfillmentOrders = async () => {\n    setLoadingFulfillment(true);\n    try {\n      const response = await authFetch('/api/admin/fulfillment');\n      const result = await response.json();\n      if (result.data) {\n        setFulfillmentOrders(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading fulfillment orders:', error);\n    } finally {\n      setLoadingFulfillment(false);\n    }\n  };\n\n  const loadCustomers = async (search?: string) => {\n    setLoadingCustomers(true);\n    try {\n      const url = search ? `/api/admin/customers?search=${encodeURIComponent(search)}` : '/api/admin/customers';\n      const response = await authFetch(url);\n      const result = await response.json();\n      if (result.data) {\n        setCustomers(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading customers:', error);\n    } finally {\n      setLoadingCustomers(false);\n    }\n  };\n\n  const loadCustomerOrders = async (customerId: string) => {\n    setLoadingCustomerOrders(true);\n    try {\n      const response = await authFetch(`/api/admin/customers/${customerId}/orders`);\n      const result = await response.json();\n      if (result.data) {\n        setCustomerOrders(result.data);\n      }\n    } catch (error) {\n      console.error('Error loading customer orders:', error);\n    } finally {\n      setLoadingCustomerOrders(false);\n    }\n  };\n\n  const selectCustomer = async (customer: Customer) => {\n    setSelectedCustomer(customer);\n    await loadCustomerOrders(customer.id);\n  };\n\n  const saveCustomer = async () => {\n    if (!editingCustomer) return;\n    \n    setSavingCustomer(true);\n    const wasSelectedCustomer = selectedCustomer?.id === editingCustomer.id;\n    \n    try {\n      const response = await authFetch(`/api/admin/customers/${editingCustomer.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: editingCustomer.username,\n          password: editingCustomer.password,\n          email: editingCustomer.email,\n          fullName: editingCustomer.fullName ?? null,\n          phone: editingCustomer.phone ?? null,\n          status: editingCustomer.status ?? 'active',\n          notes: editingCustomer.notes ?? null,\n        }),\n      });\n\n      const result = await response.json();\n      \n      if (response.ok) {\n        showToast('Customer updated successfully!', 'success');\n        loadCustomers(customerSearch);\n        setEditingCustomer(null);\n        if (wasSelectedCustomer && result.data) {\n          setSelectedCustomer(result.data);\n        }\n      } else {\n        showToast(result.error || 'Failed to update customer', 'error');\n      }\n    } catch (error) {\n      console.error('Error updating customer:', error);\n      showToast('Failed to update customer', 'error');\n    } finally {\n      setSavingCustomer(false);\n    }\n  };\n\n  const createNewCustomer = async () => {\n    if (!newCustomerForm) return;\n    \n    if (!newCustomerForm.username || !newCustomerForm.password || !newCustomerForm.email) {\n      showToast('Username, password, and email are required', 'error');\n      return;\n    }\n\n    setSavingCustomer(true);\n    try {\n      const response = await authFetch('/api/admin/customers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newCustomerForm),\n      });\n\n      if (response.ok) {\n        showToast('Customer created successfully!', 'success');\n        loadCustomers(customerSearch);\n        setNewCustomerForm(null);\n      } else {\n        const error = await response.json();\n        showToast(error.error || 'Failed to create customer', 'error');\n      }\n    } catch (error) {\n      console.error('Error creating customer:', error);\n      showToast('Failed to create customer', 'error');\n    } finally {\n      setSavingCustomer(false);\n    }\n  };\n\n  const deleteCustomer = async (customerId: string) => {\n    if (!confirm('Are you sure you want to delete this customer? This action cannot be undone.')) return;\n\n    try {\n      const response = await authFetch(`/api/admin/customers/${customerId}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        showToast('Customer deleted successfully!', 'success');\n        loadCustomers(customerSearch);\n        if (selectedCustomer?.id === customerId) {\n          setSelectedCustomer(null);\n          setCustomerOrders([]);\n        }\n      } else {\n        showToast('Failed to delete customer', 'error');\n      }\n    } catch (error) {\n      console.error('Error deleting customer:', error);\n      showToast('Failed to delete customer', 'error');\n    }\n  };\n\n  const resetCustomerPassword = async (customerId: string) => {\n    if (!confirm('This will reset the customer password and send them an email with new credentials. Continue?')) return;\n\n    try {\n      const response = await authFetch(`/api/admin/customers/${customerId}/reset-password`, {\n        method: 'POST',\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        showToast('Password reset email sent to customer!', 'success');\n      } else {\n        showToast(result.error || 'Failed to reset password', 'error');\n      }\n    } catch (error) {\n      console.error('Error resetting customer password:', error);\n      showToast('Failed to reset password', 'error');\n    }\n  };\n\n  const copyCredentials = async (username: string, password: string) => {\n    const text = `Username: ${username}\\nPassword: ${password}`;\n    if (typeof navigator !== 'undefined' && navigator.clipboard?.writeText) {\n      try {\n        await navigator.clipboard.writeText(text);\n        showToast('Credentials copied to clipboard!', 'success');\n      } catch (error) {\n        showToast('Failed to copy credentials', 'error');\n      }\n    } else {\n      showToast('Clipboard not available', 'error');\n    }\n  };\n\n  const filteredCustomers = customers.filter(c =>\n    c.username.toLowerCase().includes(customerSearch.toLowerCase()) ||\n    c.email.toLowerCase().includes(customerSearch.toLowerCase()) ||\n    (c.fullName && c.fullName.toLowerCase().includes(customerSearch.toLowerCase()))\n  );\n\n  const updateFulfillmentOrder = async (orderId: string, updates: { fulfillmentStatus?: string; amazonOrderId?: string }) => {\n    setUpdatingFulfillment(orderId);\n    try {\n      const response = await authFetch(`/api/admin/fulfillment/${orderId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updates),\n      });\n\n      if (response.ok) {\n        showToast('Fulfillment updated successfully!', 'success');\n        loadFulfillmentOrders();\n      } else {\n        showToast('Failed to update fulfillment', 'error');\n      }\n    } catch (error) {\n      console.error('Error updating fulfillment:', error);\n      showToast('Failed to update fulfillment', 'error');\n    } finally {\n      setUpdatingFulfillment(null);\n    }\n  };\n\n  const copyShippingAddress = async (order: FulfillmentOrder) => {\n    const addressParts = [\n      order.shippingName,\n      order.shippingStreet,\n      `${order.shippingCity}, ${order.shippingState} ${order.shippingZip}`,\n      order.shippingCountry\n    ].filter(Boolean);\n    \n    const address = addressParts.join('\\n');\n    \n    if (typeof navigator !== 'undefined' && navigator.clipboard?.writeText) {\n      try {\n        await navigator.clipboard.writeText(address);\n        showToast('Address copied to clipboard!', 'success');\n      } catch (error) {\n        console.error('Failed to copy address:', error);\n        showToast('Failed to copy address', 'error');\n      }\n    } else {\n      showToast('Clipboard not available', 'error');\n    }\n  };\n\n  const openAmazonFireStick = () => {\n    if (typeof window !== 'undefined') {\n      window.open('https://www.amazon.com/s?k=fire+tv+stick+4k', '_blank');\n    }\n  };\n\n  const savePageEdit = async () => {\n    if (!editingPageEdit) return;\n\n    if (!editingPageEdit.pageId || !editingPageEdit.sectionId || !editingPageEdit.elementId || !editingPageEdit.elementType) {\n      showToast('Please fill in all required fields', 'error');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const response = await authFetch('/api/admin/page-edits', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(editingPageEdit),\n      });\n\n      if (response.ok) {\n        showToast('Page edit saved successfully!', 'success');\n        loadPageEdits();\n        setEditingPageEdit(null);\n      } else {\n        const error = await response.json();\n        showToast(error.error || 'Failed to save page edit', 'error');\n      }\n    } catch (error) {\n      console.error('Error saving page edit:', error);\n      showToast('Failed to save page edit', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const deletePageEdit = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this page edit?')) return;\n\n    try {\n      const response = await authFetch(`/api/admin/page-edits/${id}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        showToast('Page edit deleted successfully!', 'success');\n        loadPageEdits();\n      } else {\n        showToast('Failed to delete page edit', 'error');\n      }\n    } catch (error) {\n      console.error('Error deleting page edit:', error);\n      showToast('Failed to delete page edit', 'error');\n    }\n  };\n\n  const saveProduct = async () => {\n    if (!editingProduct) return;\n\n    if (!editingProduct.name || editingProduct.name.trim() === '') {\n      showToast('Product name is required', 'error');\n      return;\n    }\n    if (!editingProduct.price || editingProduct.price <= 0) {\n      showToast('Valid price is required', 'error');\n      return;\n    }\n\n    setSaving(true);\n\n    const productData = {\n      ...editingProduct,\n      updated_at: new Date().toISOString()\n    };\n\n    if (editingProduct.id) {\n      const { error } = await supabase\n        .from('real_products')\n        .update(productData)\n        .eq('id', editingProduct.id);\n\n      if (!error) {\n        const synced = await syncToShadowProduct(editingProduct);\n        if (synced) {\n          showToast('Product updated successfully! Shadow product synced.', 'success');\n        } else {\n          showToast('Product updated but shadow sync failed. Please try again.', 'error');\n        }\n        loadProducts();\n        setEditingProduct(null);\n      } else {\n        showToast('Error updating product: ' + error.message, 'error');\n      }\n    } else {\n      const { data: newProduct, error } = await supabase\n        .from('real_products')\n        .insert([productData])\n        .select()\n        .single();\n\n      if (!error && newProduct) {\n        const synced = await syncToShadowProduct({ ...editingProduct, id: newProduct.id });\n        if (synced) {\n          showToast('Product created successfully! Shadow product synced.', 'success');\n        } else {\n          showToast('Product created but shadow sync failed. Please try again.', 'error');\n        }\n        loadProducts();\n        setEditingProduct(null);\n      } else if (error) {\n        showToast('Error creating product: ' + error.message, 'error');\n      }\n    }\n\n    setSaving(false);\n  };\n\n  const syncToShadowProduct = async (product: Product): Promise<boolean> => {\n    const shadowName = getShadowName(product.name);\n    if (shadowName === \"Digital Service\") return true;\n\n    try {\n      const shadowData = {\n        name: shadowName,\n        price: product.price,\n        sale_price: product.sale_price,\n        real_product_id: product.id,\n        real_product_name: product.name,\n        category: product.category === 'devices' ? 'web-design' : 'seo',\n        updated_at: new Date().toISOString()\n      };\n\n      const { data: existing } = await supabase\n        .from('shadow_products')\n        .select('id')\n        .eq('real_product_id', product.id)\n        .single();\n\n      if (existing) {\n        const { error } = await supabase\n          .from('shadow_products')\n          .update(shadowData)\n          .eq('id', existing.id);\n        \n        if (error) throw error;\n      } else {\n        const { error } = await supabase\n          .from('shadow_products')\n          .insert([{ ...shadowData, id: crypto.randomUUID() }]);\n        \n        if (error) throw error;\n      }\n      \n      return true;\n    } catch (error) {\n      console.error('Error syncing shadow product:', error);\n      return false;\n    }\n  };\n\n  const deleteProduct = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this product?')) return;\n\n    const { error } = await supabase\n      .from('real_products')\n      .delete()\n      .eq('id', id);\n\n    if (!error) {\n      showToast('Product deleted successfully!', 'success');\n      loadProducts();\n    } else {\n      showToast('Error deleting product: ' + error.message, 'error');\n    }\n  };\n\n  const uploadImage = async (file: File) => {\n    if (!editingProduct) return;\n    \n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    if (!allowedTypes.includes(file.type)) {\n      showToast('Please upload a valid image (JPEG, PNG, GIF, or WebP)', 'error');\n      return;\n    }\n\n    if (file.size > 5 * 1024 * 1024) {\n      showToast('Image must be less than 5MB', 'error');\n      return;\n    }\n\n    setUploading(true);\n\n    try {\n      const fileExt = file.name.split('.').pop()?.toLowerCase() || 'jpg';\n      const fileName = `product_${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n      const filePath = `products/${fileName}`;\n\n      const { error: uploadError } = await supabase.storage\n        .from('images')\n        .upload(filePath, file, {\n          cacheControl: '3600',\n          upsert: false\n        });\n\n      if (uploadError) {\n        console.error('Upload error:', uploadError);\n        showToast('Failed to upload image: ' + uploadError.message, 'error');\n        return;\n      }\n\n      const imageUrl = getStorageUrl('images', filePath);\n      \n      setEditingProduct({ ...editingProduct, main_image: imageUrl });\n      showToast('Image uploaded successfully!', 'success');\n    } catch (error: any) {\n      console.error('Upload error:', error);\n      showToast('Failed to upload image: ' + (error.message || 'Unknown error'), 'error');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleFileSelect = (e: ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      uploadImage(file);\n    }\n    e.target.value = '';\n  };\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / 60000);\n    \n    if (minutes < 1) return 'Just now';\n    if (minutes < 60) return `${minutes}m ago`;\n    const hours = Math.floor(minutes / 60);\n    if (hours < 24) return `${hours}h ago`;\n    const days = Math.floor(hours / 24);\n    return `${days}d ago`;\n  };\n\n  const getDeviceIcon = (userAgent: string) => {\n    const ua = userAgent.toLowerCase();\n    if (ua.includes('mobile')) return <Smartphone className=\"w-4 h-4\" />;\n    if (ua.includes('tablet')) return <Tablet className=\"w-4 h-4\" />;\n    return <Monitor className=\"w-4 h-4\" />;\n  };\n\n  const filteredProducts = products.filter(p =>\n    p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    p.sku?.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getShadowName = (productName: string) => {\n    for (const [key, value] of Object.entries(shadowProductMap)) {\n      if (productName.toLowerCase().includes(key.toLowerCase())) {\n        return value;\n      }\n    }\n    return \"Digital Service\";\n  };\n\n  if (checkingAuth) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Loader2 className=\"w-8 h-8 text-orange-500 animate-spin\" />\n          <p className=\"text-gray-400\">Checking authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md bg-gray-800 border-gray-700\">\n          <CardHeader className=\"text-center\">\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\n              <Flame className=\"w-8 h-8 text-orange-500\" />\n              <span className=\"text-2xl font-bold text-white\">StreamStickPro</span>\n            </div>\n            <CardTitle className=\"text-xl text-white\">Admin Login</CardTitle>\n            <CardDescription className=\"text-gray-400\">\n              Enter your credentials to access the admin panel\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              {loginError && (\n                <div className=\"p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-400 text-sm flex items-center gap-2\" data-testid=\"login-error\">\n                  <AlertCircle className=\"w-4 h-4\" />\n                  {loginError}\n                </div>\n              )}\n              <div className=\"space-y-2\">\n                <label className=\"text-sm text-gray-300\">Username</label>\n                <Input\n                  type=\"text\"\n                  value={loginForm.username}\n                  onChange={(e) => setLoginForm(prev => ({ ...prev, username: e.target.value }))}\n                  placeholder=\"Enter username\"\n                  className=\"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500\"\n                  data-testid=\"input-username\"\n                  required\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-sm text-gray-300\">Password</label>\n                <Input\n                  type=\"password\"\n                  value={loginForm.password}\n                  onChange={(e) => setLoginForm(prev => ({ ...prev, password: e.target.value }))}\n                  placeholder=\"Enter password\"\n                  className=\"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500\"\n                  data-testid=\"input-password\"\n                  required\n                />\n              </div>\n              <Button\n                type=\"submit\"\n                className=\"w-full bg-orange-500 hover:bg-orange-600 text-white\"\n                disabled={loginLoading}\n                data-testid=\"button-login\"\n              >\n                {loginLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Logging in...\n                  </>\n                ) : (\n                  <>\n                    <Lock className=\"w-4 h-4 mr-2\" />\n                    Login\n                  </>\n                )}\n              </Button>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white flex\">\n      {toast && (\n        <div className={`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 ${\n          toast.type === 'success' ? 'bg-green-500' : 'bg-red-500'\n        } text-white`} data-testid=\"toast-notification\">\n          {toast.type === 'success' ? <CheckCircle className=\"w-5 h-5\" /> : <AlertCircle className=\"w-5 h-5\" />}\n          <span className=\"font-semibold\">{toast.message}</span>\n        </div>\n      )}\n\n      <aside className=\"w-64 border-r border-white/10 bg-gray-800 flex flex-col\">\n        <div className=\"p-6 border-b border-white/10\">\n          <div className=\"flex items-center gap-2\">\n            <Flame className=\"w-6 h-6 text-orange-500\" />\n            <h1 className=\"font-bold text-xl tracking-tight\">Admin Panel</h1>\n          </div>\n          <p className=\"text-xs text-gray-400 mt-1\">StreamStickPro Management</p>\n        </div>\n        \n        <nav className=\"flex-1 p-4 space-y-1\">\n          <Button \n            variant={activeSection === \"dashboard\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start\"\n            onClick={() => setActiveSection(\"dashboard\")}\n            data-testid=\"nav-dashboard\"\n          >\n            <LayoutDashboard className=\"w-4 h-4 mr-3\" /> Dashboard\n          </Button>\n          <Button \n            variant={activeSection === \"products\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"products\")}\n            data-testid=\"nav-products\"\n          >\n            <Package className=\"w-4 h-4 mr-3\" /> Products\n          </Button>\n          <Button \n            variant={activeSection === \"visitors\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"visitors\")}\n            data-testid=\"nav-visitors\"\n          >\n            <Users className=\"w-4 h-4 mr-3\" /> Live Visitors\n          </Button>\n          <Button \n            variant={activeSection === \"visual-editor\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"visual-editor\")}\n            data-testid=\"nav-visual-editor\"\n          >\n            <Palette className=\"w-4 h-4 mr-3\" /> Visual Editor\n          </Button>\n          <Button \n            variant={activeSection === \"fulfillment\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"fulfillment\")}\n            data-testid=\"nav-fulfillment\"\n          >\n            <Truck className=\"w-4 h-4 mr-3\" /> Fulfillment\n            {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'pending').length > 0 && (\n              <Badge className=\"ml-auto bg-orange-500 text-white text-xs\">\n                {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'pending').length}\n              </Badge>\n            )}\n          </Button>\n          <Button \n            variant={activeSection === \"customers\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"customers\")}\n            data-testid=\"nav-customers\"\n          >\n            <ShoppingCart className=\"w-4 h-4 mr-3\" /> Customers\n            {customers.length > 0 && (\n              <Badge className=\"ml-auto bg-purple-500 text-white text-xs\">\n                {customers.length}\n              </Badge>\n            )}\n          </Button>\n          <Button \n            variant={activeSection === \"blog\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"blog\")}\n            data-testid=\"nav-blog\"\n          >\n            <FileText className=\"w-4 h-4 mr-3\" /> Blog Posts\n            {blogPosts.length > 0 && (\n              <Badge className=\"ml-auto bg-blue-500 text-white text-xs\">\n                {blogPosts.length}\n              </Badge>\n            )}\n          </Button>\n          <Button \n            variant={activeSection === \"github\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => { setActiveSection(\"github\"); loadGithubStatus(); }}\n            data-testid=\"nav-github\"\n          >\n            <Github className=\"w-4 h-4 mr-3\" /> GitHub Deploy\n          </Button>\n          <Button \n            variant={activeSection === \"seo\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\"\n            onClick={() => setActiveSection(\"seo\")}\n            data-testid=\"nav-seo\"\n          >\n            <Search className=\"w-4 h-4 mr-3\" /> SEO Toolkit\n          </Button>\n          <Button variant=\"ghost\" className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/5\">\n            <Settings className=\"w-4 h-4 mr-3\" /> Settings\n          </Button>\n        </nav>\n\n        <div className=\"p-4 border-t border-white/10 space-y-2\">\n           <Button variant=\"outline\" className=\"w-full\" onClick={() => setLocation(\"/\")} data-testid=\"button-view-site\">\n             View Live Site\n           </Button>\n           <Button \n             variant=\"ghost\" \n             className=\"w-full text-red-400 hover:text-red-300 hover:bg-red-500/10\"\n             onClick={handleLogout}\n             data-testid=\"button-logout\"\n           >\n             <LogOut className=\"w-4 h-4 mr-2\" />\n             Logout\n           </Button>\n        </div>\n      </aside>\n\n      <main className=\"flex-1 overflow-auto\">\n        <header className=\"h-16 border-b border-white/10 bg-gray-800 flex items-center justify-between px-8\">\n          <div className=\"relative w-96\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <Input \n              placeholder=\"Search products, orders...\" \n              className=\"pl-10 bg-gray-700 border-gray-600 text-white\" \n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              data-testid=\"input-search\"\n            />\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-sm text-gray-400\">\n              Last updated: {lastUpdate.toLocaleTimeString()}\n            </div>\n            <div className=\"w-8 h-8 rounded-full bg-orange-500/20 border border-orange-500 flex items-center justify-center text-orange-500 font-bold\">\n               A\n             </div>\n          </div>\n        </header>\n\n        <div className=\"p-8\">\n          {activeSection === \"dashboard\" && (\n            <div className=\"space-y-8\">\n              <div>\n                <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                  <Activity className=\"w-8 h-8 text-orange-500\" />\n                  Dashboard Overview\n                </h2>\n                <p className=\"text-gray-400\">Real-time statistics and quick actions</p>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2\">\n                  <AlertCircle className=\"w-5 h-5 text-red-500\" />\n                  Pending Actions\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n                  <Card className={`bg-gradient-to-br border ${orderStats.pendingFulfillments > 0 ? 'from-red-500 to-red-600 border-red-400' : 'from-gray-700 to-gray-800 border-gray-700'}`}>\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className={`text-sm ${orderStats.pendingFulfillments > 0 ? 'text-red-100' : 'text-gray-300'}`}>Unfulfilled Orders</p>\n                          <p className=\"text-2xl font-bold text-white mt-1\">{orderStats.pendingFulfillments}</p>\n                        </div>\n                        <Truck className={`w-8 h-8 ${orderStats.pendingFulfillments > 0 ? 'text-red-100 opacity-80' : 'text-gray-500 opacity-60'}`} />\n                      </div>\n                      {orderStats.pendingFulfillments > 0 && (\n                        <Button \n                          size=\"sm\" \n                          className=\"w-full mt-3 bg-white text-red-600 hover:bg-gray-100\"\n                          onClick={() => setActiveSection(\"fulfillment\")}\n                          data-testid=\"button-quick-fulfill\"\n                        >\n                          Quick Fulfill \n                        </Button>\n                      )}\n                    </CardContent>\n                  </Card>\n\n                  <Card className={`bg-gradient-to-br border ${products.some(p => (p.stock_quantity || 0) < 5) ? 'from-yellow-500 to-yellow-600 border-yellow-400' : 'from-gray-700 to-gray-800 border-gray-700'}`}>\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className={`text-sm ${products.some(p => (p.stock_quantity || 0) < 5) ? 'text-yellow-100' : 'text-gray-300'}`}>Low Stock Items</p>\n                          <p className=\"text-2xl font-bold text-white mt-1\">{products.filter(p => (p.stock_quantity || 0) < 5).length}</p>\n                        </div>\n                        <Package className={`w-8 h-8 ${products.some(p => (p.stock_quantity || 0) < 5) ? 'text-yellow-100 opacity-80' : 'text-gray-500 opacity-60'}`} />\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <Card className={`bg-gradient-to-br border ${blogPosts.filter(p => !p.published).length > 0 ? 'from-blue-500 to-blue-600 border-blue-400' : 'from-gray-700 to-gray-800 border-gray-700'}`}>\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className={`text-sm ${blogPosts.filter(p => !p.published).length > 0 ? 'text-blue-100' : 'text-gray-300'}`}>Draft Posts</p>\n                          <p className=\"text-2xl font-bold text-white mt-1\">{blogPosts.filter(p => !p.published).length}</p>\n                        </div>\n                        <FileText className={`w-8 h-8 ${blogPosts.filter(p => !p.published).length > 0 ? 'text-blue-100 opacity-80' : 'text-gray-500 opacity-60'}`} />\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <Card className=\"bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-700\">\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"text-sm text-gray-300\">Conversion Rate</p>\n                          <p className=\"text-2xl font-bold text-white mt-1\">{visitorStats.totalVisitors > 0 ? ((orderStats.totalOrders / visitorStats.totalVisitors) * 100).toFixed(2) : '0.00'}%</p>\n                        </div>\n                        <TrendingUp className=\"w-8 h-8 text-green-400 opacity-80\" />\n                      </div>\n                      <p className=\"text-xs text-gray-400 mt-2\">{orderStats.totalOrders} orders / {visitorStats.totalVisitors} visitors</p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2\">\n                  <TrendingUp className=\"w-5 h-5 text-green-500\" />\n                  Revenue & Orders\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                  <div className=\"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <TrendingUp className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-total-revenue\">${(orderStats.totalRevenue / 100).toLocaleString('en-US', { minimumFractionDigits: 2 })}</span>\n                    </div>\n                    <p className=\"text-emerald-100 text-sm\">Total Revenue</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-teal-500 to-teal-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <TrendingUp className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-revenue-today\">${(orderStats.revenueToday / 100).toLocaleString('en-US', { minimumFractionDigits: 2 })}</span>\n                    </div>\n                    <p className=\"text-teal-100 text-sm\">Today's Revenue</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <ShoppingCart className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-total-orders\">{orderStats.totalOrders.toLocaleString()}</span>\n                    </div>\n                    <p className=\"text-cyan-100 text-sm\">Total Orders</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Truck className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-pending-fulfillments\">{orderStats.pendingFulfillments}</span>\n                    </div>\n                    <p className=\"text-amber-100 text-sm\">Pending Fulfillments</p>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2\">\n                  <Users className=\"w-5 h-5 text-blue-500\" />\n                  Visitor Stats\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                  <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Users className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-total-visitors\">{visitorStats.totalVisitors.toLocaleString()}</span>\n                    </div>\n                    <p className=\"text-blue-100 text-sm\">Total Visitors</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Eye className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-today-visitors\">{visitorStats.todayVisitors.toLocaleString()}</span>\n                    </div>\n                    <p className=\"text-indigo-100 text-sm\">Today's Visitors</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Package className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-products-count\">{products.length}</span>\n                    </div>\n                    <p className=\"text-purple-100 text-sm\">Active Products</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-rose-500 to-red-500 rounded-lg p-6 text-white shadow-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Activity className=\"w-8 h-8 opacity-80\" />\n                      <span className=\"text-2xl font-bold\" data-testid=\"text-online-now\">{visitorStats.onlineNow.toLocaleString()}</span>\n                    </div>\n                    <p className=\"text-rose-100 text-sm\">Online Now</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2 text-white\">\n                      <Monitor className=\"w-5 h-5 text-orange-500\" />\n                      Device Breakdown\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Monitor className=\"w-4 h-4 text-gray-400\" />\n                        <span className=\"text-gray-300\">Desktop</span>\n                      </div>\n                      <span className=\"font-semibold text-white\">{visitorStats.deviceBreakdown.desktop}</span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Smartphone className=\"w-4 h-4 text-gray-400\" />\n                        <span className=\"text-gray-300\">Mobile</span>\n                      </div>\n                      <span className=\"font-semibold text-white\">{visitorStats.deviceBreakdown.mobile}</span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Tablet className=\"w-4 h-4 text-gray-400\" />\n                        <span className=\"text-gray-300\">Tablet</span>\n                      </div>\n                      <span className=\"font-semibold text-white\">{visitorStats.deviceBreakdown.tablet}</span>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2 text-white\">\n                      <ShoppingCart className=\"w-5 h-5 text-orange-500\" />\n                      Order Summary\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">Orders Today</span>\n                      <Badge className=\"bg-green-500/20 text-green-300\">{orderStats.ordersToday}</Badge>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">This Week</span>\n                      <Badge className=\"bg-blue-500/20 text-blue-300\">{orderStats.ordersThisWeek}</Badge>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">This Month</span>\n                      <Badge className=\"bg-purple-500/20 text-purple-300\">{orderStats.ordersThisMonth}</Badge>\n                    </div>\n                    <div className=\"flex items-center justify-between pt-2 border-t border-gray-700\">\n                      <span className=\"text-gray-300\">Monthly Revenue</span>\n                      <span className=\"font-semibold text-emerald-400\">${(orderStats.revenueThisMonth / 100).toLocaleString('en-US', { minimumFractionDigits: 2 })}</span>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2 text-white\">\n                      <TrendingUp className=\"w-5 h-5 text-orange-500\" />\n                      Quick Actions\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <Button \n                      className=\"w-full bg-orange-500 hover:bg-orange-600\" \n                      onClick={() => setActiveSection(\"products\")}\n                    >\n                      <Plus className=\"w-4 h-4 mr-2\" /> Add New Product\n                    </Button>\n                    <Button \n                      variant=\"outline\" \n                      className=\"w-full border-gray-600 text-gray-300 hover:bg-gray-700\"\n                      onClick={() => setActiveSection(\"fulfillment\")}\n                    >\n                      <Truck className=\"w-4 h-4 mr-2\" /> View Fulfillments\n                    </Button>\n                    <Button \n                      variant=\"outline\" \n                      className=\"w-full border-gray-600 text-gray-300 hover:bg-gray-700\"\n                      onClick={() => { loadVisitorStats(); loadOrderStats(); }}\n                    >\n                      <RefreshCw className=\"w-4 h-4 mr-2\" /> Refresh Stats\n                    </Button>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2 text-white\">\n                    <ShoppingCart className=\"w-5 h-5 text-orange-500\" />\n                    Recent Orders\n                  </CardTitle>\n                  <CardDescription className=\"text-gray-400\">Latest 10 orders across all products</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow className=\"border-gray-700\">\n                          <TableHead className=\"text-gray-400\">Customer</TableHead>\n                          <TableHead className=\"text-gray-400\">Product</TableHead>\n                          <TableHead className=\"text-gray-400\">Amount</TableHead>\n                          <TableHead className=\"text-gray-400\">Status</TableHead>\n                          <TableHead className=\"text-gray-400\">Date</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {orderStats.recentOrders.length > 0 ? (\n                          orderStats.recentOrders.map((order) => (\n                            <TableRow key={order.id} className=\"border-gray-700 hover:bg-gray-700/50\">\n                              <TableCell className=\"text-gray-300\">\n                                <div>\n                                  <p className=\"font-medium\">{order.customerName || 'N/A'}</p>\n                                  <p className=\"text-xs text-gray-500\">{order.customerEmail}</p>\n                                </div>\n                              </TableCell>\n                              <TableCell className=\"text-gray-300 max-w-[150px] truncate\">{order.productName || 'Unknown'}</TableCell>\n                              <TableCell className=\"text-emerald-400 font-medium\">${(order.amount / 100).toFixed(2)}</TableCell>\n                              <TableCell>\n                                <Badge className={\n                                  order.status === 'paid' ? 'bg-green-500/20 text-green-300' :\n                                  order.status === 'pending' ? 'bg-yellow-500/20 text-yellow-300' :\n                                  order.status === 'failed' ? 'bg-red-500/20 text-red-300' :\n                                  'bg-gray-500/20 text-gray-300'\n                                }>\n                                  {order.status || 'unknown'}\n                                </Badge>\n                              </TableCell>\n                              <TableCell className=\"text-gray-400 whitespace-nowrap\">\n                                {order.createdAt ? new Date(order.createdAt).toLocaleDateString() : 'N/A'}\n                              </TableCell>\n                            </TableRow>\n                          ))\n                        ) : (\n                          <TableRow>\n                            <TableCell colSpan={5} className=\"py-8 text-center text-gray-400\">\n                              No orders yet. Orders will appear here as customers make purchases.\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeSection === \"visitors\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <Activity className=\"w-8 h-8 text-orange-500\" />\n                    Live Visitor Statistics\n                  </h2>\n                  <p className=\"text-gray-400 mt-1\">\n                    Last updated: {lastUpdate.toLocaleTimeString()} - Auto-refreshes every 30 seconds\n                  </p>\n                </div>\n                <Button onClick={loadVisitorStats} className=\"bg-orange-500 hover:bg-orange-600\" data-testid=\"button-refresh\">\n                  <TrendingUp className=\"w-4 h-4 mr-2\" />\n                  Refresh Now\n                </Button>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Users className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\">{visitorStats.totalVisitors.toLocaleString()}</span>\n                  </div>\n                  <p className=\"text-blue-100 text-sm\">Total Visitors</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Eye className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\">{visitorStats.todayVisitors.toLocaleString()}</span>\n                  </div>\n                  <p className=\"text-green-100 text-sm\">Today</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Clock className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\">{visitorStats.weekVisitors.toLocaleString()}</span>\n                  </div>\n                  <p className=\"text-purple-100 text-sm\">This Week</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-orange-500 to-red-500 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Activity className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\">{visitorStats.onlineNow.toLocaleString()}</span>\n                  </div>\n                  <p className=\"text-orange-100 text-sm\">Online Now</p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"flex items-center gap-2 text-white text-lg\">\n                      <Globe className=\"w-5 h-5 text-blue-400\" />\n                      Top Countries\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {visitorStats.topCountries.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {visitorStats.topCountries.slice(0, 5).map((item, idx) => (\n                          <div key={idx} className=\"flex justify-between items-center\">\n                            <span className=\"text-gray-300\">{item.name}</span>\n                            <Badge variant=\"secondary\" className=\"bg-blue-500/20 text-blue-300\">{item.count}</Badge>\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"text-gray-500 text-sm\">No location data yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"flex items-center gap-2 text-white text-lg\">\n                      <MapPin className=\"w-5 h-5 text-green-400\" />\n                      Top States/Regions\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {visitorStats.topRegions.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {visitorStats.topRegions.slice(0, 5).map((item, idx) => (\n                          <div key={idx} className=\"flex justify-between items-center\">\n                            <span className=\"text-gray-300\">{item.name}</span>\n                            <Badge variant=\"secondary\" className=\"bg-green-500/20 text-green-300\">{item.count}</Badge>\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"text-gray-500 text-sm\">No location data yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"flex items-center gap-2 text-white text-lg\">\n                      <MapPin className=\"w-5 h-5 text-purple-400\" />\n                      Top Cities\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {visitorStats.topCities.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {visitorStats.topCities.slice(0, 5).map((item, idx) => (\n                          <div key={idx} className=\"flex justify-between items-center\">\n                            <span className=\"text-gray-300\">{item.name}</span>\n                            <Badge variant=\"secondary\" className=\"bg-purple-500/20 text-purple-300\">{item.count}</Badge>\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"text-gray-500 text-sm\">No location data yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2 text-white\">\n                    <Users className=\"w-5 h-5 text-orange-500\" />\n                    Recent Visitors\n                  </CardTitle>\n                  <CardDescription className=\"text-gray-400\">\n                    Real-time visitor tracking with location data\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow className=\"border-gray-700\">\n                          <TableHead className=\"text-gray-400\">Location</TableHead>\n                          <TableHead className=\"text-gray-400\">Device</TableHead>\n                          <TableHead className=\"text-gray-400\">Page</TableHead>\n                          <TableHead className=\"text-gray-400\">Referrer</TableHead>\n                          <TableHead className=\"text-gray-400\">Time</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {visitorStats.recentVisitors.length > 0 ? (\n                          visitorStats.recentVisitors.slice(0, 20).map((visitor, idx) => (\n                            <TableRow key={idx} className=\"border-gray-700 hover:bg-gray-700/50\">\n                              <TableCell className=\"text-gray-300\">\n                                <div className=\"flex items-center gap-2\">\n                                  <Globe className=\"w-4 h-4 text-blue-400\" />\n                                  <div className=\"flex flex-col\">\n                                    <span className=\"text-sm font-medium\">\n                                      {visitor.city || visitor.region || 'Unknown'}\n                                      {visitor.region && visitor.city ? `, ${visitor.region}` : ''}\n                                    </span>\n                                    <span className=\"text-xs text-gray-500\">\n                                      {visitor.country || 'Unknown Country'}\n                                      {visitor.isProxy && <Badge variant=\"destructive\" className=\"ml-2 text-xs py-0\">VPN</Badge>}\n                                    </span>\n                                  </div>\n                                </div>\n                              </TableCell>\n                              <TableCell className=\"text-gray-300\">\n                                <div className=\"flex items-center gap-2\">\n                                  {getDeviceIcon(visitor.userAgent)}\n                                  <span className=\"text-sm truncate max-w-[100px]\">\n                                    {visitor.userAgent.includes('Mobile') ? 'Mobile' : \n                                     visitor.userAgent.includes('Tablet') ? 'Tablet' : 'Desktop'}\n                                  </span>\n                                </div>\n                              </TableCell>\n                              <TableCell className=\"text-gray-300 max-w-[150px] truncate\">{visitor.pageUrl}</TableCell>\n                              <TableCell className=\"text-gray-400 max-w-[120px] truncate\">\n                                {visitor.referrer ? visitor.referrer.replace(/^https?:\\/\\//, '').split('/')[0] : 'Direct'}\n                              </TableCell>\n                              <TableCell className=\"text-gray-400 whitespace-nowrap\">{formatTime(visitor.createdAt)}</TableCell>\n                            </TableRow>\n                          ))\n                        ) : (\n                          <TableRow>\n                            <TableCell colSpan={5} className=\"py-8 text-center text-gray-400\">\n                              No visitors tracked yet. Visitors will appear here as they browse your site.\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeSection === \"products\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <Package className=\"w-8 h-8 text-orange-500\" />\n                    Products Manager\n                  </h2>\n                  <p className=\"text-gray-400\">Manage your products and pricing. Changes sync to shadow products automatically.</p>\n                </div>\n                <Button \n                  className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600\"\n                  onClick={() => setEditingProduct({\n                    id: '',\n                    name: '',\n                    slug: '',\n                    description: '',\n                    price: 0,\n                    sale_price: null,\n                    sku: '',\n                    stock_quantity: 100,\n                    stock_status: 'instock',\n                    category: 'subscriptions',\n                    status: 'publish',\n                    featured: false,\n                    main_image: '',\n                    cloaked_name: 'Digital Entertainment Service'\n                  })}\n                  data-testid=\"button-add-product\"\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" /> Add Product\n                </Button>\n              </div>\n\n              <Tabs defaultValue=\"all\" className=\"space-y-6\">\n                <TabsList className=\"bg-gray-800 border border-gray-700\">\n                  <TabsTrigger value=\"all\">All Products ({products.length})</TabsTrigger>\n                  <TabsTrigger value=\"devices\">Devices ({products.filter(p => p.category === 'devices').length})</TabsTrigger>\n                  <TabsTrigger value=\"subscriptions\">Subscriptions ({products.filter(p => p.category === 'subscriptions').length})</TabsTrigger>\n                </TabsList>\n\n                <TabsContent value=\"all\">\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardContent className=\"p-0\">\n                      {loadingProducts ? (\n                        <div className=\"p-8 text-center text-gray-400\">Loading products...</div>\n                      ) : filteredProducts.length === 0 ? (\n                        <div className=\"p-8 text-center text-gray-400\">\n                          <Package className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                          <p className=\"text-lg\">No products found</p>\n                          <Button \n                            className=\"mt-4 bg-orange-500 hover:bg-orange-600\"\n                            onClick={() => setEditingProduct({\n                              id: '',\n                              name: '',\n                              slug: '',\n                              description: '',\n                              price: 0,\n                              sale_price: null,\n                              sku: '',\n                              stock_quantity: 100,\n                              stock_status: 'instock',\n                              category: 'subscriptions',\n                              status: 'publish',\n                              featured: false,\n                              main_image: '',\n                              cloaked_name: 'Digital Entertainment Service'\n                            })}\n                          >\n                            Add Your First Product\n                          </Button>\n                        </div>\n                      ) : (\n                        <Table>\n                          <TableHeader>\n                            <TableRow className=\"border-gray-700 hover:bg-transparent\">\n                              <TableHead className=\"text-gray-400\">Name</TableHead>\n                              <TableHead className=\"text-gray-400\">Price</TableHead>\n                              <TableHead className=\"text-gray-400\">Stock</TableHead>\n                              <TableHead className=\"text-gray-400\">Category</TableHead>\n                              <TableHead className=\"text-gray-400\">Status</TableHead>\n                              <TableHead className=\"text-gray-400\">Shadow Product</TableHead>\n                              <TableHead className=\"text-right text-gray-400\">Actions</TableHead>\n                            </TableRow>\n                          </TableHeader>\n                          <TableBody>\n                            {filteredProducts.map((product) => (\n                              <TableRow key={product.id} className=\"border-gray-700 hover:bg-gray-700/50\">\n                                <TableCell className=\"font-medium text-white\">\n                                  <div className=\"flex items-center gap-3\">\n                                    {product.main_image ? (\n                                      <img src={product.main_image} alt={product.name} className=\"w-10 h-10 rounded object-cover\" loading=\"lazy\" width={40} height={40} />\n                                    ) : (\n                                      <div className=\"w-10 h-10 bg-gray-700 rounded flex items-center justify-center\">\n                                        <ImageIcon className=\"w-5 h-5 text-gray-500\" />\n                                      </div>\n                                    )}\n                                    <div>\n                                      <div>{product.name}</div>\n                                      <div className=\"text-xs text-gray-400\">SKU: {product.sku || 'N/A'}</div>\n                                    </div>\n                                  </div>\n                                </TableCell>\n                                <TableCell>\n                                  <span className=\"text-orange-400 font-bold\" data-testid={`text-price-${product.id}`}>\n                                    {formatPriceDisplay(product.sale_price || product.price)}\n                                  </span>\n                                  {product.sale_price && (\n                                    <span className=\"text-gray-500 line-through ml-2\">{formatPriceDisplay(product.price)}</span>\n                                  )}\n                                </TableCell>\n                                <TableCell>\n                                  <Badge className={\n                                    (product.stock_quantity || 0) < 5 ? 'bg-red-500/20 text-red-300' :\n                                    (product.stock_quantity || 0) < 20 ? 'bg-yellow-500/20 text-yellow-300' :\n                                    'bg-green-500/20 text-green-300'\n                                  } data-testid={`text-stock-${product.id}`}>\n                                    {product.stock_quantity || 0} units\n                                  </Badge>\n                                </TableCell>\n                                <TableCell>\n                                  <Badge variant=\"outline\" className=\"border-gray-600 text-gray-300 capitalize\">\n                                    {product.category}\n                                  </Badge>\n                                </TableCell>\n                                <TableCell>\n                                  <Badge className={\n                                    product.status === 'publish' ? 'bg-green-500/20 text-green-400' :\n                                    product.status === 'draft' ? 'bg-yellow-500/20 text-yellow-400' :\n                                    'bg-gray-500/20 text-gray-400'\n                                  }>\n                                    {product.status}\n                                  </Badge>\n                                </TableCell>\n                                <TableCell className=\"text-gray-400 text-sm\">\n                                  {getShadowName(product.name)}\n                                </TableCell>\n                                <TableCell className=\"text-right\">\n                                  <div className=\"flex items-center justify-end gap-2\">\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"icon\"\n                                      onClick={() => setEditingProduct(product)}\n                                      data-testid={`button-edit-${product.id}`}\n                                    >\n                                      <Edit className=\"w-4 h-4 text-blue-400\" />\n                                    </Button>\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"icon\"\n                                      onClick={() => deleteProduct(product.id)}\n                                      data-testid={`button-delete-${product.id}`}\n                                    >\n                                      <Trash2 className=\"w-4 h-4 text-red-400\" />\n                                    </Button>\n                                  </div>\n                                </TableCell>\n                              </TableRow>\n                            ))}\n                          </TableBody>\n                        </Table>\n                      )}\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n\n                <TabsContent value=\"devices\">\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        {products.filter(p => p.category === 'devices').map((product) => (\n                          <div key={product.id} className=\"bg-gray-700 rounded-xl p-4 border border-gray-600\">\n                            <div className=\"flex items-center justify-between mb-3\">\n                              <h4 className=\"font-bold text-white\">{product.name}</h4>\n                              <Button variant=\"ghost\" size=\"icon\" onClick={() => setEditingProduct(product)}>\n                                <Edit className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                            <div className=\"text-2xl font-bold text-orange-400 mb-2\">{formatPriceDisplay(product.sale_price || product.price)}</div>\n                            <div className=\"text-sm text-gray-400\">Shadow: {getShadowName(product.name)}</div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n\n                <TabsContent value=\"subscriptions\">\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                        {products.filter(p => p.category === 'subscriptions').map((product) => (\n                          <div key={product.id} className=\"bg-gray-700 rounded-xl p-4 border border-gray-600\">\n                            <div className=\"flex items-center justify-between mb-3\">\n                              <h4 className=\"font-bold text-white text-sm\">{product.name}</h4>\n                              <Button variant=\"ghost\" size=\"icon\" onClick={() => setEditingProduct(product)}>\n                                <Edit className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                            <div className=\"text-2xl font-bold text-blue-400 mb-2\">{formatPriceDisplay(product.sale_price || product.price)}</div>\n                            <div className=\"text-sm text-gray-400\">Shadow: {getShadowName(product.name)}</div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n              </Tabs>\n            </div>\n          )}\n\n          {activeSection === \"visual-editor\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <Palette className=\"w-8 h-8 text-orange-500\" />\n                    Visual Editor\n                  </h2>\n                  <p className=\"text-gray-400\">Edit text and images on any page in real-time. Changes are saved to the database.</p>\n                </div>\n                <div className=\"flex gap-3\">\n                  <Button \n                    variant=\"outline\"\n                    className=\"border-gray-600 text-gray-300 hover:bg-gray-700\"\n                    onClick={() => window.open('/?edit=true', '_blank')}\n                    data-testid=\"button-preview-edit-mode\"\n                  >\n                    <ExternalLink className=\"w-4 h-4 mr-2\" /> Open Live Editor\n                  </Button>\n                  <Button \n                    className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600\"\n                    onClick={() => setEditingPageEdit({\n                      pageId: 'main',\n                      sectionId: '',\n                      elementId: '',\n                      elementType: 'text',\n                      content: '',\n                      imageUrl: null,\n                      isActive: true,\n                    })}\n                    data-testid=\"button-add-edit\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" /> Add Content Edit\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <Card className=\"bg-gradient-to-br from-blue-600 to-blue-700 border-0\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Type className=\"w-8 h-8 text-white/80\" />\n                      <span className=\"text-3xl font-bold text-white\">{pageEdits.filter(e => e.elementType !== 'image').length}</span>\n                    </div>\n                    <p className=\"text-blue-100\">Text Edits</p>\n                  </CardContent>\n                </Card>\n                <Card className=\"bg-gradient-to-br from-purple-600 to-purple-700 border-0\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <ImageIcon className=\"w-8 h-8 text-white/80\" />\n                      <span className=\"text-3xl font-bold text-white\">{pageEdits.filter(e => e.elementType === 'image').length}</span>\n                    </div>\n                    <p className=\"text-purple-100\">Image Edits</p>\n                  </CardContent>\n                </Card>\n                <Card className=\"bg-gradient-to-br from-green-600 to-green-700 border-0\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <CheckCircle className=\"w-8 h-8 text-white/80\" />\n                      <span className=\"text-3xl font-bold text-white\">{pageEdits.filter(e => e.isActive).length}</span>\n                    </div>\n                    <p className=\"text-green-100\">Active Edits</p>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"text-white flex items-center gap-2\">\n                    <Edit className=\"w-5 h-5 text-orange-500\" />\n                    All Page Edits\n                  </CardTitle>\n                  <CardDescription className=\"text-gray-400\">\n                    Manage content overrides for your website. Edits are applied when pages load.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {loadingEdits ? (\n                    <div className=\"p-8 text-center text-gray-400\">\n                      <Loader2 className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n                      Loading page edits...\n                    </div>\n                  ) : pageEdits.length === 0 ? (\n                    <div className=\"p-8 text-center text-gray-400\">\n                      <Palette className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                      <p className=\"text-lg mb-2\">No page edits yet</p>\n                      <p className=\"text-sm mb-4\">Create your first content edit to customize your site.</p>\n                      <Button \n                        className=\"bg-orange-500 hover:bg-orange-600\"\n                        onClick={() => setEditingPageEdit({\n                          pageId: 'main',\n                          sectionId: 'hero',\n                          elementId: 'headline',\n                          elementType: 'heading',\n                          content: '',\n                          isActive: true,\n                        })}\n                      >\n                        <Plus className=\"w-4 h-4 mr-2\" /> Add First Edit\n                      </Button>\n                    </div>\n                  ) : (\n                    <Table>\n                      <TableHeader>\n                        <TableRow className=\"border-gray-700\">\n                          <TableHead className=\"text-gray-400\">Page</TableHead>\n                          <TableHead className=\"text-gray-400\">Section</TableHead>\n                          <TableHead className=\"text-gray-400\">Element</TableHead>\n                          <TableHead className=\"text-gray-400\">Type</TableHead>\n                          <TableHead className=\"text-gray-400\">Content</TableHead>\n                          <TableHead className=\"text-gray-400\">Status</TableHead>\n                          <TableHead className=\"text-right text-gray-400\">Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {pageEdits.map((edit) => (\n                          <TableRow key={edit.id} className=\"border-gray-700 hover:bg-gray-700/50\">\n                            <TableCell className=\"font-medium text-white\">{edit.pageId}</TableCell>\n                            <TableCell className=\"text-gray-300\">{edit.sectionId}</TableCell>\n                            <TableCell className=\"text-gray-300\">{edit.elementId}</TableCell>\n                            <TableCell>\n                              <Badge variant=\"outline\" className=\"border-gray-600 text-gray-300\">\n                                {edit.elementType === 'image' ? <ImageIcon className=\"w-3 h-3 mr-1\" /> : <Type className=\"w-3 h-3 mr-1\" />}\n                                {edit.elementType}\n                              </Badge>\n                            </TableCell>\n                            <TableCell className=\"text-gray-400 max-w-[200px] truncate\">\n                              {edit.elementType === 'image' ? (\n                                edit.imageUrl ? (\n                                  <img src={edit.imageUrl} alt=\"Preview\" className=\"w-10 h-10 object-cover rounded\" />\n                                ) : 'No image'\n                              ) : (\n                                edit.content?.substring(0, 50) || 'No content'\n                              )}\n                            </TableCell>\n                            <TableCell>\n                              <Badge className={edit.isActive ? 'bg-green-500/20 text-green-400' : 'bg-gray-500/20 text-gray-400'}>\n                                {edit.isActive ? 'Active' : 'Inactive'}\n                              </Badge>\n                            </TableCell>\n                            <TableCell className=\"text-right\">\n                              <div className=\"flex items-center justify-end gap-2\">\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"icon\"\n                                  onClick={() => setEditingPageEdit(edit)}\n                                  data-testid={`button-edit-page-${edit.id}`}\n                                >\n                                  <Edit className=\"w-4 h-4 text-blue-400\" />\n                                </Button>\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"icon\"\n                                  onClick={() => deletePageEdit(edit.id)}\n                                  data-testid={`button-delete-page-${edit.id}`}\n                                >\n                                  <Trash2 className=\"w-4 h-4 text-red-400\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  )}\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"text-white\">How to Use Visual Editing</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div className=\"bg-gray-700/50 rounded-lg p-4\">\n                      <div className=\"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center mb-3\">\n                        <span className=\"text-orange-400 font-bold\">1</span>\n                      </div>\n                      <h4 className=\"font-semibold text-white mb-2\">Create an Edit</h4>\n                      <p className=\"text-sm text-gray-400\">Click \"Add Content Edit\" and specify the page, section, and element you want to modify.</p>\n                    </div>\n                    <div className=\"bg-gray-700/50 rounded-lg p-4\">\n                      <div className=\"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center mb-3\">\n                        <span className=\"text-orange-400 font-bold\">2</span>\n                      </div>\n                      <h4 className=\"font-semibold text-white mb-2\">Set Content</h4>\n                      <p className=\"text-sm text-gray-400\">Enter the new text content or image URL that should replace the original element.</p>\n                    </div>\n                    <div className=\"bg-gray-700/50 rounded-lg p-4\">\n                      <div className=\"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center mb-3\">\n                        <span className=\"text-orange-400 font-bold\">3</span>\n                      </div>\n                      <h4 className=\"font-semibold text-white mb-2\">Preview Changes</h4>\n                      <p className=\"text-sm text-gray-400\">Open the live site to see your changes applied in real-time.</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeSection === \"fulfillment\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <Truck className=\"w-8 h-8 text-orange-500\" />\n                    Fire Stick Fulfillment\n                  </h2>\n                  <p className=\"text-gray-400\">Manage and ship Fire Stick orders to customers</p>\n                </div>\n                <div className=\"flex gap-3\">\n                  <Button \n                    onClick={loadFulfillmentOrders} \n                    className=\"bg-gray-700 hover:bg-gray-600\"\n                    data-testid=\"button-refresh-fulfillment\"\n                  >\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\n                    Refresh\n                  </Button>\n                  <Button \n                    onClick={openAmazonFireStick}\n                    className=\"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600\"\n                    data-testid=\"button-order-amazon\"\n                  >\n                    <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                    Order on Amazon\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Clock className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-pending-count\">\n                      {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'pending').length}\n                    </span>\n                  </div>\n                  <p className=\"text-yellow-100 text-sm\">Pending Orders</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <ShoppingCart className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-ordered-count\">\n                      {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'ordered').length}\n                    </span>\n                  </div>\n                  <p className=\"text-blue-100 text-sm\">Ordered on Amazon</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Truck className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-shipped-count\">\n                      {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'shipped').length}\n                    </span>\n                  </div>\n                  <p className=\"text-purple-100 text-sm\">Shipped</p>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <CheckCircle className=\"w-8 h-8 opacity-80\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-delivered-count\">\n                      {fulfillmentOrders.filter(o => o.fulfillmentStatus === 'delivered').length}\n                    </span>\n                  </div>\n                  <p className=\"text-green-100 text-sm\">Delivered</p>\n                </div>\n              </div>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2 text-white\">\n                    <Package className=\"w-5 h-5 text-orange-500\" />\n                    Order Queue\n                  </CardTitle>\n                  <CardDescription className=\"text-gray-400\">\n                    Fire Stick orders requiring fulfillment. Copy addresses and track Amazon orders.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {loadingFulfillment ? (\n                    <div className=\"p-8 text-center text-gray-400\">\n                      <Loader2 className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n                      Loading fulfillment orders...\n                    </div>\n                  ) : fulfillmentOrders.length === 0 ? (\n                    <div className=\"p-8 text-center text-gray-400\">\n                      <Truck className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                      <p className=\"text-lg mb-2\">No Fire Stick orders to fulfill</p>\n                      <p className=\"text-sm\">Orders with Fire Stick products will appear here once paid.</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {fulfillmentOrders.map((order) => (\n                        <div \n                          key={order.id} \n                          className=\"bg-gray-700/50 rounded-xl p-5 border border-gray-600\"\n                          data-testid={`fulfillment-order-${order.id}`}\n                        >\n                          <div className=\"flex items-start justify-between mb-4\">\n                            <div>\n                              <div className=\"flex items-center gap-3\">\n                                <h4 className=\"font-bold text-white text-lg\">\n                                  {order.customerName || order.customerEmail}\n                                </h4>\n                                <Badge className={\n                                  order.fulfillmentStatus === 'pending' ? 'bg-yellow-500/20 text-yellow-400' :\n                                  order.fulfillmentStatus === 'ordered' ? 'bg-blue-500/20 text-blue-400' :\n                                  order.fulfillmentStatus === 'shipped' ? 'bg-purple-500/20 text-purple-400' :\n                                  order.fulfillmentStatus === 'delivered' ? 'bg-green-500/20 text-green-400' :\n                                  'bg-gray-500/20 text-gray-400'\n                                }>\n                                  {order.fulfillmentStatus || 'pending'}\n                                </Badge>\n                              </div>\n                              <p className=\"text-gray-400 text-sm\">{order.customerEmail}</p>\n                              <p className=\"text-orange-400 font-semibold mt-1\">{order.realProductName}</p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-2xl font-bold text-green-400\">\n                                ${(order.amount / 100).toFixed(2)}\n                              </p>\n                              <p className=\"text-gray-400 text-sm\">\n                                {order.createdAt ? new Date(order.createdAt).toLocaleDateString() : 'Unknown date'}\n                              </p>\n                            </div>\n                          </div>\n\n                          {order.shippingStreet && (\n                            <div className=\"bg-gray-800 rounded-lg p-4 mb-4\">\n                              <div className=\"flex items-start justify-between\">\n                                <div>\n                                  <p className=\"text-sm text-gray-400 mb-1\">Shipping Address</p>\n                                  <p className=\"text-white font-medium\">{order.shippingName}</p>\n                                  <p className=\"text-gray-300\">{order.shippingStreet}</p>\n                                  <p className=\"text-gray-300\">\n                                    {order.shippingCity}, {order.shippingState} {order.shippingZip}\n                                  </p>\n                                  <p className=\"text-gray-300\">{order.shippingCountry}</p>\n                                  {order.shippingPhone && (\n                                    <p className=\"text-gray-400 mt-1\">Phone: {order.shippingPhone}</p>\n                                  )}\n                                </div>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => copyShippingAddress(order)}\n                                  className=\"border-gray-600 text-gray-300 hover:bg-gray-700\"\n                                  data-testid={`button-copy-address-${order.id}`}\n                                >\n                                  <Copy className=\"w-4 h-4 mr-2\" />\n                                  Copy Address\n                                </Button>\n                              </div>\n                            </div>\n                          )}\n\n                          <div className=\"flex items-center gap-4\">\n                            <div className=\"flex-1\">\n                              <label className=\"block text-xs text-gray-400 mb-1\">Status</label>\n                              <select\n                                value={order.fulfillmentStatus || 'pending'}\n                                onChange={(e) => updateFulfillmentOrder(order.id, { fulfillmentStatus: e.target.value })}\n                                disabled={updatingFulfillment === order.id}\n                                className=\"w-full px-3 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 text-sm\"\n                                data-testid={`select-status-${order.id}`}\n                              >\n                                <option value=\"pending\">Pending</option>\n                                <option value=\"ordered\">Ordered on Amazon</option>\n                                <option value=\"shipped\">Shipped</option>\n                                <option value=\"delivered\">Delivered</option>\n                              </select>\n                            </div>\n                            <div className=\"flex-1\">\n                              <label className=\"block text-xs text-gray-400 mb-1\">Amazon Order ID</label>\n                              <Input\n                                placeholder=\"Enter Amazon order ID...\"\n                                value={order.amazonOrderId || ''}\n                                onChange={(e) => updateFulfillmentOrder(order.id, { amazonOrderId: e.target.value })}\n                                disabled={updatingFulfillment === order.id}\n                                className=\"bg-gray-700 border-gray-600 text-white text-sm\"\n                                data-testid={`input-amazon-id-${order.id}`}\n                              />\n                            </div>\n                            <div className=\"pt-5\">\n                              <Button\n                                onClick={openAmazonFireStick}\n                                className=\"bg-orange-500 hover:bg-orange-600\"\n                                size=\"sm\"\n                                data-testid={`button-amazon-${order.id}`}\n                              >\n                                <ExternalLink className=\"w-4 h-4 mr-2\" />\n                                Amazon\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeSection === \"customers\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <ShoppingCart className=\"w-8 h-8 text-purple-500\" />\n                    Customer Management\n                  </h2>\n                  <p className=\"text-gray-400\">Manage IPTV customers, credentials, and order history</p>\n                </div>\n                <Button \n                  className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                  onClick={() => setNewCustomerForm({ username: '', password: '', email: '', fullName: '', phone: '', notes: '' })}\n                  data-testid=\"button-add-customer\"\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" /> Add Customer\n                </Button>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2\">\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between\">\n                        <CardTitle className=\"text-white\">All Customers</CardTitle>\n                        <div className=\"relative w-64\">\n                          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                          <Input\n                            placeholder=\"Search customers...\"\n                            value={customerSearch}\n                            onChange={(e) => setCustomerSearch(e.target.value)}\n                            className=\"pl-10 bg-gray-700 border-gray-600 text-white text-sm\"\n                            data-testid=\"input-customer-search\"\n                          />\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      {loadingCustomers ? (\n                        <div className=\"p-8 text-center text-gray-400\">\n                          <Loader2 className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n                          Loading customers...\n                        </div>\n                      ) : filteredCustomers.length === 0 ? (\n                        <div className=\"p-8 text-center text-gray-400\">\n                          <Users className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                          <p className=\"text-lg mb-2\">No customers found</p>\n                          <p className=\"text-sm\">Customers will appear here after completing checkout.</p>\n                        </div>\n                      ) : (\n                        <Table>\n                          <TableHeader>\n                            <TableRow className=\"border-gray-700\">\n                              <TableHead className=\"text-gray-400\">Username</TableHead>\n                              <TableHead className=\"text-gray-400\">Email</TableHead>\n                              <TableHead className=\"text-gray-400\">Orders</TableHead>\n                              <TableHead className=\"text-gray-400\">Status</TableHead>\n                              <TableHead className=\"text-right text-gray-400\">Actions</TableHead>\n                            </TableRow>\n                          </TableHeader>\n                          <TableBody>\n                            {filteredCustomers.map((customer) => (\n                              <TableRow \n                                key={customer.id} \n                                className={`border-gray-700 hover:bg-gray-700/50 cursor-pointer ${selectedCustomer?.id === customer.id ? 'bg-purple-500/10' : ''}`}\n                                onClick={() => selectCustomer(customer)}\n                                data-testid={`row-customer-${customer.id}`}\n                              >\n                                <TableCell className=\"font-medium text-white\">\n                                  <div>\n                                    <div className=\"font-bold\">{customer.username}</div>\n                                    {customer.fullName && <div className=\"text-xs text-gray-400\">{customer.fullName}</div>}\n                                  </div>\n                                </TableCell>\n                                <TableCell className=\"text-gray-300\">{customer.email}</TableCell>\n                                <TableCell>\n                                  <Badge className=\"bg-purple-500/20 text-purple-400\">\n                                    {customer.totalOrders || 0} orders\n                                  </Badge>\n                                </TableCell>\n                                <TableCell>\n                                  <Badge className={\n                                    customer.status === 'active' ? 'bg-green-500/20 text-green-400' :\n                                    customer.status === 'suspended' ? 'bg-red-500/20 text-red-400' :\n                                    'bg-gray-500/20 text-gray-400'\n                                  }>\n                                    {customer.status || 'active'}\n                                  </Badge>\n                                </TableCell>\n                                <TableCell className=\"text-right\">\n                                  <div className=\"flex items-center justify-end gap-2\">\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"icon\"\n                                      onClick={(e) => { e.stopPropagation(); copyCredentials(customer.username, customer.password); }}\n                                      data-testid={`button-copy-creds-${customer.id}`}\n                                    >\n                                      <Copy className=\"w-4 h-4 text-purple-400\" />\n                                    </Button>\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"icon\"\n                                      onClick={(e) => { e.stopPropagation(); setEditingCustomer(customer); }}\n                                      data-testid={`button-edit-customer-${customer.id}`}\n                                    >\n                                      <Edit className=\"w-4 h-4 text-blue-400\" />\n                                    </Button>\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"icon\"\n                                      onClick={(e) => { e.stopPropagation(); deleteCustomer(customer.id); }}\n                                      data-testid={`button-delete-customer-${customer.id}`}\n                                    >\n                                      <Trash2 className=\"w-4 h-4 text-red-400\" />\n                                    </Button>\n                                  </div>\n                                </TableCell>\n                              </TableRow>\n                            ))}\n                          </TableBody>\n                        </Table>\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n\n                <div>\n                  {selectedCustomer ? (\n                    <Card className=\"bg-gray-800 border-gray-700 sticky top-4\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <Eye className=\"w-5 h-5 text-purple-500\" />\n                          Customer Details\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div className=\"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg p-4 border border-purple-500/30\">\n                          <h4 className=\"text-sm text-gray-400 mb-2\">Credentials</h4>\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <p className=\"text-white font-mono text-sm\">User: {selectedCustomer.username}</p>\n                              <p className=\"text-white font-mono text-sm\">Pass: {selectedCustomer.password}</p>\n                            </div>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => copyCredentials(selectedCustomer.username, selectedCustomer.password)}\n                              className=\"border-purple-500/50 text-purple-300 hover:bg-purple-500/20\"\n                              data-testid=\"button-copy-selected-creds\"\n                            >\n                              <Copy className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <div className=\"flex justify-between text-sm\">\n                            <span className=\"text-gray-400\">Email</span>\n                            <span className=\"text-white\">{selectedCustomer.email}</span>\n                          </div>\n                          {selectedCustomer.fullName && (\n                            <div className=\"flex justify-between text-sm\">\n                              <span className=\"text-gray-400\">Name</span>\n                              <span className=\"text-white\">{selectedCustomer.fullName}</span>\n                            </div>\n                          )}\n                          {selectedCustomer.phone && (\n                            <div className=\"flex justify-between text-sm\">\n                              <span className=\"text-gray-400\">Phone</span>\n                              <span className=\"text-white\">{selectedCustomer.phone}</span>\n                            </div>\n                          )}\n                          <div className=\"flex justify-between text-sm\">\n                            <span className=\"text-gray-400\">Total Orders</span>\n                            <span className=\"text-purple-400 font-bold\">{selectedCustomer.totalOrders || 0}</span>\n                          </div>\n                          <div className=\"flex justify-between text-sm\">\n                            <span className=\"text-gray-400\">Status</span>\n                            <Badge className={\n                              selectedCustomer.status === 'active' ? 'bg-green-500/20 text-green-400' :\n                              selectedCustomer.status === 'suspended' ? 'bg-red-500/20 text-red-400' :\n                              'bg-gray-500/20 text-gray-400'\n                            }>\n                              {selectedCustomer.status || 'active'}\n                            </Badge>\n                          </div>\n                          {selectedCustomer.createdAt && (\n                            <div className=\"flex justify-between text-sm\">\n                              <span className=\"text-gray-400\">Customer Since</span>\n                              <span className=\"text-white\">{new Date(selectedCustomer.createdAt).toLocaleDateString()}</span>\n                            </div>\n                          )}\n                        </div>\n\n                        {selectedCustomer.notes && (\n                          <div className=\"bg-gray-700/50 rounded-lg p-3\">\n                            <h4 className=\"text-sm text-gray-400 mb-1\">Notes</h4>\n                            <p className=\"text-white text-sm\">{selectedCustomer.notes}</p>\n                          </div>\n                        )}\n\n                        <div className=\"border-t border-gray-700 pt-4\">\n                          <h4 className=\"text-sm text-gray-400 mb-3\">Order History</h4>\n                          {loadingCustomerOrders ? (\n                            <div className=\"text-center py-4\">\n                              <Loader2 className=\"w-6 h-6 mx-auto animate-spin text-gray-400\" />\n                            </div>\n                          ) : customerOrders.length === 0 ? (\n                            <p className=\"text-gray-500 text-sm text-center py-4\">No orders found</p>\n                          ) : (\n                            <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                              {customerOrders.map((order) => (\n                                <div key={order.id} className=\"bg-gray-700/50 rounded-lg p-3 text-sm\">\n                                  <div className=\"flex justify-between items-start\">\n                                    <div>\n                                      <p className=\"text-white font-medium\">{order.realProductName || 'Product'}</p>\n                                      <p className=\"text-gray-400 text-xs\">\n                                        {order.createdAt ? new Date(order.createdAt).toLocaleDateString() : 'Unknown date'}\n                                      </p>\n                                    </div>\n                                    <div className=\"text-right\">\n                                      <p className=\"text-green-400 font-bold\">${((order.amount || 0) / 100).toFixed(2)}</p>\n                                      <Badge className={\n                                        order.status === 'paid' ? 'bg-green-500/20 text-green-400' :\n                                        order.status === 'pending' ? 'bg-yellow-500/20 text-yellow-400' :\n                                        'bg-gray-500/20 text-gray-400'\n                                      } variant=\"outline\">\n                                        {order.status || 'pending'}\n                                      </Badge>\n                                    </div>\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n\n                        <div className=\"flex flex-col gap-2 pt-2\">\n                          <div className=\"flex gap-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setEditingCustomer(selectedCustomer)}\n                              className=\"flex-1 border-gray-600 text-gray-300\"\n                              data-testid=\"button-edit-selected\"\n                            >\n                              <Edit className=\"w-4 h-4 mr-2\" />\n                              Edit\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => { setSelectedCustomer(null); setCustomerOrders([]); }}\n                              className=\"border-gray-600 text-gray-300\"\n                            >\n                              <X className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => resetCustomerPassword(selectedCustomer.id)}\n                            className=\"w-full border-orange-500/50 text-orange-400 hover:bg-orange-500/20\"\n                            data-testid=\"button-reset-customer-password\"\n                          >\n                            <Lock className=\"w-4 h-4 mr-2\" />\n                            Reset Password & Email Customer\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardContent className=\"p-8 text-center text-gray-400\">\n                        <Eye className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                        <p className=\"text-lg\">Select a customer</p>\n                        <p className=\"text-sm mt-1\">Click on a customer to view details and order history</p>\n                      </CardContent>\n                    </Card>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeSection === \"blog\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                    <BookOpen className=\"w-8 h-8 text-blue-500\" />\n                    Blog Management\n                  </h2>\n                  <p className=\"text-gray-400\">Create and manage blog posts with AI assistance</p>\n                </div>\n                {blogView === 'list' && (\n                  <Button\n                    onClick={() => {\n                      setBlogView('create');\n                      setEditingBlogPost({\n                        title: '',\n                        slug: '',\n                        excerpt: '',\n                        content: '',\n                        category: 'streaming',\n                        featured: false,\n                        published: false,\n                        keywords: []\n                      });\n                      setGeneratedContent(null);\n                    }}\n                    className=\"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600\"\n                    data-testid=\"button-new-blog\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    New Blog Post\n                  </Button>\n                )}\n                {(blogView === 'create' || blogView === 'edit') && (\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => {\n                      setBlogView('list');\n                      setEditingBlogPost(null);\n                      setGeneratedContent(null);\n                    }}\n                    className=\"border-gray-600 text-gray-300\"\n                  >\n                    <X className=\"w-4 h-4 mr-2\" />\n                    Cancel\n                  </Button>\n                )}\n              </div>\n\n              {blogView === 'list' && (\n                <div className=\"space-y-6\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"relative flex-1\">\n                      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                      <Input\n                        placeholder=\"Search blog posts...\"\n                        value={blogSearchTerm}\n                        onChange={(e) => setBlogSearchTerm(e.target.value)}\n                        className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                        data-testid=\"input-blog-search\"\n                      />\n                    </div>\n                    <Button\n                      variant=\"outline\"\n                      onClick={loadBlogPosts}\n                      className=\"border-gray-600 text-gray-300\"\n                    >\n                      <RefreshCw className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n\n                  {loadingBlogPosts ? (\n                    <div className=\"flex justify-center py-12\">\n                      <Loader2 className=\"w-8 h-8 animate-spin text-blue-500\" />\n                    </div>\n                  ) : filteredBlogPosts.length === 0 ? (\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardContent className=\"p-12 text-center\">\n                        <FileText className=\"w-16 h-16 mx-auto text-gray-600 mb-4\" />\n                        <h3 className=\"text-xl font-semibold text-gray-300 mb-2\">No blog posts yet</h3>\n                        <p className=\"text-gray-500 mb-6\">Create your first blog post to get started</p>\n                        <Button\n                          onClick={() => {\n                            setBlogView('create');\n                            setEditingBlogPost({\n                              title: '',\n                              slug: '',\n                              excerpt: '',\n                              content: '',\n                              category: 'streaming',\n                              featured: false,\n                              published: false,\n                              keywords: []\n                            });\n                          }}\n                          className=\"bg-gradient-to-r from-blue-500 to-purple-500\"\n                        >\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Create First Post\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"grid gap-4\">\n                      {filteredBlogPosts.map((post) => (\n                        <Card key={post.id} className=\"bg-gray-800 border-gray-700 hover:border-blue-500/50 transition-colors\" data-testid={`card-blog-${post.id}`}>\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex items-start justify-between gap-4\">\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-3 mb-2\">\n                                  <h3 className=\"text-lg font-semibold text-white truncate\">{post.title}</h3>\n                                  {post.featured && (\n                                    <Badge className=\"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\">Featured</Badge>\n                                  )}\n                                  {post.published ? (\n                                    <Badge className=\"bg-green-500/20 text-green-400 border-green-500/30\">Published</Badge>\n                                  ) : (\n                                    <Badge className=\"bg-gray-500/20 text-gray-400 border-gray-500/30\">Draft</Badge>\n                                  )}\n                                </div>\n                                <p className=\"text-gray-400 text-sm line-clamp-2 mb-3\">{post.excerpt}</p>\n                                <div className=\"flex items-center gap-4 text-xs text-gray-500\">\n                                  <span className=\"flex items-center gap-1\">\n                                    <Hash className=\"w-3 h-3\" />\n                                    {post.category}\n                                  </span>\n                                  {post.wordCount && (\n                                    <span className=\"flex items-center gap-1\">\n                                      <List className=\"w-3 h-3\" />\n                                      {post.wordCount} words\n                                    </span>\n                                  )}\n                                  {post.readTime && (\n                                    <span className=\"flex items-center gap-1\">\n                                      <Clock className=\"w-3 h-3\" />\n                                      {post.readTime}\n                                    </span>\n                                  )}\n                                </div>\n                              </div>\n\n                              <div className=\"flex flex-col items-end gap-3\">\n                                <div className=\"flex items-center gap-2\">\n                                  <div className={`w-12 h-12 rounded-lg ${getSeoScoreColor(post.overallSeoScore)} flex items-center justify-center`}>\n                                    <span className=\"text-white font-bold text-lg\">{post.overallSeoScore || 0}</span>\n                                  </div>\n                                  <div className=\"text-right\">\n                                    <div className=\"text-xs text-gray-400\">SEO Score</div>\n                                    <div className=\"text-sm font-medium text-white\">{getSeoScoreLabel(post.overallSeoScore)}</div>\n                                  </div>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => {\n                                      setEditingBlogPost(post);\n                                      setBlogView('edit');\n                                    }}\n                                    className=\"border-gray-600 text-gray-300 hover:text-white\"\n                                    data-testid={`button-edit-blog-${post.id}`}\n                                  >\n                                    <Edit className=\"w-4 h-4\" />\n                                  </Button>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => deleteBlogPost(post.id)}\n                                    className=\"border-red-500/30 text-red-400 hover:bg-red-500/10\"\n                                    data-testid={`button-delete-blog-${post.id}`}\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {(blogView === 'create' || blogView === 'edit') && (\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                  <div className=\"lg:col-span-2 space-y-6\">\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <Sparkles className=\"w-5 h-5 text-purple-500\" />\n                          AI Content Generator\n                        </CardTitle>\n                        <CardDescription className=\"text-gray-400\">\n                          Generate blog content using AI. Fill in the topic and preferences below.\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Topic *</label>\n                          <Input\n                            value={aiRequest.topic}\n                            onChange={(e) => setAiRequest({ ...aiRequest, topic: e.target.value })}\n                            placeholder=\"e.g., Best Streaming Apps for Fire Stick in 2025\"\n                            className=\"bg-gray-700 border-gray-600 text-white\"\n                            data-testid=\"input-ai-topic\"\n                          />\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Tone</label>\n                            <select\n                              value={aiRequest.tone}\n                              onChange={(e) => setAiRequest({ ...aiRequest, tone: e.target.value as any })}\n                              className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white\"\n                            >\n                              <option value=\"professional\">Professional</option>\n                              <option value=\"casual\">Casual</option>\n                              <option value=\"educational\">Educational</option>\n                              <option value=\"persuasive\">Persuasive</option>\n                              <option value=\"entertaining\">Entertaining</option>\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Length</label>\n                            <select\n                              value={aiRequest.length}\n                              onChange={(e) => setAiRequest({ ...aiRequest, length: e.target.value as any })}\n                              className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white\"\n                            >\n                              <option value=\"short\">Short (400-600 words)</option>\n                              <option value=\"medium\">Medium (800-1200 words)</option>\n                              <option value=\"long\">Long (1500-2000 words)</option>\n                              <option value=\"comprehensive\">Comprehensive (2500+ words)</option>\n                            </select>\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Keywords</label>\n                          <div className=\"flex gap-2 mb-2\">\n                            <Input\n                              value={keywordInput}\n                              onChange={(e) => setKeywordInput(e.target.value)}\n                              placeholder=\"Add a keyword\"\n                              className=\"bg-gray-700 border-gray-600 text-white\"\n                              onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addKeyword())}\n                            />\n                            <Button onClick={addKeyword} variant=\"outline\" className=\"border-gray-600\">\n                              <Plus className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {aiRequest.keywords?.map((kw, i) => (\n                              <Badge key={i} className=\"bg-purple-500/20 text-purple-300 border-purple-500/30 cursor-pointer\" onClick={() => removeKeyword(i)}>\n                                {kw} <X className=\"w-3 h-3 ml-1\" />\n                              </Badge>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-4\">\n                          <label className=\"flex items-center gap-2 text-gray-300\">\n                            <input\n                              type=\"checkbox\"\n                              checked={aiRequest.includeFAQ}\n                              onChange={(e) => setAiRequest({ ...aiRequest, includeFAQ: e.target.checked })}\n                              className=\"rounded\"\n                            />\n                            Include FAQ\n                          </label>\n                          <label className=\"flex items-center gap-2 text-gray-300\">\n                            <input\n                              type=\"checkbox\"\n                              checked={aiRequest.includeLists}\n                              onChange={(e) => setAiRequest({ ...aiRequest, includeLists: e.target.checked })}\n                              className=\"rounded\"\n                            />\n                            Include Lists\n                          </label>\n                        </div>\n\n                        <Button\n                          onClick={generateAIContent}\n                          disabled={aiGenerating || !aiRequest.topic.trim()}\n                          className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                          data-testid=\"button-generate-ai\"\n                        >\n                          {aiGenerating ? (\n                            <>\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Generating Content...\n                            </>\n                          ) : (\n                            <>\n                              <Wand2 className=\"w-4 h-4 mr-2\" />\n                              Generate with AI\n                            </>\n                          )}\n                        </Button>\n                      </CardContent>\n                    </Card>\n\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white\">Post Content</CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Title *</label>\n                          <Input\n                            value={editingBlogPost?.title || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, title: e.target.value })}\n                            className=\"bg-gray-700 border-gray-600 text-white\"\n                            placeholder=\"Enter blog post title\"\n                            data-testid=\"input-blog-title\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Slug</label>\n                          <Input\n                            value={editingBlogPost?.slug || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, slug: e.target.value })}\n                            className=\"bg-gray-700 border-gray-600 text-white\"\n                            placeholder=\"auto-generated-from-title\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Excerpt *</label>\n                          <textarea\n                            value={editingBlogPost?.excerpt || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, excerpt: e.target.value })}\n                            className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white min-h-[80px]\"\n                            placeholder=\"Brief summary of the post...\"\n                            data-testid=\"input-blog-excerpt\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Content *</label>\n                          <textarea\n                            value={editingBlogPost?.content || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, content: e.target.value })}\n                            className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white min-h-[400px] font-mono text-sm\"\n                            placeholder=\"Write your blog post content here (HTML supported)...\"\n                            data-testid=\"input-blog-content\"\n                          />\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Category</label>\n                            <select\n                              value={editingBlogPost?.category || 'streaming'}\n                              onChange={(e) => setEditingBlogPost({ ...editingBlogPost, category: e.target.value })}\n                              className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white\"\n                            >\n                              <option value=\"streaming\">Streaming</option>\n                              <option value=\"firestick\">Fire Stick</option>\n                              <option value=\"iptv\">IPTV</option>\n                              <option value=\"cord-cutting\">Cord Cutting</option>\n                              <option value=\"guides\">Guides</option>\n                              <option value=\"reviews\">Reviews</option>\n                            </select>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <label className=\"flex items-center gap-2 text-gray-300 pt-6\">\n                              <input\n                                type=\"checkbox\"\n                                checked={editingBlogPost?.featured || false}\n                                onChange={(e) => setEditingBlogPost({ ...editingBlogPost, featured: e.target.checked })}\n                                className=\"rounded\"\n                              />\n                              Featured Post\n                            </label>\n                            <label className=\"flex items-center gap-2 text-gray-300\">\n                              <input\n                                type=\"checkbox\"\n                                checked={editingBlogPost?.published || false}\n                                onChange={(e) => setEditingBlogPost({ ...editingBlogPost, published: e.target.checked })}\n                                className=\"rounded\"\n                              />\n                              Published\n                            </label>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  <div className=\"space-y-6\">\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <Target className=\"w-5 h-5 text-green-500\" />\n                          SEO Settings\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Meta Title</label>\n                          <Input\n                            value={editingBlogPost?.metaTitle || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, metaTitle: e.target.value })}\n                            className=\"bg-gray-700 border-gray-600 text-white\"\n                            placeholder=\"SEO optimized title\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">{(editingBlogPost?.metaTitle || '').length}/60 characters</p>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Meta Description</label>\n                          <textarea\n                            value={editingBlogPost?.metaDescription || ''}\n                            onChange={(e) => setEditingBlogPost({ ...editingBlogPost, metaDescription: e.target.value })}\n                            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white min-h-[80px]\"\n                            placeholder=\"Brief SEO description\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">{(editingBlogPost?.metaDescription || '').length}/160 characters</p>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Keywords</label>\n                          <div className=\"flex flex-wrap gap-1\">\n                            {editingBlogPost?.keywords?.map((kw, i) => (\n                              <Badge key={i} className=\"bg-blue-500/20 text-blue-300 text-xs\">{kw}</Badge>\n                            )) || <span className=\"text-gray-500 text-sm\">No keywords set</span>}\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <BarChart3 className=\"w-5 h-5 text-blue-500\" />\n                          SEO Score Preview\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        {editingBlogPost?.overallSeoScore ? (\n                          <div className=\"space-y-3\">\n                            <div className=\"flex items-center justify-center\">\n                              <div className={`w-20 h-20 rounded-full ${getSeoScoreColor(editingBlogPost.overallSeoScore)} flex items-center justify-center`}>\n                                <span className=\"text-white font-bold text-2xl\">{editingBlogPost.overallSeoScore}</span>\n                              </div>\n                            </div>\n                            <p className=\"text-center text-gray-400\">{getSeoScoreLabel(editingBlogPost.overallSeoScore)}</p>\n                          </div>\n                        ) : (\n                          <p className=\"text-center text-gray-500 py-4\">Score calculated on save</p>\n                        )}\n                      </CardContent>\n                    </Card>\n\n                    <Button\n                      onClick={saveBlogPost}\n                      disabled={savingBlogPost}\n                      className=\"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600\"\n                      data-testid=\"button-save-blog\"\n                    >\n                      {savingBlogPost ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                          Saving...\n                        </>\n                      ) : (\n                        <>\n                          <Save className=\"w-4 h-4 mr-2\" />\n                          {blogView === 'create' ? 'Create Post' : 'Update Post'}\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeSection === \"github\" && (\n            <div className=\"space-y-6\">\n              <div>\n                <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                  <Github className=\"w-8 h-8 text-purple-500\" />\n                  GitHub Deploy\n                </h2>\n                <p className=\"text-gray-400\">Push your code to GitHub repositories</p>\n              </div>\n\n              {loadingGithub ? (\n                <div className=\"flex items-center justify-center py-12\">\n                  <Loader2 className=\"w-8 h-8 animate-spin text-purple-500\" />\n                  <span className=\"ml-3 text-gray-400\">Checking GitHub connection...</span>\n                </div>\n              ) : !githubStatus?.connected ? (\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardContent className=\"p-8 text-center\">\n                    <AlertCircle className=\"w-16 h-16 text-yellow-500 mx-auto mb-4\" />\n                    <h3 className=\"text-xl font-bold text-white mb-2\">GitHub Not Connected</h3>\n                    <p className=\"text-gray-400 mb-4\">\n                      {githubStatus?.error || 'Please set up your GitHub integration to push code.'}\n                    </p>\n                    <p className=\"text-sm text-gray-500\">\n                      Make sure your GitHub token is configured in the integrations.\n                    </p>\n                  </CardContent>\n                </Card>\n              ) : (\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                  <div className=\"lg:col-span-2 space-y-6\">\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                          Connected to GitHub\n                        </CardTitle>\n                        <CardDescription className=\"text-gray-400\">\n                          Logged in as <span className=\"text-white font-semibold\">{githubStatus.username}</span>\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent>\n                        {githubStatus.avatarUrl && (\n                          <img \n                            src={githubStatus.avatarUrl} \n                            alt=\"GitHub avatar\" \n                            className=\"w-16 h-16 rounded-full border-2 border-purple-500\"\n                          />\n                        )}\n                      </CardContent>\n                    </Card>\n\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white flex items-center gap-2\">\n                          <CloudUpload className=\"w-5 h-5 text-blue-500\" />\n                          Push to Repository\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Repository</label>\n                          <select\n                            value={selectedRepo}\n                            onChange={(e) => setSelectedRepo(e.target.value)}\n                            className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                            data-testid=\"select-github-repo\"\n                          >\n                            <option value=\"\">Select a repository...</option>\n                            {githubRepos.map(repo => (\n                              <option key={repo.id} value={repo.fullName}>\n                                {repo.fullName} {repo.private ? '(Private)' : '(Public)'}\n                              </option>\n                            ))}\n                          </select>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Branch</label>\n                          <div className=\"flex items-center gap-2\">\n                            <GitBranch className=\"w-5 h-5 text-gray-400\" />\n                            <Input\n                              value={pushBranch}\n                              onChange={(e) => setPushBranch(e.target.value)}\n                              className=\"bg-gray-700 border-gray-600 text-white\"\n                              placeholder=\"clean main\"\n                              data-testid=\"input-github-branch\"\n                            />\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Commit Message (optional)</label>\n                          <Input\n                            value={pushMessage}\n                            onChange={(e) => setPushMessage(e.target.value)}\n                            className=\"bg-gray-700 border-gray-600 text-white\"\n                            placeholder=\"Deploy from StreamStickPro Admin\"\n                            data-testid=\"input-github-message\"\n                          />\n                        </div>\n\n                        <Button\n                          onClick={pushToGithub}\n                          disabled={pushing || !selectedRepo}\n                          className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                          data-testid=\"button-push-github\"\n                        >\n                          {pushing ? (\n                            <>\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Pushing to GitHub...\n                            </>\n                          ) : (\n                            <>\n                              <CloudUpload className=\"w-4 h-4 mr-2\" />\n                              Push Code to GitHub\n                            </>\n                          )}\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  <div className=\"space-y-6\">\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"text-white text-lg\">What Gets Pushed</CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"text-sm text-gray-400 space-y-2\">\n                        <p className=\"flex items-center gap-2\">\n                          <CheckCheck className=\"w-4 h-4 text-green-500\" />\n                          client/ folder (React frontend)\n                        </p>\n                        <p className=\"flex items-center gap-2\">\n                          <CheckCheck className=\"w-4 h-4 text-green-500\" />\n                          server/ folder (Express backend)\n                        </p>\n                        <p className=\"flex items-center gap-2\">\n                          <CheckCheck className=\"w-4 h-4 text-green-500\" />\n                          shared/ folder (Types & schemas)\n                        </p>\n                        <p className=\"flex items-center gap-2\">\n                          <CheckCheck className=\"w-4 h-4 text-green-500\" />\n                          Config files (package.json, etc.)\n                        </p>\n                        <p className=\"flex items-center gap-2 text-yellow-500 mt-4\">\n                          <AlertCircle className=\"w-4 h-4\" />\n                          Excludes: node_modules, .git, dist\n                        </p>\n                      </CardContent>\n                    </Card>\n\n                    {pushResult && (\n                      <Card className={`border ${pushResult.success ? 'bg-green-900/20 border-green-500' : 'bg-red-900/20 border-red-500'}`}>\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-start gap-3\">\n                            {pushResult.success ? (\n                              <CheckCircle className=\"w-6 h-6 text-green-500 flex-shrink-0\" />\n                            ) : (\n                              <AlertCircle className=\"w-6 h-6 text-red-500 flex-shrink-0\" />\n                            )}\n                            <div>\n                              <p className={`font-medium ${pushResult.success ? 'text-green-400' : 'text-red-400'}`}>\n                                {pushResult.success ? 'Push Successful!' : 'Push Failed'}\n                              </p>\n                              <p className=\"text-sm text-gray-400 mt-1\">{pushResult.message}</p>\n                              {pushResult.filesCount && (\n                                <p className=\"text-sm text-gray-500 mt-1\">{pushResult.filesCount} files pushed</p>\n                              )}\n                              {pushResult.commitUrl && (\n                                <a \n                                  href={pushResult.commitUrl} \n                                  target=\"_blank\" \n                                  rel=\"noopener noreferrer\"\n                                  className=\"text-purple-400 hover:text-purple-300 text-sm flex items-center gap-1 mt-2\"\n                                >\n                                  <ExternalLink className=\"w-4 h-4\" />\n                                  View Commit on GitHub\n                                </a>\n                              )}\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeSection === \"seo\" && (\n            <div className=\"space-y-6\">\n              <div>\n                <h2 className=\"text-3xl font-bold flex items-center gap-3\">\n                  <Search className=\"w-8 h-8 text-green-500\" />\n                  SEO Toolkit\n                </h2>\n                <p className=\"text-gray-400\">Rank Math Premium-style SEO management</p>\n              </div>\n              <SeoToolkit authFetch={authFetch} showToast={showToast} />\n            </div>\n          )}\n        </div>\n      </main>\n\n      {newCustomerForm && (\n        <div className=\"fixed inset-0 bg-black/90 z-50 overflow-y-auto\">\n          <div className=\"min-h-screen p-8 flex items-center justify-center\">\n            <div className=\"w-full max-w-lg bg-gray-800 rounded-2xl\">\n              <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 p-6 rounded-t-2xl flex items-center justify-between\">\n                <h3 className=\"text-2xl font-bold text-white\">Add New Customer</h3>\n                <Button variant=\"ghost\" onClick={() => setNewCustomerForm(null)} className=\"text-white hover:bg-white/20\">\n                  <X className=\"w-6 h-6\" />\n                </Button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Username *</label>\n                  <Input\n                    value={newCustomerForm.username || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, username: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., johndoe123\"\n                    data-testid=\"input-new-username\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Password *</label>\n                  <Input\n                    value={newCustomerForm.password || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, password: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., SecurePass123\"\n                    data-testid=\"input-new-password\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Email *</label>\n                  <Input\n                    type=\"email\"\n                    value={newCustomerForm.email || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, email: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., john@example.com\"\n                    data-testid=\"input-new-email\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Full Name</label>\n                  <Input\n                    value={newCustomerForm.fullName || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, fullName: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., John Doe\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Phone</label>\n                  <Input\n                    value={newCustomerForm.phone || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, phone: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., +1 555-123-4567\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Notes</label>\n                  <textarea\n                    value={newCustomerForm.notes || ''}\n                    onChange={(e) => setNewCustomerForm({ ...newCustomerForm, notes: e.target.value })}\n                    rows={2}\n                    className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    placeholder=\"Any notes about this customer...\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-700 flex justify-end gap-4\">\n                <Button variant=\"outline\" onClick={() => setNewCustomerForm(null)} className=\"border-gray-600 text-gray-300\">\n                  Cancel\n                </Button>\n                <Button \n                  onClick={createNewCustomer}\n                  disabled={savingCustomer}\n                  className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                  data-testid=\"button-save-new-customer\"\n                >\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  {savingCustomer ? 'Creating...' : 'Create Customer'}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {editingCustomer && (\n        <div className=\"fixed inset-0 bg-black/90 z-50 overflow-y-auto\">\n          <div className=\"min-h-screen p-8 flex items-center justify-center\">\n            <div className=\"w-full max-w-lg bg-gray-800 rounded-2xl\">\n              <div className=\"bg-gradient-to-r from-blue-500 to-purple-500 p-6 rounded-t-2xl flex items-center justify-between\">\n                <h3 className=\"text-2xl font-bold text-white\">Edit Customer</h3>\n                <Button variant=\"ghost\" onClick={() => setEditingCustomer(null)} className=\"text-white hover:bg-white/20\">\n                  <X className=\"w-6 h-6\" />\n                </Button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Username</label>\n                  <Input\n                    value={editingCustomer.username}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, username: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    data-testid=\"input-edit-username\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Password</label>\n                  <Input\n                    value={editingCustomer.password}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, password: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    data-testid=\"input-edit-password\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Email</label>\n                  <Input\n                    type=\"email\"\n                    value={editingCustomer.email}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, email: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    data-testid=\"input-edit-email\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Full Name</label>\n                  <Input\n                    value={editingCustomer.fullName || ''}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, fullName: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Phone</label>\n                  <Input\n                    value={editingCustomer.phone || ''}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, phone: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Status</label>\n                  <select\n                    value={editingCustomer.status || 'active'}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, status: e.target.value })}\n                    className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    data-testid=\"select-edit-status\"\n                  >\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                    <option value=\"suspended\">Suspended</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Notes</label>\n                  <textarea\n                    value={editingCustomer.notes || ''}\n                    onChange={(e) => setEditingCustomer({ ...editingCustomer, notes: e.target.value })}\n                    rows={2}\n                    className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    placeholder=\"Any notes about this customer...\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-700 flex justify-end gap-4\">\n                <Button variant=\"outline\" onClick={() => setEditingCustomer(null)} className=\"border-gray-600 text-gray-300\">\n                  Cancel\n                </Button>\n                <Button \n                  onClick={saveCustomer}\n                  disabled={savingCustomer}\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600\"\n                  data-testid=\"button-save-customer\"\n                >\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  {savingCustomer ? 'Saving...' : 'Save Changes'}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {editingProduct && (\n        <div className=\"fixed inset-0 bg-black/90 z-50 overflow-y-auto\">\n          <div className=\"min-h-screen p-8\">\n            <div className=\"max-w-4xl mx-auto bg-gray-800 rounded-2xl\">\n              <div className=\"bg-gradient-to-r from-orange-500 to-red-500 p-6 rounded-t-2xl flex items-center justify-between\">\n                <h3 className=\"text-2xl font-bold text-white\">\n                  {editingProduct.id ? 'Edit Product' : 'Add New Product'}\n                </h3>\n                <Button variant=\"ghost\" onClick={() => setEditingProduct(null)} className=\"text-white hover:bg-white/20\">\n                  <X className=\"w-6 h-6\" />\n                </Button>\n              </div>\n\n              <div className=\"p-6 space-y-6 max-h-[70vh] overflow-y-auto\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Product Name *</label>\n                  <Input\n                    value={editingProduct.name}\n                    onChange={(e) => setEditingProduct({ ...editingProduct, name: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"e.g., StreamStick 4K Kit\"\n                    data-testid=\"input-product-name\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">URL Slug</label>\n                    <Input\n                      value={editingProduct.slug}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, slug: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      placeholder=\"fire-stick-4k\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">SKU</label>\n                    <Input\n                      value={editingProduct.sku || ''}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, sku: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      placeholder=\"FS-4K\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Description</label>\n                  <textarea\n                    value={editingProduct.description || ''}\n                    onChange={(e) => setEditingProduct({ ...editingProduct, description: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    placeholder=\"Full product description...\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Regular Price * ($)</label>\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      value={centsToDollars(editingProduct.price)}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, price: dollarsToCents(parseFloat(e.target.value) || 0) })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      data-testid=\"input-price\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Sale Price ($)</label>\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      value={editingProduct.sale_price ? centsToDollars(editingProduct.sale_price) : ''}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, sale_price: e.target.value ? dollarsToCents(parseFloat(e.target.value)) : null })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Stock Quantity</label>\n                    <Input\n                      type=\"number\"\n                      value={editingProduct.stock_quantity}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, stock_quantity: parseInt(e.target.value) || 0 })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Category</label>\n                    <select\n                      value={editingProduct.category}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, category: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    >\n                      <option value=\"subscriptions\">Subscriptions</option>\n                      <option value=\"devices\">Devices</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Status</label>\n                    <select\n                      value={editingProduct.status}\n                      onChange={(e) => setEditingProduct({ ...editingProduct, status: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                    >\n                      <option value=\"publish\">Published</option>\n                      <option value=\"draft\">Draft</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Product Image</label>\n                  {editingProduct.main_image && (\n                    <div className=\"relative mb-3\">\n                      <img \n                        src={editingProduct.main_image} \n                        alt=\"Product preview\" \n                        className=\"w-full h-40 object-cover rounded-lg border border-gray-600\"\n                        loading=\"lazy\"\n                        width={400}\n                        height={160}\n                      />\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white\"\n                        onClick={() => setEditingProduct({ ...editingProduct, main_image: '' })}\n                        data-testid=\"button-remove-image\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  )}\n                  \n                  <div className=\"flex gap-3\">\n                    <div className=\"flex-1\">\n                      <Input\n                        value={editingProduct.main_image || ''}\n                        onChange={(e) => setEditingProduct({ ...editingProduct, main_image: e.target.value })}\n                        className=\"bg-gray-700 border-gray-600 text-white\"\n                        placeholder=\"Enter image URL or upload a file...\"\n                        data-testid=\"input-image-url\"\n                      />\n                    </div>\n                    <div className=\"relative\">\n                      <input\n                        type=\"file\"\n                        accept=\"image/jpeg,image/png,image/gif,image/webp\"\n                        onChange={handleFileSelect}\n                        className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                        disabled={uploading}\n                        data-testid=\"input-file-upload\"\n                      />\n                      <Button\n                        type=\"button\"\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n                        disabled={uploading}\n                        data-testid=\"button-upload-image\"\n                      >\n                        {uploading ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Uploading...\n                          </>\n                        ) : (\n                          <>\n                            <Upload className=\"w-4 h-4 mr-2\" />\n                            Upload\n                          </>\n                        )}\n                      </Button>\n                    </div>\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Supports JPEG, PNG, GIF, WebP. Max size: 5MB\n                  </p>\n                </div>\n\n                <div className=\"border-t border-gray-700 pt-6\">\n                  <h4 className=\"text-white font-bold mb-2 flex items-center gap-2\">\n                    <Flame className=\"w-5 h-5 text-purple-400\" />\n                    Stripe Compliance (Shadow Product Name)\n                  </h4>\n                  <p className=\"text-sm text-gray-400 mb-4\">\n                    This is the \"cloaked\" product name shown to Stripe. It should be generic.\n                  </p>\n                  <Input\n                    value={editingProduct.cloaked_name || 'Digital Entertainment Service'}\n                    onChange={(e) => setEditingProduct({ ...editingProduct, cloaked_name: e.target.value })}\n                    className=\"bg-gray-700 border-gray-600 text-white\"\n                    placeholder=\"Digital Entertainment Service\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Will sync to: {getShadowName(editingProduct.name)}\n                  </p>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"featured\"\n                    checked={editingProduct.featured}\n                    onChange={(e) => setEditingProduct({ ...editingProduct, featured: e.target.checked })}\n                    className=\"w-4 h-4\"\n                  />\n                  <label htmlFor=\"featured\" className=\"text-gray-300\">Featured Product (marked as popular)</label>\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-700 flex justify-end gap-4\">\n                <Button variant=\"outline\" onClick={() => setEditingProduct(null)} className=\"border-gray-600 text-gray-300\">\n                  Cancel\n                </Button>\n                <Button \n                  onClick={saveProduct} \n                  disabled={saving}\n                  className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600\"\n                  data-testid=\"button-save-product\"\n                >\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  {saving ? 'Saving...' : 'Save Product'}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {editingPageEdit && (\n        <div className=\"fixed inset-0 bg-black/90 z-50 overflow-y-auto\">\n          <div className=\"min-h-screen p-8\">\n            <div className=\"max-w-2xl mx-auto bg-gray-800 rounded-2xl\">\n              <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 p-6 rounded-t-2xl flex items-center justify-between\">\n                <h3 className=\"text-2xl font-bold text-white\">\n                  {editingPageEdit.id ? 'Edit Content' : 'Add Content Edit'}\n                </h3>\n                <Button variant=\"ghost\" onClick={() => setEditingPageEdit(null)} className=\"text-white hover:bg-white/20\">\n                  <X className=\"w-6 h-6\" />\n                </Button>\n              </div>\n\n              <div className=\"p-6 space-y-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Page ID *</label>\n                    <select\n                      value={editingPageEdit.pageId || 'main'}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, pageId: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                      data-testid=\"select-page-id\"\n                    >\n                      <option value=\"main\">Main Store</option>\n                      <option value=\"checkout\">Checkout</option>\n                      <option value=\"blog\">Blog</option>\n                      <option value=\"success\">Success Page</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Section ID *</label>\n                    <Input\n                      value={editingPageEdit.sectionId || ''}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, sectionId: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      placeholder=\"e.g., hero, products, faq\"\n                      data-testid=\"input-section-id\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Element ID *</label>\n                    <Input\n                      value={editingPageEdit.elementId || ''}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, elementId: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      placeholder=\"e.g., headline, subheadline, image\"\n                      data-testid=\"input-element-id\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Element Type *</label>\n                    <select\n                      value={editingPageEdit.elementType || 'text'}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, elementType: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600\"\n                      data-testid=\"select-element-type\"\n                    >\n                      <option value=\"text\">Text</option>\n                      <option value=\"heading\">Heading</option>\n                      <option value=\"paragraph\">Paragraph</option>\n                      <option value=\"button\">Button</option>\n                      <option value=\"image\">Image</option>\n                    </select>\n                  </div>\n                </div>\n\n                {editingPageEdit.elementType === 'image' ? (\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Image URL</label>\n                    <Input\n                      value={editingPageEdit.imageUrl || ''}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, imageUrl: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      placeholder=\"https://example.com/image.jpg\"\n                      data-testid=\"input-image-url-edit\"\n                    />\n                    {editingPageEdit.imageUrl && (\n                      <div className=\"mt-3\">\n                        <img \n                          src={editingPageEdit.imageUrl} \n                          alt=\"Preview\" \n                          className=\"w-full h-40 object-cover rounded-lg border border-gray-600\"\n                          onError={(e) => {\n                            (e.target as HTMLImageElement).style.display = 'none';\n                          }}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-300 mb-2\">Content</label>\n                    <textarea\n                      value={editingPageEdit.content || ''}\n                      onChange={(e) => setEditingPageEdit({ ...editingPageEdit, content: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600 min-h-[120px]\"\n                      placeholder=\"Enter the new text content...\"\n                      data-testid=\"input-content\"\n                    />\n                  </div>\n                )}\n\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"isActive\"\n                    checked={editingPageEdit.isActive !== false}\n                    onChange={(e) => setEditingPageEdit({ ...editingPageEdit, isActive: e.target.checked })}\n                    className=\"w-4 h-4\"\n                  />\n                  <label htmlFor=\"isActive\" className=\"text-gray-300\">Active (apply this edit to the live site)</label>\n                </div>\n\n                <div className=\"bg-gray-700/50 rounded-lg p-4\">\n                  <h4 className=\"text-sm font-semibold text-gray-300 mb-2\">Element Identifier</h4>\n                  <code className=\"text-xs text-orange-400 bg-gray-900 px-2 py-1 rounded\">\n                    data-edit=\"{editingPageEdit.pageId || 'main'}/{editingPageEdit.sectionId || 'section'}/{editingPageEdit.elementId || 'element'}\"\n                  </code>\n                  <p className=\"text-xs text-gray-400 mt-2\">\n                    Add this attribute to any element in your code to make it editable.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-700 flex justify-end gap-4\">\n                <Button variant=\"outline\" onClick={() => setEditingPageEdit(null)} className=\"border-gray-600 text-gray-300\">\n                  Cancel\n                </Button>\n                <Button \n                  onClick={savePageEdit} \n                  disabled={saving}\n                  className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                  data-testid=\"button-save-page-edit\"\n                >\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  {saving ? 'Saving...' : 'Save Edit'}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":197419,"size_tokens":null},"server/routes.ts":{"content":"import type { Express, Request, Response, NextFunction } from \"express\";\nimport { type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { getUncachableStripeClient, getStripePublishableKey } from \"./stripeClient\";\nimport { analyzeSeo } from \"./seoAnalyzer\";\nimport { registerSeoRoutes } from \"./seo-routes\";\nimport { \n  generateContentOutline, \n  generateFullContent, \n  improveContent, \n  generateSEOSuggestions, \n  expandSection,\n  generateFAQ,\n  type ContentGenerationRequest,\n  type GeneratedContent \n} from \"./aiContentService\";\nimport { \n  checkoutRequestSchema, \n  createProductRequestSchema, \n  updateProductRequestSchema,\n  mapShadowProductSchema,\n  updateOrderRequestSchema,\n  createCustomerSchema,\n  updateCustomerSchema,\n  customerLookupSchema\n} from \"@shared/schema\";\nimport { fromZodError } from \"zod-validation-error\";\nimport * as crypto from \"crypto\";\nimport * as bcrypt from \"bcryptjs\";\n\nconst JWT_SECRET = process.env.JWT_SECRET || process.env.SESSION_SECRET;\nif (!JWT_SECRET) {\n  console.error('SECURITY ERROR: JWT_SECRET or SESSION_SECRET must be set');\n  process.exit(1);\n}\nconst TOKEN_EXPIRY = 24 * 60 * 60 * 1000;\nconst CUSTOMER_TOKEN_EXPIRY = 7 * 24 * 60 * 60 * 1000;\n\nfunction hashPasswordLegacy(password: string): string {\n  return crypto.createHash('sha256').update(password + JWT_SECRET).digest('hex');\n}\n\nasync function hashCustomerPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, 10);\n}\n\nasync function verifyCustomerPassword(password: string, hash: string): Promise<boolean> {\n  return bcrypt.compare(password, hash);\n}\n\nfunction createToken(username: string, role: 'admin' | 'customer' = 'admin'): string {\n  const expiry = role === 'customer' ? CUSTOMER_TOKEN_EXPIRY : TOKEN_EXPIRY;\n  const payload = { sub: username, role, exp: Date.now() + expiry };\n  const payloadStr = JSON.stringify(payload);\n  const signature = crypto.createHmac('sha256', JWT_SECRET).update(payloadStr).digest('hex');\n  return Buffer.from(payloadStr).toString('base64') + '.' + signature;\n}\n\nfunction verifyToken(token: string): { valid: boolean; payload?: any } {\n  try {\n    const [payloadB64, signature] = token.split('.');\n    const payloadStr = Buffer.from(payloadB64, 'base64').toString('utf8');\n    const expectedSig = crypto.createHmac('sha256', JWT_SECRET).update(payloadStr).digest('hex');\n    if (signature !== expectedSig) return { valid: false };\n    const payload = JSON.parse(payloadStr);\n    if (payload.exp && payload.exp < Date.now()) return { valid: false };\n    return { valid: true, payload };\n  } catch {\n    return { valid: false };\n  }\n}\n\nfunction adminAuthMiddleware(req: Request, res: Response, next: NextFunction): void {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    res.status(401).json({ error: 'Authentication required' });\n    return;\n  }\n  \n  const token = authHeader.substring(7);\n  const result = verifyToken(token);\n  \n  if (!result.valid) {\n    res.status(401).json({ error: 'Invalid or expired token' });\n    return;\n  }\n  \n  next();\n}\n\nfunction customerAuthMiddleware(req: Request & { customer?: any }, res: Response, next: NextFunction): void {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    res.status(401).json({ error: 'Authentication required' });\n    return;\n  }\n  \n  const token = authHeader.substring(7);\n  const result = verifyToken(token);\n  \n  if (!result.valid || result.payload?.role !== 'customer') {\n    res.status(401).json({ error: 'Invalid or expired token' });\n    return;\n  }\n  \n  req.customer = result.payload;\n  next();\n}\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  \n  app.use('/api/admin', adminAuthMiddleware);\n  \n  const defaultProducts = [\n    {\n      id: \"firestick-hd\",\n      name: \"StreamStick Starter Kit\",\n      price: 13000,\n      description: \"Get fully loaded in just 10 minutes! Your Fire Stick arrives ready - simply plug in, enter your credentials (sent instantly after purchase), and follow our quick setup video.\",\n      imageUrl: \"\",\n      category: \"firestick\",\n      shadowProductId: \"prod_TYEEobMjXf5B3d\",\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    },\n    {\n      id: \"firestick-4k\",\n      name: \"StreamStick 4K Kit\",\n      price: 14000,\n      description: \"Best-selling Fire Stick - get fully loaded in 10 minutes! Plug in, enter your instant credentials, follow our setup video, and you're streaming in 4K with Dolby Vision.\",\n      imageUrl: \"\",\n      category: \"firestick\",\n      shadowProductId: \"prod_TYEEFruD8obUE7\",\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    },\n    {\n      id: \"firestick-4k-max\",\n      name: \"StreamStick Max Kit\",\n      price: 15000,\n      description: \"Ultimate 4K Max with Wi-Fi 6E - get fully loaded in just 10 minutes! Your device arrives ready with breathtaking 4K and Dolby Atmos sound.\",\n      imageUrl: \"\",\n      category: \"firestick\",\n      shadowProductId: \"prod_TYEEeLmZMqrUxh\",\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n  ];\n\n  app.get(\"/api/products\", async (req, res) => {\n    try {\n      const products = await storage.getRealProducts();\n      if (products && products.length > 0) {\n        res.json({ data: products });\n      } else {\n        res.json({ data: defaultProducts });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching products:\", error);\n      res.json({ data: defaultProducts });\n    }\n  });\n\n  app.get(\"/api/products/:id\", async (req, res) => {\n    try {\n      const product = await storage.getRealProduct(req.params.id);\n      if (!product) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n      res.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error fetching product:\", error);\n      res.status(500).json({ error: \"Failed to fetch product\" });\n    }\n  });\n\n  app.get(\"/api/stripe/config\", async (req, res) => {\n    try {\n      const publishableKey = await getStripePublishableKey();\n      res.json({ publishableKey });\n    } catch (error: any) {\n      console.error(\"Error getting Stripe config:\", error);\n      res.status(500).json({ error: \"Failed to get Stripe configuration\" });\n    }\n  });\n\n  app.post(\"/api/checkout\", async (req, res) => {\n    try {\n      const parseResult = checkoutRequestSchema.safeParse(req.body);\n      if (!parseResult.success) {\n        const validationError = fromZodError(parseResult.error);\n        return res.status(400).json({ error: validationError.message });\n      }\n      \n      const { items, customerEmail, customerName, isRenewal, existingUsername, countryPreference } = parseResult.data;\n\n      let existingCustomer = null;\n      \n      // Check for logged-in customer via token\n      const authHeader = req.headers.authorization;\n      if (authHeader && authHeader.startsWith('Bearer ')) {\n        const token = authHeader.substring(7);\n        const tokenResult = verifyToken(token);\n        if (tokenResult.valid && tokenResult.payload?.role === 'customer') {\n          existingCustomer = await storage.getCustomer(tokenResult.payload.sub);\n        }\n      }\n      \n      // If renewal with username, validate and use that customer\n      if (isRenewal && existingUsername) {\n        const renewalCustomer = await storage.getCustomerByUsername(existingUsername);\n        if (!renewalCustomer) {\n          return res.status(404).json({ \n            error: \"Username not found. Please check your username or select 'New Account' instead.\" \n          });\n        }\n        existingCustomer = renewalCustomer;\n      }\n      \n      // If still no customer found, check by email\n      if (!existingCustomer && customerEmail) {\n        existingCustomer = await storage.getCustomerByEmail(customerEmail);\n      }\n\n      const productsWithQuantity: Array<{ product: any; quantity: number }> = [];\n      \n      for (const item of items) {\n        const product = await storage.getRealProduct(item.productId);\n        if (!product) {\n          return res.status(404).json({ error: `Product not found: ${item.productId}` });\n        }\n        if (!product.shadowPriceId) {\n          return res.status(400).json({ error: `Product not configured for checkout: ${item.productId}` });\n        }\n        productsWithQuantity.push({ product, quantity: item.quantity });\n      }\n\n      const stripe = await getUncachableStripeClient();\n\n      const baseUrl = process.env.REPLIT_DOMAINS?.split(',')[0] \n        ? `https://${process.env.REPLIT_DOMAINS.split(',')[0]}`\n        : 'http://localhost:5000';\n\n      const lineItems = productsWithQuantity.map(({ product, quantity }) => ({\n        price: product.shadowPriceId,\n        quantity,\n      }));\n\n      const realProductIds = productsWithQuantity.map(p => p.product.id).join(',');\n      const realProductNames = productsWithQuantity.map(p => p.product.name).join(', ');\n      const shadowProductIds = productsWithQuantity.map(p => p.product.shadowProductId || '').join(',');\n\n      const hasPhysicalProduct = productsWithQuantity.some(({ product }) => {\n        const name = (product.name || '').toLowerCase();\n        const id = (product.id || '').toLowerCase();\n        return name.includes('fire') || name.includes('stick') || name.includes('firestick') ||\n               name.includes('onn') || name.includes('android') || name.includes('device') ||\n               id.includes('firestick') || id.includes('android-onn');\n      });\n\n      const sessionConfig: any = {\n        line_items: lineItems,\n        mode: 'payment',\n        success_url: `${baseUrl}/success?session_id={CHECKOUT_SESSION_ID}`,\n        cancel_url: `${baseUrl}/cancel`,\n        customer_email: customerEmail,\n        metadata: {\n          realProductIds,\n          realProductNames,\n          shadowProductIds,\n          isRenewal: isRenewal ? 'true' : 'false',\n          existingUsername: existingUsername || '',\n          existingCustomerId: existingCustomer?.id || '',\n          countryPreference: countryPreference || 'All Countries',\n        },\n      };\n\n      if (hasPhysicalProduct) {\n        sessionConfig.shipping_address_collection = {\n          allowed_countries: ['US', 'CA'],\n        };\n        sessionConfig.phone_number_collection = {\n          enabled: true,\n        };\n      }\n\n      const session = await stripe.checkout.sessions.create(sessionConfig);\n\n      const totalAmount = productsWithQuantity.reduce(\n        (sum, { product, quantity }) => sum + product.price * quantity, \n        0\n      );\n\n      const order = await storage.createOrder({\n        customerEmail,\n        customerName: customerName || null,\n        stripeCheckoutSessionId: session.id,\n        shadowProductId: shadowProductIds,\n        shadowPriceId: productsWithQuantity.map(p => p.product.shadowPriceId).join(','),\n        realProductId: realProductIds,\n        realProductName: realProductNames,\n        amount: totalAmount,\n        status: 'pending',\n        credentialsSent: false,\n        isRenewal: isRenewal || false,\n        existingUsername: existingUsername || null,\n        customerId: existingCustomer?.id || null,\n        countryPreference: countryPreference || null,\n      });\n\n      res.json({ \n        sessionId: session.id,\n        url: session.url,\n        orderId: order.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error creating checkout session:\", error);\n      res.status(500).json({ error: \"Failed to create checkout session\" });\n    }\n  });\n\n  // Track abandoned cart when user enters email but doesn't complete checkout\n  app.post(\"/api/track-cart\", async (req, res) => {\n    try {\n      const { email, customerName, cartItems, totalAmount } = req.body;\n      \n      if (!email || !cartItems || !totalAmount) {\n        return res.status(400).json({ error: \"Email, cart items, and total amount are required\" });\n      }\n\n      // Check if we already have an unconverted cart for this email\n      const existingCart = await storage.getAbandonedCartByEmail(email);\n      if (existingCart) {\n        // Update existing cart with new items (just return success)\n        return res.json({ success: true, message: \"Cart updated\" });\n      }\n\n      // Create new abandoned cart record\n      await storage.createAbandonedCart({\n        email,\n        customerName: customerName || null,\n        cartItems: JSON.stringify(cartItems),\n        totalAmount,\n      });\n\n      res.json({ success: true, message: \"Cart tracked\" });\n    } catch (error: any) {\n      console.error(\"Error tracking cart:\", error);\n      res.status(500).json({ error: \"Failed to track cart\" });\n    }\n  });\n\n  // Admin endpoint to send recovery emails for abandoned carts\n  app.post(\"/api/admin/send-recovery-emails\", async (req, res) => {\n    try {\n      const abandonedCarts = await storage.getAbandonedCartsToRecover();\n      let sent = 0;\n\n      for (const cart of abandonedCarts) {\n        try {\n          const { client, fromEmail } = await getUncachableResendClient();\n          const cartItemsList = JSON.parse(cart.cartItems);\n          \n          await client.emails.send({\n            from: fromEmail,\n            to: cart.email,\n            subject: \"You left something behind! Complete your StreamStickPro order\",\n            html: `\n              <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n                <h1 style=\"color: #ea580c;\">Don't miss out!</h1>\n                <p>Hi${cart.customerName ? ` ${cart.customerName}` : ''},</p>\n                <p>We noticed you started an order but didn't complete checkout. Your items are still waiting for you!</p>\n                \n                <div style=\"background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n                  <h3>Your Cart:</h3>\n                  <p>Total: $${(cart.totalAmount / 100).toFixed(2)}</p>\n                </div>\n                \n                <div style=\"text-align: center; margin: 30px 0;\">\n                  <a href=\"https://streamstickpro.com?section=shop\" \n                     style=\"background: linear-gradient(135deg, #ea580c, #dc2626); color: white; \n                            padding: 15px 30px; border-radius: 8px; text-decoration: none; \n                            font-weight: bold; display: inline-block;\">\n                    Complete Your Order\n                  </a>\n                </div>\n                \n                <p style=\"color: #666;\">Questions? Reply to this email or contact us at reloadedfiretvteam@gmail.com</p>\n                <p style=\"color: #666; font-size: 12px;\">If you've already completed your order, please ignore this email.</p>\n              </div>\n            `,\n          });\n          \n          await storage.markAbandonedCartEmailSent(cart.id);\n          sent++;\n        } catch (emailError) {\n          console.error(`Failed to send recovery email to ${cart.email}:`, emailError);\n        }\n      }\n\n      res.json({ success: true, sent, total: abandonedCarts.length });\n    } catch (error: any) {\n      console.error(\"Error sending recovery emails:\", error);\n      res.status(500).json({ error: \"Failed to send recovery emails\" });\n    }\n  });\n\n  app.get(\"/api/orders/:email\", async (req, res) => {\n    try {\n      const orders = await storage.getOrdersByEmail(req.params.email);\n      res.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching orders:\", error);\n      res.status(500).json({ error: \"Failed to fetch orders\" });\n    }\n  });\n\n  app.get(\"/api/order/:id\", async (req, res) => {\n    try {\n      const order = await storage.getOrder(req.params.id);\n      if (!order) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n      res.json({ data: order });\n    } catch (error: any) {\n      console.error(\"Error fetching order:\", error);\n      res.status(500).json({ error: \"Failed to fetch order\" });\n    }\n  });\n\n  app.get(\"/api/checkout/session/:sessionId\", async (req, res) => {\n    try {\n      const order = await storage.getOrderByCheckoutSession(req.params.sessionId);\n      if (!order) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n      \n      const stripe = await getUncachableStripeClient();\n      const session = await stripe.checkout.sessions.retrieve(req.params.sessionId);\n      \n      res.json({ \n        order,\n        paymentStatus: session.payment_status,\n        customerEmail: session.customer_details?.email,\n      });\n    } catch (error: any) {\n      console.error(\"Error fetching checkout session:\", error);\n      res.status(500).json({ error: \"Failed to fetch checkout session\" });\n    }\n  });\n\n  app.get(\"/api/admin/products\", async (req, res) => {\n    try {\n      const products = await storage.getRealProducts();\n      res.json({ data: products });\n    } catch (error: any) {\n      console.error(\"Error fetching admin products:\", error);\n      res.status(500).json({ error: \"Failed to fetch products\" });\n    }\n  });\n\n  app.post(\"/api/admin/products\", async (req, res) => {\n    try {\n      const { id, name, description, price, imageUrl, category, shadowProductId, shadowPriceId } = req.body;\n\n      if (!id || !name || !price) {\n        return res.status(400).json({ error: \"ID, name, and price are required\" });\n      }\n\n      const product = await storage.createRealProduct({\n        id,\n        name,\n        description: description || null,\n        price,\n        imageUrl: imageUrl || null,\n        category: category || null,\n        shadowProductId: shadowProductId || null,\n        shadowPriceId: shadowPriceId || null,\n      });\n\n      res.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error creating product:\", error);\n      res.status(500).json({ error: \"Failed to create product\" });\n    }\n  });\n\n  app.put(\"/api/admin/products/:id\", async (req, res) => {\n    try {\n      const { name, description, price, imageUrl, category, shadowProductId, shadowPriceId } = req.body;\n\n      const existingProduct = await storage.getRealProduct(req.params.id);\n      if (!existingProduct) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const product = await storage.updateRealProduct(req.params.id, {\n        name,\n        description,\n        price,\n        imageUrl,\n        category,\n        shadowProductId,\n        shadowPriceId,\n      });\n\n      res.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error updating product:\", error);\n      res.status(500).json({ error: \"Failed to update product\" });\n    }\n  });\n\n  app.delete(\"/api/admin/products/:id\", async (req, res) => {\n    try {\n      const existingProduct = await storage.getRealProduct(req.params.id);\n      if (!existingProduct) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const deleted = await storage.deleteRealProduct(req.params.id);\n      \n      if (deleted) {\n        res.json({ success: true });\n      } else {\n        res.status(500).json({ error: \"Failed to delete product\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting product:\", error);\n      res.status(500).json({ error: \"Failed to delete product\" });\n    }\n  });\n\n  app.post(\"/api/admin/products/:id/map-shadow\", async (req, res) => {\n    try {\n      const { shadowProductId, shadowPriceId } = req.body;\n\n      if (!shadowProductId || !shadowPriceId) {\n        return res.status(400).json({ error: \"Shadow product ID and price ID are required\" });\n      }\n\n      const existingProduct = await storage.getRealProduct(req.params.id);\n      if (!existingProduct) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const product = await storage.updateRealProduct(req.params.id, {\n        shadowProductId,\n        shadowPriceId,\n      });\n\n      res.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error mapping shadow product:\", error);\n      res.status(500).json({ error: \"Failed to map shadow product\" });\n    }\n  });\n\n  app.post(\"/api/admin/products/:id/sync-stripe-price\", async (req, res) => {\n    try {\n      const { price, shadowName } = req.body;\n\n      if (!price || price <= 0) {\n        return res.status(400).json({ error: \"Valid price is required\" });\n      }\n\n      const existingProduct = await storage.getRealProduct(req.params.id);\n      if (!existingProduct) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const stripe = await getUncachableStripeClient();\n\n      let shadowProductId = existingProduct.shadowProductId;\n      \n      if (!shadowProductId) {\n        const productName = shadowName || `Service ${existingProduct.id}`;\n        const stripeProduct = await stripe.products.create({\n          name: productName,\n          description: `Shadow product for ${existingProduct.name}`,\n          metadata: {\n            realProductId: existingProduct.id,\n          },\n        });\n        shadowProductId = stripeProduct.id;\n      }\n\n      const priceInCents = Math.round(price);\n\n      const stripePrice = await stripe.prices.create({\n        product: shadowProductId,\n        unit_amount: priceInCents,\n        currency: 'usd',\n        metadata: {\n          realProductId: existingProduct.id,\n        },\n      });\n\n      const updatedProduct = await storage.updateRealProduct(req.params.id, {\n        price: priceInCents,\n        shadowProductId,\n        shadowPriceId: stripePrice.id,\n      });\n\n      res.json({ \n        data: updatedProduct,\n        stripeProductId: shadowProductId,\n        stripePriceId: stripePrice.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error syncing Stripe price:\", error);\n      res.status(500).json({ error: `Failed to sync Stripe price: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/products/create-with-stripe\", async (req, res) => {\n    try {\n      const { id, name, description, price, imageUrl, category, shadowName } = req.body;\n\n      if (!id || !name || !price) {\n        return res.status(400).json({ error: \"ID, name, and price are required\" });\n      }\n\n      const stripe = await getUncachableStripeClient();\n\n      const productName = shadowName || `Service ${id}`;\n      const stripeProduct = await stripe.products.create({\n        name: productName,\n        description: `Shadow product`,\n        metadata: {\n          realProductId: id,\n        },\n      });\n\n      const priceInCents = Math.round(price);\n\n      const stripePrice = await stripe.prices.create({\n        product: stripeProduct.id,\n        unit_amount: priceInCents,\n        currency: 'usd',\n        metadata: {\n          realProductId: id,\n        },\n      });\n\n      const product = await storage.createRealProduct({\n        id,\n        name,\n        description: description || null,\n        price: priceInCents,\n        imageUrl: imageUrl || null,\n        category: category || null,\n        shadowProductId: stripeProduct.id,\n        shadowPriceId: stripePrice.id,\n      });\n\n      res.json({ \n        data: product,\n        stripeProductId: stripeProduct.id,\n        stripePriceId: stripePrice.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error creating product with Stripe:\", error);\n      res.status(500).json({ error: `Failed to create product: ${error.message}` });\n    }\n  });\n\n  app.get(\"/api/admin/orders\", async (req, res) => {\n    try {\n      const orders = await storage.getAllOrders();\n      res.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching orders:\", error);\n      res.status(500).json({ error: \"Failed to fetch orders\" });\n    }\n  });\n\n  app.get(\"/api/admin/orders/stats\", async (req, res) => {\n    try {\n      const allOrders = await storage.getAllOrders();\n      \n      const now = new Date();\n      const todayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      const weekStart = new Date(todayStart);\n      weekStart.setDate(weekStart.getDate() - 7);\n      const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\n      \n      const ordersToday = allOrders.filter(o => o.createdAt && new Date(o.createdAt) >= todayStart);\n      const ordersThisWeek = allOrders.filter(o => o.createdAt && new Date(o.createdAt) >= weekStart);\n      const ordersThisMonth = allOrders.filter(o => o.createdAt && new Date(o.createdAt) >= monthStart);\n      \n      const paidOrders = allOrders.filter(o => o.status === 'paid');\n      const paidOrdersToday = ordersToday.filter(o => o.status === 'paid');\n      const paidOrdersThisWeek = ordersThisWeek.filter(o => o.status === 'paid');\n      const paidOrdersThisMonth = ordersThisMonth.filter(o => o.status === 'paid');\n      \n      const totalRevenue = paidOrders.reduce((sum, o) => sum + (o.amount || 0), 0);\n      const revenueToday = paidOrdersToday.reduce((sum, o) => sum + (o.amount || 0), 0);\n      const revenueThisWeek = paidOrdersThisWeek.reduce((sum, o) => sum + (o.amount || 0), 0);\n      const revenueThisMonth = paidOrdersThisMonth.reduce((sum, o) => sum + (o.amount || 0), 0);\n      \n      const pendingFulfillments = allOrders.filter(o => \n        o.status === 'paid' && \n        o.fulfillmentStatus === 'pending' &&\n        (o.realProductName?.toLowerCase().includes('fire') || o.realProductName?.toLowerCase().includes('stick'))\n      ).length;\n      \n      const recentOrders = allOrders.slice(0, 10).map(o => ({\n        id: o.id,\n        customerEmail: o.customerEmail,\n        customerName: o.customerName,\n        productName: o.realProductName,\n        amount: o.amount,\n        status: o.status,\n        fulfillmentStatus: o.fulfillmentStatus,\n        createdAt: o.createdAt,\n      }));\n      \n      res.json({\n        data: {\n          totalOrders: allOrders.length,\n          ordersToday: ordersToday.length,\n          ordersThisWeek: ordersThisWeek.length,\n          ordersThisMonth: ordersThisMonth.length,\n          totalRevenue,\n          revenueToday,\n          revenueThisWeek,\n          revenueThisMonth,\n          pendingFulfillments,\n          recentOrders,\n        }\n      });\n    } catch (error: any) {\n      console.error(\"Error fetching order stats:\", error);\n      res.status(500).json({ error: \"Failed to fetch order statistics\" });\n    }\n  });\n\n  app.put(\"/api/admin/orders/:id\", async (req, res) => {\n    try {\n      const { status, credentialsSent } = req.body;\n\n      const existingOrder = await storage.getOrder(req.params.id);\n      if (!existingOrder) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n\n      const order = await storage.updateOrder(req.params.id, {\n        status,\n        credentialsSent,\n      });\n\n      res.json({ data: order });\n    } catch (error: any) {\n      console.error(\"Error updating order:\", error);\n      res.status(500).json({ error: \"Failed to update order\" });\n    }\n  });\n\n  app.post(\"/api/admin/orders/:id/resend-credentials\", async (req, res) => {\n    try {\n      const order = await storage.getOrder(req.params.id);\n      if (!order) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n\n      const { EmailService } = await import('./emailService');\n      await EmailService.sendCredentialsEmail(order);\n\n      res.json({ success: true, message: \"Credentials email sent\" });\n    } catch (error: any) {\n      console.error(\"Error resending credentials:\", error);\n      res.status(500).json({ error: \"Failed to resend credentials\" });\n    }\n  });\n\n  app.get(\"/api/admin/fulfillment\", async (req, res) => {\n    try {\n      const orders = await storage.getFireStickOrdersForFulfillment();\n      res.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching fulfillment orders:\", error);\n      res.status(500).json({ error: \"Failed to fetch fulfillment orders\" });\n    }\n  });\n\n  app.post(\"/api/admin/seed-blog\", async (req, res) => {\n    try {\n      const { seedBlogPosts } = await import('./seedBlog');\n      const result = await seedBlogPosts();\n      res.json({ success: true, message: `Seeded ${result.seededCount} blog posts` });\n    } catch (error: any) {\n      console.error(\"Error seeding blog posts:\", error);\n      res.status(500).json({ error: \"Failed to seed blog posts\" });\n    }\n  });\n\n  app.post(\"/api/admin/seed-blog-elite\", async (req, res) => {\n    try {\n      const { seedMassiveBlog } = await import('./seedBlogEliteSEO');\n      const result = await seedMassiveBlog();\n      res.json({ success: true, message: `Seeded ${result.successCount} blog posts, ${result.errorCount} errors` });\n    } catch (error: any) {\n      console.error(\"Error seeding elite blog posts:\", error);\n      res.status(500).json({ error: \"Failed to seed blog posts\" });\n    }\n  });\n\n  app.put(\"/api/admin/fulfillment/:id\", async (req, res) => {\n    try {\n      const { fulfillmentStatus, amazonOrderId } = req.body;\n\n      const existingOrder = await storage.getOrder(req.params.id);\n      if (!existingOrder) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n\n      const updates: any = {};\n      if (fulfillmentStatus !== undefined) {\n        updates.fulfillmentStatus = fulfillmentStatus;\n      }\n      if (amazonOrderId !== undefined) {\n        updates.amazonOrderId = amazonOrderId;\n      }\n\n      const order = await storage.updateOrder(req.params.id, updates);\n      res.json({ data: order });\n    } catch (error: any) {\n      console.error(\"Error updating fulfillment:\", error);\n      res.status(500).json({ error: \"Failed to update fulfillment\" });\n    }\n  });\n\n  app.post(\"/api/free-trial\", async (req, res) => {\n    try {\n      const { email, name } = req.body;\n\n      if (!email || !name) {\n        return res.status(400).json({ error: \"Email and name are required\" });\n      }\n\n      if (!email.includes(\"@\")) {\n        return res.status(400).json({ error: \"Please enter a valid email address\" });\n      }\n\n      const { getUncachableResendClient } = await import('./resendClient');\n      const { client, fromEmail } = await getUncachableResendClient();\n\n      const letters = 'abcdefghkmnpqrstuvwxyz';\n      const numbers = '23456789';\n      const alphanumeric = letters + letters.toUpperCase() + numbers;\n      const timestamp = Date.now().toString(36);\n      const seed = email.replace(/[^a-zA-Z0-9]/g, '') + timestamp;\n      \n      const generateChar = (index: number, charset: string): string => {\n        const charCode = seed.charCodeAt(index % seed.length) || 65;\n        return charset[(charCode + index) % charset.length];\n      };\n      \n      const nameClean = name.replace(/[^a-zA-Z]/g, '').toLowerCase().substring(0, 3);\n      let username = nameClean.length >= 2 ? nameClean : 'usr';\n      for (let i = 0; username.length < 8; i++) {\n        username += generateChar(i, numbers + letters);\n      }\n      username = username.substring(0, 10);\n      \n      let password = '';\n      password += generateChar(0, letters.toUpperCase());\n      password += generateChar(1, letters);\n      password += generateChar(2, numbers);\n      password += generateChar(3, letters.toUpperCase());\n      for (let i = 4; password.length < 10; i++) {\n        password += generateChar(i + 5, alphanumeric);\n      }\n      \n      const trialCredentials = {\n        username: username,\n        password: password.substring(0, 10),\n      };\n\n      const IPTV_PORTAL_URL = 'http://ky-tv.cc';\n      const SETUP_VIDEO_URL = 'https://youtu.be/DYSOp6mUzDU';\n\n      await client.emails.send({\n        from: fromEmail,\n        to: email,\n        subject: 'Your FREE 36-Hour IPTV Trial Credentials - StreamStickPro',\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h1 style=\"color: #9333ea;\"> Your Free Trial is Ready!</h1>\n            \n            <p>Hi ${name},</p>\n            \n            <p>Thank you for trying StreamStickPro! Here are your <strong>36-hour free trial</strong> credentials:</p>\n            \n            <div style=\"background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%); padding: 25px; border-radius: 12px; margin: 20px 0; color: white;\">\n              <h2 style=\"margin-top: 0; color: white;\">Your Trial Credentials</h2>\n              <p style=\"font-size: 16px;\"><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\" style=\"color: #fef08a;\">${IPTV_PORTAL_URL}</a></p>\n              <p style=\"font-size: 18px;\"><strong>Username:</strong> ${trialCredentials.username}</p>\n              <p style=\"font-size: 18px;\"><strong>Password:</strong> ${trialCredentials.password}</p>\n            </div>\n            \n            <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h3 style=\"color: #7c3aed; margin-top: 0;\">Quick Setup Guide:</h3>\n              <ol style=\"color: #4c1d95;\">\n                <li>Download IPTV Smarters or TiviMate app on your device</li>\n                <li>Enter the portal URL: ${IPTV_PORTAL_URL}</li>\n                <li>Enter your username and password above</li>\n                <li>Enjoy 18,000+ live channels for FREE!</li>\n              </ol>\n              <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\" style=\"color: #7c3aed;\">${SETUP_VIDEO_URL}</a></p>\n            </div>\n            \n            <div style=\"background: #fef3c7; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #f59e0b;\">\n              <strong> Remember:</strong> Your trial expires in 36 hours. Upgrade anytime to keep streaming!\n            </div>\n            \n            <p>Love the service? <a href=\"https://streamstickpro.com\" style=\"color: #9333ea; font-weight: bold;\">Visit our shop</a> to get full access!</p>\n            \n            <p>Questions? Reply to this email or contact us at reloadedfiretvteam@gmail.com</p>\n            \n            <p>Happy Streaming! <br>StreamStickPro Team</p>\n          </div>\n        `,\n      });\n\n      await client.emails.send({\n        from: fromEmail,\n        to: 'reloadedfiretvteam@gmail.com',\n        subject: ` New Free Trial Signup - ${name}`,\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h1 style=\"color: #9333ea;\">New Free Trial Request</h1>\n            \n            <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h2 style=\"margin-top: 0; color: #7c3aed;\">Customer Details</h2>\n              <p><strong>Name:</strong> ${name}</p>\n              <p><strong>Email:</strong> ${email}</p>\n              <p><strong>Signed up:</strong> ${new Date().toLocaleString()}</p>\n            </div>\n            \n            <div style=\"background: #e0e7ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h2 style=\"margin-top: 0; color: #4338ca;\">Trial Credentials Sent</h2>\n              <p><strong>Username:</strong> ${trialCredentials.username}</p>\n              <p><strong>Password:</strong> ${trialCredentials.password}</p>\n              <p><strong>Expires:</strong> 36 hours from signup</p>\n            </div>\n            \n            <p>This customer may convert to a paying customer. Consider following up after their trial expires!</p>\n          </div>\n        `,\n      });\n\n      console.log(`Free trial credentials sent to ${email}, owner notified`);\n\n      res.json({ success: true, message: \"Trial credentials sent\" });\n    } catch (error: any) {\n      console.error(\"Error processing free trial:\", error);\n      res.status(500).json({ error: \"Failed to process trial request. Please try again.\" });\n    }\n  });\n\n  app.post(\"/api/track\", async (req, res) => {\n    try {\n      const { sessionId, pageUrl, referrer, userAgent } = req.body;\n\n      if (!sessionId || !pageUrl) {\n        return res.status(400).json({ error: \"Session ID and page URL are required\" });\n      }\n\n      const ipAddress = req.headers['x-forwarded-for']?.toString().split(',')[0] || \n                        req.headers['cf-connecting-ip']?.toString() ||\n                        req.socket.remoteAddress || \n                        'unknown';\n\n      const { getGeoLocation } = await import('./geoLocationService');\n      const geoData = await getGeoLocation(ipAddress);\n\n      await storage.trackVisitor({\n        sessionId,\n        pageUrl,\n        referrer: referrer || null,\n        userAgent: userAgent || req.headers['user-agent'] || null,\n        ipAddress,\n        country: geoData.country,\n        countryCode: geoData.countryCode,\n        region: geoData.region,\n        regionCode: geoData.regionCode,\n        city: geoData.city,\n        latitude: geoData.latitude,\n        longitude: geoData.longitude,\n        timezone: geoData.timezone,\n        isp: geoData.isp,\n        isProxy: geoData.isProxy,\n      });\n\n      res.json({ success: true });\n    } catch (error: any) {\n      console.error(\"Error tracking visitor:\", error);\n      res.status(500).json({ error: \"Failed to track visitor\" });\n    }\n  });\n\n  app.get(\"/api/admin/visitors/stats\", async (req, res) => {\n    try {\n      const stats = await storage.getVisitorStats();\n      const { getGeoStats } = await import('./geoLocationService');\n      const geoStats = getGeoStats(stats.recentVisitors);\n      res.json({ data: { ...stats, ...geoStats } });\n    } catch (error: any) {\n      console.error(\"Error fetching visitor stats:\", error);\n      res.status(500).json({ error: \"Failed to fetch visitor stats\" });\n    }\n  });\n\n  app.get(\"/api/admin/storage/list\", async (req, res) => {\n    try {\n      const supabaseUrl = process.env.VITE_SUPABASE_URL;\n      const serviceKey = process.env.SUPABASE_SERVICE_KEY;\n      \n      if (!supabaseUrl || !serviceKey) {\n        return res.status(500).json({ error: \"Supabase credentials not configured\" });\n      }\n\n      const { createClient } = await import('@supabase/supabase-js');\n      const supabase = createClient(supabaseUrl, serviceKey);\n\n      const { data: buckets, error: bucketsError } = await supabase.storage.listBuckets();\n      \n      if (bucketsError) {\n        return res.status(500).json({ error: `Failed to list buckets: ${bucketsError.message}` });\n      }\n\n      const result: any = { buckets: [] };\n\n      for (const bucket of buckets || []) {\n        const { data: files, error: filesError } = await supabase.storage\n          .from(bucket.name)\n          .list('', { limit: 100 });\n\n        const bucketData: any = {\n          name: bucket.name,\n          public: bucket.public,\n          files: [],\n          folders: []\n        };\n\n        if (!filesError && files) {\n          for (const item of files) {\n            if (item.id) {\n              bucketData.files.push({\n                name: item.name,\n                url: `${supabaseUrl}/storage/v1/object/public/${bucket.name}/${item.name}`\n              });\n            } else {\n              const { data: subFiles } = await supabase.storage\n                .from(bucket.name)\n                .list(item.name, { limit: 100 });\n              \n              bucketData.folders.push({\n                name: item.name,\n                files: (subFiles || []).filter(f => f.id).map(f => ({\n                  name: f.name,\n                  url: `${supabaseUrl}/storage/v1/object/public/${bucket.name}/${item.name}/${f.name}`\n                }))\n              });\n            }\n          }\n        }\n\n        result.buckets.push(bucketData);\n      }\n\n      res.json(result);\n    } catch (error: any) {\n      console.error(\"Error listing storage:\", error);\n      res.status(500).json({ error: \"Failed to list storage\" });\n    }\n  });\n\n  app.get(\"/api/page-edits/:pageId\", async (req, res) => {\n    try {\n      const edits = await storage.getPageEdits(req.params.pageId);\n      res.json({ data: edits });\n    } catch (error: any) {\n      console.error(\"Error fetching page edits:\", error);\n      res.status(500).json({ error: \"Failed to fetch page edits\" });\n    }\n  });\n\n  app.get(\"/api/admin/page-edits\", async (req, res) => {\n    try {\n      const edits = await storage.getAllPageEdits();\n      res.json({ data: edits });\n    } catch (error: any) {\n      console.error(\"Error fetching all page edits:\", error);\n      res.status(500).json({ error: \"Failed to fetch page edits\" });\n    }\n  });\n\n  app.post(\"/api/admin/page-edits\", async (req, res) => {\n    try {\n      const { pageId, sectionId, elementId, elementType, content, imageUrl, isActive } = req.body;\n\n      if (!pageId || !sectionId || !elementId || !elementType) {\n        return res.status(400).json({ error: \"Page ID, section ID, element ID, and element type are required\" });\n      }\n\n      const edit = await storage.upsertPageEdit({\n        pageId,\n        sectionId,\n        elementId,\n        elementType,\n        content: content || null,\n        imageUrl: imageUrl || null,\n        isActive: isActive !== undefined ? isActive : true,\n      });\n\n      res.json({ data: edit });\n    } catch (error: any) {\n      console.error(\"Error saving page edit:\", error);\n      res.status(500).json({ error: \"Failed to save page edit\" });\n    }\n  });\n\n  app.delete(\"/api/admin/page-edits/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deletePageEdit(req.params.id);\n      \n      if (deleted) {\n        res.json({ success: true });\n      } else {\n        res.status(404).json({ error: \"Page edit not found\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting page edit:\", error);\n      res.status(500).json({ error: \"Failed to delete page edit\" });\n    }\n  });\n\n  app.get(\"/api/admin/customers\", async (req, res) => {\n    try {\n      const { search } = req.query;\n      let customersList;\n      \n      if (search && typeof search === 'string' && search.trim()) {\n        customersList = await storage.searchCustomers(search.trim());\n      } else {\n        customersList = await storage.getAllCustomers();\n      }\n      \n      res.json({ data: customersList });\n    } catch (error: any) {\n      console.error(\"Error fetching customers:\", error);\n      res.status(500).json({ error: \"Failed to fetch customers\" });\n    }\n  });\n\n  app.get(\"/api/admin/customers/:id\", async (req, res) => {\n    try {\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n      res.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error fetching customer:\", error);\n      res.status(500).json({ error: \"Failed to fetch customer\" });\n    }\n  });\n\n  app.get(\"/api/admin/customers/:id/orders\", async (req, res) => {\n    try {\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n      \n      const customerOrders = await storage.getCustomerOrders(req.params.id);\n      res.json({ data: customerOrders });\n    } catch (error: any) {\n      console.error(\"Error fetching customer orders:\", error);\n      res.status(500).json({ error: \"Failed to fetch customer orders\" });\n    }\n  });\n\n  app.post(\"/api/admin/customers\", async (req, res) => {\n    try {\n      const parseResult = createCustomerSchema.safeParse(req.body);\n      if (!parseResult.success) {\n        const validationError = fromZodError(parseResult.error);\n        return res.status(400).json({ error: validationError.message });\n      }\n\n      const existingByUsername = await storage.getCustomerByUsername(parseResult.data.username);\n      if (existingByUsername) {\n        return res.status(409).json({ error: \"A customer with this username already exists\" });\n      }\n\n      const customer = await storage.createCustomer(parseResult.data);\n      res.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error creating customer:\", error);\n      res.status(500).json({ error: \"Failed to create customer\" });\n    }\n  });\n\n  app.put(\"/api/admin/customers/:id\", async (req, res) => {\n    try {\n      const parseResult = updateCustomerSchema.safeParse(req.body);\n      if (!parseResult.success) {\n        const validationError = fromZodError(parseResult.error);\n        return res.status(400).json({ error: validationError.message });\n      }\n\n      const existingCustomer = await storage.getCustomer(req.params.id);\n      if (!existingCustomer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n\n      if (parseResult.data.username && parseResult.data.username !== existingCustomer.username) {\n        const conflictingCustomer = await storage.getCustomerByUsername(parseResult.data.username);\n        if (conflictingCustomer) {\n          return res.status(409).json({ error: \"A customer with this username already exists\" });\n        }\n      }\n\n      const customer = await storage.updateCustomer(req.params.id, parseResult.data);\n      res.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error updating customer:\", error);\n      res.status(500).json({ error: \"Failed to update customer\" });\n    }\n  });\n\n  app.delete(\"/api/admin/customers/:id\", async (req, res) => {\n    try {\n      const existingCustomer = await storage.getCustomer(req.params.id);\n      if (!existingCustomer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n\n      const deleted = await storage.deleteCustomer(req.params.id);\n      \n      if (deleted) {\n        res.json({ success: true });\n      } else {\n        res.status(500).json({ error: \"Failed to delete customer\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting customer:\", error);\n      res.status(500).json({ error: \"Failed to delete customer\" });\n    }\n  });\n\n  app.get(\"/api/customer/lookup/:username\", async (req, res) => {\n    try {\n      const customer = await storage.getCustomerByUsername(req.params.username);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\", exists: false });\n      }\n      \n      res.json({ \n        exists: true,\n        data: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n          status: customer.status,\n          totalOrders: customer.totalOrders,\n        }\n      });\n    } catch (error: any) {\n      console.error(\"Error looking up customer:\", error);\n      res.status(500).json({ error: \"Failed to lookup customer\" });\n    }\n  });\n\n  app.get(\"/api/admin/iptv-customers\", async (req, res) => {\n    try {\n      const iptvOrders = await storage.getIPTVOrders();\n      res.json({ data: iptvOrders });\n    } catch (error: any) {\n      console.error(\"Error fetching IPTV orders:\", error);\n      res.status(500).json({ error: \"Failed to fetch IPTV orders\" });\n    }\n  });\n\n  // ===== BLOG API ROUTES =====\n  \n  // Public blog routes\n  app.get(\"/api/blog/posts\", async (req, res) => {\n    try {\n      const posts = await storage.getBlogPostsPublished();\n      res.json({ data: posts });\n    } catch (error: any) {\n      console.error(\"Error fetching blog posts:\", error);\n      res.status(500).json({ error: \"Failed to fetch blog posts\" });\n    }\n  });\n\n  app.get(\"/api/blog/posts/featured\", async (req, res) => {\n    try {\n      const posts = await storage.getFeaturedBlogPosts();\n      res.json({ data: posts });\n    } catch (error: any) {\n      console.error(\"Error fetching featured blog posts:\", error);\n      res.status(500).json({ error: \"Failed to fetch featured blog posts\" });\n    }\n  });\n\n  app.get(\"/api/blog/search\", async (req, res) => {\n    try {\n      const query = req.query.q as string;\n      if (!query || query.trim().length === 0) {\n        return res.status(400).json({ error: \"Search query is required\" });\n      }\n      const posts = await storage.searchBlogPosts(query);\n      res.json({ data: posts });\n    } catch (error: any) {\n      console.error(\"Error searching blog posts:\", error);\n      res.status(500).json({ error: \"Failed to search blog posts\" });\n    }\n  });\n\n  app.get(\"/api/blog/:slug\", async (req, res) => {\n    try {\n      const post = await storage.getBlogPostBySlug(req.params.slug);\n      if (!post) {\n        return res.status(404).json({ error: \"Blog post not found\" });\n      }\n      res.json({ data: post });\n    } catch (error: any) {\n      console.error(\"Error fetching blog post:\", error);\n      res.status(500).json({ error: \"Failed to fetch blog post\" });\n    }\n  });\n\n  // Admin blog routes\n  app.get(\"/api/admin/blog/posts\", async (req, res) => {\n    try {\n      const posts = await storage.getAllBlogPosts();\n      res.json({ data: posts });\n    } catch (error: any) {\n      console.error(\"Error fetching admin blog posts:\", error);\n      res.status(500).json({ error: \"Failed to fetch blog posts\" });\n    }\n  });\n\n  app.post(\"/api/admin/blog/posts\", async (req, res) => {\n    try {\n      const { title, slug, excerpt, content, category, imageUrl, metaTitle, metaDescription, keywords, featured, published, linkedProductIds } = req.body;\n\n      if (!title || !slug || !excerpt || !content || !category) {\n        return res.status(400).json({ error: \"Title, slug, excerpt, content, and category are required\" });\n      }\n\n      const seoResult = analyzeSeo({\n        title,\n        content,\n        excerpt,\n        metaTitle,\n        metaDescription,\n        keywords,\n      });\n\n      const post = await storage.createBlogPost({\n        title,\n        slug,\n        excerpt,\n        content,\n        category,\n        imageUrl: imageUrl || null,\n        metaTitle: metaTitle || null,\n        metaDescription: metaDescription || null,\n        keywords: keywords || [],\n        readTime: seoResult.readTime,\n        featured: featured || false,\n        published: published || false,\n        publishedAt: published ? new Date() : null,\n        linkedProductIds: linkedProductIds || [],\n      });\n\n      const updatedPost = await storage.updateBlogPost(post.id, {\n        wordCount: seoResult.wordCount,\n        headingScore: seoResult.headingScore,\n        keywordDensityScore: seoResult.keywordDensityScore,\n        contentLengthScore: seoResult.contentLengthScore,\n        metaScore: seoResult.metaScore,\n        structureScore: seoResult.structureScore,\n        overallSeoScore: seoResult.overallSeoScore,\n        seoAnalysis: seoResult.seoAnalysis,\n      });\n\n      res.json({ data: updatedPost, seoAnalysis: seoResult });\n    } catch (error: any) {\n      console.error(\"Error creating blog post:\", error);\n      res.status(500).json({ error: \"Failed to create blog post\" });\n    }\n  });\n\n  app.get(\"/api/admin/blog/posts/:id\", async (req, res) => {\n    try {\n      const post = await storage.getBlogPost(req.params.id);\n      if (!post) {\n        return res.status(404).json({ error: \"Blog post not found\" });\n      }\n      res.json({ data: post });\n    } catch (error: any) {\n      console.error(\"Error fetching blog post:\", error);\n      res.status(500).json({ error: \"Failed to fetch blog post\" });\n    }\n  });\n\n  app.put(\"/api/admin/blog/posts/:id\", async (req, res) => {\n    try {\n      const existingPost = await storage.getBlogPost(req.params.id);\n      if (!existingPost) {\n        return res.status(404).json({ error: \"Blog post not found\" });\n      }\n\n      const { title, slug, excerpt, content, category, imageUrl, metaTitle, metaDescription, keywords, featured, published, linkedProductIds } = req.body;\n\n      const finalTitle = title ?? existingPost.title;\n      const finalContent = content ?? existingPost.content;\n      const finalExcerpt = excerpt ?? existingPost.excerpt;\n      const finalMetaTitle = metaTitle ?? existingPost.metaTitle;\n      const finalMetaDescription = metaDescription ?? existingPost.metaDescription;\n      const finalKeywords = keywords ?? existingPost.keywords;\n\n      const seoResult = analyzeSeo({\n        title: finalTitle,\n        content: finalContent,\n        excerpt: finalExcerpt,\n        metaTitle: finalMetaTitle,\n        metaDescription: finalMetaDescription,\n        keywords: finalKeywords,\n      });\n\n      const post = await storage.updateBlogPost(req.params.id, {\n        title,\n        slug,\n        excerpt,\n        content,\n        category,\n        imageUrl,\n        metaTitle,\n        metaDescription,\n        keywords,\n        readTime: seoResult.readTime,\n        featured,\n        published,\n        publishedAt: published && !existingPost.publishedAt ? new Date() : existingPost.publishedAt,\n        linkedProductIds,\n        wordCount: seoResult.wordCount,\n        headingScore: seoResult.headingScore,\n        keywordDensityScore: seoResult.keywordDensityScore,\n        contentLengthScore: seoResult.contentLengthScore,\n        metaScore: seoResult.metaScore,\n        structureScore: seoResult.structureScore,\n        overallSeoScore: seoResult.overallSeoScore,\n        seoAnalysis: seoResult.seoAnalysis,\n      });\n\n      res.json({ data: post, seoAnalysis: seoResult });\n    } catch (error: any) {\n      console.error(\"Error updating blog post:\", error);\n      res.status(500).json({ error: \"Failed to update blog post\" });\n    }\n  });\n\n  app.delete(\"/api/admin/blog/posts/:id\", async (req, res) => {\n    try {\n      const existingPost = await storage.getBlogPost(req.params.id);\n      if (!existingPost) {\n        return res.status(404).json({ error: \"Blog post not found\" });\n      }\n\n      const deleted = await storage.deleteBlogPost(req.params.id);\n\n      if (deleted) {\n        res.json({ success: true });\n      } else {\n        res.status(500).json({ error: \"Failed to delete blog post\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting blog post:\", error);\n      res.status(500).json({ error: \"Failed to delete blog post\" });\n    }\n  });\n\n  app.get(\"/api/admin/blog/posts/category/:category\", async (req, res) => {\n    try {\n      const posts = await storage.getBlogPostsByCategory(req.params.category);\n      res.json({ data: posts });\n    } catch (error: any) {\n      console.error(\"Error fetching posts by category:\", error);\n      res.status(500).json({ error: \"Failed to fetch posts by category\" });\n    }\n  });\n\n  app.post(\"/api/admin/blog/analyze-seo\", async (req, res) => {\n    try {\n      const { title, content, excerpt, metaTitle, metaDescription, keywords } = req.body;\n\n      if (!title || !content || !excerpt) {\n        return res.status(400).json({ error: \"Title, content, and excerpt are required for SEO analysis\" });\n      }\n\n      const seoResult = analyzeSeo({\n        title,\n        content,\n        excerpt,\n        metaTitle,\n        metaDescription,\n        keywords,\n      });\n\n      res.json({ data: seoResult });\n    } catch (error: any) {\n      console.error(\"Error analyzing SEO:\", error);\n      res.status(500).json({ error: \"Failed to analyze SEO\" });\n    }\n  });\n\n  // AI Content Generation Routes\n  app.post(\"/api/admin/blog/ai/outline\", async (req, res) => {\n    try {\n      const request: ContentGenerationRequest = req.body;\n      \n      if (!request.topic) {\n        return res.status(400).json({ error: \"Topic is required\" });\n      }\n\n      const outline = await generateContentOutline(request);\n      res.json({ data: outline });\n    } catch (error: any) {\n      console.error(\"Error generating outline:\", error);\n      res.status(500).json({ error: `Failed to generate outline: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/blog/ai/generate\", async (req, res) => {\n    try {\n      const request: ContentGenerationRequest = req.body;\n      \n      if (!request.topic) {\n        return res.status(400).json({ error: \"Topic is required\" });\n      }\n\n      const content = await generateFullContent(request);\n      res.json({ data: content });\n    } catch (error: any) {\n      console.error(\"Error generating content:\", error);\n      res.status(500).json({ error: `Failed to generate content: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/blog/ai/improve\", async (req, res) => {\n    try {\n      const { content, instructions } = req.body;\n      \n      if (!content || !instructions) {\n        return res.status(400).json({ error: \"Content and instructions are required\" });\n      }\n\n      const improved = await improveContent(content, instructions);\n      res.json({ data: improved });\n    } catch (error: any) {\n      console.error(\"Error improving content:\", error);\n      res.status(500).json({ error: `Failed to improve content: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/blog/ai/seo-suggestions\", async (req, res) => {\n    try {\n      const { title, content, keywords } = req.body;\n      \n      if (!title || !content) {\n        return res.status(400).json({ error: \"Title and content are required\" });\n      }\n\n      const suggestions = await generateSEOSuggestions(title, content, keywords || []);\n      res.json({ data: suggestions });\n    } catch (error: any) {\n      console.error(\"Error generating SEO suggestions:\", error);\n      res.status(500).json({ error: `Failed to generate suggestions: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/blog/ai/expand-section\", async (req, res) => {\n    try {\n      const { content, context, targetWords } = req.body;\n      \n      if (!content || !context) {\n        return res.status(400).json({ error: \"Content and context are required\" });\n      }\n\n      const expanded = await expandSection(content, context, targetWords || 300);\n      res.json({ data: { content: expanded } });\n    } catch (error: any) {\n      console.error(\"Error expanding section:\", error);\n      res.status(500).json({ error: `Failed to expand section: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/admin/blog/ai/generate-faq\", async (req, res) => {\n    try {\n      const { topic, content, count } = req.body;\n      \n      if (!topic || !content) {\n        return res.status(400).json({ error: \"Topic and content are required\" });\n      }\n\n      const faq = await generateFAQ(topic, content, count || 5);\n      res.json({ data: { faq } });\n    } catch (error: any) {\n      console.error(\"Error generating FAQ:\", error);\n      res.status(500).json({ error: `Failed to generate FAQ: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n      if (!username || !password) {\n        return res.status(400).json({ error: 'Username and password are required' });\n      }\n\n      const adminUsername = process.env.ADMIN_USERNAME || 'admin';\n      const adminPassword = process.env.ADMIN_PASSWORD || 'admin123';\n\n      if (username === adminUsername && password === adminPassword) {\n        const token = createToken(username);\n        return res.json({ success: true, token });\n      }\n\n      res.status(401).json({ error: 'Invalid username or password' });\n    } catch (error: any) {\n      console.error('Login error:', error);\n      res.status(500).json({ error: 'Login failed' });\n    }\n  });\n\n  app.post(\"/api/auth/verify\", async (req, res) => {\n    try {\n      const authHeader = req.headers.authorization;\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({ valid: false, error: 'No token provided' });\n      }\n\n      const token = authHeader.substring(7);\n      const result = verifyToken(token);\n      \n      if (result.valid) {\n        res.json({ valid: true, user: result.payload?.sub, role: result.payload?.role });\n      } else {\n        res.status(401).json({ valid: false, error: 'Invalid or expired token' });\n      }\n    } catch (error: any) {\n      console.error('Token verification error:', error);\n      res.status(500).json({ valid: false, error: 'Verification failed' });\n    }\n  });\n\n  app.post(\"/api/auth/logout\", async (req, res) => {\n    res.json({ success: true, message: 'Logged out successfully' });\n  });\n\n  // ===== CUSTOMER AUTH ROUTES =====\n  \n  app.post(\"/api/customer/register\", async (req, res) => {\n    try {\n      const { username, password, email, fullName } = req.body;\n      \n      if (!username || !password || !email) {\n        return res.status(400).json({ error: 'Username, password, and email are required' });\n      }\n\n      if (password.length < 6) {\n        return res.status(400).json({ error: 'Password must be at least 6 characters' });\n      }\n\n      const existingByUsername = await storage.getCustomerByUsername(username);\n      if (existingByUsername) {\n        return res.status(409).json({ error: 'Username already taken' });\n      }\n\n      const existingByEmail = await storage.getCustomerByEmail(email);\n      if (existingByEmail) {\n        return res.status(409).json({ error: 'Email already registered. Please login instead.' });\n      }\n\n      const hashedPassword = await hashCustomerPassword(password);\n\n      const customer = await storage.createCustomer({\n        username,\n        password: hashedPassword,\n        email,\n        fullName: fullName || null,\n      });\n\n      const token = createToken(customer.id, 'customer');\n\n      // Send admin notification for new registration\n      try {\n        const { getUncachableResendClient } = await import('./resendClient');\n        const { client, fromEmail } = await getUncachableResendClient();\n        const adminEmail = process.env.ADMIN_NOTIFICATION_EMAIL || 'reloadedfiretvteam@gmail.com';\n        \n        await client.emails.send({\n          from: fromEmail,\n          to: adminEmail,\n          subject: `New Customer Registration: ${username}`,\n          html: `\n            <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n              <h2 style=\"color: #10b981;\">New Customer Registered!</h2>\n              <div style=\"background: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n                <p><strong>Username:</strong> ${username}</p>\n                <p><strong>Email:</strong> ${email}</p>\n                <p><strong>Full Name:</strong> ${fullName || 'Not provided'}</p>\n                <p><strong>Registered:</strong> ${new Date().toLocaleString()}</p>\n              </div>\n              <p style=\"color: #666;\">This customer may place an order soon. Check your admin panel for updates.</p>\n            </div>\n          `,\n        });\n        console.log(`Admin notification sent for new customer: ${username}`);\n      } catch (emailError) {\n        console.error('Failed to send admin notification:', emailError);\n      }\n\n      res.json({ \n        success: true, \n        token,\n        customer: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n        }\n      });\n    } catch (error: any) {\n      console.error('Customer registration error:', error);\n      res.status(500).json({ error: 'Registration failed' });\n    }\n  });\n\n  app.post(\"/api/customer/login\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n      \n      if (!username || !password) {\n        return res.status(400).json({ error: 'Username and password are required' });\n      }\n\n      const customer = await storage.getCustomerByUsername(username);\n      if (!customer) {\n        return res.status(401).json({ error: 'Invalid username or password' });\n      }\n\n      if (customer.status !== 'active') {\n        return res.status(403).json({ error: 'Account is not active. Please contact support.' });\n      }\n\n      let isValidPassword = await verifyCustomerPassword(password, customer.password);\n      \n      if (!isValidPassword && password === customer.password) {\n        isValidPassword = true;\n        const hashedPassword = await hashCustomerPassword(password);\n        await storage.updateCustomer(customer.id, { password: hashedPassword });\n        console.log(`Migrated plain-text password to hashed for customer ${customer.id}`);\n      }\n      \n      if (!isValidPassword) {\n        return res.status(401).json({ error: 'Invalid username or password' });\n      }\n\n      const token = createToken(customer.id, 'customer');\n\n      res.json({ \n        success: true, \n        token,\n        customer: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n        }\n      });\n    } catch (error: any) {\n      console.error('Customer login error:', error);\n      res.status(500).json({ error: 'Login failed' });\n    }\n  });\n\n  app.get(\"/api/customer/me\", customerAuthMiddleware, async (req: Request & { customer?: any }, res) => {\n    try {\n      const customerId = req.customer?.sub;\n      if (!customerId) {\n        return res.status(401).json({ error: 'Not authenticated' });\n      }\n\n      const customer = await storage.getCustomer(customerId);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      res.json({ \n        data: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n          totalOrders: customer.totalOrders,\n          lastOrderAt: customer.lastOrderAt,\n          createdAt: customer.createdAt,\n        }\n      });\n    } catch (error: any) {\n      console.error('Error fetching customer profile:', error);\n      res.status(500).json({ error: 'Failed to fetch profile' });\n    }\n  });\n\n  app.get(\"/api/customer/orders\", customerAuthMiddleware, async (req: Request & { customer?: any }, res) => {\n    try {\n      const customerId = req.customer?.sub;\n      if (!customerId) {\n        return res.status(401).json({ error: 'Not authenticated' });\n      }\n\n      const customer = await storage.getCustomer(customerId);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      const customerOrders = await storage.getCustomerOrders(customerId);\n      \n      const ordersByEmail = await storage.getOrdersByEmail(customer.email);\n      \n      const allOrderIds = new Set<string>();\n      const allOrders: any[] = [];\n      \n      for (const order of customerOrders) {\n        if (!allOrderIds.has(order.id)) {\n          allOrderIds.add(order.id);\n          allOrders.push(order);\n        }\n      }\n      \n      for (const order of ordersByEmail) {\n        if (!allOrderIds.has(order.id)) {\n          allOrderIds.add(order.id);\n          allOrders.push(order);\n        }\n      }\n      \n      allOrders.sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      });\n\n      res.json({ data: allOrders });\n    } catch (error: any) {\n      console.error('Error fetching customer orders:', error);\n      res.status(500).json({ error: 'Failed to fetch orders' });\n    }\n  });\n\n  app.put(\"/api/customer/profile\", customerAuthMiddleware, async (req: Request & { customer?: any }, res) => {\n    try {\n      const customerId = req.customer?.sub;\n      if (!customerId) {\n        return res.status(401).json({ error: 'Not authenticated' });\n      }\n\n      const { fullName, email } = req.body;\n\n      const customer = await storage.getCustomer(customerId);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      if (email && email !== customer.email) {\n        const existingByEmail = await storage.getCustomerByEmail(email);\n        if (existingByEmail) {\n          return res.status(409).json({ error: 'Email already in use' });\n        }\n      }\n\n      const updated = await storage.updateCustomer(customerId, {\n        fullName: fullName !== undefined ? fullName : customer.fullName,\n        email: email !== undefined ? email : customer.email,\n      });\n\n      res.json({ \n        data: {\n          id: updated?.id,\n          username: updated?.username,\n          email: updated?.email,\n          fullName: updated?.fullName,\n        }\n      });\n    } catch (error: any) {\n      console.error('Error updating customer profile:', error);\n      res.status(500).json({ error: 'Failed to update profile' });\n    }\n  });\n\n  app.put(\"/api/customer/password\", customerAuthMiddleware, async (req: Request & { customer?: any }, res) => {\n    try {\n      const customerId = req.customer?.sub;\n      if (!customerId) {\n        return res.status(401).json({ error: 'Not authenticated' });\n      }\n\n      const { currentPassword, newPassword } = req.body;\n\n      if (!currentPassword || !newPassword) {\n        return res.status(400).json({ error: 'Current and new password are required' });\n      }\n\n      if (newPassword.length < 6) {\n        return res.status(400).json({ error: 'New password must be at least 6 characters' });\n      }\n\n      const customer = await storage.getCustomer(customerId);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      const isValidPassword = await verifyCustomerPassword(currentPassword, customer.password);\n      if (!isValidPassword) {\n        return res.status(401).json({ error: 'Current password is incorrect' });\n      }\n\n      const hashedPassword = await hashCustomerPassword(newPassword);\n      await storage.updateCustomer(customerId, { password: hashedPassword });\n\n      res.json({ success: true, message: 'Password updated successfully' });\n    } catch (error: any) {\n      console.error('Error updating password:', error);\n      res.status(500).json({ error: 'Failed to update password' });\n    }\n  });\n\n  // ===== PASSWORD RESET ROUTES =====\n\n  app.post(\"/api/customer/forgot-password\", async (req, res) => {\n    try {\n      const { email } = req.body;\n      \n      if (!email) {\n        return res.status(400).json({ error: 'Email is required' });\n      }\n\n      const customer = await storage.getCustomerByEmail(email);\n      \n      // Always return success to prevent email enumeration\n      if (!customer) {\n        return res.json({ success: true, message: 'If an account exists with this email, you will receive a password reset link.' });\n      }\n\n      // Generate secure token\n      const token = crypto.randomBytes(32).toString('hex');\n      const expiresAt = new Date(Date.now() + 60 * 60 * 1000); // 1 hour\n\n      // Clean up old tokens\n      await storage.deleteExpiredPasswordResetTokens();\n\n      // Create reset token\n      await storage.createPasswordResetToken({\n        customerId: customer.id,\n        token,\n        expiresAt,\n        used: false,\n      });\n\n      // Send reset email\n      const resetUrl = `https://streamstickpro.com/reset-password?token=${token}`;\n      \n      try {\n        const { getUncachableResendClient } = await import('./resendClient');\n        const { client, fromEmail } = await getUncachableResendClient();\n        \n        await client.emails.send({\n          from: fromEmail,\n          to: email,\n          subject: 'Reset Your StreamStickPro Password',\n          html: `\n            <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n              <h2 style=\"color: #f97316;\">Password Reset Request</h2>\n              <p>Hi ${customer.fullName || customer.username},</p>\n              <p>We received a request to reset your password. Click the button below to create a new password:</p>\n              <p style=\"margin: 30px 0;\">\n                <a href=\"${resetUrl}\" style=\"background-color: #f97316; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; display: inline-block;\">\n                  Reset Password\n                </a>\n              </p>\n              <p>This link will expire in 1 hour.</p>\n              <p>If you didn't request this, you can safely ignore this email.</p>\n              <p style=\"color: #666; font-size: 12px; margin-top: 30px;\">\n                StreamStickPro - Premium Streaming Solutions\n              </p>\n            </div>\n          `,\n        });\n        console.log(`Password reset email sent to ${email}`);\n      } catch (emailError) {\n        console.error('Failed to send password reset email:', emailError);\n      }\n\n      res.json({ success: true, message: 'If an account exists with this email, you will receive a password reset link.' });\n    } catch (error: any) {\n      console.error('Forgot password error:', error);\n      res.status(500).json({ error: 'Failed to process request' });\n    }\n  });\n\n  app.post(\"/api/customer/reset-password\", async (req, res) => {\n    try {\n      const { token, newPassword } = req.body;\n      \n      if (!token || !newPassword) {\n        return res.status(400).json({ error: 'Token and new password are required' });\n      }\n\n      if (newPassword.length < 6) {\n        return res.status(400).json({ error: 'Password must be at least 6 characters' });\n      }\n\n      const resetToken = await storage.getPasswordResetToken(token);\n      \n      if (!resetToken) {\n        return res.status(400).json({ error: 'Invalid or expired reset link. Please request a new one.' });\n      }\n\n      const customer = await storage.getCustomer(resetToken.customerId);\n      if (!customer) {\n        return res.status(404).json({ error: 'Account not found' });\n      }\n\n      // Update password\n      const hashedPassword = await hashCustomerPassword(newPassword);\n      await storage.updateCustomer(customer.id, { password: hashedPassword });\n\n      // Mark token as used\n      await storage.markPasswordResetTokenUsed(resetToken.id);\n\n      res.json({ success: true, message: 'Password has been reset successfully. You can now log in.' });\n    } catch (error: any) {\n      console.error('Reset password error:', error);\n      res.status(500).json({ error: 'Failed to reset password' });\n    }\n  });\n\n  app.get(\"/api/customer/verify-reset-token\", async (req, res) => {\n    try {\n      const token = req.query.token as string;\n      \n      if (!token) {\n        return res.status(400).json({ valid: false, error: 'Token is required' });\n      }\n\n      const resetToken = await storage.getPasswordResetToken(token);\n      \n      if (!resetToken) {\n        return res.status(400).json({ valid: false, error: 'Invalid or expired reset link' });\n      }\n\n      res.json({ valid: true });\n    } catch (error: any) {\n      console.error('Verify reset token error:', error);\n      res.status(500).json({ valid: false, error: 'Failed to verify token' });\n    }\n  });\n\n  // ===== ADMIN CUSTOMER MANAGEMENT ROUTES =====\n\n  app.get(\"/api/admin/customers\", async (req, res) => {\n    try {\n      const authHeader = req.headers.authorization;\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n      \n      const token = authHeader.substring(7);\n      const result = verifyToken(token);\n      if (!result.valid || result.payload?.role !== 'admin') {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n\n      const search = req.query.search as string;\n      let customers;\n      \n      if (search) {\n        customers = await storage.searchCustomers(search);\n      } else {\n        customers = await storage.getAllCustomers();\n      }\n\n      // Remove passwords from response\n      const sanitizedCustomers = customers.map(c => ({\n        id: c.id,\n        username: c.username,\n        email: c.email,\n        fullName: c.fullName,\n        phone: c.phone,\n        status: c.status,\n        notes: c.notes,\n        totalOrders: c.totalOrders,\n        lastOrderAt: c.lastOrderAt,\n        createdAt: c.createdAt,\n      }));\n\n      res.json({ data: sanitizedCustomers });\n    } catch (error: any) {\n      console.error('Error fetching customers:', error);\n      res.status(500).json({ error: 'Failed to fetch customers' });\n    }\n  });\n\n  app.get(\"/api/admin/customers/:id\", async (req, res) => {\n    try {\n      const authHeader = req.headers.authorization;\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n      \n      const token = authHeader.substring(7);\n      const result = verifyToken(token);\n      if (!result.valid || result.payload?.role !== 'admin') {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      // Get customer's orders\n      const customerOrders = await storage.getCustomerOrders(customer.id);\n      const ordersByEmail = await storage.getOrdersByEmail(customer.email);\n      \n      // Merge and deduplicate orders\n      const allOrderIds = new Set<string>();\n      const allOrders: any[] = [];\n      \n      for (const order of [...customerOrders, ...ordersByEmail]) {\n        if (!allOrderIds.has(order.id)) {\n          allOrderIds.add(order.id);\n          allOrders.push(order);\n        }\n      }\n      \n      allOrders.sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      });\n\n      res.json({\n        data: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n          phone: customer.phone,\n          status: customer.status,\n          notes: customer.notes,\n          totalOrders: customer.totalOrders,\n          lastOrderAt: customer.lastOrderAt,\n          createdAt: customer.createdAt,\n        },\n        orders: allOrders,\n      });\n    } catch (error: any) {\n      console.error('Error fetching customer details:', error);\n      res.status(500).json({ error: 'Failed to fetch customer details' });\n    }\n  });\n\n  app.put(\"/api/admin/customers/:id\", async (req, res) => {\n    try {\n      const authHeader = req.headers.authorization;\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n      \n      const token = authHeader.substring(7);\n      const result = verifyToken(token);\n      if (!result.valid || result.payload?.role !== 'admin') {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n\n      const { status, notes, fullName, email, phone } = req.body;\n\n      const updated = await storage.updateCustomer(req.params.id, {\n        status: status || undefined,\n        notes: notes !== undefined ? notes : undefined,\n        fullName: fullName !== undefined ? fullName : undefined,\n        email: email !== undefined ? email : undefined,\n        phone: phone !== undefined ? phone : undefined,\n      });\n\n      if (!updated) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      res.json({\n        success: true,\n        data: {\n          id: updated.id,\n          username: updated.username,\n          email: updated.email,\n          fullName: updated.fullName,\n          phone: updated.phone,\n          status: updated.status,\n          notes: updated.notes,\n        }\n      });\n    } catch (error: any) {\n      console.error('Error updating customer:', error);\n      res.status(500).json({ error: 'Failed to update customer' });\n    }\n  });\n\n  app.post(\"/api/admin/customers/:id/reset-password\", async (req, res) => {\n    try {\n      const authHeader = req.headers.authorization;\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n      \n      const token = authHeader.substring(7);\n      const result = verifyToken(token);\n      if (!result.valid || result.payload?.role !== 'admin') {\n        return res.status(401).json({ error: 'Unauthorized' });\n      }\n\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: 'Customer not found' });\n      }\n\n      // Generate a temporary password\n      const tempPassword = crypto.randomBytes(4).toString('hex');\n      const hashedPassword = await hashCustomerPassword(tempPassword);\n      \n      await storage.updateCustomer(customer.id, { password: hashedPassword });\n\n      // Send email with new password\n      try {\n        const { getUncachableResendClient } = await import('./resendClient');\n        const { client, fromEmail } = await getUncachableResendClient();\n        \n        await client.emails.send({\n          from: fromEmail,\n          to: customer.email,\n          subject: 'Your StreamStickPro Password Has Been Reset',\n          html: `\n            <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n              <h2 style=\"color: #f97316;\">Password Reset</h2>\n              <p>Hi ${customer.fullName || customer.username},</p>\n              <p>Your password has been reset by our support team. Here are your new login details:</p>\n              <div style=\"background: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n                <p><strong>Username:</strong> ${customer.username}</p>\n                <p><strong>Temporary Password:</strong> ${tempPassword}</p>\n              </div>\n              <p>Please log in and change your password immediately.</p>\n              <p style=\"margin: 30px 0;\">\n                <a href=\"https://streamstickpro.com/customer-login\" style=\"background-color: #f97316; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; display: inline-block;\">\n                  Log In Now\n                </a>\n              </p>\n              <p style=\"color: #666; font-size: 12px; margin-top: 30px;\">\n                StreamStickPro - Premium Streaming Solutions\n              </p>\n            </div>\n          `,\n        });\n        console.log(`Password reset email sent to ${customer.email}`);\n      } catch (emailError) {\n        console.error('Failed to send password reset email:', emailError);\n      }\n\n      res.json({ success: true, message: 'Password reset email sent to customer' });\n    } catch (error: any) {\n      console.error('Error resetting customer password:', error);\n      res.status(500).json({ error: 'Failed to reset password' });\n    }\n  });\n\n  app.get(\"/sitemap.xml\", async (req, res) => {\n    try {\n      const baseUrl = \"https://streamstickpro.com\";\n      const blogPosts = await storage.getAllBlogPosts();\n      const products = await storage.getRealProducts();\n      \n      const staticPages = [\n        { url: \"/\", priority: \"1.0\", changefreq: \"daily\" },\n        { url: \"/blog\", priority: \"0.9\", changefreq: \"daily\" },\n        { url: \"/checkout\", priority: \"0.7\", changefreq: \"weekly\" },\n      ];\n\n      let sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\">\n`;\n      \n      for (const page of staticPages) {\n        sitemap += `  <url>\n    <loc>${baseUrl}${page.url}</loc>\n    <lastmod>${new Date().toISOString().split('T')[0]}</lastmod>\n    <changefreq>${page.changefreq}</changefreq>\n    <priority>${page.priority}</priority>\n  </url>\n`;\n      }\n\n      for (const post of blogPosts) {\n        if (post.published) {\n          const lastmod = post.updatedAt ? new Date(post.updatedAt).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\n          sitemap += `  <url>\n    <loc>${baseUrl}/blog/${post.slug}</loc>\n    <lastmod>${lastmod}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.8</priority>\n  </url>\n`;\n        }\n      }\n\n      for (const product of products) {\n        sitemap += `  <url>\n    <loc>${baseUrl}/#product-${product.id}</loc>\n    <lastmod>${new Date().toISOString().split('T')[0]}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.9</priority>\n  </url>\n`;\n      }\n\n      sitemap += `</urlset>`;\n\n      res.set('Content-Type', 'application/xml');\n      res.send(sitemap);\n    } catch (error: any) {\n      console.error(\"Error generating sitemap:\", error);\n      res.status(500).send(\"Error generating sitemap\");\n    }\n  });\n\n  app.get(\"/robots.txt\", (req, res) => {\n    const robotsTxt = `# StreamStickPro Robots.txt - Optimized for 2024/2025 SEO\n\n# Standard search engine crawlers\nUser-agent: *\nAllow: /\nAllow: /blog\nAllow: /blog/*\nDisallow: /admin\nDisallow: /admin/*\nDisallow: /api/\nDisallow: /shadow-services\nDisallow: /checkout\nDisallow: /cancel\nDisallow: /success\n\n# Google crawlers\nUser-agent: Googlebot\nAllow: /\nAllow: /blog\nCrawl-delay: 1\n\nUser-agent: Googlebot-Image\nAllow: /\n\nUser-agent: Googlebot-News\nAllow: /blog\n\n# Bing and Microsoft crawlers\nUser-agent: Bingbot\nAllow: /\nCrawl-delay: 1\n\nUser-agent: msnbot\nAllow: /\n\n# AI Search Crawlers - Allow for AI-powered search results\nUser-agent: GPTBot\nAllow: /\nAllow: /blog\nDisallow: /admin\nDisallow: /api/\nDisallow: /shadow-services\n\nUser-agent: ChatGPT-User\nAllow: /\nAllow: /blog\nDisallow: /admin\nDisallow: /shadow-services\n\nUser-agent: Claude-Web\nAllow: /\nAllow: /blog\nDisallow: /admin\nDisallow: /shadow-services\n\nUser-agent: Anthropic-AI\nAllow: /\nAllow: /blog\nDisallow: /admin\nDisallow: /shadow-services\n\nUser-agent: PerplexityBot\nAllow: /\nAllow: /blog\nDisallow: /admin\nDisallow: /shadow-services\n\nUser-agent: Bytespider\nAllow: /\nDisallow: /admin\nDisallow: /shadow-services\n\n# Social media crawlers\nUser-agent: Twitterbot\nAllow: /\n\nUser-agent: facebookexternalhit\nAllow: /\n\nUser-agent: LinkedInBot\nAllow: /\n\nUser-agent: Pinterest\nAllow: /\n\n# Yandex\nUser-agent: Yandex\nAllow: /\nCrawl-delay: 2\n\n# DuckDuckGo\nUser-agent: DuckDuckBot\nAllow: /\n\n# Block bad bots\nUser-agent: AhrefsBot\nDisallow: /\n\nUser-agent: SemrushBot\nDisallow: /\n\nUser-agent: MJ12bot\nDisallow: /\n\nUser-agent: DotBot\nDisallow: /\n\n# Sitemaps\nSitemap: https://streamstickpro.com/sitemap.xml\n\n# Host directive for Yandex\nHost: https://streamstickpro.com\n`;\n    res.set('Content-Type', 'text/plain');\n    res.set('Cache-Control', 'public, max-age=86400');\n    res.send(robotsTxt);\n  });\n\n  // IndexNow API for instant Bing/Yandex indexing\n  // Use stable key from env var or default stable key for verification consistency\n  const INDEXNOW_KEY = process.env.INDEXNOW_KEY || 'streamstickpro2024seokey';\n  \n  // Serve the IndexNow key file for verification (must be stable URL)\n  app.get(\"/streamstickpro2024seokey.txt\", (req, res) => {\n    res.set('Content-Type', 'text/plain');\n    res.set('Cache-Control', 'public, max-age=86400');\n    res.send(INDEXNOW_KEY);\n  });\n\n  app.post(\"/api/admin/indexnow\", async (req, res) => {\n    try {\n      const { urls } = req.body;\n      \n      if (!urls || !Array.isArray(urls) || urls.length === 0) {\n        return res.status(400).json({ error: \"URLs array is required\" });\n      }\n\n      const baseUrl = process.env.REPLIT_DOMAINS?.split(',')[0] \n        ? `https://${process.env.REPLIT_DOMAINS.split(',')[0]}`\n        : 'https://streamstickpro.com';\n\n      const indexNowPayload = {\n        host: new URL(baseUrl).host,\n        key: INDEXNOW_KEY,\n        keyLocation: `${baseUrl}/streamstickpro2024seokey.txt`,\n        urlList: urls.map(url => url.startsWith('http') ? url : `${baseUrl}${url}`)\n      };\n\n      // Submit to Bing IndexNow\n      const bingResponse = await fetch('https://api.indexnow.org/indexnow', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(indexNowPayload)\n      });\n\n      res.json({\n        success: true,\n        message: `Submitted ${urls.length} URLs to IndexNow`,\n        bingStatus: bingResponse.status,\n        key: INDEXNOW_KEY\n      });\n    } catch (error: any) {\n      console.error(\"IndexNow submission error:\", error);\n      res.status(500).json({ error: `IndexNow submission failed: ${error.message}` });\n    }\n  });\n\n  // Sitemap ping endpoint to notify search engines\n  app.post(\"/api/admin/ping-sitemap\", async (req, res) => {\n    try {\n      const baseUrl = 'https://streamstickpro.com';\n      const sitemapUrl = `${baseUrl}/sitemap.xml`;\n\n      const pingUrls = [\n        `https://www.google.com/ping?sitemap=${encodeURIComponent(sitemapUrl)}`,\n        `https://www.bing.com/ping?sitemap=${encodeURIComponent(sitemapUrl)}`\n      ];\n\n      const results = await Promise.allSettled(\n        pingUrls.map(async (url) => {\n          const response = await fetch(url);\n          return { url, status: response.status };\n        })\n      );\n\n      res.json({\n        success: true,\n        message: \"Sitemap ping sent to search engines\",\n        results: results.map((r, i) => ({\n          engine: i === 0 ? 'Google' : 'Bing',\n          status: r.status === 'fulfilled' ? r.value.status : 'failed'\n        }))\n      });\n    } catch (error: any) {\n      console.error(\"Sitemap ping error:\", error);\n      res.status(500).json({ error: `Sitemap ping failed: ${error.message}` });\n    }\n  });\n\n  app.post(\"/api/auth/generate-hash\", async (req, res) => {\n    try {\n      const { password } = req.body;\n      if (!password) {\n        return res.status(400).json({ error: 'Password is required' });\n      }\n\n      const hash = hashPasswordLegacy(password);\n      res.json({ \n        hash,\n        instructions: 'Set this hash as ADMIN_PASSWORD_HASH in your environment variables'\n      });\n    } catch (error: any) {\n      console.error('Hash generation error:', error);\n      res.status(500).json({ error: 'Failed to generate hash' });\n    }\n  });\n\n  app.get(\"/api/admin/github/status\", async (req, res) => {\n    try {\n      const { getUncachableGitHubClient, getGitHubUser } = await import('./github');\n      const user = await getGitHubUser();\n      res.json({ \n        connected: true, \n        username: user.login,\n        avatarUrl: user.avatar_url \n      });\n    } catch (error: any) {\n      console.error('GitHub status check error:', error);\n      res.json({ connected: false, error: error.message });\n    }\n  });\n\n  app.get(\"/api/admin/github/repos\", async (req, res) => {\n    try {\n      const { listGitHubRepos } = await import('./github');\n      const repos = await listGitHubRepos(50);\n      res.json({ \n        data: repos.map(r => ({\n          id: r.id,\n          name: r.name,\n          fullName: r.full_name,\n          private: r.private,\n          defaultBranch: r.default_branch,\n          htmlUrl: r.html_url\n        }))\n      });\n    } catch (error: any) {\n      console.error('GitHub repos fetch error:', error);\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.post(\"/api/admin/github/push\", async (req, res) => {\n    try {\n      const { owner, repo, branch, message } = req.body;\n      \n      if (!owner || !repo) {\n        return res.status(400).json({ error: 'Repository owner and name are required' });\n      }\n\n      const { getUncachableGitHubClient } = await import('./github');\n      const octokit = await getUncachableGitHubClient();\n      \n      const targetBranch = branch || 'main';\n      const commitMessage = message || `Deploy from StreamStickPro Admin - ${new Date().toISOString()}`;\n\n      let baseSha: string;\n      try {\n        const { data: ref } = await octokit.git.getRef({\n          owner,\n          repo,\n          ref: `heads/${targetBranch}`\n        });\n        baseSha = ref.object.sha;\n      } catch (error: any) {\n        if (error.status === 404) {\n          const { data: defaultRef } = await octokit.git.getRef({\n            owner,\n            repo,\n            ref: 'heads/main'\n          });\n          baseSha = defaultRef.object.sha;\n        } else {\n          throw error;\n        }\n      }\n\n      const { data: baseCommit } = await octokit.git.getCommit({\n        owner,\n        repo,\n        commit_sha: baseSha\n      });\n\n      const fs = await import('fs');\n      const path = await import('path');\n\n      const filesToInclude = [\n        'package.json',\n        'package-lock.json',\n        'tsconfig.json',\n        'vite.config.ts',\n        'tailwind.config.ts',\n        'drizzle.config.ts',\n        'replit.md'\n      ];\n\n      const dirsToInclude = ['client', 'server', 'shared'];\n\n      const getAllFiles = (dir: string, base: string = ''): { path: string; content: string }[] => {\n        const files: { path: string; content: string }[] = [];\n        const items = fs.readdirSync(dir);\n        \n        for (const item of items) {\n          if (item === 'node_modules' || item === '.git' || item === 'dist' || item === '.local') continue;\n          \n          const fullPath = path.join(dir, item);\n          const relativePath = base ? `${base}/${item}` : item;\n          const stat = fs.statSync(fullPath);\n          \n          if (stat.isDirectory()) {\n            files.push(...getAllFiles(fullPath, relativePath));\n          } else {\n            try {\n              const content = fs.readFileSync(fullPath, 'utf-8');\n              files.push({ path: relativePath, content });\n            } catch (e) {\n            }\n          }\n        }\n        return files;\n      };\n\n      const treeItems: Array<{ path: string; mode: '100644'; type: 'blob'; sha: string }> = [];\n\n      for (const file of filesToInclude) {\n        const fullPath = path.join(process.cwd(), file);\n        if (fs.existsSync(fullPath)) {\n          const content = fs.readFileSync(fullPath, 'utf-8');\n          const { data: blob } = await octokit.git.createBlob({\n            owner,\n            repo,\n            content: Buffer.from(content).toString('base64'),\n            encoding: 'base64'\n          });\n          treeItems.push({\n            path: file,\n            mode: '100644',\n            type: 'blob',\n            sha: blob.sha\n          });\n        }\n      }\n\n      for (const dir of dirsToInclude) {\n        const dirPath = path.join(process.cwd(), dir);\n        if (fs.existsSync(dirPath)) {\n          const files = getAllFiles(dirPath, dir);\n          for (const file of files) {\n            const { data: blob } = await octokit.git.createBlob({\n              owner,\n              repo,\n              content: Buffer.from(file.content).toString('base64'),\n              encoding: 'base64'\n            });\n            treeItems.push({\n              path: file.path,\n              mode: '100644',\n              type: 'blob',\n              sha: blob.sha\n            });\n          }\n        }\n      }\n\n      const { data: tree } = await octokit.git.createTree({\n        owner,\n        repo,\n        base_tree: baseCommit.tree.sha,\n        tree: treeItems\n      });\n\n      const { data: newCommit } = await octokit.git.createCommit({\n        owner,\n        repo,\n        message: commitMessage,\n        tree: tree.sha,\n        parents: [baseSha]\n      });\n\n      await octokit.git.updateRef({\n        owner,\n        repo,\n        ref: `heads/${targetBranch}`,\n        sha: newCommit.sha\n      });\n\n      res.json({ \n        success: true, \n        message: `Successfully pushed ${treeItems.length} files to ${owner}/${repo}`,\n        commitSha: newCommit.sha,\n        commitUrl: `https://github.com/${owner}/${repo}/commit/${newCommit.sha}`,\n        filesCount: treeItems.length\n      });\n    } catch (error: any) {\n      console.error('GitHub push error:', error);\n      res.status(500).json({ error: `Failed to push to GitHub: ${error.message}` });\n    }\n  });\n\n  // Register SEO Toolkit Routes (Rank Math Premium Clone)\n  registerSeoRoutes(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":95086,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8608,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\nimport { useTracking } from \"@/hooks/useTracking\";\n\nimport MainStore from \"@/pages/MainStore\";\nimport ShadowStore from \"@/pages/ShadowStore\";\nimport AdminPanel from \"@/pages/AdminPanel\";\nimport Checkout from \"@/pages/Checkout\";\nimport Success from \"@/pages/Success\";\nimport Blog from \"@/pages/Blog\";\nimport CustomerLogin from \"@/pages/CustomerLogin\";\nimport CustomerPortal from \"@/pages/CustomerPortal\";\nimport ForgotPassword from \"@/pages/ForgotPassword\";\nimport ResetPassword from \"@/pages/ResetPassword\";\nimport TermsOfService from \"@/pages/TermsOfService\";\nimport PrivacyPolicy from \"@/pages/PrivacyPolicy\";\nimport RefundPolicy from \"@/pages/RefundPolicy\";\nimport { CartDrawer } from \"@/components/CartDrawer\";\nimport { WishlistDrawer } from \"@/components/WishlistDrawer\";\n\nconst SECURE_HOSTS = (import.meta.env.VITE_SECURE_HOSTS || 'secure.streamstickpro.com').split(',').map((h: string) => h.trim().toLowerCase());\n\nfunction isShadowDomain(): boolean {\n  const hostname = window.location.hostname.toLowerCase();\n  return SECURE_HOSTS.some((host: string) => hostname === host || hostname.endsWith('.' + host));\n}\n\nfunction Router() {\n  const isShadow = isShadowDomain();\n  \n  if (isShadow) {\n    return (\n      <Switch>\n        <Route path=\"/\" component={ShadowStore} />\n        <Route path=\"/checkout\" component={Checkout} />\n        <Route path=\"/success\" component={Success} />\n        <Route component={NotFound} />\n      </Switch>\n    );\n  }\n  \n  return (\n    <Switch>\n      <Route path=\"/\" component={MainStore} />\n      <Route path=\"/shadow-services\" component={ShadowStore} />\n      <Route path=\"/admin\" component={AdminPanel} />\n      <Route path=\"/checkout\" component={Checkout} />\n      <Route path=\"/success\" component={Success} />\n      <Route path=\"/blog\" component={Blog} />\n      <Route path=\"/blog/:slug\" component={Blog} />\n      <Route path=\"/customer-login\" component={CustomerLogin} />\n      <Route path=\"/my-account\" component={CustomerPortal} />\n      <Route path=\"/forgot-password\" component={ForgotPassword} />\n      <Route path=\"/reset-password\" component={ResetPassword} />\n      <Route path=\"/terms\" component={TermsOfService} />\n      <Route path=\"/privacy\" component={PrivacyPolicy} />\n      <Route path=\"/refund\" component={RefundPolicy} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction AppContent() {\n  useTracking();\n  \n  return (\n    <>\n      <Toaster />\n      <CartDrawer />\n      <WishlistDrawer />\n      <Router />\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <AppContent />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":2999,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4280,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":2001,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7606,"size_tokens":null},"client/src/components/DemoVideo.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { Play, Pause, Volume2, VolumeX, Maximize, Tv, Zap, Star } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport iptvCoverImg from \"@assets/OIF_1764979270800.jpg\";\n\nconst demoVideoSrc = \"https://emlqlmfzqsnqokrqvmcm.supabase.co/storage/v1/object/public/imiges/demo-video.mp4\";\n\nexport function DemoVideo() {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const toggleMute = () => {\n    if (videoRef.current) {\n      videoRef.current.muted = !isMuted;\n      setIsMuted(!isMuted);\n    }\n  };\n\n  const toggleFullscreen = () => {\n    if (videoRef.current) {\n      if (document.fullscreenElement) {\n        document.exitFullscreen();\n      } else {\n        videoRef.current.requestFullscreen();\n      }\n    }\n  };\n\n  return (\n    <div className=\"py-16 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900\">\n      <div className=\"container mx-auto px-4\">\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n          className=\"max-w-4xl mx-auto text-center mb-10\"\n        >\n          <div className=\"inline-flex items-center gap-2 bg-purple-500/20 backdrop-blur-sm border border-purple-400/30 rounded-full px-6 py-2 mb-6\">\n            <Tv className=\"w-5 h-5 text-purple-400\" />\n            <span className=\"text-sm font-medium text-purple-300\">SEE WHAT YOU GET</span>\n          </div>\n          <h2 className=\"text-4xl md:text-5xl font-bold mb-4\">\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-400\">\n              Experience Stream Stick Pro\n            </span>\n          </h2>\n          <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\n            Watch what's included with every Fire Stick purchase - premium channels, sports, movies & more!\n          </p>\n        </motion.div>\n        \n        <motion.div \n          initial={{ opacity: 0, scale: 0.95 }}\n          whileInView={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n          viewport={{ once: true }}\n          className=\"relative max-w-4xl mx-auto\"\n        >\n          <div \n            className=\"relative aspect-video rounded-2xl overflow-hidden border-2 border-purple-500/30 shadow-2xl shadow-purple-500/20 bg-black group cursor-pointer\"\n            onMouseEnter={() => setShowControls(true)}\n            onMouseLeave={() => isPlaying && setShowControls(false)}\n            onClick={togglePlay}\n            data-testid=\"demo-video-container\"\n          >\n            <video\n              ref={videoRef}\n              src={demoVideoSrc}\n              poster={iptvCoverImg}\n              className=\"w-full h-full object-cover\"\n              onEnded={() => setIsPlaying(false)}\n              playsInline\n              data-testid=\"demo-video\"\n            >\n              <track kind=\"captions\" src=\"/captions/demo.vtt\" srcLang=\"en\" label=\"English\" default />\n            </video>\n            \n            {!isPlaying && (\n              <div className=\"absolute inset-0 flex items-center justify-center bg-gradient-to-tr from-purple-900/60 via-black/40 to-orange-900/40\">\n                <div className=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMSkiLz48L2c+PC9zdmc+')] opacity-30\"></div>\n                \n                <motion.div \n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"relative z-10\"\n                >\n                  <div className=\"w-24 h-24 rounded-full bg-gradient-to-r from-purple-500 to-orange-500 flex items-center justify-center shadow-2xl shadow-purple-500/50 animate-pulse\">\n                    <Play className=\"w-10 h-10 text-white fill-white ml-1\" />\n                  </div>\n                </motion.div>\n\n                <div className=\"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/90 via-black/60 to-transparent\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center\">\n                      <Zap className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <p className=\"text-white font-bold text-lg\">Stream Stick Pro - What You Get</p>\n                      <p className=\"text-sm text-gray-300\">Setup Guide & Live Demo</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm text-gray-300\">\n                    <span className=\"flex items-center gap-1\">\n                      <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />\n                      4.9 Rating\n                    </span>\n                    <span></span>\n                    <span>2,700+ Happy Customers</span>\n                    <span></span>\n                    <span>24/7 Support</span>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {showControls && isPlaying && (\n              <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <button \n                      onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n                      className=\"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors\"\n                      data-testid=\"button-play-pause\"\n                    >\n                      {isPlaying ? <Pause className=\"w-5 h-5 text-white\" /> : <Play className=\"w-5 h-5 text-white ml-0.5\" />}\n                    </button>\n                    <button \n                      onClick={(e) => { e.stopPropagation(); toggleMute(); }}\n                      className=\"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors\"\n                      data-testid=\"button-mute\"\n                    >\n                      {isMuted ? <VolumeX className=\"w-5 h-5 text-white\" /> : <Volume2 className=\"w-5 h-5 text-white\" />}\n                    </button>\n                  </div>\n                  <button \n                    onClick={(e) => { e.stopPropagation(); toggleFullscreen(); }}\n                    className=\"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors\"\n                    data-testid=\"button-fullscreen\"\n                  >\n                    <Maximize className=\"w-5 h-5 text-white\" />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"grid grid-cols-3 gap-4 mt-6\">\n            <div className=\"bg-gradient-to-r from-orange-500/20 to-red-500/20 border border-orange-500/30 rounded-xl p-4 text-center\">\n              <div className=\"text-2xl font-bold text-orange-400\">Extensive</div>\n              <div className=\"text-sm text-gray-300\">Channel Library</div>\n            </div>\n            <div className=\"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 rounded-xl p-4 text-center\">\n              <div className=\"text-2xl font-bold text-blue-400\">Thousands</div>\n              <div className=\"text-sm text-gray-300\">Movies & Shows</div>\n            </div>\n            <div className=\"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30 rounded-xl p-4 text-center\">\n              <div className=\"text-2xl font-bold text-purple-400\">Full Sports</div>\n              <div className=\"text-sm text-gray-300\">Coverage</div>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8680,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5124,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // @replit\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \",\n  {\n    variants: {\n      variant: {\n        default:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary:\n          // @replit no hover because we use hover-elevate\n          \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n          // @replit shadow-xs\" - use badge outline variable\n        outline: \"text-foreground border [border-color:var(--badge-outline)]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1522,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"vite-plugin-meta-images.ts":{"content":"import type { Plugin } from 'vite';\nimport fs from 'fs';\nimport path from 'path';\n\n/**\n * Vite plugin that updates og:image and twitter:image meta tags\n * to point to the app's opengraph image with the correct Replit domain.\n */\nexport function metaImagesPlugin(): Plugin {\n  return {\n    name: 'vite-plugin-meta-images',\n    transformIndexHtml(html) {\n      const baseUrl = getDeploymentUrl();\n      if (!baseUrl) {\n        log('[meta-images] no Replit deployment domain found, skipping meta tag updates');\n        return html;\n      }\n\n      // Check if opengraph image exists in public directory\n      const publicDir = path.resolve(process.cwd(), 'client', 'public');\n      const opengraphPngPath = path.join(publicDir, 'opengraph.png');\n      const opengraphJpgPath = path.join(publicDir, 'opengraph.jpg');\n      const opengraphJpegPath = path.join(publicDir, 'opengraph.jpeg');\n\n      let imageExt: string | null = null;\n      if (fs.existsSync(opengraphPngPath)) {\n        imageExt = 'png';\n      } else if (fs.existsSync(opengraphJpgPath)) {\n        imageExt = 'jpg';\n      } else if (fs.existsSync(opengraphJpegPath)) {\n        imageExt = 'jpeg';\n      }\n\n      if (!imageExt) {\n        log('[meta-images] OpenGraph image not found, skipping meta tag updates');\n        return html;\n      }\n\n      const imageUrl = `${baseUrl}/opengraph.${imageExt}`;\n\n      log('[meta-images] updating meta image tags to:', imageUrl);\n\n      html = html.replace(\n        /<meta\\s+property=\"og:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta property=\"og:image\" content=\"${imageUrl}\" />`\n      );\n\n      html = html.replace(\n        /<meta\\s+name=\"twitter:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta name=\"twitter:image\" content=\"${imageUrl}\" />`\n      );\n\n      return html;\n    },\n  };\n}\n\nfunction getDeploymentUrl(): string | null {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    log('[meta-images] using internal app domain:', url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    log('[meta-images] using dev domain:', url);\n    return url;\n  }\n\n  return null;\n}\n\nfunction log(...args: any[]): void {\n  if (process.env.NODE_ENV === 'production') {\n    console.log(...args);\n  }\n}\n","path":null,"size_bytes":2333,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/kbd.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 select-none items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","path":null,"size_bytes":862,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4887,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":792,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1237,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { runMigrations } from 'stripe-replit-sync';\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\nimport { getStripeSync } from \"./stripeClient\";\nimport { WebhookHandlers } from \"./webhookHandlers\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nlet webhookUuid: string | null = null;\n\nexport function getWebhookUuid(): string | null {\n  return webhookUuid;\n}\n\nasync function initStripe() {\n  const databaseUrl = process.env.DATABASE_URL;\n\n  if (!databaseUrl) {\n    log('DATABASE_URL not found, skipping Stripe initialization', 'stripe');\n    return;\n  }\n\n  try {\n    log('Initializing Stripe schema...', 'stripe');\n    await runMigrations({ \n      databaseUrl,\n    });\n    log('Stripe schema ready', 'stripe');\n\n    const stripeSync = await getStripeSync();\n\n    log('Setting up managed webhook...', 'stripe');\n    // Use custom domain for webhook (user's secure domain) instead of Replit domains\n    const customDomain = process.env.WEBHOOK_PUBLIC_BASE_URL || \n                         (process.env.VITE_SECURE_HOSTS ? `https://${process.env.VITE_SECURE_HOSTS.split(',')[0]}` : null) ||\n                         `https://${process.env.REPLIT_DOMAINS?.split(',')[0]}`;\n    const webhookBaseUrl = customDomain;\n    \n    const { webhook, uuid } = await stripeSync.findOrCreateManagedWebhook(\n      `${webhookBaseUrl}/api/stripe/webhook`,\n      {\n        enabled_events: ['*'],\n        description: 'Managed webhook for StreamerStickPro',\n      }\n    );\n    \n    webhookUuid = uuid;\n    log(`Webhook configured: ${webhook.url} (UUID: ${uuid})`, 'stripe');\n\n    log('Syncing Stripe data...', 'stripe');\n    stripeSync.syncBackfill()\n      .then(() => {\n        log('Stripe data synced', 'stripe');\n      })\n      .catch((err: any) => {\n        console.error('Error syncing Stripe data:', err);\n      });\n  } catch (error) {\n    console.error('Failed to initialize Stripe:', error);\n  }\n}\n\napp.post(\n  '/api/stripe/webhook/:uuid?',\n  express.raw({ type: 'application/json' }),\n  async (req, res) => {\n    log('Received Stripe webhook', 'stripe');\n    \n    const signature = req.headers['stripe-signature'];\n\n    if (!signature) {\n      log('Missing stripe-signature header', 'stripe');\n      return res.status(400).json({ error: 'Missing stripe-signature' });\n    }\n\n    try {\n      const sig = Array.isArray(signature) ? signature[0] : signature;\n\n      if (!Buffer.isBuffer(req.body)) {\n        console.error('STRIPE WEBHOOK ERROR: req.body is not a Buffer');\n        return res.status(500).json({ error: 'Webhook processing error' });\n      }\n\n      const urlUuid = req.params.uuid;\n      const uuid = urlUuid || getWebhookUuid();\n      if (!uuid) {\n        console.error('Webhook UUID not initialized yet');\n        return res.status(500).json({ error: 'Webhook not ready' });\n      }\n      \n      log(`Processing webhook with UUID: ${uuid}`, 'stripe');\n      await WebhookHandlers.processWebhook(req.body as Buffer, sig, uuid);\n\n      log('Webhook processed successfully', 'stripe');\n      res.status(200).json({ received: true });\n    } catch (error: any) {\n      console.error('Webhook error:', error.message);\n      res.status(400).json({ error: 'Webhook processing error' });\n    }\n  }\n);\n\napp.use(\n  express.json({\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false }));\n\n// Enable CORS for visitor tracking from all origins\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n  res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  \n  if (req.method === 'OPTIONS') {\n    return res.sendStatus(200);\n  }\n  \n  next();\n});\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await initStripe();\n  \n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":5663,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2859,"size_tokens":null},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","path":null,"size_bytes":894,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5745,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile, writeFile, mkdir } from \"fs/promises\";\nimport path from \"path\";\nimport { existsSync } from \"fs\";\n\nconst isCloudflare = process.env.CF_PAGES === \"1\" || existsSync(\"wrangler.toml\");\n\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"pg\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildCloudflare() {\n  await rm(\"dist\", { recursive: true, force: true });\n  await mkdir(\"dist\", { recursive: true });\n\n  console.log(\"Building client with Vite (Cloudflare config)...\");\n  await viteBuild({\n    configFile: path.resolve(process.cwd(), \"vite.config.cloudflare.ts\"),\n    build: {\n      outDir: path.resolve(process.cwd(), \"dist\"),\n      emptyOutDir: false,\n    },\n  });\n\n  console.log(\"Building Cloudflare Worker...\");\n  await esbuild({\n    entryPoints: [\"worker/index.ts\"],\n    platform: \"browser\",\n    target: \"esnext\",\n    bundle: true,\n    format: \"esm\",\n    outfile: \"dist/_worker.js\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    sourcemap: false,\n    conditions: [\"workerd\", \"worker\", \"browser\"],\n    mainFields: [\"browser\", \"module\", \"main\"],\n    logLevel: \"info\",\n    external: [\"node:*\"],\n  });\n\n  console.log(\"Creating _routes.json for Cloudflare Pages...\");\n  const routesJson = {\n    version: 1,\n    include: [\"/api/*\"],\n    exclude: [\"/assets/*\", \"/*.css\", \"/*.js\", \"/*.png\", \"/*.jpg\", \"/*.svg\", \"/*.ico\", \"/*.woff\", \"/*.woff2\"]\n  };\n  await writeFile(\"dist/_routes.json\", JSON.stringify(routesJson, null, 2));\n\n  console.log(\"Pre-rendering blog posts for SEO...\");\n  try {\n    const { execSync } = await import(\"child_process\");\n    execSync(\"npx tsx scripts/prerender-blog.ts\", { \n      stdio: \"inherit\",\n      env: {\n        ...process.env,\n        SUPABASE_URL: process.env.SUPABASE_URL || process.env.VITE_SUPABASE_URL,\n        SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY || process.env.VITE_SUPABASE_ANON_KEY,\n        SUPABASE_SERVICE_KEY: process.env.SUPABASE_SERVICE_KEY,\n      }\n    });\n    console.log(\"Blog pre-rendering complete!\");\n  } catch (err) {\n    console.warn(\"Blog pre-rendering skipped (Supabase credentials may be missing)\");\n  }\n\n  console.log(\"Cloudflare Pages build complete!\");\n}\n\nasync function buildNode() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nasync function buildAll() {\n  if (isCloudflare) {\n    console.log(\"Detected Cloudflare environment, building for Pages...\");\n    await buildCloudflare();\n  } else {\n    console.log(\"Building for Node.js...\");\n    await buildNode();\n  }\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":3629,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { metaImagesPlugin } from \"./vite-plugin-meta-images\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    tailwindcss(),\n    metaImagesPlugin(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    allowedHosts: true,\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1330,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":266,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { AlertCircle, Home } from \"lucide-react\";\nimport { useLocation } from \"wouter\";\n\nexport default function NotFound() {\n  const [, setLocation] = useLocation();\n\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-900\">\n      <Card className=\"w-full max-w-md mx-4 bg-gray-800 border-gray-700\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2 items-center\">\n            <AlertCircle className=\"h-8 w-8 text-orange-500\" />\n            <h1 className=\"text-2xl font-bold text-white\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-400\">\n            The page you're looking for doesn't exist or has been moved.\n          </p>\n\n          <Button \n            onClick={() => setLocation(\"/\")}\n            className=\"mt-6 w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white\"\n            data-testid=\"button-back-home\"\n          >\n            <Home className=\"w-4 h-4 mr-2\" />\n            Back to Home\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":1244,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3835,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"grid place-content-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1031,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, integer, boolean, timestamp, uniqueIndex, index, serial } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const customers = pgTable(\"customers\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  email: text(\"email\").notNull(),\n  fullName: text(\"full_name\"),\n  phone: text(\"phone\"),\n  status: text(\"status\").default(\"active\"),\n  notes: text(\"notes\"),\n  totalOrders: integer(\"total_orders\").default(0),\n  lastOrderAt: timestamp(\"last_order_at\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  uniqueIndex(\"customers_username_idx\").on(table.username),\n  index(\"customers_email_idx\").on(table.email),\n  index(\"customers_status_idx\").on(table.status),\n]);\n\nexport const insertCustomerSchema = createInsertSchema(customers).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  totalOrders: true,\n  lastOrderAt: true,\n});\n\nexport type InsertCustomer = z.infer<typeof insertCustomerSchema>;\nexport type Customer = typeof customers.$inferSelect;\n\nexport const passwordResetTokens = pgTable(\"password_reset_tokens\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerId: varchar(\"customer_id\").notNull(),\n  token: text(\"token\").notNull().unique(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  used: boolean(\"used\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"password_reset_customer_idx\").on(table.customerId),\n  uniqueIndex(\"password_reset_token_idx\").on(table.token),\n]);\n\nexport const insertPasswordResetTokenSchema = createInsertSchema(passwordResetTokens).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertPasswordResetToken = z.infer<typeof insertPasswordResetTokenSchema>;\nexport type PasswordResetToken = typeof passwordResetTokens.$inferSelect;\n\nexport const abandonedCarts = pgTable(\"abandoned_carts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: text(\"email\").notNull(),\n  customerName: text(\"customer_name\"),\n  cartItems: text(\"cart_items\").notNull(),\n  totalAmount: integer(\"total_amount\").notNull(),\n  recoveryEmailSent: boolean(\"recovery_email_sent\").default(false),\n  recoveryEmailSentAt: timestamp(\"recovery_email_sent_at\"),\n  converted: boolean(\"converted\").default(false),\n  convertedOrderId: text(\"converted_order_id\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"abandoned_carts_email_idx\").on(table.email),\n  index(\"abandoned_carts_recovery_idx\").on(table.recoveryEmailSent),\n]);\n\nexport const insertAbandonedCartSchema = createInsertSchema(abandonedCarts).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  recoveryEmailSent: true,\n  recoveryEmailSentAt: true,\n  converted: true,\n  convertedOrderId: true,\n});\n\nexport type InsertAbandonedCart = z.infer<typeof insertAbandonedCartSchema>;\nexport type AbandonedCart = typeof abandonedCarts.$inferSelect;\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport const orders = pgTable(\"orders\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerEmail: text(\"customer_email\").notNull(),\n  customerName: text(\"customer_name\"),\n  stripePaymentIntentId: text(\"stripe_payment_intent_id\"),\n  stripeCheckoutSessionId: text(\"stripe_checkout_session_id\"),\n  stripeCustomerId: text(\"stripe_customer_id\"),\n  shadowProductId: text(\"shadow_product_id\"),\n  shadowPriceId: text(\"shadow_price_id\"),\n  realProductId: text(\"real_product_id\"),\n  realProductName: text(\"real_product_name\"),\n  amount: integer(\"amount\").notNull(),\n  status: text(\"status\").default(\"pending\"),\n  credentialsSent: boolean(\"credentials_sent\").default(false),\n  shippingName: text(\"shipping_name\"),\n  shippingPhone: text(\"shipping_phone\"),\n  shippingStreet: text(\"shipping_street\"),\n  shippingCity: text(\"shipping_city\"),\n  shippingState: text(\"shipping_state\"),\n  shippingZip: text(\"shipping_zip\"),\n  shippingCountry: text(\"shipping_country\"),\n  fulfillmentStatus: text(\"fulfillment_status\").default(\"pending\"),\n  amazonOrderId: text(\"amazon_order_id\"),\n  customerId: text(\"customer_id\"),\n  isRenewal: boolean(\"is_renewal\").default(false),\n  existingUsername: text(\"existing_username\"),\n  generatedUsername: text(\"generated_username\"),\n  generatedPassword: text(\"generated_password\"),\n  countryPreference: text(\"country_preference\"),\n  customerMessage: text(\"customer_message\"),\n  customerPhone: text(\"customer_phone\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  uniqueIndex(\"orders_payment_intent_idx\").on(table.stripePaymentIntentId),\n  uniqueIndex(\"orders_checkout_session_idx\").on(table.stripeCheckoutSessionId),\n  index(\"orders_customer_email_idx\").on(table.customerEmail),\n  index(\"orders_fulfillment_status_idx\").on(table.fulfillmentStatus),\n  index(\"orders_customer_id_idx\").on(table.customerId),\n]);\n\nexport const insertOrderSchema = createInsertSchema(orders).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertOrder = z.infer<typeof insertOrderSchema>;\nexport type Order = typeof orders.$inferSelect;\n\nexport const realProducts = pgTable(\"real_products\", {\n  id: varchar(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  price: integer(\"price\").notNull(),\n  imageUrl: text(\"image_url\"),\n  category: text(\"category\"),\n  shadowProductId: text(\"shadow_product_id\"),\n  shadowPriceId: text(\"shadow_price_id\"),\n}, (table) => [\n  uniqueIndex(\"real_products_shadow_product_idx\").on(table.shadowProductId),\n  uniqueIndex(\"real_products_shadow_price_idx\").on(table.shadowPriceId),\n  index(\"real_products_category_idx\").on(table.category),\n]);\n\nexport const insertRealProductSchema = createInsertSchema(realProducts);\n\nexport type InsertRealProduct = z.infer<typeof insertRealProductSchema>;\nexport type RealProduct = typeof realProducts.$inferSelect;\n\nexport const checkoutItemSchema = z.object({\n  productId: z.string().min(1, \"Product ID is required\"),\n  quantity: z.number().int().positive(\"Quantity must be a positive integer\"),\n});\n\nexport const checkoutRequestSchema = z.object({\n  items: z.array(checkoutItemSchema).min(1, \"At least one item is required\"),\n  customerEmail: z.string().email(\"Valid email is required\"),\n  customerName: z.string().optional(),\n  customerPhone: z.string().optional(),\n  customerMessage: z.string().optional(),\n  isRenewal: z.boolean().optional(),\n  existingUsername: z.string().optional(),\n  countryPreference: z.string().optional(),\n});\n\nexport type CheckoutItem = z.infer<typeof checkoutItemSchema>;\nexport type CheckoutRequest = z.infer<typeof checkoutRequestSchema>;\n\nexport const customerLookupSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n});\n\nexport const createCustomerSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n  password: z.string().min(1, \"Password is required\"),\n  email: z.string().email(\"Valid email is required\"),\n  fullName: z.string().optional(),\n  phone: z.string().optional(),\n  notes: z.string().optional(),\n});\n\nexport const updateCustomerSchema = z.object({\n  username: z.string().optional(),\n  password: z.string().optional(),\n  email: z.string().email().optional(),\n  fullName: z.string().nullable().optional(),\n  phone: z.string().nullable().optional(),\n  status: z.enum(['active', 'inactive', 'suspended']).optional(),\n  notes: z.string().nullable().optional(),\n});\n\nexport type CustomerLookup = z.infer<typeof customerLookupSchema>;\nexport type CreateCustomer = z.infer<typeof createCustomerSchema>;\nexport type UpdateCustomer = z.infer<typeof updateCustomerSchema>;\n\nexport const createProductRequestSchema = z.object({\n  id: z.string().min(1, \"Product ID is required\"),\n  name: z.string().min(1, \"Product name is required\"),\n  description: z.string().nullable().optional(),\n  price: z.number().int().positive(\"Price must be a positive integer (in cents)\"),\n  imageUrl: z.string().url().nullable().optional(),\n  category: z.string().nullable().optional(),\n  shadowProductId: z.string().nullable().optional(),\n  shadowPriceId: z.string().nullable().optional(),\n});\n\nexport type CreateProductRequest = z.infer<typeof createProductRequestSchema>;\n\nexport const updateProductRequestSchema = createProductRequestSchema.partial().omit({ id: true });\nexport type UpdateProductRequest = z.infer<typeof updateProductRequestSchema>;\n\nexport const mapShadowProductSchema = z.object({\n  shadowProductId: z.string().min(1, \"Shadow product ID is required\"),\n  shadowPriceId: z.string().min(1, \"Shadow price ID is required\"),\n});\n\nexport type MapShadowProductRequest = z.infer<typeof mapShadowProductSchema>;\n\nexport const updateOrderRequestSchema = z.object({\n  status: z.enum(['pending', 'paid', 'failed', 'refunded']).optional(),\n  credentialsSent: z.boolean().optional(),\n  shippingName: z.string().nullable().optional(),\n  shippingPhone: z.string().nullable().optional(),\n  shippingStreet: z.string().nullable().optional(),\n  shippingCity: z.string().nullable().optional(),\n  shippingState: z.string().nullable().optional(),\n  shippingZip: z.string().nullable().optional(),\n  shippingCountry: z.string().nullable().optional(),\n  fulfillmentStatus: z.enum(['pending', 'ordered', 'shipped', 'delivered']).optional(),\n  amazonOrderId: z.string().nullable().optional(),\n  customerId: z.string().nullable().optional(),\n  isRenewal: z.boolean().optional(),\n  existingUsername: z.string().nullable().optional(),\n  generatedUsername: z.string().nullable().optional(),\n  generatedPassword: z.string().nullable().optional(),\n  countryPreference: z.string().nullable().optional(),\n});\n\nexport type UpdateOrderRequest = z.infer<typeof updateOrderRequestSchema>;\n\nexport const visitors = pgTable(\"visitors\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  sessionId: text(\"session_id\").notNull(),\n  pageUrl: text(\"page_url\").notNull(),\n  referrer: text(\"referrer\"),\n  userAgent: text(\"user_agent\"),\n  ipAddress: text(\"ip_address\"),\n  country: text(\"country\"),\n  countryCode: text(\"country_code\"),\n  region: text(\"region\"),\n  regionCode: text(\"region_code\"),\n  city: text(\"city\"),\n  latitude: text(\"latitude\"),\n  longitude: text(\"longitude\"),\n  timezone: text(\"timezone\"),\n  isp: text(\"isp\"),\n  isProxy: boolean(\"is_proxy\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"visitors_session_idx\").on(table.sessionId),\n  index(\"visitors_created_at_idx\").on(table.createdAt),\n  index(\"visitors_country_idx\").on(table.country),\n  index(\"visitors_region_idx\").on(table.region),\n]);\n\nexport const insertVisitorSchema = createInsertSchema(visitors).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertVisitor = z.infer<typeof insertVisitorSchema>;\nexport type Visitor = typeof visitors.$inferSelect;\n\nexport const pageEdits = pgTable(\"page_edits\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  pageId: text(\"page_id\").notNull(),\n  sectionId: text(\"section_id\").notNull(),\n  elementId: text(\"element_id\").notNull(),\n  elementType: text(\"element_type\").notNull(),\n  content: text(\"content\"),\n  imageUrl: text(\"image_url\"),\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"page_edits_page_idx\").on(table.pageId),\n  uniqueIndex(\"page_edits_element_unique_idx\").on(table.pageId, table.sectionId, table.elementId),\n]);\n\nexport const insertPageEditSchema = createInsertSchema(pageEdits).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertPageEdit = z.infer<typeof insertPageEditSchema>;\nexport type PageEdit = typeof pageEdits.$inferSelect;\n\nexport const upsertPageEditSchema = z.object({\n  pageId: z.string().min(1, \"Page ID is required\"),\n  sectionId: z.string().min(1, \"Section ID is required\"),\n  elementId: z.string().min(1, \"Element ID is required\"),\n  elementType: z.enum([\"text\", \"image\", \"heading\", \"paragraph\", \"button\"]),\n  content: z.string().nullable().optional(),\n  imageUrl: z.string().url().nullable().optional(),\n  isActive: z.boolean().optional(),\n});\n\nexport type UpsertPageEditRequest = z.infer<typeof upsertPageEditSchema>;\n\nexport const blogPosts = pgTable(\"blog_posts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  slug: text(\"slug\").notNull().unique(),\n  excerpt: text(\"excerpt\").notNull(),\n  content: text(\"content\").notNull(),\n  category: text(\"category\").notNull(),\n  imageUrl: text(\"image_url\"),\n  \n  // SEO Fields\n  metaTitle: text(\"meta_title\"),\n  metaDescription: text(\"meta_description\"),\n  keywords: text(\"keywords\").array(),\n  readTime: text(\"read_time\"),\n  wordCount: integer(\"word_count\"),\n  \n  // SEO Scores\n  headingScore: integer(\"heading_score\").default(0),\n  keywordDensityScore: integer(\"keyword_density_score\").default(0),\n  contentLengthScore: integer(\"content_length_score\").default(0),\n  metaScore: integer(\"meta_score\").default(0),\n  structureScore: integer(\"structure_score\").default(0),\n  overallSeoScore: integer(\"overall_seo_score\").default(0),\n  seoAnalysis: text(\"seo_analysis\"),\n  \n  // Publishing\n  featured: boolean(\"featured\").default(false),\n  published: boolean(\"published\").default(false),\n  publishedAt: timestamp(\"published_at\"),\n  \n  // Product Linking\n  linkedProductIds: text(\"linked_product_ids\").array(),\n  \n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  uniqueIndex(\"blog_posts_slug_idx\").on(table.slug),\n  index(\"blog_posts_category_idx\").on(table.category),\n  index(\"blog_posts_published_idx\").on(table.published),\n  index(\"blog_posts_featured_idx\").on(table.featured),\n  index(\"blog_posts_seo_score_idx\").on(table.overallSeoScore),\n  index(\"blog_posts_created_at_idx\").on(table.createdAt),\n]);\n\nexport const insertBlogPostSchema = createInsertSchema(blogPosts).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  wordCount: true,\n  headingScore: true,\n  keywordDensityScore: true,\n  contentLengthScore: true,\n  metaScore: true,\n  structureScore: true,\n  overallSeoScore: true,\n  seoAnalysis: true,\n});\n\nexport const updateBlogPostSchema = createInsertSchema(blogPosts).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n}).partial();\n\nexport type InsertBlogPost = z.infer<typeof insertBlogPostSchema>;\nexport type UpdateBlogPost = z.infer<typeof updateBlogPostSchema>;\nexport type BlogPost = typeof blogPosts.$inferSelect;\n\n// ============================================\n// SEO TOOLKIT TABLES (Rank Math Premium Clone)\n// ============================================\n\n// SEO Settings - Global configuration\nexport const seoSettings = pgTable(\"seo_settings\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  settingKey: text(\"setting_key\").notNull().unique(),\n  settingValue: text(\"setting_value\"),\n  settingType: text(\"setting_type\").default(\"string\"), // string, boolean, json, number\n  category: text(\"category\").default(\"general\"), // general, sitemap, social, schema, indexing\n  description: text(\"description\"),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertSeoSettingSchema = createInsertSchema(seoSettings).omit({ id: true, updatedAt: true });\nexport type InsertSeoSetting = z.infer<typeof insertSeoSettingSchema>;\nexport type SeoSetting = typeof seoSettings.$inferSelect;\n\n// SEO Pages - Per-page SEO metadata and scores\nexport const seoPages = pgTable(\"seo_pages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  pageUrl: text(\"page_url\").notNull().unique(),\n  pageType: text(\"page_type\").default(\"page\"), // page, post, product, category\n  \n  // Focus Keywords (up to 5)\n  focusKeyword: text(\"focus_keyword\"),\n  secondaryKeywords: text(\"secondary_keywords\").array(),\n  \n  // Meta Tags\n  metaTitle: text(\"meta_title\"),\n  metaDescription: text(\"meta_description\"),\n  canonicalUrl: text(\"canonical_url\"),\n  robots: text(\"robots\").default(\"index, follow\"),\n  \n  // Social Media\n  ogTitle: text(\"og_title\"),\n  ogDescription: text(\"og_description\"),\n  ogImage: text(\"og_image\"),\n  twitterTitle: text(\"twitter_title\"),\n  twitterDescription: text(\"twitter_description\"),\n  twitterImage: text(\"twitter_image\"),\n  \n  // Schema Markup\n  schemaType: text(\"schema_type\"), // Article, Product, LocalBusiness, FAQ, HowTo, etc.\n  schemaData: text(\"schema_data\"), // JSON string of schema\n  \n  // SEO Scores (0-100)\n  titleScore: integer(\"title_score\").default(0),\n  descriptionScore: integer(\"description_score\").default(0),\n  contentScore: integer(\"content_score\").default(0),\n  readabilityScore: integer(\"readability_score\").default(0),\n  keywordScore: integer(\"keyword_score\").default(0),\n  linkScore: integer(\"link_score\").default(0),\n  imageScore: integer(\"image_score\").default(0),\n  overallScore: integer(\"overall_score\").default(0),\n  \n  // Analysis\n  seoIssues: text(\"seo_issues\"), // JSON array of issues\n  seoSuggestions: text(\"seo_suggestions\"), // JSON array of suggestions\n  lastAnalyzed: timestamp(\"last_analyzed\"),\n  \n  // Indexing\n  indexNowSubmitted: boolean(\"indexnow_submitted\").default(false),\n  indexNowLastSubmit: timestamp(\"indexnow_last_submit\"),\n  inSitemap: boolean(\"in_sitemap\").default(true),\n  sitemapPriority: text(\"sitemap_priority\").default(\"0.5\"),\n  sitemapChangefreq: text(\"sitemap_changefreq\").default(\"weekly\"),\n  \n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_pages_url_idx\").on(table.pageUrl),\n  index(\"seo_pages_type_idx\").on(table.pageType),\n  index(\"seo_pages_score_idx\").on(table.overallScore),\n]);\n\nexport const insertSeoPageSchema = createInsertSchema(seoPages).omit({ id: true, createdAt: true, updatedAt: true });\nexport type InsertSeoPage = z.infer<typeof insertSeoPageSchema>;\nexport type SeoPage = typeof seoPages.$inferSelect;\n\n// SEO Keywords - Focus keyword tracking and ranking\nexport const seoKeywords = pgTable(\"seo_keywords\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  keyword: text(\"keyword\").notNull(),\n  searchVolume: integer(\"search_volume\"),\n  difficulty: integer(\"difficulty\"), // 0-100\n  cpc: text(\"cpc\"), // Cost per click\n  trend: text(\"trend\"), // up, down, stable\n  \n  // Tracking\n  trackingEnabled: boolean(\"tracking_enabled\").default(false),\n  targetUrl: text(\"target_url\"),\n  currentPosition: integer(\"current_position\"),\n  previousPosition: integer(\"previous_position\"),\n  bestPosition: integer(\"best_position\"),\n  positionChange: integer(\"position_change\"),\n  \n  // SERP Features\n  serpFeatures: text(\"serp_features\").array(), // featured_snippet, people_also_ask, etc.\n  serpUrl: text(\"serp_url\"),\n  \n  // Competition\n  competitors: text(\"competitors\"), // JSON array of competitor URLs\n  \n  lastChecked: timestamp(\"last_checked\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_keywords_keyword_idx\").on(table.keyword),\n  index(\"seo_keywords_position_idx\").on(table.currentPosition),\n  index(\"seo_keywords_tracking_idx\").on(table.trackingEnabled),\n]);\n\nexport const insertSeoKeywordSchema = createInsertSchema(seoKeywords).omit({ id: true, createdAt: true });\nexport type InsertSeoKeyword = z.infer<typeof insertSeoKeywordSchema>;\nexport type SeoKeyword = typeof seoKeywords.$inferSelect;\n\n// SEO Keyword History - Daily position tracking\nexport const seoKeywordHistory = pgTable(\"seo_keyword_history\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  keywordId: text(\"keyword_id\").notNull(),\n  position: integer(\"position\"),\n  url: text(\"url\"),\n  serpFeatures: text(\"serp_features\").array(),\n  checkedAt: timestamp(\"checked_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_keyword_history_keyword_idx\").on(table.keywordId),\n  index(\"seo_keyword_history_date_idx\").on(table.checkedAt),\n]);\n\nexport type SeoKeywordHistory = typeof seoKeywordHistory.$inferSelect;\n\n// SEO Redirects - 301/302 redirect management\nexport const seoRedirects = pgTable(\"seo_redirects\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  sourceUrl: text(\"source_url\").notNull(),\n  targetUrl: text(\"target_url\").notNull(),\n  redirectType: text(\"redirect_type\").default(\"301\"), // 301, 302, 307\n  isRegex: boolean(\"is_regex\").default(false),\n  isActive: boolean(\"is_active\").default(true),\n  hitCount: integer(\"hit_count\").default(0),\n  lastHit: timestamp(\"last_hit\"),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_redirects_source_idx\").on(table.sourceUrl),\n  index(\"seo_redirects_active_idx\").on(table.isActive),\n]);\n\nexport const insertSeoRedirectSchema = createInsertSchema(seoRedirects).omit({ id: true, createdAt: true, updatedAt: true, hitCount: true, lastHit: true });\nexport type InsertSeoRedirect = z.infer<typeof insertSeoRedirectSchema>;\nexport type SeoRedirect = typeof seoRedirects.$inferSelect;\n\n// SEO 404 Logs - Track broken links\nexport const seo404Logs = pgTable(\"seo_404_logs\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  url: text(\"url\").notNull(),\n  referrer: text(\"referrer\"),\n  userAgent: text(\"user_agent\"),\n  ipAddress: text(\"ip_address\"),\n  hitCount: integer(\"hit_count\").default(1),\n  firstHit: timestamp(\"first_hit\").defaultNow(),\n  lastHit: timestamp(\"last_hit\").defaultNow(),\n  resolved: boolean(\"resolved\").default(false),\n  resolvedRedirectId: text(\"resolved_redirect_id\"),\n  ignored: boolean(\"ignored\").default(false),\n}, (table) => [\n  index(\"seo_404_url_idx\").on(table.url),\n  index(\"seo_404_resolved_idx\").on(table.resolved),\n  index(\"seo_404_hits_idx\").on(table.hitCount),\n]);\n\nexport const insertSeo404LogSchema = createInsertSchema(seo404Logs).omit({ id: true, firstHit: true, lastHit: true });\nexport type InsertSeo404Log = z.infer<typeof insertSeo404LogSchema>;\nexport type Seo404Log = typeof seo404Logs.$inferSelect;\n\n// SEO Audits - Site-wide SEO health checks\nexport const seoAudits = pgTable(\"seo_audits\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  auditType: text(\"audit_type\").default(\"full\"), // full, quick, custom\n  status: text(\"status\").default(\"pending\"), // pending, running, completed, failed\n  \n  // Overall Scores\n  overallScore: integer(\"overall_score\").default(0),\n  technicalScore: integer(\"technical_score\").default(0),\n  contentScore: integer(\"content_score\").default(0),\n  linkScore: integer(\"link_score\").default(0),\n  performanceScore: integer(\"performance_score\").default(0),\n  \n  // Issue Counts\n  criticalIssues: integer(\"critical_issues\").default(0),\n  warningIssues: integer(\"warning_issues\").default(0),\n  passedChecks: integer(\"passed_checks\").default(0),\n  \n  // Results\n  issues: text(\"issues\"), // JSON array of issues\n  recommendations: text(\"recommendations\"), // JSON array\n  pagesAnalyzed: integer(\"pages_analyzed\").default(0),\n  \n  startedAt: timestamp(\"started_at\"),\n  completedAt: timestamp(\"completed_at\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_audits_status_idx\").on(table.status),\n  index(\"seo_audits_created_idx\").on(table.createdAt),\n]);\n\nexport const insertSeoAuditSchema = createInsertSchema(seoAudits).omit({ id: true, createdAt: true });\nexport type InsertSeoAudit = z.infer<typeof insertSeoAuditSchema>;\nexport type SeoAudit = typeof seoAudits.$inferSelect;\n\n// SEO Internal Links - Link structure analysis\nexport const seoInternalLinks = pgTable(\"seo_internal_links\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  sourceUrl: text(\"source_url\").notNull(),\n  targetUrl: text(\"target_url\").notNull(),\n  anchorText: text(\"anchor_text\"),\n  linkType: text(\"link_type\").default(\"internal\"), // internal, external, nofollow\n  isFollowed: boolean(\"is_followed\").default(true),\n  isBroken: boolean(\"is_broken\").default(false),\n  lastChecked: timestamp(\"last_checked\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_links_source_idx\").on(table.sourceUrl),\n  index(\"seo_links_target_idx\").on(table.targetUrl),\n  index(\"seo_links_broken_idx\").on(table.isBroken),\n]);\n\nexport type SeoInternalLink = typeof seoInternalLinks.$inferSelect;\n\n// SEO Images - Image optimization tracking\nexport const seoImages = pgTable(\"seo_images\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  imageUrl: text(\"image_url\").notNull(),\n  pageUrl: text(\"page_url\"),\n  originalFilename: text(\"original_filename\"),\n  altText: text(\"alt_text\"),\n  altTextGenerated: boolean(\"alt_text_generated\").default(false),\n  title: text(\"title\"),\n  fileSize: integer(\"file_size\"),\n  width: integer(\"width\"),\n  height: integer(\"height\"),\n  format: text(\"format\"),\n  isOptimized: boolean(\"is_optimized\").default(false),\n  hasLazyLoading: boolean(\"has_lazy_loading\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_images_url_idx\").on(table.imageUrl),\n  index(\"seo_images_page_idx\").on(table.pageUrl),\n  index(\"seo_images_optimized_idx\").on(table.isOptimized),\n]);\n\nexport type SeoImage = typeof seoImages.$inferSelect;\n\n// SEO Analytics Cache - Store GA/GSC data\nexport const seoAnalyticsCache = pgTable(\"seo_analytics_cache\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  dataType: text(\"data_type\").notNull(), // traffic, search_queries, pages, countries\n  dateRange: text(\"date_range\").notNull(), // 7d, 30d, 90d\n  data: text(\"data\").notNull(), // JSON\n  source: text(\"source\").default(\"gsc\"), // ga4, gsc\n  fetchedAt: timestamp(\"fetched_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_analytics_type_idx\").on(table.dataType),\n  index(\"seo_analytics_source_idx\").on(table.source),\n]);\n\nexport type SeoAnalyticsCache = typeof seoAnalyticsCache.$inferSelect;\n\n// SEO Content AI - AI-powered content suggestions\nexport const seoContentSuggestions = pgTable(\"seo_content_suggestions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  pageUrl: text(\"page_url\"),\n  suggestionType: text(\"suggestion_type\").notNull(), // keyword, topic, content, title, description\n  suggestion: text(\"suggestion\").notNull(),\n  reasoning: text(\"reasoning\"),\n  priority: text(\"priority\").default(\"medium\"), // low, medium, high\n  status: text(\"status\").default(\"pending\"), // pending, applied, dismissed\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_suggestions_page_idx\").on(table.pageUrl),\n  index(\"seo_suggestions_type_idx\").on(table.suggestionType),\n  index(\"seo_suggestions_status_idx\").on(table.status),\n]);\n\nexport type SeoContentSuggestion = typeof seoContentSuggestions.$inferSelect;\n\n// Schema Types Configuration\nexport const seoSchemaTypes = pgTable(\"seo_schema_types\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  schemaType: text(\"schema_type\").notNull().unique(), // Article, Product, FAQ, HowTo, LocalBusiness, etc.\n  isEnabled: boolean(\"is_enabled\").default(true),\n  defaultTemplate: text(\"default_template\"), // JSON template\n  description: text(\"description\"),\n  applicablePageTypes: text(\"applicable_page_types\").array(), // page, post, product\n}, (table) => [\n  index(\"seo_schema_types_type_idx\").on(table.schemaType),\n]);\n\nexport type SeoSchemaType = typeof seoSchemaTypes.$inferSelect;\n\n// Breadcrumb Settings\nexport const seoBreadcrumbs = pgTable(\"seo_breadcrumbs\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  pageUrl: text(\"page_url\").notNull().unique(),\n  breadcrumbPath: text(\"breadcrumb_path\").notNull(), // JSON array of {name, url}\n  customLabels: text(\"custom_labels\"), // JSON object for custom labels\n  isEnabled: boolean(\"is_enabled\").default(true),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"seo_breadcrumbs_url_idx\").on(table.pageUrl),\n]);\n\nexport type SeoBreadcrumb = typeof seoBreadcrumbs.$inferSelect;\n\n// Request schemas for API validation\nexport const createSeoRedirectSchema = z.object({\n  sourceUrl: z.string().min(1, \"Source URL is required\"),\n  targetUrl: z.string().min(1, \"Target URL is required\"),\n  redirectType: z.enum([\"301\", \"302\", \"307\"]).default(\"301\"),\n  isRegex: z.boolean().default(false),\n  isActive: z.boolean().default(true),\n  notes: z.string().optional(),\n});\n\nexport const updateSeoPageSchema = z.object({\n  focusKeyword: z.string().optional(),\n  secondaryKeywords: z.array(z.string()).optional(),\n  metaTitle: z.string().optional(),\n  metaDescription: z.string().optional(),\n  canonicalUrl: z.string().optional(),\n  robots: z.string().optional(),\n  ogTitle: z.string().optional(),\n  ogDescription: z.string().optional(),\n  ogImage: z.string().optional(),\n  twitterTitle: z.string().optional(),\n  twitterDescription: z.string().optional(),\n  twitterImage: z.string().optional(),\n  schemaType: z.string().optional(),\n  schemaData: z.string().optional(),\n  inSitemap: z.boolean().optional(),\n  sitemapPriority: z.string().optional(),\n  sitemapChangefreq: z.string().optional(),\n});\n\nexport const createSeoKeywordSchema = z.object({\n  keyword: z.string().min(1, \"Keyword is required\"),\n  targetUrl: z.string().optional(),\n  trackingEnabled: z.boolean().default(false),\n});\n\nexport const runSeoAuditSchema = z.object({\n  auditType: z.enum([\"full\", \"quick\", \"custom\"]).default(\"full\"),\n  pageUrls: z.array(z.string()).optional(),\n});\n\nexport type CreateSeoRedirect = z.infer<typeof createSeoRedirectSchema>;\nexport type UpdateSeoPage = z.infer<typeof updateSeoPageSchema>;\nexport type CreateSeoKeyword = z.infer<typeof createSeoKeywordSchema>;\nexport type RunSeoAudit = z.infer<typeof runSeoAuditSchema>;\n","path":null,"size_bytes":30267,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1148,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-fit\", defaultClassNames.root),\n        months: cn(\n          \"relative flex flex-col gap-4 md:flex-row\",\n          defaultClassNames.months\n        ),\n        month: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n        nav: cn(\n          \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n          defaultClassNames.nav\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          \"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn(\n          \"bg-popover absolute inset-0 opacity-0\",\n          defaultClassNames.dropdown\n        ),\n        caption_label: cn(\n          \"select-none font-medium\",\n          captionLayout === \"label\"\n            ? \"text-sm\"\n            : \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\",\n          defaultClassNames.caption_label\n        ),\n        table: \"w-full border-collapse\",\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\n        weekday: cn(\n          \"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n          defaultClassNames.weekday\n        ),\n        week: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n        week_number_header: cn(\n          \"w-[--cell-size] select-none\",\n          defaultClassNames.week_number_header\n        ),\n        week_number: cn(\n          \"text-muted-foreground select-none text-[0.8rem]\",\n          defaultClassNames.week_number\n        ),\n        day: cn(\n          \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n          defaultClassNames.day\n        ),\n        range_start: cn(\n          \"bg-accent rounded-l-md\",\n          defaultClassNames.range_start\n        ),\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n        range_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n        today: cn(\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n          defaultClassNames.today\n        ),\n        outside: cn(\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\n          defaultClassNames.outside\n        ),\n        disabled: cn(\n          \"text-muted-foreground opacity-50\",\n          defaultClassNames.disabled\n        ),\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (\n            <div\n              data-slot=\"calendar\"\n              ref={rootRef}\n              className={cn(className)}\n              {...props}\n            />\n          )\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (\n              <ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\n            )\n          }\n\n          if (orientation === \"right\") {\n            return (\n              <ChevronRightIcon\n                className={cn(\"size-4\", className)}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","path":null,"size_bytes":7569,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":724,"size_tokens":null},"client/src/pages/Success.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation, useSearch } from \"wouter\";\nimport { CheckCircle, ArrowRight, Download, Youtube, Mail, Clock, Zap, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\n\ninterface OrderDetails {\n  order: {\n    id: string;\n    realProductName: string;\n    amount: number;\n    customerEmail: string;\n  };\n  paymentStatus: string;\n}\n\nexport default function Success() {\n  const [, setLocation] = useLocation();\n  const search = useSearch();\n  const [orderDetails, setOrderDetails] = useState<OrderDetails | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    document.title = \"Order Confirmed | StreamStickPro\";\n    \n    const params = new URLSearchParams(search);\n    const sessionId = params.get(\"session_id\");\n    \n    if (sessionId) {\n      fetch(`/api/checkout/session/${sessionId}`)\n        .then(res => res.json())\n        .then(data => {\n          if (data.order) {\n            setOrderDetails(data);\n          }\n          setLoading(false);\n        })\n        .catch(() => setLoading(false));\n    } else {\n      setLoading(false);\n    }\n  }, [search]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-black text-foreground flex flex-col items-center justify-center p-4\">\n      <Card className=\"max-w-2xl w-full border-primary/30 bg-card/50 backdrop-blur shadow-2xl shadow-primary/10\">\n        <CardHeader className=\"text-center pb-2\">\n          <div className=\"mx-auto w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 animate-pulse\">\n            <CheckCircle className=\"w-12 h-12 text-green-500\" />\n          </div>\n          <CardTitle className=\"text-4xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent\">\n            Order Confirmed!\n          </CardTitle>\n          <CardDescription className=\"text-lg mt-2\">\n            Thank you for your purchase\n          </CardDescription>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-8\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n            </div>\n          ) : orderDetails ? (\n            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-muted-foreground\">Order ID</span>\n                <span className=\"font-mono text-sm\">{orderDetails.order.id.slice(0, 8)}...</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-muted-foreground\">Product</span>\n                <span className=\"font-semibold\">{orderDetails.order.realProductName}</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-muted-foreground\">Amount</span>\n                <span className=\"font-bold text-primary\">${(orderDetails.order.amount / 100).toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-muted-foreground\">Email</span>\n                <span className=\"text-sm\">{orderDetails.order.customerEmail}</span>\n              </div>\n            </div>\n          ) : null}\n\n          <div className=\"grid gap-4\">\n            <div className=\"flex items-start gap-4 p-4 bg-blue-500/10 rounded-xl border border-blue-500/20\">\n              <Mail className=\"w-6 h-6 text-blue-400 shrink-0 mt-0.5\" />\n              <div>\n                <h4 className=\"font-semibold text-blue-200\">Check Your Email</h4>\n                <p className=\"text-sm text-blue-300/80 mt-1\">\n                  You'll receive an order confirmation email right away.\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-start gap-4 p-4 bg-purple-500/10 rounded-xl border border-purple-500/20\">\n              <Clock className=\"w-6 h-6 text-purple-400 shrink-0 mt-0.5\" />\n              <div>\n                <h4 className=\"font-semibold text-purple-200\">Credentials Coming Soon</h4>\n                <p className=\"text-sm text-purple-300/80 mt-1\">\n                  Your login credentials will be sent within 5 minutes. Check your spam folder!\n                </p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"aspect-video rounded-xl overflow-hidden bg-black border border-white/10 relative group\">\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-zinc-900/80\">\n              <Youtube className=\"w-16 h-16 text-red-600 mb-3\" />\n              <p className=\"text-white font-medium text-lg\">Setup Guide Video</p>\n              <p className=\"text-sm text-gray-400 mt-1\">Coming Soon</p>\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-r from-primary/10 to-purple-500/10 rounded-xl p-6 border border-primary/20\">\n            <h4 className=\"font-semibold flex items-center gap-2 mb-4\">\n              <Zap className=\"w-5 h-5 text-primary\" /> Quick Start Guide\n            </h4>\n            <ol className=\"space-y-3 text-sm text-muted-foreground\">\n              <li className=\"flex gap-3\">\n                <span className=\"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold shrink-0\">1</span>\n                <span>Check your email for login credentials</span>\n              </li>\n              <li className=\"flex gap-3\">\n                <span className=\"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold shrink-0\">2</span>\n                <span>Download the Live TV app on your device</span>\n              </li>\n              <li className=\"flex gap-3\">\n                <span className=\"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold shrink-0\">3</span>\n                <span>Enter your credentials and start streaming!</span>\n              </li>\n            </ol>\n          </div>\n\n          <Button \n            onClick={() => setLocation(\"/\")} \n            className=\"w-full bg-primary hover:bg-primary/90 h-14 text-lg font-semibold shadow-lg shadow-primary/25\"\n            data-testid=\"button-return-store\"\n          >\n            Return to Store\n            <ArrowRight className=\"w-5 h-5 ml-2\" />\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":6688,"size_tokens":null},"server/storage.ts":{"content":"import { eq, desc, gte, and, ilike, or, lt } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport {\n  type User,\n  type InsertUser,\n  type Order,\n  type InsertOrder,\n  type RealProduct,\n  type InsertRealProduct,\n  type Visitor,\n  type InsertVisitor,\n  type PageEdit,\n  type InsertPageEdit,\n  type Customer,\n  type InsertCustomer,\n  type BlogPost,\n  type InsertBlogPost,\n  type UpdateBlogPost,\n  type PasswordResetToken,\n  type InsertPasswordResetToken,\n  type AbandonedCart,\n  type InsertAbandonedCart,\n  users,\n  orders,\n  realProducts,\n  visitors,\n  pageEdits,\n  customers,\n  blogPosts,\n  passwordResetTokens,\n  abandonedCarts,\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  getCustomer(id: string): Promise<Customer | undefined>;\n  getCustomerByUsername(username: string): Promise<Customer | undefined>;\n  getCustomerByEmail(email: string): Promise<Customer | undefined>;\n  createCustomer(customer: InsertCustomer): Promise<Customer>;\n  updateCustomer(id: string, updates: Partial<InsertCustomer>): Promise<Customer | undefined>;\n  deleteCustomer(id: string): Promise<boolean>;\n  getAllCustomers(): Promise<Customer[]>;\n  searchCustomers(query: string): Promise<Customer[]>;\n  incrementCustomerOrders(id: string): Promise<Customer | undefined>;\n  getCustomerOrders(customerId: string): Promise<Order[]>;\n  \n  createOrder(order: InsertOrder): Promise<Order>;\n  getOrder(id: string): Promise<Order | undefined>;\n  getOrderByCheckoutSession(sessionId: string): Promise<Order | undefined>;\n  getOrderByPaymentIntent(paymentIntentId: string): Promise<Order | undefined>;\n  updateOrder(id: string, updates: Partial<InsertOrder>): Promise<Order | undefined>;\n  getOrdersByEmail(email: string): Promise<Order[]>;\n  getAllOrders(): Promise<Order[]>;\n  getFireStickOrdersForFulfillment(): Promise<Order[]>;\n  getIPTVOrders(): Promise<Order[]>;\n  \n  getRealProducts(): Promise<RealProduct[]>;\n  getRealProduct(id: string): Promise<RealProduct | undefined>;\n  getRealProductByShadowId(shadowProductId: string): Promise<RealProduct | undefined>;\n  createRealProduct(product: InsertRealProduct): Promise<RealProduct>;\n  updateRealProduct(id: string, updates: Partial<InsertRealProduct>): Promise<RealProduct | undefined>;\n  deleteRealProduct(id: string): Promise<boolean>;\n  \n  trackVisitor(visitor: InsertVisitor): Promise<Visitor>;\n  getVisitors(since?: Date): Promise<Visitor[]>;\n  getVisitorStats(): Promise<{\n    totalVisitors: number;\n    todayVisitors: number;\n    weekVisitors: number;\n    onlineNow: number;\n    recentVisitors: Visitor[];\n  }>;\n  \n  getPageEdits(pageId: string): Promise<PageEdit[]>;\n  getPageEdit(pageId: string, sectionId: string, elementId: string): Promise<PageEdit | undefined>;\n  upsertPageEdit(edit: InsertPageEdit): Promise<PageEdit>;\n  deletePageEdit(id: string): Promise<boolean>;\n  getAllPageEdits(): Promise<PageEdit[]>;\n  \n  getBlogPost(id: string): Promise<BlogPost | undefined>;\n  getBlogPostBySlug(slug: string): Promise<BlogPost | undefined>;\n  getBlogPostsPublished(): Promise<BlogPost[]>;\n  createBlogPost(post: InsertBlogPost): Promise<BlogPost>;\n  updateBlogPost(id: string, updates: UpdateBlogPost): Promise<BlogPost | undefined>;\n  deleteBlogPost(id: string): Promise<boolean>;\n  getAllBlogPosts(): Promise<BlogPost[]>;\n  getBlogPostsByCategory(category: string): Promise<BlogPost[]>;\n  getFeaturedBlogPosts(): Promise<BlogPost[]>;\n  searchBlogPosts(query: string): Promise<BlogPost[]>;\n  \n  createPasswordResetToken(token: InsertPasswordResetToken): Promise<PasswordResetToken>;\n  getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined>;\n  markPasswordResetTokenUsed(id: string): Promise<void>;\n  deleteExpiredPasswordResetTokens(): Promise<void>;\n  \n  createAbandonedCart(cart: InsertAbandonedCart): Promise<AbandonedCart>;\n  getAbandonedCart(id: string): Promise<AbandonedCart | undefined>;\n  getAbandonedCartByEmail(email: string): Promise<AbandonedCart | undefined>;\n  getAbandonedCartsToRecover(): Promise<AbandonedCart[]>;\n  markAbandonedCartRecovered(id: string, orderId: string): Promise<void>;\n  markAbandonedCartEmailSent(id: string): Promise<void>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  async getCustomer(id: string): Promise<Customer | undefined> {\n    const [customer] = await db.select().from(customers).where(eq(customers.id, id));\n    return customer;\n  }\n\n  async getCustomerByUsername(username: string): Promise<Customer | undefined> {\n    const [customer] = await db.select().from(customers).where(eq(customers.username, username));\n    return customer;\n  }\n\n  async getCustomerByEmail(email: string): Promise<Customer | undefined> {\n    const [customer] = await db.select().from(customers).where(eq(customers.email, email));\n    return customer;\n  }\n\n  async createCustomer(customer: InsertCustomer): Promise<Customer> {\n    const [newCustomer] = await db.insert(customers).values(customer).returning();\n    return newCustomer;\n  }\n\n  async updateCustomer(id: string, updates: Partial<InsertCustomer>): Promise<Customer | undefined> {\n    const [customer] = await db.update(customers)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(customers.id, id))\n      .returning();\n    return customer;\n  }\n\n  async deleteCustomer(id: string): Promise<boolean> {\n    const result = await db.delete(customers).where(eq(customers.id, id)).returning();\n    return result.length > 0;\n  }\n\n  async getAllCustomers(): Promise<Customer[]> {\n    return db.select().from(customers).orderBy(desc(customers.createdAt));\n  }\n\n  async searchCustomers(query: string): Promise<Customer[]> {\n    const searchTerm = `%${query}%`;\n    return db.select().from(customers).where(\n      or(\n        ilike(customers.username, searchTerm),\n        ilike(customers.email, searchTerm),\n        ilike(customers.fullName, searchTerm)\n      )\n    ).orderBy(desc(customers.createdAt));\n  }\n\n  async incrementCustomerOrders(id: string): Promise<Customer | undefined> {\n    const customer = await this.getCustomer(id);\n    if (!customer) return undefined;\n    \n    const [updated] = await db.update(customers)\n      .set({ \n        totalOrders: (customer.totalOrders || 0) + 1,\n        lastOrderAt: new Date(),\n        updatedAt: new Date()\n      })\n      .where(eq(customers.id, id))\n      .returning();\n    return updated;\n  }\n\n  async getCustomerOrders(customerId: string): Promise<Order[]> {\n    return db.select().from(orders)\n      .where(eq(orders.customerId, customerId))\n      .orderBy(desc(orders.createdAt));\n  }\n\n  async createOrder(order: InsertOrder): Promise<Order> {\n    const [newOrder] = await db.insert(orders).values(order).returning();\n    return newOrder;\n  }\n\n  async getOrder(id: string): Promise<Order | undefined> {\n    const [order] = await db.select().from(orders).where(eq(orders.id, id));\n    return order;\n  }\n\n  async getOrderByCheckoutSession(sessionId: string): Promise<Order | undefined> {\n    const [order] = await db.select().from(orders).where(eq(orders.stripeCheckoutSessionId, sessionId));\n    return order;\n  }\n\n  async getOrderByPaymentIntent(paymentIntentId: string): Promise<Order | undefined> {\n    const [order] = await db.select().from(orders).where(eq(orders.stripePaymentIntentId, paymentIntentId));\n    return order;\n  }\n\n  async updateOrder(id: string, updates: Partial<InsertOrder>): Promise<Order | undefined> {\n    const [order] = await db.update(orders).set(updates).where(eq(orders.id, id)).returning();\n    return order;\n  }\n\n  async getOrdersByEmail(email: string): Promise<Order[]> {\n    return db.select().from(orders).where(eq(orders.customerEmail, email));\n  }\n\n  async getAllOrders(): Promise<Order[]> {\n    return db.select().from(orders).orderBy(desc(orders.createdAt));\n  }\n\n  async getFireStickOrdersForFulfillment(): Promise<Order[]> {\n    const allOrders = await db.select().from(orders)\n      .where(eq(orders.status, 'paid'))\n      .orderBy(desc(orders.createdAt));\n    \n    return allOrders.filter(order => {\n      const productName = (order.realProductName || '').toLowerCase();\n      return productName.includes('fire') || productName.includes('stick') || productName.includes('firestick');\n    });\n  }\n\n  async getIPTVOrders(): Promise<Order[]> {\n    const allOrders = await db.select().from(orders)\n      .where(eq(orders.status, 'paid'))\n      .orderBy(desc(orders.createdAt));\n    \n    return allOrders.filter(order => {\n      const productName = (order.realProductName || '').toLowerCase();\n      return productName.includes('iptv') || productName.includes('subscription') || \n             productName.includes('month') || productName.includes('year');\n    });\n  }\n\n  async getRealProducts(): Promise<RealProduct[]> {\n    return db.select().from(realProducts);\n  }\n\n  async getRealProduct(id: string): Promise<RealProduct | undefined> {\n    const [product] = await db.select().from(realProducts).where(eq(realProducts.id, id));\n    return product;\n  }\n\n  async getRealProductByShadowId(shadowProductId: string): Promise<RealProduct | undefined> {\n    const [product] = await db.select().from(realProducts).where(eq(realProducts.shadowProductId, shadowProductId));\n    return product;\n  }\n\n  async createRealProduct(product: InsertRealProduct): Promise<RealProduct> {\n    const [newProduct] = await db.insert(realProducts).values(product).returning();\n    return newProduct;\n  }\n\n  async updateRealProduct(id: string, updates: Partial<InsertRealProduct>): Promise<RealProduct | undefined> {\n    const [product] = await db.update(realProducts).set(updates).where(eq(realProducts.id, id)).returning();\n    return product;\n  }\n\n  async deleteRealProduct(id: string): Promise<boolean> {\n    const result = await db.delete(realProducts).where(eq(realProducts.id, id)).returning();\n    return result.length > 0;\n  }\n\n  async trackVisitor(visitor: InsertVisitor): Promise<Visitor> {\n    const [newVisitor] = await db.insert(visitors).values(visitor).returning();\n    return newVisitor;\n  }\n\n  async getVisitors(since?: Date): Promise<Visitor[]> {\n    if (since) {\n      return db.select().from(visitors).where(gte(visitors.createdAt, since)).orderBy(desc(visitors.createdAt));\n    }\n    return db.select().from(visitors).orderBy(desc(visitors.createdAt)).limit(1000);\n  }\n\n  async getVisitorStats(): Promise<{\n    totalVisitors: number;\n    todayVisitors: number;\n    weekVisitors: number;\n    onlineNow: number;\n    recentVisitors: Visitor[];\n  }> {\n    const now = new Date();\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n    const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n    const fiveMinutesAgo = new Date(now.getTime() - 5 * 60 * 1000);\n\n    const allVisitors = await db.select().from(visitors).orderBy(desc(visitors.createdAt)).limit(5000);\n    \n    const totalVisitors = allVisitors.length;\n    const todayVisitors = allVisitors.filter(v => v.createdAt && new Date(v.createdAt) >= today).length;\n    const weekVisitors = allVisitors.filter(v => v.createdAt && new Date(v.createdAt) >= weekAgo).length;\n    const onlineNow = allVisitors.filter(v => v.createdAt && new Date(v.createdAt) >= fiveMinutesAgo).length;\n    const recentVisitors = allVisitors.slice(0, 50);\n\n    return {\n      totalVisitors,\n      todayVisitors,\n      weekVisitors,\n      onlineNow,\n      recentVisitors,\n    };\n  }\n\n  async getPageEdits(pageId: string): Promise<PageEdit[]> {\n    return db.select().from(pageEdits).where(\n      and(eq(pageEdits.pageId, pageId), eq(pageEdits.isActive, true))\n    );\n  }\n\n  async getPageEdit(pageId: string, sectionId: string, elementId: string): Promise<PageEdit | undefined> {\n    const [edit] = await db.select().from(pageEdits).where(\n      and(\n        eq(pageEdits.pageId, pageId),\n        eq(pageEdits.sectionId, sectionId),\n        eq(pageEdits.elementId, elementId)\n      )\n    );\n    return edit;\n  }\n\n  async upsertPageEdit(edit: InsertPageEdit): Promise<PageEdit> {\n    const existing = await this.getPageEdit(edit.pageId, edit.sectionId, edit.elementId);\n    \n    if (existing) {\n      const [updated] = await db.update(pageEdits)\n        .set({ ...edit, updatedAt: new Date() })\n        .where(eq(pageEdits.id, existing.id))\n        .returning();\n      return updated;\n    } else {\n      const [newEdit] = await db.insert(pageEdits).values(edit).returning();\n      return newEdit;\n    }\n  }\n\n  async deletePageEdit(id: string): Promise<boolean> {\n    const result = await db.delete(pageEdits).where(eq(pageEdits.id, id)).returning();\n    return result.length > 0;\n  }\n\n  async getAllPageEdits(): Promise<PageEdit[]> {\n    return db.select().from(pageEdits).where(eq(pageEdits.isActive, true));\n  }\n\n  async getBlogPost(id: string): Promise<BlogPost | undefined> {\n    const [post] = await db.select().from(blogPosts).where(eq(blogPosts.id, id));\n    return post;\n  }\n\n  async getBlogPostBySlug(slug: string): Promise<BlogPost | undefined> {\n    const [post] = await db.select().from(blogPosts).where(eq(blogPosts.slug, slug));\n    return post;\n  }\n\n  async getBlogPostsPublished(): Promise<BlogPost[]> {\n    return db.select().from(blogPosts)\n      .where(eq(blogPosts.published, true))\n      .orderBy(desc(blogPosts.publishedAt));\n  }\n\n  async createBlogPost(post: InsertBlogPost): Promise<BlogPost> {\n    const [newPost] = await db.insert(blogPosts).values(post).returning();\n    return newPost;\n  }\n\n  async updateBlogPost(id: string, updates: UpdateBlogPost): Promise<BlogPost | undefined> {\n    const [post] = await db.update(blogPosts)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(blogPosts.id, id))\n      .returning();\n    return post;\n  }\n\n  async deleteBlogPost(id: string): Promise<boolean> {\n    const result = await db.delete(blogPosts).where(eq(blogPosts.id, id)).returning();\n    return result.length > 0;\n  }\n\n  async getAllBlogPosts(): Promise<BlogPost[]> {\n    return db.select().from(blogPosts).orderBy(desc(blogPosts.createdAt));\n  }\n\n  async getBlogPostsByCategory(category: string): Promise<BlogPost[]> {\n    return db.select().from(blogPosts)\n      .where(eq(blogPosts.category, category))\n      .orderBy(desc(blogPosts.createdAt));\n  }\n\n  async getFeaturedBlogPosts(): Promise<BlogPost[]> {\n    return db.select().from(blogPosts)\n      .where(and(eq(blogPosts.featured, true), eq(blogPosts.published, true)))\n      .orderBy(desc(blogPosts.publishedAt));\n  }\n\n  async searchBlogPosts(query: string): Promise<BlogPost[]> {\n    const searchTerm = `%${query}%`;\n    return db.select().from(blogPosts).where(\n      or(\n        ilike(blogPosts.title, searchTerm),\n        ilike(blogPosts.excerpt, searchTerm),\n        ilike(blogPosts.content, searchTerm)\n      )\n    ).orderBy(desc(blogPosts.createdAt));\n  }\n\n  async createPasswordResetToken(token: InsertPasswordResetToken): Promise<PasswordResetToken> {\n    const [resetToken] = await db.insert(passwordResetTokens).values(token).returning();\n    return resetToken;\n  }\n\n  async getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined> {\n    const [resetToken] = await db.select().from(passwordResetTokens)\n      .where(and(\n        eq(passwordResetTokens.token, token),\n        eq(passwordResetTokens.used, false),\n        gte(passwordResetTokens.expiresAt, new Date())\n      ));\n    return resetToken;\n  }\n\n  async markPasswordResetTokenUsed(id: string): Promise<void> {\n    await db.update(passwordResetTokens)\n      .set({ used: true })\n      .where(eq(passwordResetTokens.id, id));\n  }\n\n  async deleteExpiredPasswordResetTokens(): Promise<void> {\n    await db.delete(passwordResetTokens)\n      .where(lt(passwordResetTokens.expiresAt, new Date()));\n  }\n\n  async createAbandonedCart(cart: InsertAbandonedCart): Promise<AbandonedCart> {\n    const [abandonedCart] = await db.insert(abandonedCarts).values(cart).returning();\n    return abandonedCart;\n  }\n\n  async getAbandonedCart(id: string): Promise<AbandonedCart | undefined> {\n    const [cart] = await db.select().from(abandonedCarts).where(eq(abandonedCarts.id, id));\n    return cart;\n  }\n\n  async getAbandonedCartByEmail(email: string): Promise<AbandonedCart | undefined> {\n    const [cart] = await db.select().from(abandonedCarts)\n      .where(and(\n        eq(abandonedCarts.email, email),\n        eq(abandonedCarts.converted, false)\n      ))\n      .orderBy(desc(abandonedCarts.createdAt));\n    return cart;\n  }\n\n  async getAbandonedCartsToRecover(): Promise<AbandonedCart[]> {\n    const thirtyMinutesAgo = new Date(Date.now() - 30 * 60 * 1000);\n    return db.select().from(abandonedCarts)\n      .where(and(\n        eq(abandonedCarts.recoveryEmailSent, false),\n        eq(abandonedCarts.converted, false),\n        lt(abandonedCarts.createdAt, thirtyMinutesAgo)\n      ))\n      .orderBy(desc(abandonedCarts.createdAt));\n  }\n\n  async markAbandonedCartRecovered(id: string, orderId: string): Promise<void> {\n    await db.update(abandonedCarts)\n      .set({ \n        converted: true, \n        convertedOrderId: orderId,\n        updatedAt: new Date()\n      })\n      .where(eq(abandonedCarts.id, id));\n  }\n\n  async markAbandonedCartEmailSent(id: string): Promise<void> {\n    await db.update(abandonedCarts)\n      .set({ \n        recoveryEmailSent: true, \n        recoveryEmailSentAt: new Date(),\n        updatedAt: new Date()\n      })\n      .where(eq(abandonedCarts.id, id));\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":17989,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1486,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2143,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":768,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/ui/spinner.tsx":{"content":"import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","path":null,"size_bytes":331,"size_tokens":null},"client/src/pages/MainStore.tsx":{"content":"import { useEffect, useState, useRef } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { motion, useScroll, useTransform, useInView } from \"framer-motion\";\nimport { ShoppingCart, Flame, Check, Star, Zap, Mail, DollarSign, CreditCard, MessageCircle, Play, X, Gift, ChevronRight, Heart } from \"lucide-react\";\nimport { useCart, useWishlist } from \"@/lib/store\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { getStorageUrl } from \"@/lib/supabase\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { SportsCarousel } from \"@/components/SportsCarousel\";\nimport { ExitPopup } from \"@/components/ExitPopup\";\nimport { DemoVideo } from \"@/components/DemoVideo\";\nimport { FreeTrial } from \"@/components/FreeTrial\";\nimport { TrustBadges, PaymentBadges, GuaranteeBadge } from \"@/components/TrustBadges\";\nimport { TrustStats } from \"@/components/SocialProof\";\nimport { SocialProofPopup } from \"@/components/SocialProofPopup\";\nimport { CustomerReviews } from \"@/components/CustomerReviews\";\nimport { ChannelLogos } from \"@/components/ChannelLogos\";\nimport { SavingsCalculator } from \"@/components/SavingsCalculator\";\nimport { StickyMobileCTA, ScrollToTopButton } from \"@/components/StickyMobileCTA\";\nimport { SEOSchema } from \"@/components/SEOSchema\";\nimport { ProductQuickView, QuickViewButton } from \"@/components/ProductQuickView\";\nimport { MobileNav } from \"@/components/MobileNav\";\nimport { CountdownTimer } from \"@/components/CountdownTimer\";\nimport { ComparisonTable } from \"@/components/ComparisonTable\";\nimport { FloatingCTA } from \"@/components/FloatingCTA\";\nimport { AnimatedCounter } from \"@/components/AnimatedCounter\";\n\nimport firestickHdImg from \"@assets/OIP_(11)99_1764978938773.jpg\";\nimport firestick4kImg from \"@assets/71+Pvh7WB6L._AC_SL1500__1764978938770.jpg\";\nimport firestick4kMaxImg from \"@assets/71E1te69hZL._AC_SL1500__1764978938773.jpg\";\nimport onn4kImg from \"@assets/s-l1600onnbok_1766008738774.webp\";\nimport onn4kProImg from \"@assets/OIPonnbox4k_1766008832103.webp\";\nimport iptvImg from \"@assets/OIF_1764979270800.jpg\";\nimport fallbackHeroImg from \"@assets/stock_images/amazon_fire_tv_stick_cc445778.jpg\";\n\nconst heroImg = \"https://emlqlmfzqsnqokrqvmcm.supabase.co/storage/v1/object/public/imiges/hero-firestick-breakout.jpg\";\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n  description: string;\n  features: string[];\n  image: string;\n  category: \"firestick\" | \"iptv\";\n  badge: string;\n  popular?: boolean;\n  period?: string;\n}\n\ninterface IPTVPricing {\n  duration: string;\n  durationLabel: string;\n  badge: string;\n  popular?: boolean;\n  description: string;\n  features: string[];\n  prices: { devices: number; price: number; productId: string }[];\n}\n\nconst iptvPricingMatrix: IPTVPricing[] = [\n  {\n    duration: \"1mo\",\n    durationLabel: \"1 Month\",\n    badge: \"STARTER\",\n    description: \"Premium Live TV streaming plan with extensive content library, thousands of movies & TV shows, and comprehensive sports coverage.\",\n    features: [\"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"4K/HD Quality Streaming\", \"Works on All Devices\", \"Instant Email Delivery\", \"24/7 Customer Support\"],\n    prices: [\n      { devices: 1, price: 15, productId: \"iptv-1mo-1d\" },\n      { devices: 2, price: 25, productId: \"iptv-1mo-2d\" },\n      { devices: 3, price: 35, productId: \"iptv-1mo-3d\" },\n      { devices: 4, price: 40, productId: \"iptv-1mo-4d\" },\n      { devices: 5, price: 45, productId: \"iptv-1mo-5d\" },\n    ],\n  },\n  {\n    duration: \"3mo\",\n    durationLabel: \"3 Months\",\n    badge: \"POPULAR\",\n    popular: true,\n    description: \"Save more with 3 months! Premium Live TV plan with extensive content library, thousands of movies & shows, and comprehensive sports coverage.\",\n    features: [\"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"4K/HD Quality Streaming\", \"Works on All Devices\", \"Instant Email Delivery\", \"Priority Customer Support\"],\n    prices: [\n      { devices: 1, price: 25, productId: \"iptv-3mo-1d\" },\n      { devices: 2, price: 40, productId: \"iptv-3mo-2d\" },\n      { devices: 3, price: 55, productId: \"iptv-3mo-3d\" },\n      { devices: 4, price: 65, productId: \"iptv-3mo-4d\" },\n      { devices: 5, price: 75, productId: \"iptv-3mo-5d\" },\n    ],\n  },\n  {\n    duration: \"6mo\",\n    durationLabel: \"6 Months\",\n    badge: \"GREAT VALUE\",\n    description: \"10% OFF! 6-month premium Live TV streaming plan with extensive content library, thousands of movies & shows, and comprehensive sports coverage.\",\n    features: [\"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"4K/HD Quality Streaming\", \"Works on All Devices\", \"Instant Email Delivery\", \"VIP Customer Support\"],\n    prices: [\n      { devices: 1, price: 40, productId: \"iptv-6mo-1d\" },\n      { devices: 2, price: 65, productId: \"iptv-6mo-2d\" },\n      { devices: 3, price: 85, productId: \"iptv-6mo-3d\" },\n      { devices: 4, price: 100, productId: \"iptv-6mo-4d\" },\n      { devices: 5, price: 125, productId: \"iptv-6mo-5d\" },\n    ],\n  },\n  {\n    duration: \"1yr\",\n    durationLabel: \"1 Year\",\n    badge: \"BEST VALUE\",\n    description: \"Best deal - Full year premium Live TV plan with extensive content library, thousands of movies & shows, and comprehensive sports coverage!\",\n    features: [\"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"4K/HD Quality Streaming\", \"Works on All Devices\", \"Instant Email Delivery\", \"Premium VIP Support\", \"Setup Assistance Included\"],\n    prices: [\n      { devices: 1, price: 65, productId: \"iptv-1yr-1d\" },\n      { devices: 2, price: 100, productId: \"iptv-1yr-2d\" },\n      { devices: 3, price: 140, productId: \"iptv-1yr-3d\" },\n      { devices: 4, price: 190, productId: \"iptv-1yr-4d\" },\n      { devices: 5, price: 220, productId: \"iptv-1yr-5d\" },\n    ],\n  },\n];\n\nconst defaultProducts: Product[] = [\n  {\n    id: \"firestick-hd\",\n    name: \"StreamStick Starter Kit\",\n    price: 130,\n    description: \"Get fully loaded in just 10 minutes! Your Fire Stick arrives ready - simply plug in, enter your credentials (sent instantly after purchase), and follow our quick setup video. You'll unlock an extensive live content library, thousands of movies & TV shows, and comprehensive sports coverage including NFL, NBA, UFC, and live events. Includes 1 Year Live TV plan and 24/7 customer support.\",\n    features: [\"1080p Full HD Resolution\", \"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"4K/HD Quality Streaming\", \"Works on Multiple Devices\", \"Instant Credential Delivery\", \"10-Minute Easy Setup\", \"Get Fully Loaded Fast\", \"24/7 Customer Support\"],\n    image: firestickHdImg,\n    category: \"firestick\",\n    badge: \"STARTER\"\n  },\n  {\n    id: \"firestick-4k\",\n    name: \"StreamStick 4K Kit\",\n    price: 140,\n    description: \"Best-selling Fire Stick - get fully loaded in 10 minutes! Plug in, enter your instant credentials, follow our setup video, and you're streaming in 4K with Dolby Vision. Enjoy an extensive live content library, thousands of movies & TV shows, and all major sports - NFL, NBA, UFC, and live events. Includes 1 Year premium Live TV plan and 24/7 support.\",\n    features: [\"4K Ultra HD Resolution\", \"Dolby Vision & HDR10+\", \"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"Premium Live TV Included\", \"Works on Multiple Devices\", \"Instant Credential Delivery\", \"10-Minute Easy Setup\", \"24/7 Customer Support\"],\n    image: firestick4kImg,\n    category: \"firestick\",\n    badge: \"BEST VALUE\",\n    popular: true\n  },\n  {\n    id: \"firestick-4k-max\",\n    name: \"StreamStick Max Kit\",\n    price: 150,\n    description: \"Ultimate 4K Max with Wi-Fi 6E - get fully loaded in just 10 minutes! Your device arrives ready. Plug in, use your instant credentials, follow our quick setup video, and experience breathtaking 4K with Dolby Atmos sound. Access an extensive live content library, thousands of movies & shows, and all major sports. Includes 1 Year premium Live TV plan and priority 24/7 support.\",\n    features: [\"4K Ultra HD with Wi-Fi 6E\", \"Dolby Vision, Atmos & HDR10+\", \"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"Premium Live TV Included\", \"Works on Multiple Devices\", \"Instant Credential Delivery\", \"10-Minute Easy Setup\", \"Priority 24/7 Support\"],\n    image: firestick4kMaxImg,\n    category: \"firestick\",\n    badge: \"PREMIUM\"\n  },\n  {\n    id: \"android-onn-4k\",\n    name: \"ONN 4K Streaming Device Kit\",\n    price: 140,\n    description: \"Upgrade from Fire Stick to Android! The ONN 4K Streaming Device with Google TV delivers the same great features you love, plus built-in storage for live DVR recording. Get fully loaded in 10 minutes - plug in, enter your instant credentials, and access an extensive live content library, thousands of movies & shows, and comprehensive sports coverage. Includes 1 Year Live TV plan and 24/7 support.\",\n    features: [\"4K Ultra HD with Google TV\", \"Built-in DVR Recording Storage\", \"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"Google Assistant Built-in\", \"Chromecast Built-in\", \"Instant Credential Delivery\", \"10-Minute Easy Setup\", \"24/7 Customer Support\"],\n    image: onn4kImg,\n    category: \"firestick\",\n    badge: \"ANDROID\"\n  },\n  {\n    id: \"android-onn-pro\",\n    name: \"ONN 4K Ultra HD Pro Kit\",\n    price: 160,\n    description: \"The ultimate Android streaming upgrade! ONN 4K Ultra HD Pro features expanded storage for extensive DVR recording, Google TV interface, and premium performance. Get fully loaded in 10 minutes - plug in, use your instant credentials, and experience crystal-clear 4K with Dolby Audio. Access an extensive live content library, thousands of movies & shows, and all major sports. Includes 1 Year premium Live TV plan and priority 24/7 support.\",\n    features: [\"4K Ultra HD with Dolby Audio\", \"Expanded DVR Recording Storage\", \"Premium Performance Processor\", \"Extensive Live Content Library\", \"Thousands of Movies & Shows\", \"Comprehensive Sports Coverage\", \"Google Assistant & Chromecast\", \"Instant Credential Delivery\", \"10-Minute Easy Setup\", \"Priority 24/7 Support\"],\n    image: onn4kProImg,\n    category: \"firestick\",\n    badge: \"ANDROID PRO\"\n  }\n];\n\nexport default function MainStore() {\n  const [, setLocation] = useLocation();\n  const { addItem, addItemWithQuantity, items, openCart } = useCart();\n  const { items: wishlistItems, addToWishlist, removeFromWishlist, isInWishlist, openWishlist } = useWishlist();\n  const [products, setProducts] = useState<Product[]>(defaultProducts);\n  const [selectedDevices, setSelectedDevices] = useState<Record<string, number>>({\n    \"1mo\": 1,\n    \"3mo\": 1,\n    \"6mo\": 1,\n    \"1yr\": 1,\n  });\n  const [firestickQuantities, setFirestickQuantities] = useState<Record<string, number>>({\n    \"firestick-hd\": 1,\n    \"firestick-4k\": 1,\n    \"firestick-4k-max\": 1,\n    \"android-onn-4k\": 1,\n    \"android-onn-pro\": 1,\n  });\n  const [quickViewProduct, setQuickViewProduct] = useState<Product | null>(null);\n  const [isQuickViewOpen, setIsQuickViewOpen] = useState(false);\n\n  const heroRef = useRef<HTMLDivElement>(null);\n  const aboutRef = useRef<HTMLDivElement>(null);\n  const shopRef = useRef<HTMLDivElement>(null);\n  const isAboutInView = useInView(aboutRef, { once: true, margin: \"-100px\" });\n  const isShopInView = useInView(shopRef, { once: true, margin: \"-100px\" });\n  \n  const { scrollYProgress } = useScroll({\n    target: heroRef,\n    offset: [\"start start\", \"end start\"]\n  });\n  const heroY = useTransform(scrollYProgress, [0, 1], [\"0%\", \"30%\"]);\n  const heroOpacity = useTransform(scrollYProgress, [0, 0.5, 1], [1, 0.8, 0.3]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const params = new URLSearchParams(window.location.search);\n      const section = params.get('section');\n      if (section) {\n        setTimeout(() => {\n          document.getElementById(section)?.scrollIntoView({ behavior: 'smooth' });\n          window.history.replaceState({}, '', '/');\n        }, 300);\n      }\n    };\n    \n    // Run on mount\n    handleScroll();\n    \n    // Also listen for popstate (back/forward nav) and custom event for internal nav\n    window.addEventListener('popstate', handleScroll);\n    window.addEventListener('scrollToSection', handleScroll);\n    \n    return () => {\n      window.removeEventListener('popstate', handleScroll);\n      window.removeEventListener('scrollToSection', handleScroll);\n    };\n  }, []);\n\n  const staggerContainer = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: { staggerChildren: 0.1, delayChildren: 0.2 }\n    }\n  };\n\n  const fadeInUp = {\n    hidden: { opacity: 0, y: 30 },\n    visible: { \n      opacity: 1, \n      y: 0, \n      transition: { duration: 0.5, ease: \"easeOut\" as any } \n    }\n  };\n\n  const scaleIn = {\n    hidden: { opacity: 0, scale: 0.9 },\n    visible: { \n      opacity: 1, \n      scale: 1, \n      transition: { duration: 0.4, ease: \"easeOut\" as any } \n    }\n  };\n\n  const toggleWishlistItem = (product: Product) => {\n    if (isInWishlist(product.id)) {\n      removeFromWishlist(product.id);\n    } else {\n      addToWishlist({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        image: product.image,\n        category: product.category,\n        description: product.description,\n      });\n    }\n  };\n\n  const openQuickView = (product: Product) => {\n    setQuickViewProduct(product);\n    setIsQuickViewOpen(true);\n  };\n\n  const closeQuickView = () => {\n    setIsQuickViewOpen(false);\n    setQuickViewProduct(null);\n  };\n\n  useEffect(() => {\n    document.documentElement.classList.remove(\"shadow-theme\");\n    document.documentElement.classList.add(\"dark\");\n    document.title = \"StreamStickPro - Premium Streaming Devices & Live TV Plans\";\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      const response = await apiCall('/api/products');\n      const result = await response.json();\n      \n      if (result.data && result.data.length > 0) {\n        const mappedProducts: Product[] = result.data.map((p: any) => {\n          const isFirestick = p.name?.toLowerCase().includes('fire stick') || \n                              p.name?.toLowerCase().includes('fire tv') ||\n                              p.category === 'firestick';\n          \n          let productImage = p.imageUrl || '';\n          if (productImage && !productImage.startsWith('http') && !productImage.startsWith('/')) {\n            productImage = getStorageUrl('images', productImage);\n          } else if (!productImage) {\n            if (p.id === 'fs-hd') productImage = firestickHdImg;\n            else if (p.id === 'fs-4k') productImage = firestick4kImg;\n            else if (p.id === 'fs-max') productImage = firestick4kMaxImg;\n            else productImage = isFirestick ? firestick4kImg : iptvImg;\n          }\n\n          const defaultFeatures = defaultProducts.find(dp => dp.id === p.id)?.features || \n            ['Premium quality', '24/7 support'];\n          const defaultBadge = defaultProducts.find(dp => dp.id === p.id)?.badge || 'POPULAR';\n          const defaultPeriod = defaultProducts.find(dp => dp.id === p.id)?.period;\n          const defaultDescription = defaultProducts.find(dp => dp.id === p.id)?.description || '';\n\n          const priceInCents = parseInt(p.price?.toString() || '0', 10);\n          const priceInDollars = priceInCents / 100;\n\n          return {\n            id: p.id,\n            name: p.name,\n            price: priceInDollars,\n            description: p.description || defaultDescription,\n            features: defaultFeatures,\n            image: productImage,\n            category: isFirestick ? 'firestick' : 'iptv',\n            badge: defaultBadge,\n            popular: p.id === 'fs-4k' || p.id === 'iptv-3' || p.id === 'firestick-4k' || p.id === 'iptv-3mo',\n            period: isFirestick ? undefined : defaultPeriod\n          };\n        });\n        setProducts(mappedProducts);\n      }\n    } catch (error) {\n      console.warn('Using default products:', error);\n    }\n  };\n\n  const getFirestickDiscount = (quantity: number): { discount: number; label: string } => {\n    if (quantity >= 3) return { discount: 0.15, label: \"15% OFF\" };\n    if (quantity >= 2) return { discount: 0.10, label: \"10% OFF\" };\n    return { discount: 0, label: \"\" };\n  };\n\n  const calculateFirestickPrice = (basePrice: number, quantity: number): { unitPrice: number; totalPrice: number; savings: number } => {\n    const { discount } = getFirestickDiscount(quantity);\n    const discountedUnitPrice = basePrice * (1 - discount);\n    const totalPrice = discountedUnitPrice * quantity;\n    const savings = (basePrice * quantity) - totalPrice;\n    return { unitPrice: discountedUnitPrice, totalPrice, savings };\n  };\n\n  const navigateToSection = (sectionId: string) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      setTimeout(() => {\n        element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }, 0);\n    }\n  };\n\n  const scrollToShop = () => navigateToSection('shop');\n  const scrollToAbout = () => navigateToSection('about');\n  const scrollToFaq = () => navigateToSection('faq');\n\n  const firestickProducts = products.filter(p => p.category === 'firestick');\n  const iptvProducts = products.filter(p => p.category === 'iptv');\n\n  const structuredData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"WebSite\",\n    \"name\": \"StreamStickPro\",\n    \"url\": \"https://streamstickpro.com/\",\n    \"description\": \"Premium pre-configured streaming devices with Live TV plans - extensive content library, thousands of movies, comprehensive sports coverage\",\n    \"potentialAction\": {\n      \"@type\": \"SearchAction\",\n      \"target\": \"https://streamstickpro.com/?search={search_term_string}\",\n      \"query-input\": \"required name=search_term_string\"\n    }\n  };\n\n  const productListData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"ItemList\",\n    \"name\": \"StreamStickPro Products\",\n    \"itemListElement\": products.map((product, index) => ({\n      \"@type\": \"ListItem\",\n      \"position\": index + 1,\n      \"item\": {\n        \"@type\": \"Product\",\n        \"name\": product.name,\n        \"description\": product.description,\n        \"image\": product.image,\n        \"offers\": {\n          \"@type\": \"Offer\",\n          \"price\": product.price,\n          \"priceCurrency\": \"USD\",\n          \"availability\": \"https://schema.org/InStock\",\n          \"seller\": {\n            \"@type\": \"Organization\",\n            \"name\": \"StreamStickPro\"\n          }\n        },\n        \"aggregateRating\": {\n          \"@type\": \"AggregateRating\",\n          \"ratingValue\": \"4.9\",\n          \"reviewCount\": \"2847\"\n        }\n      }\n    }))\n  };\n\n  const organizationData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Organization\",\n    \"name\": \"StreamStickPro\",\n    \"url\": \"https://streamstickpro.com/\",\n    \"logo\": \"https://streamstickpro.com/logo.png\",\n    \"contactPoint\": {\n      \"@type\": \"ContactPoint\",\n      \"contactType\": \"customer service\",\n      \"availableLanguage\": \"English\"\n    },\n    \"sameAs\": []\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white font-sans selection:bg-orange-500 selection:text-white\">\n      <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }} />\n      <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(productListData) }} />\n      <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(organizationData) }} />\n      \n      {/* Sticky Sale Banner */}\n      <div className=\"bg-gradient-to-r from-green-600 via-green-500 to-emerald-500 text-white py-2 px-4 text-center font-bold animate-pulse\" data-testid=\"banner-sale\">\n        <div className=\"container mx-auto flex items-center justify-center gap-3 flex-wrap\">\n          <Gift className=\"w-5 h-5\" />\n          <span className=\"text-sm md:text-base\"> LIMITED TIME SALE: Buy 2+ Fire Sticks Save 10%  Buy 3+ Save 15%! </span>\n          <button \n            onClick={scrollToShop}\n            className=\"bg-white text-green-600 px-3 py-1 rounded-full text-xs font-bold hover:bg-green-100 transition-colors\"\n            data-testid=\"button-shop-sale\"\n          >\n            Shop Now \n          </button>\n        </div>\n      </div>\n\n      {/* FAQ schema is already in index.html - don't duplicate */}\n      \n      {/* Navigation */}\n      <nav className=\"sticky top-0 z-50 w-full border-b border-white/10 bg-gray-900/95 backdrop-blur-md\">\n        <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <MobileNav scrollToShop={scrollToShop} scrollToAbout={scrollToAbout} scrollToFaq={scrollToFaq} />\n            <div className=\"flex items-center gap-2 font-bold text-xl tracking-tighter\">\n              <Flame className=\"w-7 h-7 text-orange-500\" />\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">Stream Stick Pro</span>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" className=\"hidden md:flex text-gray-300 hover:text-white hover:bg-white/10\" onClick={scrollToAbout} data-testid=\"nav-how-it-works\">How It Works</Button>\n            <Button variant=\"ghost\" className=\"hidden md:flex text-gray-300 hover:text-white hover:bg-white/10\" onClick={scrollToShop} data-testid=\"nav-shop\">Shop</Button>\n            <Button variant=\"ghost\" className=\"hidden md:flex text-gray-300 hover:text-white hover:bg-white/10\" onClick={() => setLocation(\"/blog\")} data-testid=\"button-blog\">Blog</Button>\n            <Button variant=\"ghost\" className=\"hidden md:flex text-gray-300 hover:text-white hover:bg-white/10\" onClick={scrollToFaq} data-testid=\"button-support\">Support</Button>\n            <Button \n              onClick={openWishlist} \n              variant=\"ghost\"\n              className=\"relative text-gray-300 hover:text-white hover:bg-white/10\"\n              data-testid=\"button-wishlist\"\n              aria-label={`Wishlist${wishlistItems.length > 0 ? `, ${wishlistItems.length} items` : ''}`}\n            >\n              <Heart className={`w-5 h-5 ${wishlistItems.length > 0 ? 'fill-red-500 text-red-500' : ''}`} aria-hidden=\"true\" />\n              {wishlistItems.length > 0 && (\n                <Badge className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs h-5 w-5 flex items-center justify-center p-0\" data-testid=\"text-wishlist-count\">\n                  {wishlistItems.length}\n                </Badge>\n              )}\n            </Button>\n            <Button \n              onClick={openCart} \n              className=\"relative bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg shadow-orange-500/30\"\n              data-testid=\"button-cart\"\n              aria-label={`Shopping cart${items.length > 0 ? `, ${items.length} items` : ''}`}\n            >\n              <ShoppingCart className=\"w-5 h-5 mr-2\" aria-hidden=\"true\" />\n              <span className=\"hidden sm:inline\">Cart</span>\n              {items.length > 0 && (\n                <Badge className=\"absolute -top-2 -right-2 bg-white text-black hover:bg-gray-200\" data-testid=\"text-cart-count\">\n                  {items.length}\n                </Badge>\n              )}\n            </Button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main id=\"main-content\" role=\"main\">\n      {/* Hero Section */}\n      <section ref={heroRef} className=\"relative bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white overflow-hidden min-h-[600px] flex items-center\">\n        <motion.div \n          className=\"absolute inset-0 overflow-hidden\"\n          style={{ y: heroY, opacity: heroOpacity }}\n        >\n          <img\n            src={heroImg}\n            alt=\"StreamStickPro 2025 - Get Fully Loaded in 10 Minutes\"\n            className=\"w-full h-full object-cover object-center\"\n            loading=\"eager\"\n            width={1920}\n            height={600}\n            fetchPriority=\"high\"\n            decoding=\"async\"\n            style={{ transform: 'scale(1.25)', transformOrigin: 'center center', contentVisibility: 'auto' }}\n            onError={(e) => {\n              const target = e.target as HTMLImageElement;\n              if (target.src !== fallbackHeroImg) {\n                target.src = fallbackHeroImg;\n              }\n            }}\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-br from-black/80 via-black/60 to-black/40\" />\n        </motion.div>\n\n        <div className=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMSkiLz48L2c+PC9zdmc+')] opacity-20\"></div>\n\n        <div className=\"container mx-auto px-4 py-16 md:py-20 relative z-10\">\n          <div className=\"max-w-5xl mx-auto text-center\">\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n              className=\"mb-6\"\n            >\n              <span className=\"inline-block px-6 py-2 bg-orange-500/20 backdrop-blur-sm border border-orange-400/30 rounded-full text-sm font-semibold text-orange-300 animate-pulse\">\n                 #1 Premium Streaming Provider\n              </span>\n            </motion.div>\n\n            <motion.h1 \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.1 }}\n              className=\"text-4xl sm:text-5xl md:text-7xl font-bold mb-6 leading-tight\"\n            >\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-red-500 to-orange-400\">\n                Stream Stick Pro\n              </span>\n              <br />\n              <span className=\"text-2xl sm:text-3xl md:text-5xl text-white\">Premium Live TV Plans</span>\n              <br />\n              <span className=\"text-xl sm:text-2xl md:text-4xl text-blue-200\">& Pre-Configured Streaming Devices</span>\n            </motion.h1>\n\n            <motion.p \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              className=\"text-lg sm:text-xl md:text-2xl text-orange-100 mb-8 max-w-3xl mx-auto\"\n            >\n              Extensive live content  Thousands of movies & shows  Comprehensive sports coverage\n            </motion.p>\n\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.3 }}\n              className=\"flex flex-col sm:flex-row justify-center gap-4 mb-8\"\n            >\n              <button\n                onClick={scrollToShop}\n                className=\"group px-8 py-4 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-xl font-bold text-lg transition-all transform hover:scale-105 hover:shadow-2xl shadow-orange-500/50 inline-flex items-center justify-center gap-3\"\n                data-testid=\"button-shop-now\"\n              >\n                <ShoppingCart className=\"w-6 h-6 group-hover:animate-bounce\" />\n                Shop Now\n                <span className=\"bg-white/20 rounded-full px-3 py-1 text-xs font-semibold\">Save up to 50%</span>\n              </button>\n              <button\n                onClick={scrollToAbout}\n                className=\"px-8 py-4 bg-white/10 backdrop-blur-sm hover:bg-white/20 border-2 border-white/20 hover:border-white/40 rounded-xl font-bold text-lg transition-all inline-flex items-center justify-center gap-2\"\n                data-testid=\"button-learn-more\"\n              >\n                <Play className=\"w-5 h-5\" />\n                Learn More\n              </button>\n            </motion.div>\n\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.4 }}\n              className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-3xl mx-auto text-sm md:text-base\"\n            >\n              <motion.div \n                className=\"bg-white/5 backdrop-blur-sm rounded-lg px-4 py-3 border border-white/10\"\n                whileHover={{ scale: 1.05, borderColor: \"rgba(249, 115, 22, 0.5)\" }}\n                transition={{ type: \"spring\", stiffness: 300 }}\n              >\n                <div className=\"text-orange-400 font-bold text-lg\" data-testid=\"text-customers\">\n                  <AnimatedCounter end={2700} suffix=\"+\" className=\"text-orange-400 font-bold text-lg\" />\n                </div>\n                <div className=\"text-blue-200\">Happy Customers</div>\n              </motion.div>\n              <motion.div \n                className=\"bg-white/5 backdrop-blur-sm rounded-lg px-4 py-3 border border-white/10\"\n                whileHover={{ scale: 1.05, borderColor: \"rgba(249, 115, 22, 0.5)\" }}\n                transition={{ type: \"spring\", stiffness: 300 }}\n              >\n                <div className=\"text-orange-400 font-bold text-lg\" data-testid=\"text-rating\">\n                  <AnimatedCounter end={4.9} duration={1.5} decimals={1} className=\"text-orange-400 font-bold text-lg\" />/5 \n                </div>\n                <div className=\"text-blue-200\">Customer Rating</div>\n              </motion.div>\n              <motion.div \n                className=\"bg-white/5 backdrop-blur-sm rounded-lg px-4 py-3 border border-white/10\"\n                whileHover={{ scale: 1.05, borderColor: \"rgba(249, 115, 22, 0.5)\" }}\n                transition={{ type: \"spring\", stiffness: 300 }}\n              >\n                <div className=\"text-orange-400 font-bold text-lg\">\n                  <AnimatedCounter end={18000} suffix=\"+\" className=\"text-orange-400 font-bold text-lg\" />\n                </div>\n                <div className=\"text-blue-200\">Channels Available</div>\n              </motion.div>\n            </motion.div>\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-900 to-transparent pointer-events-none\"></div>\n      </section>\n\n      {/* Countdown Timer */}\n      <CountdownTimer />\n\n      {/* Trust Badges */}\n      <TrustBadges />\n\n      {/* Channel Logos */}\n      <ChannelLogos />\n\n      {/* Comparison Section - StreamStickPro vs Competitors */}\n      <section className=\"py-16 bg-gradient-to-b from-gray-900 to-gray-800\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">The Stream Stick Pro Difference</span>\n            </h2>\n            <p className=\"text-gray-300 text-lg\">See why customers choose us over the competition</p>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto\">\n            {/* Competitors - Red/Bad */}\n            <motion.div \n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.5 }}\n              className=\"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8\"\n              data-testid=\"comparison-competitors\"\n            >\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center\">\n                  <X className=\"w-6 h-6 text-white\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-red-400\">Other Fire Stick Websites</h3>\n              </div>\n              <ul className=\"space-y-4\">\n                {[\n                  \"Hundreds of apps that fail on a daily basis\",\n                  \"Broken links and dead streams constantly\",\n                  \"Apps don't update themselves - manual maintenance required\",\n                  \"Confusing interfaces that aren't user-friendly\",\n                  \"Long, complicated tutorials just to get started\",\n                  \"Poor or no customer support when things break\",\n                  \"You end up frustrated with a bad product\"\n                ].map((item, idx) => (\n                  <li key={idx} className=\"flex items-start gap-3\">\n                    <X className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" />\n                    <span className=\"text-gray-300\">{item}</span>\n                  </li>\n                ))}\n              </ul>\n            </motion.div>\n\n            {/* StreamStickPro - Green/Good */}\n            <motion.div \n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              className=\"bg-green-950/30 border-2 border-green-500/50 rounded-2xl p-8\"\n              data-testid=\"comparison-streamstickpro\"\n            >\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center\">\n                  <Check className=\"w-6 h-6 text-white\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-green-400\">Stream Stick Pro Experience</h3>\n              </div>\n              <ul className=\"space-y-4\">\n                {[\n                  \"ONE app does it all - no confusion, no hassle\",\n                  \"Daily automatic updates - always fresh content\",\n                  \"User-friendly interface - even grandma can use it\",\n                  \"No broken links - premium, stable streams\",\n                  \"Plug in and watch - ready in 5 minutes\",\n                  \"Full 24/7 customer support - we're always here\",\n                  \"You won't be disappointed - this is the future of streaming\"\n                ].map((item, idx) => (\n                  <li key={idx} className=\"flex items-start gap-3\">\n                    <Check className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" />\n                    <span className=\"text-gray-300\">{item}</span>\n                  </li>\n                ))}\n              </ul>\n            </motion.div>\n          </div>\n        </div>\n      </section>\n\n      {/* About Section */}\n      <section id=\"about\" ref={aboutRef} className=\"py-20 bg-gray-900\">\n        <div className=\"container mx-auto px-4\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={isAboutInView ? { opacity: 1, y: 0 } : {}}\n            transition={{ duration: 0.6 }}\n          >\n            <div className=\"inline-flex items-center gap-2 bg-orange-500/20 backdrop-blur-sm border border-orange-400/30 rounded-full px-6 py-2 mb-6\">\n              <Flame className=\"w-5 h-5 text-orange-400\" />\n              <span className=\"text-sm font-medium text-orange-300\">WHY CHOOSE US</span>\n            </div>\n            <h2 className=\"text-4xl md:text-5xl font-bold mb-6\">\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">Break Free From Cable</span>\n            </h2>\n            <p className=\"text-xl text-blue-100 max-w-3xl mx-auto\">\n              Premium streaming at a fraction of the cost. No contracts, no hidden fees.\n            </p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid md:grid-cols-3 gap-8\"\n            variants={staggerContainer}\n            initial=\"hidden\"\n            animate={isAboutInView ? \"visible\" : \"hidden\"}\n          >\n            <motion.div \n              variants={fadeInUp}\n              className=\"bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-orange-500/50 transition-all hover:scale-105 hover:shadow-xl hover:shadow-orange-500/10\"\n            >\n              <div className=\"w-14 h-14 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center mb-6\">\n                <Zap className=\"w-7 h-7 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">Be Streaming in 10 Minutes</h3>\n              <p className=\"text-gray-300\">Your StreamStick comes with instant login credentials and an easy 10-minute setup video. Start watching Live TV, Movies, Series & Sports today with 24/7 support ready when you need it.</p>\n            </motion.div>\n            <motion.div \n              variants={fadeInUp}\n              className=\"bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-orange-500/50 transition-all hover:scale-105 hover:shadow-xl hover:shadow-blue-500/10\"\n            >\n              <div className=\"w-14 h-14 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mb-6\">\n                <Star className=\"w-7 h-7 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">Premium Content</h3>\n              <p className=\"text-gray-300\">Access an extensive live content library, thousands of movies, and comprehensive sports coverage.</p>\n            </motion.div>\n            <motion.div \n              variants={fadeInUp}\n              className=\"bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-orange-500/50 transition-all hover:scale-105 hover:shadow-xl hover:shadow-green-500/10\"\n            >\n              <div className=\"w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mb-6\">\n                <Check className=\"w-7 h-7 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">24/7 Support</h3>\n              <p className=\"text-gray-300\">Our dedicated team is always available to help you with any questions or issues.</p>\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Shop Section */}\n      <section id=\"shop\" ref={shopRef} className=\"py-20 bg-gray-900\">\n        <div className=\"container mx-auto px-4\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={isShopInView ? { opacity: 1, y: 0 } : {}}\n            transition={{ duration: 0.6 }}\n          >\n            <div className=\"inline-flex items-center gap-2 bg-orange-500/20 backdrop-blur-sm border border-orange-400/30 rounded-full px-6 py-2 mb-6\">\n              <Flame className=\"w-5 h-5 text-orange-400 animate-pulse\" />\n              <span className=\"text-sm font-medium text-orange-300\">SHOP ALL PRODUCTS</span>\n            </div>\n            <h2 className=\"text-4xl md:text-6xl font-bold mb-6\">\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">Premium Products</span>\n            </h2>\n            <p className=\"text-xl text-blue-100 max-w-3xl mx-auto\">\n              Browse our complete collection of pre-configured streaming devices and Live TV plans\n            </p>\n          </motion.div>\n\n          {/* Fire Stick Tier Comparison Table */}\n          <motion.div \n            className=\"mb-12 overflow-x-auto\"\n            initial={{ opacity: 0, y: 40 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true, margin: \"-50px\" }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n          >\n            <div className=\"text-center mb-8\">\n              <h3 className=\"text-3xl font-bold mb-4 flex items-center justify-center gap-3\">\n                <Flame className=\"w-8 h-8 text-orange-500\" />\n                Fire Stick Comparison\n              </h3>\n              <p className=\"text-gray-300 max-w-2xl mx-auto\">\n                Be streaming in 10 minutes! Your StreamStick includes 1 Year Live TV Plan, instant login credentials, a quick setup video, and 24/7 support. Live TV, Movies, Series & Sports await!\n              </p>\n            </div>\n            <div className=\"max-w-4xl mx-auto bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 overflow-hidden\" data-testid=\"tier-comparison-table\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b border-slate-700/50\">\n                    <th className=\"text-left p-4 text-gray-300 font-medium\">Features</th>\n                    <th className=\"text-center p-4\">\n                      <div className=\"text-lg font-bold text-white\">Starter Kit</div>\n                      <div className=\"text-2xl font-bold text-orange-400\">$130</div>\n                      <div className=\"text-xs text-gray-300\">1080p Full HD</div>\n                    </th>\n                    <th className=\"text-center p-4 bg-orange-500/10 relative\">\n                      <div className=\"absolute -top-0.5 left-1/2 -translate-x-1/2 bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-b\">BEST VALUE</div>\n                      <div className=\"text-lg font-bold text-white pt-4\">4K Kit</div>\n                      <div className=\"text-2xl font-bold text-orange-400\">$140</div>\n                      <div className=\"text-xs text-gray-300\">4K Ultra HD</div>\n                    </th>\n                    <th className=\"text-center p-4\">\n                      <div className=\"text-lg font-bold text-white\">Max Kit</div>\n                      <div className=\"text-2xl font-bold text-orange-400\">$150</div>\n                      <div className=\"text-xs text-gray-300\">4K + Wi-Fi 6E</div>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"text-sm\">\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Resolution</td>\n                    <td className=\"text-center p-4 text-white\">1080p Full HD</td>\n                    <td className=\"text-center p-4 text-white bg-orange-500/5\">4K Ultra HD</td>\n                    <td className=\"text-center p-4 text-white\">4K Ultra HD</td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">HDR Support</td>\n                    <td className=\"text-center p-4\"><X className=\"w-5 h-5 text-gray-300 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Dolby Vision & Atmos</td>\n                    <td className=\"text-center p-4\"><X className=\"w-5 h-5 text-gray-300 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Wi-Fi 6E (Fastest)</td>\n                    <td className=\"text-center p-4\"><X className=\"w-5 h-5 text-gray-300 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><X className=\"w-5 h-5 text-gray-300 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">1 Year Live TV Included</td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Extensive Live Content</td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Thousands of Movies & Shows</td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr className=\"border-b border-slate-700/30\">\n                    <td className=\"p-4 text-gray-300\">Comprehensive Sports Coverage</td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                  <tr>\n                    <td className=\"p-4 text-gray-300\">24/7 Customer Support</td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4 bg-orange-500/5\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                    <td className=\"text-center p-4\"><Check className=\"w-5 h-5 text-green-400 mx-auto\" /></td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            {/* Quantity Discount Tiers */}\n            <div className=\"mt-8 max-w-2xl mx-auto\">\n              <div className=\"bg-gradient-to-r from-green-900/50 to-emerald-900/50 rounded-2xl p-6 border border-green-500/30\" data-testid=\"discount-tiers\">\n                <h4 className=\"text-xl font-bold text-center mb-4 text-green-400 flex items-center justify-center gap-2\">\n                  <Gift className=\"w-6 h-6\" />\n                  Multi-Buy Discount Tiers\n                </h4>\n                <div className=\"grid grid-cols-3 gap-4 text-center\">\n                  <div className=\"bg-white/5 rounded-xl p-4 border border-white/10\">\n                    <div className=\"text-2xl font-bold text-white\">1</div>\n                    <div className=\"text-gray-300 text-sm\">Fire Stick</div>\n                    <div className=\"text-orange-400 font-semibold mt-2\">Regular Price</div>\n                  </div>\n                  <div className=\"bg-green-500/10 rounded-xl p-4 border border-green-500/30 transform hover:scale-105 transition-transform\">\n                    <div className=\"text-2xl font-bold text-white\">2+</div>\n                    <div className=\"text-gray-300 text-sm\">Fire Sticks</div>\n                    <div className=\"text-green-400 font-bold mt-2\">SAVE 10%</div>\n                  </div>\n                  <div className=\"bg-green-500/20 rounded-xl p-4 border border-green-500/50 ring-2 ring-green-500/30 transform hover:scale-105 transition-transform\">\n                    <div className=\"absolute -top-2 left-1/2 -translate-x-1/2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full font-bold hidden md:block\">BEST DEAL</div>\n                    <div className=\"text-2xl font-bold text-white\">3+</div>\n                    <div className=\"text-gray-300 text-sm\">Fire Sticks</div>\n                    <div className=\"text-green-400 font-bold mt-2\">SAVE 15%</div>\n                  </div>\n                </div>\n                <p className=\"text-center text-green-300 mt-4 text-sm\">\n                  Perfect for families! Get Fire Sticks for multiple TVs and save big.\n                </p>\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Fire Sticks */}\n          <div className=\"mb-16\">\n            <h3 className=\"text-3xl font-bold mb-8 text-center flex items-center justify-center gap-3\">\n              <Flame className=\"w-8 h-8 text-orange-500\" />\n              Choose Your Fire Stick\n            </h3>\n            <div className=\"grid md:grid-cols-3 gap-8\">\n              {firestickProducts.map((product, index) => {\n                const cardGradients = [\n                  'from-slate-800 via-slate-900 to-gray-900',\n                  'from-orange-950/60 via-slate-900 to-gray-900',\n                  'from-indigo-950/60 via-slate-900 to-gray-900'\n                ];\n                const borderColors = [\n                  'border-slate-600/60 hover:border-orange-500/70',\n                  'border-orange-500/40 hover:border-orange-400',\n                  'border-indigo-500/40 hover:border-indigo-400'\n                ];\n                const glowColors = [\n                  'shadow-slate-500/20',\n                  'shadow-orange-500/40',\n                  'shadow-indigo-500/30'\n                ];\n                const accentGradients = [\n                  'from-slate-400/20 via-slate-500/10 to-transparent',\n                  'from-orange-400/30 via-amber-500/15 to-transparent',\n                  'from-indigo-400/25 via-purple-500/15 to-transparent'\n                ];\n                \n                return (\n                <div\n                  key={product.id}\n                  className={`relative rounded-2xl overflow-hidden transform transition-all duration-500 hover:scale-105 group ${\n                    product.popular \n                      ? 'ring-4 ring-orange-500 scale-105 shadow-2xl shadow-orange-500/50' \n                      : `hover:shadow-2xl ${glowColors[index]}`\n                  }`}\n                  data-testid={`card-product-${product.id}`}\n                >\n                  {/* Multi-layer background for depth */}\n                  <div className={`absolute inset-0 bg-gradient-to-b ${cardGradients[index]}`} />\n                  \n                  {/* Decorative tech grid pattern */}\n                  <div className=\"absolute inset-0 opacity-[0.03]\" style={{\n                    backgroundImage: `linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,\n                    backgroundSize: '20px 20px'\n                  }} />\n                  \n                  {/* Accent glow at top */}\n                  <div className={`absolute inset-0 bg-gradient-to-b ${accentGradients[index]} opacity-80`} />\n                  \n                  {/* Radial highlight effect */}\n                  <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-orange-500/15 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-500\" />\n                  \n                  {/* Corner accent decorations */}\n                  <div className=\"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-orange-500/10 to-transparent rounded-bl-full\" />\n                  <div className=\"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-500/10 to-transparent rounded-tr-full\" />\n                  \n                  {/* Animated border glow on hover */}\n                  <div className={`absolute inset-0 border-2 ${borderColors[index]} rounded-2xl transition-all duration-500 group-hover:shadow-[inset_0_0_20px_rgba(249,115,22,0.1)]`} />\n                  \n                  {product.popular && (\n                    <div className=\"absolute -top-4 left-1/2 -translate-x-1/2 z-10\">\n                      <div className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 animate-bounce\">\n                        <Star className=\"w-4 h-4 fill-current\" />\n                        MOST POPULAR\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"relative z-10\">\n                    <div className=\"relative h-56 overflow-hidden\">\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent z-10 opacity-60\" />\n                      <img\n                        src={product.image}\n                        alt={product.name}\n                        className=\"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700\"\n                        loading=\"lazy\"\n                        width={400}\n                        height={224}\n                        onError={(e) => {\n                          const target = e.target as HTMLImageElement;\n                          if (target.src !== firestick4kImg) {\n                            target.src = firestick4kImg;\n                          }\n                        }}\n                      />\n                      <div className={`absolute top-4 right-4 z-20 px-4 py-2 rounded-full font-bold text-sm shadow-lg ${\n                        product.id === 'fs-max' \n                          ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white' \n                          : product.popular \n                            ? 'bg-gradient-to-r from-orange-500 to-red-500 text-white'\n                            : 'bg-blue-500 text-white'\n                      }`}>\n                        {product.badge}\n                      </div>\n                      {product.id === 'fs-4k' && (\n                        <div className=\"absolute top-4 left-4 z-20 bg-green-500 text-white px-3 py-1 rounded-full font-bold text-xs shadow-lg\">\n                          1 YEAR INCLUDED\n                        </div>\n                      )}\n                      <QuickViewButton onClick={() => openQuickView(product)} />\n                      <button\n                        onClick={(e) => { e.stopPropagation(); toggleWishlistItem(product); }}\n                        className={`absolute bottom-4 left-4 z-20 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${\n                          isInWishlist(product.id) \n                            ? 'bg-red-500 text-white shadow-lg shadow-red-500/50' \n                            : 'bg-white/90 text-gray-700 hover:bg-red-500 hover:text-white'\n                        }`}\n                        data-testid={`button-wishlist-${product.id}`}\n                        aria-label={isInWishlist(product.id) ? 'Remove from wishlist' : 'Add to wishlist'}\n                      >\n                        <Heart className={`w-5 h-5 ${isInWishlist(product.id) ? 'fill-current' : ''}`} />\n                      </button>\n                    </div>\n\n                    <div className=\"p-8 relative\">\n                      <h4 className=\"text-2xl font-bold mb-4 text-white\">{product.name}</h4>\n\n                      {/* Quantity Selector */}\n                      <div className=\"mb-4\">\n                        <label className=\"text-sm text-gray-300 mb-2 block\">Quantity (Buy More & Save!):</label>\n                        <div className=\"flex gap-2 mb-2\">\n                          {[1, 2, 3, 4, 5].map((qty) => {\n                            const discountInfo = getFirestickDiscount(qty);\n                            return (\n                              <button\n                                key={qty}\n                                onClick={() => setFirestickQuantities(prev => ({ ...prev, [product.id]: qty }))}\n                                className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all relative ${\n                                  firestickQuantities[product.id] === qty\n                                    ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/30'\n                                    : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                                }`}\n                                data-testid={`button-qty-${product.id}-${qty}`}\n                                aria-label={`Select quantity ${qty}`}\n                                aria-pressed={firestickQuantities[product.id] === qty}\n                              >\n                                {qty}\n                                {discountInfo.label && (\n                                  <span className=\"absolute -top-2 -right-1 bg-green-500 text-white text-[8px] px-1 rounded\">\n                                    {discountInfo.label}\n                                  </span>\n                                )}\n                              </button>\n                            );\n                          })}\n                        </div>\n                        <p className=\"text-xs text-green-400 flex items-center gap-1\">\n                          <Gift className=\"w-3 h-3\" />\n                          Buy 2+ save 10%  Buy 3+ save 15%\n                        </p>\n                      </div>\n\n                      {/* Pricing */}\n                      <div className=\"mb-6\">\n                        {(() => {\n                          const qty = firestickQuantities[product.id] || 1;\n                          const { unitPrice, totalPrice, savings } = calculateFirestickPrice(product.price, qty);\n                          const discountInfo = getFirestickDiscount(qty);\n                          return (\n                            <>\n                              <div className=\"flex items-baseline gap-2\">\n                                <span className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-400\" data-testid={`text-price-${product.id}`}>\n                                  ${totalPrice.toFixed(2)}\n                                </span>\n                                {qty > 1 && (\n                                  <span className=\"text-sm text-gray-300\">\n                                    (${unitPrice.toFixed(2)} each)\n                                  </span>\n                                )}\n                              </div>\n                              {savings > 0 && (\n                                <p className=\"text-green-400 text-sm mt-1 font-semibold flex items-center gap-1\">\n                                  <DollarSign className=\"w-4 h-4\" />\n                                  You save ${savings.toFixed(2)} with {discountInfo.label}!\n                                </p>\n                              )}\n                              <p className=\"text-blue-200 text-sm mt-2 flex items-center gap-2\">\n                                <Gift className=\"w-4 h-4 text-green-400\" />\n                                Each includes 1 Year Live TV Plan\n                              </p>\n                            </>\n                          );\n                        })()}\n                      </div>\n\n                      <div className=\"flex gap-2 mb-6\">\n                        <button\n                          onClick={() => {\n                            const qty = firestickQuantities[product.id] || 1;\n                            const { unitPrice } = calculateFirestickPrice(product.price, qty);\n                            addItemWithQuantity(product as any, qty, unitPrice);\n                          }}\n                          className={`flex-1 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center gap-2 ${\n                            product.popular\n                              ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/50'\n                              : 'bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg'\n                          }`}\n                          data-testid={`button-add-${product.id}`}\n                        >\n                          <ShoppingCart className=\"w-5 h-5\" />\n                          Add {firestickQuantities[product.id] > 1 ? `${firestickQuantities[product.id]} ` : ''}to Cart\n                        </button>\n                      </div>\n\n                      <div className=\"space-y-3\">\n                        {product.features.slice(0, 6).map((feature, idx) => (\n                          <div key={idx} className=\"flex items-start gap-3\">\n                            <Check className=\"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5\" />\n                            <span className=\"text-blue-100 text-sm\">{feature}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Sports Carousel */}\n          <SportsCarousel />\n\n          {/* Demo Video */}\n          <DemoVideo />\n\n          {/* Live TV Plans */}\n          <div className=\"mt-20\">\n            <h3 className=\"text-3xl font-bold mb-4 text-center flex items-center justify-center gap-3\">\n              <Zap className=\"w-8 h-8 text-blue-500\" />\n              Live TV Plans Only\n            </h3>\n            <p className=\"text-center text-gray-300 mb-8 max-w-2xl mx-auto\">\n              Choose your subscription length and number of devices. Multi-device plans let you stream on multiple TVs, phones, or tablets at the same time!\n            </p>\n            \n            {/* Free Trial Box */}\n            <FreeTrial />\n\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {iptvPricingMatrix.map((plan, index) => {\n                const deviceCount = selectedDevices[plan.duration];\n                const selectedPrice = plan.prices.find(p => p.devices === deviceCount) || plan.prices[0];\n                const cardGradients = [\n                  'from-slate-800 via-slate-900 to-gray-900',\n                  'from-blue-950/50 via-slate-900 to-gray-900',\n                  'from-cyan-950/50 via-slate-900 to-gray-900',\n                  'from-emerald-950/50 via-slate-900 to-gray-900'\n                ];\n                \n                return (\n                  <div\n                    key={plan.duration}\n                    className={`relative rounded-2xl overflow-hidden transform transition-all duration-300 group ${\n                      plan.popular \n                        ? 'ring-4 ring-blue-500 shadow-2xl shadow-blue-500/50 scale-105' \n                        : 'hover:shadow-2xl hover:shadow-blue-500/20'\n                    }`}\n                    data-testid={`card-product-iptv-${plan.duration}`}\n                  >\n                    <div className={`absolute inset-0 bg-gradient-to-b ${cardGradients[index]} opacity-95`} />\n                    <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-500/10 via-transparent to-transparent opacity-50\" />\n                    <div className={`absolute inset-0 border-2 ${\n                      plan.popular \n                        ? 'border-blue-500/50' \n                        : plan.duration === '1yr' \n                          ? 'border-green-500/30 hover:border-green-500/60' \n                          : 'border-slate-700/50 hover:border-blue-500/50'\n                    } rounded-2xl transition-colors duration-300`} />\n                    \n                    {plan.popular && (\n                      <div className=\"absolute -top-4 left-1/2 -translate-x-1/2 z-20\">\n                        <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-4 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 animate-bounce text-sm\">\n                          <Star className=\"w-4 h-4 fill-current\" />\n                          POPULAR\n                        </div>\n                      </div>\n                    )}\n\n                    <div className=\"relative z-10\">\n                      <div className=\"relative h-40 overflow-hidden\">\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent z-10 opacity-60\" />\n                        <img\n                          src={iptvImg}\n                          alt={`Live TV ${plan.durationLabel} Plan`}\n                          className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700\"\n                          loading=\"lazy\"\n                          width={300}\n                          height={160}\n                        />\n                        <div className={`absolute top-4 right-4 z-20 px-3 py-1 rounded-full font-bold text-xs shadow-lg ${\n                          plan.duration === '1yr' \n                            ? 'bg-gradient-to-r from-green-500 to-emerald-500 text-white' \n                            : plan.popular \n                              ? 'bg-gradient-to-r from-blue-500 to-cyan-500 text-white'\n                              : 'bg-orange-500 text-white'\n                        }`}>\n                          {plan.badge}\n                        </div>\n                        {(plan.duration === \"6mo\" || plan.duration === \"1yr\") && (\n                          <div className=\"absolute top-4 left-4 z-20 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1 rounded-full font-bold text-xs shadow-lg\">\n                            SAVE 10%\n                          </div>\n                        )}\n                      </div>\n\n                      <div className=\"p-5\">\n                        <h4 className=\"text-xl font-bold mb-2 text-white\">{plan.durationLabel} Live TV</h4>\n                        <p className=\"text-gray-300 text-xs mb-4 line-clamp-2\">{plan.description}</p>\n\n                        <div className=\"mb-4\">\n                          <label className=\"text-sm text-gray-300 mb-2 block\">Number of Devices:</label>\n                          <div className=\"flex gap-1\">\n                            {[1, 2, 3, 4, 5].map((num) => (\n                              <button\n                                key={num}\n                                onClick={() => setSelectedDevices(prev => ({ ...prev, [plan.duration]: num }))}\n                                className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${\n                                  deviceCount === num\n                                    ? 'bg-blue-500 text-white shadow-lg shadow-blue-500/30'\n                                    : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                                }`}\n                                data-testid={`button-device-${plan.duration}-${num}`}\n                                aria-label={`Select ${num} device${num > 1 ? 's' : ''}`}\n                                aria-pressed={deviceCount === num}\n                              >\n                                {num}\n                              </button>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div className=\"mb-4\">\n                          <div className=\"flex items-baseline gap-2\">\n                            <span className=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400\" data-testid={`text-price-iptv-${plan.duration}`}>\n                              ${selectedPrice.price}\n                            </span>\n                            <span className=\"text-gray-300 text-sm\">\n                              / {plan.durationLabel.toLowerCase()}\n                            </span>\n                          </div>\n                          <p className=\"text-xs text-gray-300 mt-1\">\n                            {deviceCount} device{deviceCount > 1 ? 's' : ''} included\n                          </p>\n                        </div>\n\n                        <button\n                          onClick={() => addItem({\n                            id: selectedPrice.productId,\n                            name: `Live TV ${plan.durationLabel} - ${deviceCount} Device${deviceCount > 1 ? 's' : ''}`,\n                            price: selectedPrice.price,\n                            image: iptvImg,\n                            description: plan.description,\n                            features: plan.features,\n                            category: 'iptv',\n                            badge: plan.badge,\n                          } as Product)}\n                          className=\"w-full py-3 rounded-xl font-bold text-sm transition-all transform hover:scale-105 mb-4 flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg shadow-blue-500/30\"\n                          data-testid={`button-add-iptv-${plan.duration}`}\n                        >\n                          <ShoppingCart className=\"w-4 h-4\" />\n                          Subscribe Now\n                        </button>\n\n                        <div className=\"space-y-1.5\">\n                          {plan.features.slice(0, 4).map((feature, idx) => (\n                            <div key={idx} className=\"flex items-start gap-2\">\n                              <Check className=\"w-3 h-3 text-green-400 flex-shrink-0 mt-0.5\" />\n                              <span className=\"text-blue-100 text-xs\">{feature}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Customer Reviews */}\n      <CustomerReviews />\n\n      {/* Savings Calculator */}\n      <SavingsCalculator />\n\n      {/* From Our Blog Section */}\n      <section className=\"py-16 bg-gradient-to-b from-gray-900 to-gray-800/50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">Learn More</span>\n            </h2>\n            <p className=\"text-gray-300 text-lg\">Helpful guides to get the most out of your streaming experience</p>\n          </div>\n          \n          <div className=\"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto\">\n            <a href=\"/blog/what-is-fully-loaded-streaming-device\" className=\"block\" data-testid=\"blog-card-1\">\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.4 }}\n                className=\"bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-orange-500/50 transition-all cursor-pointer h-full\"\n              >\n                <div className=\"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center mb-4\">\n                  <Flame className=\"w-6 h-6 text-orange-500\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-white mb-2\">What is a Fully Loaded Streaming Device?</h3>\n                <p className=\"text-gray-300 text-sm mb-4\">Learn how to get fully loaded with streaming content in just 10 minutes.</p>\n                <span className=\"text-orange-400 text-sm font-semibold flex items-center gap-1\">\n                  Read More <ChevronRight className=\"w-4 h-4\" />\n                </span>\n              </motion.div>\n            </a>\n\n            <a href=\"/blog/streaming-vs-cable-cost-comparison\" className=\"block\" data-testid=\"blog-card-2\">\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.4, delay: 0.1 }}\n                className=\"bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-orange-500/50 transition-all cursor-pointer h-full\"\n              >\n                <div className=\"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mb-4\">\n                  <DollarSign className=\"w-6 h-6 text-green-500\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-white mb-2\">Streaming vs Cable: Complete Cost Guide</h3>\n                <p className=\"text-gray-300 text-sm mb-4\">See how much you can save by switching from cable TV to streaming.</p>\n                <span className=\"text-orange-400 text-sm font-semibold flex items-center gap-1\">\n                  Read More <ChevronRight className=\"w-4 h-4\" />\n                </span>\n              </motion.div>\n            </a>\n\n            <a href=\"/blog/best-live-tv-sports-streaming-2025\" className=\"block\" data-testid=\"blog-card-3\">\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.4, delay: 0.2 }}\n                className=\"bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-orange-500/50 transition-all cursor-pointer h-full\"\n              >\n                <div className=\"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mb-4\">\n                  <Star className=\"w-6 h-6 text-blue-500\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-white mb-2\">Best Live TV Sports Streaming 2025</h3>\n                <p className=\"text-gray-300 text-sm mb-4\">Discover comprehensive sports coverage including NFL, NBA, UFC, and more.</p>\n                <span className=\"text-orange-400 text-sm font-semibold flex items-center gap-1\">\n                  Read More <ChevronRight className=\"w-4 h-4\" />\n                </span>\n              </motion.div>\n            </a>\n          </div>\n\n          <div className=\"text-center mt-8\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setLocation(\"/blog\")}\n              className=\"border-orange-500/50 text-orange-400 hover:bg-orange-500/10\"\n              data-testid=\"button-view-all-articles\"\n            >\n              View All Articles <ChevronRight className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* FAQ Section */}\n      <section id=\"faq\" className=\"py-20 bg-gray-800/50\">\n        <div className=\"container mx-auto px-4 max-w-3xl\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\">Frequently Asked Questions</span>\n            </h2>\n          </div>\n          <Accordion type=\"single\" collapsible className=\"w-full space-y-4\">\n            <AccordionItem value=\"item-1\" className=\"border border-white/10 rounded-xl px-6 bg-white/5\">\n              <AccordionTrigger className=\"text-lg font-semibold hover:text-orange-400\">What's included with a StreamStick?</AccordionTrigger>\n              <AccordionContent className=\"text-gray-300\">\n                Get fully loaded in just 10 minutes! Your StreamStick arrives ready - after purchase you'll receive your login credentials instantly and an easy setup video. Follow the quick tutorial and unlock 1 Year of Live TV, Movies, Series & Sports!\n              </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-2\" className=\"border border-white/10 rounded-xl px-6 bg-white/5\">\n              <AccordionTrigger className=\"text-lg font-semibold hover:text-orange-400\">How do I renew my subscription?</AccordionTrigger>\n              <AccordionContent className=\"text-gray-300\">\n                Simply come back to the site and purchase a renewal package. Your credentials will be updated instantly.\n              </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-3\" className=\"border border-white/10 rounded-xl px-6 bg-white/5\">\n              <AccordionTrigger className=\"text-lg font-semibold hover:text-orange-400\">Do you offer support?</AccordionTrigger>\n              <AccordionContent className=\"text-gray-300\">\n                Yes, we offer 24/7 support via email for all active subscribers. Contact us at reloadedfiretvteam@gmail.com\n              </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-4\" className=\"border border-white/10 rounded-xl px-6 bg-white/5\">\n              <AccordionTrigger className=\"text-lg font-semibold hover:text-orange-400\">What devices are supported?</AccordionTrigger>\n              <AccordionContent className=\"text-gray-300\">\n                Our Live TV service works on streaming devices, Android boxes, Smart TVs, phones, tablets, and computers. Use up to 2 devices simultaneously!\n              </AccordionContent>\n            </AccordionItem>\n          </Accordion>\n        </div>\n      </section>\n\n      {/* WhatsApp Chat Widget - Higher z-index to stay above all CTAs */}\n      <a \n        href=\"https://wa.me/15853037381\" \n        target=\"_blank\" \n        rel=\"noopener noreferrer\"\n        className=\"fixed bottom-20 md:bottom-6 right-6 z-[100]\"\n        data-testid=\"link-whatsapp\"\n        aria-label=\"Chat with us on WhatsApp\"\n      >\n        <Button className=\"rounded-full w-14 h-14 shadow-2xl bg-green-500 hover:bg-green-600 animate-pulse border-2 border-white/20\" data-testid=\"button-chat\" aria-hidden=\"true\" tabIndex={-1}>\n          <MessageCircle className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n        </Button>\n      </a>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-900 text-gray-300 border-t border-white/10\">\n        <div className=\"container mx-auto px-4 py-12\">\n          <div className=\"grid md:grid-cols-4 gap-8 mb-8\">\n            <div>\n              <div className=\"flex items-center gap-2 mb-4\">\n                <Flame className=\"w-8 h-8 text-orange-500\" />\n                <span className=\"text-xl font-bold text-white\">Inferno TV</span>\n              </div>\n              <p className=\"text-sm text-gray-300 mb-4\">\n                Premium Live TV streaming with extensive content library and thousands of movies & series. Pre-configured streaming devices available.\n              </p>\n              <div className=\"flex gap-3\">\n                <a href=\"mailto:reloadedfiretvteam@gmail.com\" className=\"w-10 h-10 bg-gray-800 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-colors\" data-testid=\"link-email\" aria-label=\"Email us\">\n                  <Mail className=\"w-5 h-5\" aria-hidden=\"true\" />\n                </a>\n              </div>\n              <div className=\"mt-4\">\n                <a href=\"mailto:reloadedfiretvteam@gmail.com\" className=\"text-sm text-orange-400 hover:text-orange-300\">\n                  reloadedfiretvteam@gmail.com\n                </a>\n              </div>\n            </div>\n\n            <div>\n              <h3 className=\"text-white font-semibold mb-4\">Quick Links</h3>\n              <ul className=\"space-y-2 text-sm\">\n                <li><a href=\"/\" className=\"hover:text-orange-400 transition-colors cursor-pointer\">Home</a></li>\n                <li><a href=\"#shop\" className=\"hover:text-orange-400 transition-colors cursor-pointer\">Shop All Products</a></li>\n                <li><a href=\"/blog\" className=\"hover:text-orange-400 transition-colors cursor-pointer\">Blog & Guides</a></li>\n                <li><a href=\"#about\" className=\"hover:text-orange-400 transition-colors cursor-pointer\">About Us</a></li>\n              </ul>\n            </div>\n\n            <div>\n              <h3 className=\"text-white font-semibold mb-4\">Payment Methods</h3>\n              <ul className=\"space-y-2 text-sm\">\n                <li className=\"flex items-center gap-2\">\n                  <DollarSign className=\"w-4 h-4 text-green-400\" />\n                  <span>Cash App: $starevan11</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <CreditCard className=\"w-4 h-4 text-orange-400\" />\n                  <span>Bitcoin: Accepted</span>\n                </li>\n              </ul>\n            </div>\n\n            <div>\n              <h3 className=\"text-white font-semibold mb-4\">Support & Policies</h3>\n              <ul className=\"space-y-2 text-sm\">\n                <li><a href=\"#faq\" className=\"hover:text-orange-400 transition-colors\">FAQ</a></li>\n                <li><a href=\"mailto:reloadedfiretvteam@gmail.com\" className=\"hover:text-orange-400 transition-colors\">Contact Us</a></li>\n                <li><a href=\"/terms\" className=\"hover:text-orange-400 transition-colors\">Terms of Service</a></li>\n                <li><a href=\"/privacy\" className=\"hover:text-orange-400 transition-colors\">Privacy Policy</a></li>\n                <li><a href=\"/refund\" className=\"hover:text-orange-400 transition-colors\">Refund Policy</a></li>\n                <li><a href=\"/admin\" className=\"text-gray-600 hover:text-gray-300 transition-colors text-xs\">Admin</a></li>\n              </ul>\n            </div>\n          </div>\n\n          <div className=\"border-t border-gray-800 pt-8\">\n            <div className=\"flex flex-col md:flex-row justify-between items-center gap-4 text-sm\">\n              <p className=\"text-gray-300\">\n                 {new Date().getFullYear()} Inferno TV. All rights reserved.\n              </p>\n              <div className=\"flex items-center gap-6\">\n                <span className=\"text-green-400 font-semibold\"> Secure Payment</span>\n                <span className=\"text-orange-400 font-semibold\">24/7 Support</span>\n                <span className=\"text-blue-400 font-semibold\">Money-Back Guarantee</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n      </main>\n\n      {/* Exit Intent Popup */}\n      <ExitPopup />\n\n      {/* Social Proof Popup - Recent Purchases */}\n      <SocialProofPopup />\n\n      {/* Floating CTA */}\n      <FloatingCTA />\n\n      {/* Sticky Mobile CTA */}\n      <StickyMobileCTA />\n\n      {/* Scroll to Top */}\n      <ScrollToTopButton />\n\n      {/* Product Quick View Modal */}\n      <ProductQuickView \n        product={quickViewProduct} \n        isOpen={isQuickViewOpen} \n        onClose={closeQuickView} \n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":83242,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1828,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1877,"size_tokens":null},"client/src/components/ui/input-group.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 shadow-xs relative flex w-full items-center rounded-md border outline-none transition-[color,box-shadow]\",\n        \"h-9 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:ring-ring has-[[data-slot=input-group-control]:focus-visible]:ring-1\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text select-none items-center justify-center gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"[.border-b]:pb-3 order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"[.border-t]:pt-3 order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"flex items-center gap-2 text-sm shadow-none\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>svg]:px-2 [&>svg:not([class*='size-'])]:size-3.5\",\n        sm: \"h-8 gap-1.5 rounded-md px-2.5 has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","path":null,"size_bytes":4971,"size_tokens":null},"client/src/lib/store.ts":{"content":"import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nconst isFirestickProduct = (id: string): boolean => {\n  return id.startsWith('fs-') || id.includes('firestick');\n};\n\nconst calculateFirestickDiscount = (basePrice: number, quantity: number): number => {\n  if (quantity >= 3) return basePrice * 0.85;\n  if (quantity >= 2) return basePrice * 0.90;\n  return basePrice;\n};\n\nexport interface Product {\n  id: string;\n  name: string;\n  price: number;\n  image: string;\n  category: 'firestick' | 'iptv' | 'design';\n  description: string;\n}\n\ninterface CartItem extends Product {\n  quantity: number;\n  basePrice?: number;\n}\n\ninterface CartState {\n  items: CartItem[];\n  isOpen: boolean;\n  addItem: (product: Product) => void;\n  addItemWithQuantity: (product: Product, quantity: number, discountedPrice?: number) => void;\n  removeItem: (productId: string) => void;\n  updateQuantity: (productId: string, quantity: number) => void;\n  toggleCart: () => void;\n  openCart: () => void;\n  closeCart: () => void;\n  clearCart: () => void;\n  total: () => number;\n}\n\ninterface WishlistState {\n  items: Product[];\n  isOpen: boolean;\n  addToWishlist: (product: Product) => void;\n  removeFromWishlist: (productId: string) => void;\n  isInWishlist: (productId: string) => boolean;\n  toggleWishlist: () => void;\n  openWishlist: () => void;\n  closeWishlist: () => void;\n  clearWishlist: () => void;\n}\n\nexport const useCart = create<CartState>()(\n  persist(\n    (set, get) => ({\n      items: [],\n      isOpen: false,\n      addItem: (product) => set((state) => {\n        const existing = state.items.find(i => i.id === product.id);\n        if (existing) {\n          return {\n            items: state.items.map(i => \n              i.id === product.id ? { ...i, quantity: i.quantity + 1 } : i\n            ),\n            isOpen: true\n          };\n        }\n        return { items: [...state.items, { ...product, quantity: 1 }], isOpen: true };\n      }),\n      addItemWithQuantity: (product, quantity, discountedPrice) => set((state) => {\n        const priceToUse = discountedPrice ?? product.price;\n        const isFirestick = isFirestickProduct(product.id);\n        const productToAdd = isFirestick \n          ? { ...product, price: priceToUse, basePrice: product.price }\n          : { ...product, price: priceToUse };\n        const existing = state.items.find(i => i.id === product.id);\n        if (existing) {\n          const newQuantity = existing.quantity + quantity;\n          const recalculatedPrice = isFirestick && existing.basePrice\n            ? calculateFirestickDiscount(existing.basePrice, newQuantity)\n            : priceToUse;\n          return {\n            items: state.items.map(i => \n              i.id === product.id ? { ...i, quantity: newQuantity, price: recalculatedPrice } : i\n            ),\n            isOpen: true\n          };\n        }\n        return { items: [...state.items, { ...productToAdd, quantity }], isOpen: true };\n      }),\n      removeItem: (id) => set((state) => ({\n        items: state.items.filter(i => i.id !== id)\n      })),\n      updateQuantity: (id, quantity) => set((state) => ({\n        items: state.items.map(i => {\n          if (i.id === id) {\n            if (isFirestickProduct(i.id) && i.basePrice) {\n              const newPrice = calculateFirestickDiscount(i.basePrice, quantity);\n              return { ...i, quantity, price: newPrice };\n            }\n            return { ...i, quantity };\n          }\n          return i;\n        })\n      })),\n      toggleCart: () => set((state) => ({ isOpen: !state.isOpen })),\n      openCart: () => set({ isOpen: true }),\n      closeCart: () => set({ isOpen: false }),\n      clearCart: () => set({ items: [] }),\n      total: () => {\n        return get().items.reduce((acc, item) => acc + (item.price * item.quantity), 0);\n      }\n    }),\n    {\n      name: 'cart-storage',\n      partialize: (state) => ({ items: state.items }),\n    }\n  )\n);\n\nexport const useWishlist = create<WishlistState>()(\n  persist(\n    (set, get) => ({\n      items: [],\n      isOpen: false,\n      addToWishlist: (product) => set((state) => {\n        const existing = state.items.find(i => i.id === product.id);\n        if (existing) return state;\n        return { items: [...state.items, product] };\n      }),\n      removeFromWishlist: (id) => set((state) => ({\n        items: state.items.filter(i => i.id !== id)\n      })),\n      isInWishlist: (id) => {\n        return get().items.some(i => i.id === id);\n      },\n      toggleWishlist: () => set((state) => ({ isOpen: !state.isOpen })),\n      openWishlist: () => set({ isOpen: true }),\n      closeWishlist: () => set({ isOpen: false }),\n      clearWishlist: () => set({ items: [] }),\n    }),\n    {\n      name: 'wishlist-storage',\n      partialize: (state) => ({ items: state.items }),\n    }\n  )\n);\n","path":null,"size_bytes":4809,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2356,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload\n            .filter((item) => item.type !== \"none\")\n            .map((item, index) => {\n              const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n              const itemConfig = getPayloadConfigFromPayload(config, item, key)\n              const indicatorColor = color || item.payload.fill || item.color\n\n              return (\n                <div\n                  key={item.dataKey}\n                  className={cn(\n                    \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                    indicator === \"dot\" && \"items-center\"\n                  )}\n                >\n                  {formatter && item?.value !== undefined && item.name ? (\n                    formatter(item.value, item.name, item, index, item.payload)\n                  ) : (\n                    <>\n                      {itemConfig?.icon ? (\n                        <itemConfig.icon />\n                      ) : (\n                        !hideIndicator && (\n                          <div\n                            className={cn(\n                              \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                              {\n                                \"h-2.5 w-2.5\": indicator === \"dot\",\n                                \"w-1\": indicator === \"line\",\n                                \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                  indicator === \"dashed\",\n                                \"my-0.5\": nestLabel && indicator === \"dashed\",\n                              }\n                            )}\n                            style={\n                              {\n                                \"--color-bg\": indicatorColor,\n                                \"--color-border\": indicatorColor,\n                              } as React.CSSProperties\n                            }\n                          />\n                        )\n                      )}\n                      <div\n                        className={cn(\n                          \"flex flex-1 justify-between leading-none\",\n                          nestLabel ? \"items-end\" : \"items-center\"\n                        )}\n                      >\n                        <div className=\"grid gap-1.5\">\n                          {nestLabel ? tooltipLabel : null}\n                          <span className=\"text-muted-foreground\">\n                            {itemConfig?.label || item.name}\n                          </span>\n                        </div>\n                        {item.value && (\n                          <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                            {item.value.toLocaleString()}\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload\n          .filter((item) => item.type !== \"none\")\n          .map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n            return (\n              <div\n                key={item.value}\n                className={cn(\n                  \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n                )}\n              >\n                {itemConfig?.icon && !hideIcon ? (\n                  <itemConfig.icon />\n                ) : (\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                    style={{\n                      backgroundColor: item.color,\n                    }}\n                  />\n                )}\n                {itemConfig?.label}\n              </div>\n            )\n          })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10763,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4419,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1037,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1267,"size_tokens":null},"client/src/pages/Checkout.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { useCart } from \"@/lib/store\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Trash2, ArrowLeft, CreditCard, Lock, ShieldCheck, Zap, CheckCircle, Loader2, RefreshCw, UserPlus, Globe, MessageSquare, Phone } from \"lucide-react\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\nconst productIdMap: Record<string, string> = {\n  \"fs-hd\": \"firestick-hd\",\n  \"fs-4k\": \"firestick-4k\",\n  \"fs-max\": \"firestick-4k-max\",\n  \"iptv-1mo-1d\": \"iptv-1mo-1d\",\n  \"iptv-1mo-2d\": \"iptv-1mo-2d\",\n  \"iptv-1mo-3d\": \"iptv-1mo-3d\",\n  \"iptv-1mo-4d\": \"iptv-1mo-4d\",\n  \"iptv-1mo-5d\": \"iptv-1mo-5d\",\n  \"iptv-3mo-1d\": \"iptv-3mo-1d\",\n  \"iptv-3mo-2d\": \"iptv-3mo-2d\",\n  \"iptv-3mo-3d\": \"iptv-3mo-3d\",\n  \"iptv-3mo-4d\": \"iptv-3mo-4d\",\n  \"iptv-3mo-5d\": \"iptv-3mo-5d\",\n  \"iptv-6mo-1d\": \"iptv-6mo-1d\",\n  \"iptv-6mo-2d\": \"iptv-6mo-2d\",\n  \"iptv-6mo-3d\": \"iptv-6mo-3d\",\n  \"iptv-6mo-4d\": \"iptv-6mo-4d\",\n  \"iptv-6mo-5d\": \"iptv-6mo-5d\",\n  \"iptv-1yr-1d\": \"iptv-1yr-1d\",\n  \"iptv-1yr-2d\": \"iptv-1yr-2d\",\n  \"iptv-1yr-3d\": \"iptv-1yr-3d\",\n  \"iptv-1yr-4d\": \"iptv-1yr-4d\",\n  \"iptv-1yr-5d\": \"iptv-1yr-5d\",\n};\n\nexport default function Checkout() {\n  const [, setLocation] = useLocation();\n  const { items, total, removeItem, updateQuantity, clearCart } = useCart();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [accountType, setAccountType] = useState<\"new\" | \"renewal\">(\"new\");\n  const [existingUsername, setExistingUsername] = useState(\"\");\n  const [countryOptions, setCountryOptions] = useState({\n    usaOnly: false,\n    usaCanadaUk: false,\n    allCountries: true,\n  });\n  const [customCountries, setCustomCountries] = useState(\"\");\n  const [formData, setFormData] = useState({\n    email: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    phone: \"\",\n    message: \"\",\n  });\n\n  useEffect(() => {\n    document.title = \"Checkout | StreamStickPro\";\n  }, []);\n\n  const hasIPTVProduct = items.some(item => \n    item.id.includes('iptv') || item.name?.toLowerCase().includes('iptv') ||\n    item.name?.toLowerCase().includes('subscription') || item.name?.toLowerCase().includes('month')\n  );\n\n  const hasFireStickProduct = items.some(item => \n    item.id.includes('firestick') || item.id.includes('fs-') ||\n    item.name?.toLowerCase().includes('fire stick') || item.name?.toLowerCase().includes('firestick')\n  );\n\n  const hasFreeTrial = items.some(item => \n    item.id.includes('trial') || item.name?.toLowerCase().includes('trial') || item.price === 0\n  );\n\n  const showCountryOptions = hasIPTVProduct || hasFireStickProduct || hasFreeTrial;\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    setError(null);\n  };\n\n  // Track abandoned cart when user enters email (for recovery emails)\n  const trackAbandonedCart = async () => {\n    if (!formData.email || !formData.email.includes('@') || items.length === 0) return;\n    \n    try {\n      await apiCall(\"/api/track-cart\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: formData.email,\n          customerName: `${formData.firstName} ${formData.lastName}`.trim() || null,\n          cartItems: items.map(item => ({ id: item.id, name: item.name, price: item.price, quantity: item.quantity })),\n          totalAmount: total,\n        }),\n      });\n    } catch (err) {\n      // Silently fail - this is just for recovery\n      console.log(\"Cart tracking skipped\");\n    }\n  };\n\n  // Track cart when email field loses focus\n  const handleEmailBlur = () => {\n    trackAbandonedCart();\n  };\n\n  const buildCountryPreference = () => {\n    const preferences: string[] = [];\n    if (countryOptions.usaOnly) preferences.push(\"USA Only\");\n    if (countryOptions.usaCanadaUk) preferences.push(\"USA, Canada, UK\");\n    if (countryOptions.allCountries) preferences.push(\"All Countries\");\n    if (customCountries.trim()) preferences.push(`Custom: ${customCountries.trim()}`);\n    return preferences.join(\"; \") || \"All Countries\";\n  };\n\n  const handleCountryOptionChange = (option: keyof typeof countryOptions, checked: boolean) => {\n    setCountryOptions(prev => ({ ...prev, [option]: checked }));\n  };\n\n  const handlePayment = async () => {\n    if (!formData.email || !formData.firstName) {\n      setError(\"Please enter your email and name\");\n      return;\n    }\n\n    if (items.length === 0) {\n      setError(\"Your cart is empty\");\n      return;\n    }\n\n    if (accountType === \"renewal\" && hasIPTVProduct && !existingUsername.trim()) {\n      setError(\"Please enter your existing username\");\n      return;\n    }\n\n    setIsProcessing(true);\n    setError(null);\n\n    try {\n      const checkoutItems = items.map(item => ({\n        productId: productIdMap[item.id] || item.id,\n        quantity: item.quantity,\n      }));\n\n      const checkoutPayload: any = {\n        items: checkoutItems,\n        customerEmail: formData.email,\n        customerName: `${formData.firstName} ${formData.lastName}`.trim(),\n      };\n\n      if (accountType === \"renewal\" && hasIPTVProduct && existingUsername.trim()) {\n        checkoutPayload.isRenewal = true;\n        checkoutPayload.existingUsername = existingUsername.trim();\n      }\n\n      if (showCountryOptions) {\n        checkoutPayload.countryPreference = buildCountryPreference();\n      }\n\n      if (formData.phone.trim()) {\n        checkoutPayload.customerPhone = formData.phone.trim();\n      }\n\n      if (formData.message.trim()) {\n        checkoutPayload.customerMessage = formData.message.trim();\n      }\n\n      // Include customer token if logged in\n      const headers: Record<string, string> = { \"Content-Type\": \"application/json\" };\n      const customerToken = localStorage.getItem(\"customerToken\");\n      if (customerToken) {\n        headers[\"Authorization\"] = `Bearer ${customerToken}`;\n      }\n\n      const response = await apiCall(\"/api/checkout\", {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(checkoutPayload),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create checkout session\");\n      }\n\n      if (data.url) {\n        clearCart();\n        window.location.href = data.url;\n      } else {\n        throw new Error(\"No checkout URL returned\");\n      }\n    } catch (err: any) {\n      console.error(\"Checkout error:\", err);\n      setError(err.message || \"Something went wrong. Please try again.\");\n      setIsProcessing(false);\n    }\n  };\n\n  if (items.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-background to-black text-foreground flex flex-col items-center justify-center p-4\">\n        <div className=\"text-center space-y-6\">\n          <div className=\"w-20 h-20 mx-auto rounded-full bg-primary/20 flex items-center justify-center\">\n            <Zap className=\"w-10 h-10 text-primary\" />\n          </div>\n          <h1 className=\"text-3xl font-bold\">Your cart is empty</h1>\n          <p className=\"text-muted-foreground max-w-md\">\n            Browse our selection of premium streaming devices and Live TV plans.\n          </p>\n          <Button \n            onClick={() => setLocation(\"/\")} \n            size=\"lg\"\n            className=\"bg-primary hover:bg-primary/90\"\n            data-testid=\"button-back-to-store\"\n          >\n            Browse Products\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-black text-foreground\">\n      <div className=\"container mx-auto px-4 py-8 max-w-6xl\">\n        <Button \n          variant=\"ghost\" \n          onClick={() => setLocation(\"/\")} \n          className=\"mb-8 hover:bg-white/10\"\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back to Store\n        </Button>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8\">\n          <div className=\"lg:col-span-3 space-y-6\">\n            <Card className=\"border-white/10 bg-card/50 backdrop-blur\">\n              <CardHeader className=\"pb-4\">\n                <CardTitle className=\"text-2xl flex items-center gap-2\">\n                  <Zap className=\"w-6 h-6 text-primary\" />\n                  Your Order\n                </CardTitle>\n                <CardDescription>Review your items</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {items.map((item) => (\n                  <div \n                    key={item.id} \n                    className=\"flex items-center justify-between p-4 border border-white/10 rounded-xl bg-white/5 hover:bg-white/10 transition-colors\"\n                    data-testid={`cart-item-${item.id}`}\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"w-16 h-16 rounded-lg overflow-hidden bg-white/10\">\n                        <img src={item.image} alt={item.name} className=\"w-full h-full object-cover\" loading=\"lazy\" width={64} height={64} />\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-lg\">{item.name}</h3>\n                        <div className=\"text-primary font-bold\">${item.price}</div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"flex items-center border border-white/20 rounded-lg overflow-hidden\">\n                        <button \n                          className=\"px-3 py-2 hover:bg-white/10 transition-colors\"\n                          onClick={() => updateQuantity(item.id, Math.max(1, item.quantity - 1))}\n                          data-testid={`button-decrease-${item.id}`}\n                          aria-label={`Decrease quantity of ${item.name}`}\n                        >-</button>\n                        <span className=\"px-3 py-2 bg-white/5 min-w-[40px] text-center\">{item.quantity}</span>\n                        <button \n                          className=\"px-3 py-2 hover:bg-white/10 transition-colors\"\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          data-testid={`button-increase-${item.id}`}\n                          aria-label={`Increase quantity of ${item.name}`}\n                        >+</button>\n                      </div>\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        onClick={() => removeItem(item.id)} \n                        className=\"text-red-400 hover:text-red-300 hover:bg-red-400/10\"\n                        data-testid={`button-remove-${item.id}`}\n                        aria-label={`Remove ${item.name} from cart`}\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n\n            {hasIPTVProduct && (\n              <Card className=\"border-white/10 bg-card/50 backdrop-blur\">\n                <CardHeader className=\"pb-4\">\n                  <CardTitle className=\"text-xl flex items-center gap-2\">\n                    <RefreshCw className=\"w-5 h-5 text-primary\" />\n                    Account Type\n                  </CardTitle>\n                  <CardDescription>Are you a new customer or renewing an existing subscription?</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <RadioGroup \n                    value={accountType} \n                    onValueChange={(value) => setAccountType(value as \"new\" | \"renewal\")}\n                    className=\"space-y-3\"\n                  >\n                    <div \n                      className={`flex items-center space-x-3 p-4 rounded-lg border transition-all cursor-pointer ${\n                        accountType === \"new\" \n                          ? \"border-primary bg-primary/10\" \n                          : \"border-white/10 hover:border-white/20\"\n                      }`}\n                      onClick={() => setAccountType(\"new\")}\n                      data-testid=\"radio-new-account\"\n                    >\n                      <RadioGroupItem value=\"new\" id=\"new\" />\n                      <div className=\"flex items-center gap-3 flex-1\">\n                        <UserPlus className=\"w-5 h-5 text-green-400\" />\n                        <div>\n                          <Label htmlFor=\"new\" className=\"font-semibold cursor-pointer\">New Account</Label>\n                          <p className=\"text-sm text-muted-foreground\">I'm a new customer - generate new login credentials for me</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div \n                      className={`flex items-center space-x-3 p-4 rounded-lg border transition-all cursor-pointer ${\n                        accountType === \"renewal\" \n                          ? \"border-primary bg-primary/10\" \n                          : \"border-white/10 hover:border-white/20\"\n                      }`}\n                      onClick={() => setAccountType(\"renewal\")}\n                      data-testid=\"radio-renewal\"\n                    >\n                      <RadioGroupItem value=\"renewal\" id=\"renewal\" />\n                      <div className=\"flex items-center gap-3 flex-1\">\n                        <RefreshCw className=\"w-5 h-5 text-blue-400\" />\n                        <div>\n                          <Label htmlFor=\"renewal\" className=\"font-semibold cursor-pointer\">Renew Existing Account</Label>\n                          <p className=\"text-sm text-muted-foreground\">I already have an account - extend my subscription</p>\n                        </div>\n                      </div>\n                    </div>\n                  </RadioGroup>\n\n                  {accountType === \"renewal\" && (\n                    <div className=\"space-y-2 pt-2\">\n                      <Label htmlFor=\"existingUsername\">Your Existing Username *</Label>\n                      <Input \n                        id=\"existingUsername\"\n                        placeholder=\"Enter your current Live TV username\" \n                        value={existingUsername}\n                        onChange={(e) => setExistingUsername(e.target.value)}\n                        className=\"bg-background/50 border-white/20 h-12\"\n                        data-testid=\"input-existing-username\"\n                      />\n                      <p className=\"text-xs text-muted-foreground\">\n                        Enter the username you currently use to access Live TV. Your subscription will be extended.\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            {showCountryOptions && (\n              <Card className=\"border-white/10 bg-card/50 backdrop-blur\">\n                <CardHeader className=\"pb-4\">\n                  <CardTitle className=\"text-xl flex items-center gap-2\">\n                    <Globe className=\"w-5 h-5 text-primary\" />\n                    Channel Preferences\n                  </CardTitle>\n                  <CardDescription>Which regions/countries would you like channels from?</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-3\">\n                    <div \n                      className={`flex items-center space-x-3 p-4 rounded-lg border transition-all cursor-pointer ${\n                        countryOptions.usaOnly \n                          ? \"border-primary bg-primary/10\" \n                          : \"border-white/10 hover:border-white/20\"\n                      }`}\n                      onClick={() => handleCountryOptionChange(\"usaOnly\", !countryOptions.usaOnly)}\n                      data-testid=\"checkbox-usa-only\"\n                    >\n                      <Checkbox \n                        checked={countryOptions.usaOnly}\n                        onCheckedChange={(checked) => handleCountryOptionChange(\"usaOnly\", !!checked)}\n                        id=\"usa-only\"\n                      />\n                      <div className=\"flex-1\">\n                        <Label htmlFor=\"usa-only\" className=\"font-semibold cursor-pointer\">USA Only</Label>\n                        <p className=\"text-sm text-muted-foreground\">Only US-based channels</p>\n                      </div>\n                    </div>\n                    \n                    <div \n                      className={`flex items-center space-x-3 p-4 rounded-lg border transition-all cursor-pointer ${\n                        countryOptions.usaCanadaUk \n                          ? \"border-primary bg-primary/10\" \n                          : \"border-white/10 hover:border-white/20\"\n                      }`}\n                      onClick={() => handleCountryOptionChange(\"usaCanadaUk\", !countryOptions.usaCanadaUk)}\n                      data-testid=\"checkbox-usa-canada-uk\"\n                    >\n                      <Checkbox \n                        checked={countryOptions.usaCanadaUk}\n                        onCheckedChange={(checked) => handleCountryOptionChange(\"usaCanadaUk\", !!checked)}\n                        id=\"usa-canada-uk\"\n                      />\n                      <div className=\"flex-1\">\n                        <Label htmlFor=\"usa-canada-uk\" className=\"font-semibold cursor-pointer\">USA + Canada + UK</Label>\n                        <p className=\"text-sm text-muted-foreground\">English-speaking countries</p>\n                      </div>\n                    </div>\n                    \n                    <div \n                      className={`flex items-center space-x-3 p-4 rounded-lg border transition-all cursor-pointer ${\n                        countryOptions.allCountries \n                          ? \"border-primary bg-primary/10\" \n                          : \"border-white/10 hover:border-white/20\"\n                      }`}\n                      onClick={() => handleCountryOptionChange(\"allCountries\", !countryOptions.allCountries)}\n                      data-testid=\"checkbox-all-countries\"\n                    >\n                      <Checkbox \n                        checked={countryOptions.allCountries}\n                        onCheckedChange={(checked) => handleCountryOptionChange(\"allCountries\", !!checked)}\n                        id=\"all-countries\"\n                      />\n                      <div className=\"flex-1\">\n                        <Label htmlFor=\"all-countries\" className=\"font-semibold cursor-pointer\">All Countries</Label>\n                        <p className=\"text-sm text-muted-foreground\">Full international channel package</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2 pt-2\">\n                    <Label htmlFor=\"customCountries\">Other Countries/Languages (Optional)</Label>\n                    <Input \n                      id=\"customCountries\"\n                      placeholder=\"e.g., Spanish, Portuguese, Arabic channels...\" \n                      value={customCountries}\n                      onChange={(e) => setCustomCountries(e.target.value)}\n                      className=\"bg-background/50 border-white/20 h-12\"\n                      data-testid=\"input-custom-countries\"\n                    />\n                    <p className=\"text-xs text-muted-foreground\">\n                      Tell us any specific countries or language channels you'd like\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            <Card className=\"border-white/10 bg-card/50 backdrop-blur\">\n              <CardHeader className=\"pb-4\">\n                <CardTitle className=\"text-xl\">Contact Information</CardTitle>\n                <CardDescription>\n                  {accountType === \"new\" && hasIPTVProduct \n                    ? \"We'll send your new login credentials here\" \n                    : \"We'll send your order confirmation here\"}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email Address *</Label>\n                  <Input \n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"your@email.com\" \n                    value={formData.email}\n                    onChange={handleInputChange}\n                    onBlur={handleEmailBlur}\n                    className=\"bg-background/50 border-white/20 h-12 text-lg\"\n                    data-testid=\"input-email\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"firstName\">First Name *</Label>\n                    <Input \n                      id=\"firstName\"\n                      name=\"firstName\"\n                      placeholder=\"John\" \n                      value={formData.firstName}\n                      onChange={handleInputChange}\n                      className=\"bg-background/50 border-white/20 h-12\"\n                      data-testid=\"input-first-name\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"lastName\">Last Name</Label>\n                    <Input \n                      id=\"lastName\"\n                      name=\"lastName\"\n                      placeholder=\"Doe\" \n                      value={formData.lastName}\n                      onChange={handleInputChange}\n                      className=\"bg-background/50 border-white/20 h-12\"\n                      data-testid=\"input-last-name\"\n                    />\n                  </div>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"phone\" className=\"flex items-center gap-2\">\n                    <Phone className=\"w-4 h-4\" />\n                    Phone Number (Optional)\n                  </Label>\n                  <Input \n                    id=\"phone\"\n                    name=\"phone\"\n                    type=\"tel\"\n                    placeholder=\"(555) 123-4567\" \n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    className=\"bg-background/50 border-white/20 h-12\"\n                    data-testid=\"input-phone\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    For order updates and shipping notifications\n                  </p>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"message\" className=\"flex items-center gap-2\">\n                    <MessageSquare className=\"w-4 h-4\" />\n                    Message (Optional)\n                  </Label>\n                  <Textarea \n                    id=\"message\"\n                    name=\"message\"\n                    placeholder=\"Any special requests, questions, or notes for your order...\" \n                    value={formData.message}\n                    onChange={(e) => setFormData(prev => ({ ...prev, message: e.target.value }))}\n                    className=\"bg-background/50 border-white/20 min-h-[100px] resize-none\"\n                    data-testid=\"input-message\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"lg:col-span-2\">\n            <Card className=\"border-white/10 bg-gradient-to-b from-card/80 to-card/50 backdrop-blur sticky top-8\">\n              <CardHeader className=\"pb-4\">\n                <CardTitle className=\"text-xl\">Order Summary</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"space-y-3\">\n                  {items.map(item => (\n                    <div key={item.id} className=\"flex justify-between text-sm\">\n                      <span className=\"text-muted-foreground\">{item.name} x{item.quantity}</span>\n                      <span>${item.price * item.quantity}</span>\n                    </div>\n                  ))}\n                </div>\n                \n                <Separator className=\"bg-white/10\" />\n                \n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Subtotal</span>\n                    <span>${total()}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Shipping</span>\n                    <span className=\"text-green-400\">FREE</span>\n                  </div>\n                </div>\n                \n                <Separator className=\"bg-white/10\" />\n                \n                <div className=\"flex justify-between text-2xl font-bold\">\n                  <span>Total</span>\n                  <span className=\"text-primary\">${total()}</span>\n                </div>\n                \n                {error && (\n                  <div className=\"bg-red-500/10 border border-red-500/30 p-3 rounded-lg text-red-300 text-sm\">\n                    {error}\n                  </div>\n                )}\n\n                <div className=\"space-y-4 pt-2\">\n                  <Button \n                    className=\"w-full bg-primary hover:bg-primary/90 h-14 text-lg font-semibold shadow-lg shadow-primary/25\"\n                    onClick={handlePayment}\n                    disabled={isProcessing}\n                    data-testid=\"button-pay\"\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <Lock className=\"w-5 h-5 mr-2\" />\n                        Pay Securely\n                      </>\n                    )}\n                  </Button>\n\n                  <div className=\"bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl space-y-3\">\n                    <div className=\"flex items-start gap-3\">\n                      <ShieldCheck className=\"w-5 h-5 text-blue-400 mt-0.5 shrink-0\" />\n                      <div className=\"text-sm text-blue-200\">\n                        <p className=\"font-medium mb-1\">Discrete Billing</p>\n                        <p className=\"text-blue-300/80\">Your bank statement will show \"Digital Services\" for privacy.</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2 text-sm text-muted-foreground\">\n                    <div className=\"flex items-center gap-2\">\n                      <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                      <span>Instant delivery via email</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                      <span>24/7 customer support</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                      <span>Secure 256-bit encryption</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex justify-center items-center gap-3 pt-2\">\n                    <CreditCard className=\"w-8 h-8 text-muted-foreground\" />\n                    <div className=\"text-xs text-muted-foreground\">\n                      Powered by Stripe\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":28735,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1598,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":649,"size_tokens":null},"client/src/lib/supabase.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.warn(\n    'Supabase environment variables are missing. ' +\n      'Main site will load, but analytics/admin features are disabled.',\n  );\n}\n\nexport const supabase = createClient(\n  supabaseUrl || 'https://placeholder.supabase.co',\n  supabaseAnonKey || 'public-anon-key-placeholder',\n);\n\nexport interface PricingPlan {\n  id: string;\n  name: string;\n  description?: string;\n  price: number;\n  period?: string;\n  billing_period?: string;\n  features: string[];\n  popular?: boolean;\n  is_popular?: boolean;\n  active: boolean;\n  display_order?: number;\n}\n\nconst BUCKET_NAME_MAPPINGS: Record<string, string> = {\n  'images': 'imiges',\n  'imagees': 'imiges',\n  'imags': 'imiges',\n  'image': 'imiges',\n};\n\nfunction normalizeBucketName(bucket: string): string {\n  const lowerBucket = bucket.toLowerCase();\n  \n  if (lowerBucket in BUCKET_NAME_MAPPINGS) {\n    const normalized = BUCKET_NAME_MAPPINGS[lowerBucket];\n    if (import.meta.env.DEV) {\n      console.debug(\n        `[getStorageUrl] Bucket name normalized: '${bucket}' -> '${normalized}'`\n      );\n    }\n    return normalized;\n  }\n  \n  return bucket;\n}\n\nexport function getStorageUrl(bucket: string, path: string): string {\n  if (!supabaseUrl || supabaseUrl === 'https://placeholder.supabase.co') {\n    return 'https://images.pexels.com/photos/1201996/pexels-photo-1201996.jpeg?auto=compress&cs=tinysrgb&w=800';\n  }\n  \n  const bucketOverride = import.meta.env.VITE_STORAGE_BUCKET_NAME;\n  \n  let actualBucket: string;\n  if (bucketOverride) {\n    actualBucket = normalizeBucketName(bucketOverride);\n  } else {\n    actualBucket = normalizeBucketName(bucket);\n  }\n  \n  let cleanPath = path;\n  while (cleanPath.startsWith('/')) {\n    cleanPath = cleanPath.slice(1);\n  }\n  \n  const encodedPath = cleanPath\n    .split('/')\n    .map(segment => encodeURIComponent(segment))\n    .join('/');\n  \n  return `${supabaseUrl}/storage/v1/object/public/${actualBucket}/${encodedPath}`;\n}\n\nexport function formatPrice(cents: number): string {\n  return (cents / 100).toFixed(2);\n}\n\nexport function formatPriceDisplay(cents: number): string {\n  return `$${formatPrice(cents)}`;\n}\n\nexport function dollarsToCents(dollars: number): number {\n  return Math.round(dollars * 100);\n}\n\nexport function centsToDollars(cents: number): number {\n  return cents / 100;\n}\n\n// Direct database queries for production (bypasses API layer)\nexport async function fetchProducts() {\n  try {\n    const { data, error } = await supabase\n      .from('realProducts')\n      .select('*');\n    \n    if (error) throw error;\n    return { success: true, data: data || [] };\n  } catch (err: any) {\n    console.error('Failed to fetch products:', err);\n    return { success: false, data: [], error: err.message };\n  }\n}\n\nexport async function fetchBlogPosts(publishedOnly = true) {\n  try {\n    let query = supabase.from('blog_posts').select('*');\n    \n    if (publishedOnly) {\n      query = query.eq('is_published', true);\n    }\n    \n    const { data, error } = await query.order('published_at', { ascending: false });\n    \n    if (error) throw error;\n    \n    // Map Supabase snake_case columns to camelCase for frontend\n    const posts = (data || []).map((post: any) => ({\n      id: post.id,\n      title: post.title,\n      slug: post.slug,\n      excerpt: post.excerpt,\n      content: post.content,\n      category: post.category || 'Guides',\n      featured: post.featured || false,\n      published: post.is_published ?? true,\n      createdAt: post.published_at || new Date().toISOString(),\n      keywords: post.keywords || [],\n      metaDescription: post.meta_description || post.excerpt || '',\n    }));\n    \n    return { success: true, data: posts };\n  } catch (err: any) {\n    console.error('Failed to fetch blog posts:', err);\n    return { success: false, data: [], error: err.message };\n  }\n}\n\nexport async function fetchBlogPostBySlug(slug: string) {\n  try {\n    const { data, error } = await supabase\n      .from('blog_posts')\n      .select('*')\n      .eq('slug', slug)\n      .eq('is_published', true)\n      .single();\n    \n    if (error) throw error;\n    \n    // Map Supabase snake_case columns to camelCase\n    const post = data ? {\n      id: data.id,\n      title: data.title,\n      slug: data.slug,\n      excerpt: data.excerpt,\n      content: data.content,\n      category: data.category || 'Guides',\n      featured: data.featured || false,\n      published: data.is_published ?? true,\n      createdAt: data.published_at || new Date().toISOString(),\n      keywords: data.keywords || [],\n      metaDescription: data.meta_description || data.excerpt || '',\n    } : null;\n    \n    return { success: true, data: post };\n  } catch (err: any) {\n    console.error('Failed to fetch blog post:', err);\n    return { success: false, data: null, error: err.message };\n  }\n}\n","path":null,"size_bytes":4982,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/components/SportsCarousel.tsx":{"content":"import useEmblaCarousel from 'embla-carousel-react'\nimport Autoplay from 'embla-carousel-autoplay'\nimport { Card, CardContent } from \"@/components/ui/card\"\n\nimport ufcFallback from \"@assets/stock_images/ufc_mma_fighter_in_o_3625dd6b.jpg\";\nimport nflFallback from \"@assets/stock_images/american_football_pl_1dce3698.jpg\";\nimport nbaFallback from \"@assets/stock_images/basketball_player_du_c74298fe.jpg\";\nimport mlbFallback from \"@assets/stock_images/baseball_batter_hitt_88195588.jpg\";\n\nconst SUPABASE_BASE = \"https://emlqlmfzqsnqokrqvmcm.supabase.co/storage/v1/object/public/imiges\";\n\nconst sports = [\n  { name: \"UFC & MMA\", image: `${SUPABASE_BASE}/UFC.jpg`, fallback: ufcFallback, desc: \"Every PPV Event Live\" },\n  { name: \"NFL Sunday Ticket\", image: `${SUPABASE_BASE}/c643f060-ea1b-462f-8509-ea17b005318aNFL.jpg`, fallback: nflFallback, desc: \"Every Game, Every Sunday\" },\n  { name: \"NBA League Pass\", image: `${SUPABASE_BASE}/downloadBASKET%20BALL.jpg`, fallback: nbaFallback, desc: \"Follow Your Team\" },\n  { name: \"MLB Extra Innings\", image: `${SUPABASE_BASE}/BASEBALL.webp`, fallback: mlbFallback, desc: \"Home Run Action\" },\n  { name: \"Soccer & World Cup\", image: `${SUPABASE_BASE}/downloadSOCCER.jpg`, fallback: nbaFallback, desc: \"Global Football Action\" },\n]\n\nexport function SportsCarousel() {\n  const [emblaRef] = useEmblaCarousel({ loop: true }, [Autoplay({ delay: 3000 })])\n\n  return (\n    <div className=\"w-full max-w-6xl mx-auto px-4 py-12\">\n      <h2 className=\"text-3xl font-bold text-center mb-8\">Live Sports Included</h2>\n      <div className=\"overflow-hidden\" ref={emblaRef}>\n        <div className=\"flex\">\n          {sports.map((sport, index) => (\n            <div key={index} className=\"flex-[0_0_100%] md:flex-[0_0_50%] lg:flex-[0_0_33%] min-w-0 px-4\">\n              <div className=\"relative h-64 rounded-xl overflow-hidden group cursor-pointer border border-white/10 hover:border-primary/50 transition-colors\">\n                <img \n                  src={sport.image} \n                  alt={sport.name} \n                  className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                  loading=\"lazy\"\n                  width={400}\n                  height={256}\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    if (sport.fallback && target.src !== sport.fallback) {\n                      target.src = sport.fallback;\n                    }\n                  }}\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent\" />\n                <div className=\"absolute bottom-0 left-0 p-6\">\n                  <h3 className=\"text-xl font-bold text-white mb-1\">{sport.name}</h3>\n                  <p className=\"text-sm text-gray-300\">{sport.desc}</p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n","path":null,"size_bytes":2998,"size_tokens":null},"client/src/components/ui/item.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item [a]:hover:bg-accent/50 focus-visible:border-ring focus-visible:ring-ring/50 [a]:transition-colors flex flex-wrap items-center rounded-md border border-transparent text-sm outline-none transition-colors duration-100 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"gap-4 p-4 \",\n        sm: \"gap-2.5 px-4 py-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:translate-y-0.5 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted size-8 rounded-sm border [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 overflow-hidden rounded-sm [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-balance text-sm font-normal leading-normal\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","path":null,"size_bytes":4494,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/index.css":{"content":"@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n/* Tailwind v4 content sources - ensures all responsive classes are compiled */\n@source \"./**/*.tsx\";\n@source \"./**/*.ts\";\n@source \"../index.html\";\n\n@custom-variant dark (&:is(.dark *));\n\n/* Mobile-first: Larger base text for readability */\nhtml {\n  font-size: 18px; /* Larger base for mobile */\n}\n\n@media (min-width: 768px) {\n  html {\n    font-size: 16px; /* Standard on desktop */\n  }\n}\n\n/* Ensure buttons and interactive elements are touch-friendly on mobile */\n@media (max-width: 767px) {\n  button, a, .btn {\n    min-height: 48px;\n    min-width: 48px;\n  }\n  \n  /* Larger tap targets */\n  .text-sm {\n    font-size: 1rem !important;\n  }\n  \n  .text-xs {\n    font-size: 0.875rem !important;\n  }\n}\n\n@theme inline {\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-background: hsl(var(--background));\n  --color-foreground: hsl(var(--foreground));\n  --color-card: hsl(var(--card));\n  --color-card-foreground: hsl(var(--card-foreground));\n  --color-popover: hsl(var(--popover));\n  --color-popover-foreground: hsl(var(--popover-foreground));\n  --color-primary: hsl(var(--primary));\n  --color-primary-foreground: hsl(var(--primary-foreground));\n  --color-secondary: hsl(var(--secondary));\n  --color-secondary-foreground: hsl(var(--secondary-foreground));\n  --color-muted: hsl(var(--muted));\n  --color-muted-foreground: hsl(var(--muted-foreground));\n  --color-accent: hsl(var(--accent));\n  --color-accent-foreground: hsl(var(--accent-foreground));\n  --color-destructive: hsl(var(--destructive));\n  --color-destructive-foreground: hsl(var(--destructive-foreground));\n  --color-border: hsl(var(--border));\n  --color-input: hsl(var(--input));\n  --color-ring: hsl(var(--ring));\n  --color-chart-1: hsl(var(--chart-1));\n  --color-chart-2: hsl(var(--chart-2));\n  --color-chart-3: hsl(var(--chart-3));\n  --color-chart-4: hsl(var(--chart-4));\n  --color-chart-5: hsl(var(--chart-5));\n}\n\n/* DEFAULT DARK MODE (Streamer Aesthetic) */\n:root {\n  --background: 240 10% 4%;    /* #09090b - Very dark */\n  --foreground: 0 0% 98%;      /* #fafafa */\n  --card: 240 10% 6%;          /* Slightly lighter */\n  --card-foreground: 0 0% 98%;\n  --popover: 240 10% 4%;\n  --popover-foreground: 0 0% 98%;\n  --primary: 262 83% 58%;      /* #8b5cf6 - Neon Purple */\n  --primary-foreground: 210 40% 98%;\n  --secondary: 240 4% 16%;\n  --secondary-foreground: 210 40% 98%;\n  --muted: 240 4% 16%;\n  --muted-foreground: 240 5% 72%;\n  --accent: 262 83% 58%;\n  --accent-foreground: 210 40% 98%;\n  --destructive: 0 63% 31%;\n  --destructive-foreground: 210 40% 98%;\n  --border: 240 4% 16%;\n  --input: 240 4% 16%;\n  --ring: 262 83% 58%;\n  --radius: 0.75rem;\n  \n  /* Charts */\n  --chart-1: 262 83% 58%;\n  --chart-2: 173 58% 39%;\n  --chart-3: 197 37% 24%;\n  --chart-4: 43 74% 66%;\n  --chart-5: 27 87% 67%;\n}\n\n/* SHADOW THEME (Corporate Aesthetic) */\n.shadow-theme {\n  --background: 0 0% 100%;     /* White */\n  --foreground: 240 10% 4%;    /* Dark text */\n  --card: 0 0% 100%;\n  --card-foreground: 240 10% 4%;\n  --popover: 0 0% 100%;\n  --popover-foreground: 240 10% 4%;\n  --primary: 221 83% 53%;      /* #2563eb - Corporate Blue */\n  --primary-foreground: 210 40% 98%;\n  --secondary: 210 40% 96%;\n  --secondary-foreground: 222 47% 11%;\n  --muted: 210 40% 96%;\n  --muted-foreground: 215 16% 47%;\n  --accent: 210 40% 96%;\n  --accent-foreground: 222 47% 11%;\n  --destructive: 0 84% 60%;\n  --destructive-foreground: 210 40% 98%;\n  --border: 214 32% 91%;\n  --input: 214 32% 91%;\n  --ring: 221 83% 53%;\n  --radius: 0.5rem;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply font-sans antialiased bg-background text-foreground selection:bg-primary selection:text-primary-foreground;\n  }\n}\n\n/* Smooth Scrolling */\nhtml {\n  scroll-behavior: smooth;\n}\n","path":null,"size_bytes":3880,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3007,"size_tokens":null},"client/src/components/ExitPopup.tsx":{"content":"import { useState, useEffect } from \"react\"\nimport { X, Zap } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\n\nexport function ExitPopup() {\n  const [open, setOpen] = useState(false)\n  const [hasShown, setHasShown] = useState(false)\n\n  useEffect(() => {\n    const handleMouseLeave = (e: MouseEvent) => {\n      if (e.clientY <= 0 && !hasShown) {\n        setOpen(true)\n        setHasShown(true)\n      }\n    }\n\n    document.addEventListener(\"mouseleave\", handleMouseLeave)\n    return () => document.removeEventListener(\"mouseleave\", handleMouseLeave)\n  }, [hasShown])\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogContent className=\"sm:max-w-md bg-card border-primary/50 shadow-2xl shadow-primary/20\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl flex items-center gap-2\">\n            <Zap className=\"text-primary fill-primary animate-pulse\" />\n            Wait! Don't Miss Out\n          </DialogTitle>\n          <DialogDescription className=\"text-lg pt-2\">\n            Get <span className=\"text-primary font-bold\">10% OFF</span> your first Fire Stick order today!\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"py-4\">\n          <div className=\"bg-muted p-4 rounded-lg text-center border border-dashed border-primary/30\">\n            <p className=\"text-sm text-muted-foreground mb-2\">Use Code at Checkout:</p>\n            <code className=\"text-2xl font-mono font-bold text-primary bg-primary/10 px-4 py-2 rounded\">STREAM2025</code>\n          </div>\n        </div>\n        <div className=\"flex gap-3\">\n          <Button variant=\"outline\" className=\"flex-1\" onClick={() => setOpen(false)}>\n            No Thanks\n          </Button>\n          <Button className=\"flex-1 bg-primary hover:bg-primary/90\" onClick={() => setOpen(false)}>\n            Claim Offer\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","path":null,"size_bytes":2038,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7406,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","path":null,"size_bytes":1342,"size_tokens":null},"client/src/components/ui/field.tsx":{"content":"\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field data-[invalid=true]:text-destructive flex w-full gap-3\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start\",\n        ],\n        responsive: [\n          \"@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>[data-slot=field]]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm font-normal leading-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"nth-last-2:-mt-1 last:mt-0 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","path":null,"size_bytes":6044,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  if (!itemContext) {\n    throw new Error(\"useFormField should be used within <FormItem>\")\n  }\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4175,"size_tokens":null},"client/src/components/ui/button-group.tsx":{"content":"import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch has-[>[data-slot=button-group]]:gap-2 [&>*]:focus-visible:relative [&>*]:focus-visible:z-10 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted shadow-xs flex items-center gap-2 rounded-md border px-4 text-sm font-medium [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","path":null,"size_bytes":2209,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1410,"size_tokens":null},"client/src/pages/ShadowStore.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { motion } from \"framer-motion\";\nimport { LayoutGrid, Code, ArrowRight, Check, Star, Users, Award, Globe, Mail, Phone, MapPin, ChevronRight, Zap, Shield, Clock } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nimport heroBg from \"@assets/stock_images/modern_abstract_digi_3506c264.jpg\";\n\nconst SUPABASE_URL = \"https://emlqlmfzqsnqokrqvmcm.supabase.co/storage/v1/object/public/imiges/shadow-store\";\n\nconst productImages = {\n  basic: `${SUPABASE_URL}/professional_web_des_bf1b8ff3.jpg`,\n  pro: `${SUPABASE_URL}/professional_web_des_596ca65d.jpg`,\n  enterprise: `${SUPABASE_URL}/professional_web_des_a7242567.jpg`,\n  seo: `${SUPABASE_URL}/seo_digital_marketin_96956a51.jpg`,\n  dev: `${SUPABASE_URL}/web_development_codi_7a6c5037.jpg`,\n};\n\ninterface ShadowProduct {\n  id: string;\n  name: string;\n  shadowName: string;\n  price: number;\n  description: string;\n  features: string[];\n  popular?: boolean;\n  category: 'design' | 'seo';\n  period?: string;\n  image?: string;\n}\n\ninterface SEOPricingTier {\n  duration: string;\n  durationLabel: string;\n  description: string;\n  features: string[];\n  popular?: boolean;\n  prices: { tier: string; tierLabel: string; price: number; productId: string }[];\n}\n\nconst seoPricingMatrix: SEOPricingTier[] = [\n  {\n    duration: \"1mo\",\n    durationLabel: \"Monthly\",\n    description: \"Monthly SEO maintenance package with keyword tracking and optimization.\",\n    features: [\"Keyword Tracking\", \"Monthly Report\", \"Basic Optimization\", \"Analytics Setup\"],\n    prices: [\n      { tier: \"starter\", tierLabel: \"Starter\", price: 15, productId: \"iptv-1mo-1d\" },\n      { tier: \"duo\", tierLabel: \"Duo\", price: 25, productId: \"iptv-1mo-2d\" },\n      { tier: \"team\", tierLabel: \"Team\", price: 35, productId: \"iptv-1mo-3d\" },\n      { tier: \"business\", tierLabel: \"Business\", price: 40, productId: \"iptv-1mo-4d\" },\n      { tier: \"enterprise\", tierLabel: \"Enterprise\", price: 45, productId: \"iptv-1mo-5d\" },\n    ],\n  },\n  {\n    duration: \"3mo\",\n    durationLabel: \"Quarterly\",\n    description: \"Quarterly SEO package with competitor analysis and content recommendations.\",\n    features: [\"Extended Tracking\", \"Competitor Analysis\", \"Content Strategy\", \"Strategy Calls\"],\n    popular: true,\n    prices: [\n      { tier: \"starter\", tierLabel: \"Starter\", price: 25, productId: \"iptv-3mo-1d\" },\n      { tier: \"duo\", tierLabel: \"Duo\", price: 40, productId: \"iptv-3mo-2d\" },\n      { tier: \"team\", tierLabel: \"Team\", price: 55, productId: \"iptv-3mo-3d\" },\n      { tier: \"business\", tierLabel: \"Business\", price: 65, productId: \"iptv-3mo-4d\" },\n      { tier: \"enterprise\", tierLabel: \"Enterprise\", price: 75, productId: \"iptv-3mo-5d\" },\n    ],\n  },\n  {\n    duration: \"6mo\",\n    durationLabel: \"Semi-Annual\",\n    description: \"6-month content marketing program with strategy and link building.\",\n    features: [\"Content Marketing\", \"Link Building\", \"Technical Audit\", \"Bi-Monthly Calls\"],\n    prices: [\n      { tier: \"starter\", tierLabel: \"Starter\", price: 40, productId: \"iptv-6mo-1d\" },\n      { tier: \"duo\", tierLabel: \"Duo\", price: 65, productId: \"iptv-6mo-2d\" },\n      { tier: \"team\", tierLabel: \"Team\", price: 85, productId: \"iptv-6mo-3d\" },\n      { tier: \"business\", tierLabel: \"Business\", price: 100, productId: \"iptv-6mo-4d\" },\n      { tier: \"enterprise\", tierLabel: \"Enterprise\", price: 125, productId: \"iptv-6mo-5d\" },\n    ],\n  },\n  {\n    duration: \"1yr\",\n    durationLabel: \"Annual\",\n    description: \"Full-year digital marketing partnership with dedicated account manager.\",\n    features: [\"Comprehensive Strategy\", \"Dedicated Manager\", \"Full Audit\", \"Priority Support\"],\n    prices: [\n      { tier: \"starter\", tierLabel: \"Starter\", price: 65, productId: \"iptv-1yr-1d\" },\n      { tier: \"duo\", tierLabel: \"Duo\", price: 100, productId: \"iptv-1yr-2d\" },\n      { tier: \"team\", tierLabel: \"Team\", price: 140, productId: \"iptv-1yr-3d\" },\n      { tier: \"business\", tierLabel: \"Business\", price: 190, productId: \"iptv-1yr-4d\" },\n      { tier: \"enterprise\", tierLabel: \"Enterprise\", price: 220, productId: \"iptv-1yr-5d\" },\n    ],\n  },\n];\n\nconst shadowProducts: ShadowProduct[] = [\n  {\n    id: \"fs-hd\",\n    name: \"Basic Web Design\",\n    shadowName: \"Web Design Basic\",\n    price: 130,\n    description: \"Perfect for personal blogs, portfolios, and small business landing pages. Includes responsive design and basic SEO setup.\",\n    features: [\"5 Custom Pages\", \"Mobile Responsive\", \"Contact Form Integration\", \"Basic SEO Setup\", \"1 Round of Revisions\", \"2 Week Delivery\"],\n    category: 'design',\n    period: \"/project\",\n    image: productImages.basic\n  },\n  {\n    id: \"fs-4k\",\n    name: \"Professional Web Design\",\n    shadowName: \"Web Design Pro\",\n    price: 140,\n    description: \"Ideal for growing businesses. Full-featured website with CMS integration, advanced SEO, and premium support.\",\n    features: [\"10 Custom Pages\", \"CMS Integration\", \"Advanced SEO Package\", \"Social Media Integration\", \"Analytics Dashboard\", \"3 Rounds of Revisions\", \"Priority Support\"],\n    category: 'design',\n    popular: true,\n    period: \"/project\",\n    image: productImages.pro\n  },\n  {\n    id: \"fs-max\",\n    name: \"Enterprise Web Application\",\n    shadowName: \"Web Design Enterprise\",\n    price: 150,\n    description: \"Full-scale custom web application for enterprises. Includes e-commerce capabilities, custom integrations, and dedicated support.\",\n    features: [\"Unlimited Pages\", \"E-commerce Ready\", \"Custom API Integration\", \"Database Design\", \"Cloud Architecture\", \"Ongoing Support\", \"Source Code Ownership\"],\n    category: 'design',\n    period: \"/project\",\n    image: productImages.enterprise\n  },\n  {\n    id: \"app-basic\",\n    name: \"Mobile App Development Basic\",\n    shadowName: \"Mobile App Development Basic\",\n    price: 140,\n    description: \"Custom mobile application development for iOS and Android. Perfect for startups and small businesses looking to establish a mobile presence.\",\n    features: [\"Cross-Platform App\", \"User Authentication\", \"Push Notifications\", \"Basic Analytics\", \"App Store Submission\", \"3 Months Support\"],\n    category: 'design',\n    period: \"/project\",\n    image: productImages.dev\n  },\n  {\n    id: \"app-pro\",\n    name: \"Mobile App Development Pro\",\n    shadowName: \"Mobile App Development Pro\",\n    price: 160,\n    description: \"Professional mobile application with advanced features, cloud storage integration, and premium performance optimization for demanding users.\",\n    features: [\"Native Performance\", \"Cloud Storage\", \"Offline Mode\", \"Advanced Analytics\", \"Payment Integration\", \"Priority Support\", \"1 Year Updates\"],\n    category: 'design',\n    period: \"/project\",\n    image: productImages.dev\n  },\n];\n\nconst testimonials = [\n  {\n    name: \"Sarah Mitchell\",\n    company: \"Mitchell & Co. Law Firm\",\n    text: \"WebFlow Design transformed our outdated website into a modern, professional platform. Our client inquiries increased by 40% within the first month!\",\n    rating: 5,\n    image: \"SM\"\n  },\n  {\n    name: \"David Chen\",\n    company: \"TechStart Solutions\",\n    text: \"The team delivered exactly what we needed - a sleek, fast website that converts visitors into customers. Highly recommend their Professional package.\",\n    rating: 5,\n    image: \"DC\"\n  },\n  {\n    name: \"Emily Rodriguez\",\n    company: \"Bloom Wellness Spa\",\n    text: \"From design to launch, the process was seamless. Our new site perfectly captures our brand and our online bookings have doubled.\",\n    rating: 5,\n    image: \"ER\"\n  }\n];\n\nconst portfolioItems = [\n  { name: \"E-Commerce Platform\", category: \"Web Design\", description: \"Full-featured online store with payment integration\" },\n  { name: \"SaaS Dashboard\", category: \"Web Application\", description: \"Analytics dashboard for a tech startup\" },\n  { name: \"Restaurant Website\", category: \"Web Design\", description: \"Modern restaurant site with online ordering\" },\n  { name: \"Real Estate Portal\", category: \"Web Application\", description: \"Property listing platform with search\" },\n];\n\ninterface SelectedSEOProduct {\n  productId: string;\n  name: string;\n  price: number;\n  duration: string;\n  tier: string;\n}\n\nexport default function ShadowStore() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [selectedProduct, setSelectedProduct] = useState<ShadowProduct | null>(null);\n  const [selectedSEOProduct, setSelectedSEOProduct] = useState<SelectedSEOProduct | null>(null);\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [selectedTiers, setSelectedTiers] = useState<Record<string, string>>({\n    \"1mo\": \"starter\",\n    \"3mo\": \"starter\",\n    \"6mo\": \"starter\",\n    \"1yr\": \"starter\",\n  });\n\n  useEffect(() => {\n    document.documentElement.classList.remove(\"dark\");\n    document.documentElement.classList.add(\"shadow-theme\");\n    document.title = \"Digital Solutions Agency | Web Design & SEO Services\";\n    return () => {\n       document.documentElement.classList.remove(\"shadow-theme\");\n       document.documentElement.classList.add(\"dark\");\n       document.title = \"StreamStickPro - Premium Streaming Devices & Live TV\";\n    }\n  }, []);\n\n  const handleSelectPlan = (product: ShadowProduct) => {\n    setSelectedProduct(product);\n    setShowCheckout(true);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleCheckout = async () => {\n    const productId = selectedProduct?.id || selectedSEOProduct?.productId;\n    if (!productId || !email || !name) {\n      toast({\n        title: \"Missing Information\",\n        description: \"Please enter your name and email to continue.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      const response = await apiCall('/api/checkout', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          items: [{ productId, quantity: 1 }],\n          customerEmail: email,\n          customerName: name\n        })\n      });\n\n      const data = await response.json();\n      if (data.url) {\n        window.location.href = data.url;\n      } else {\n        throw new Error(data.error || 'Failed to create checkout session');\n      }\n    } catch (error: any) {\n      toast({\n        title: \"Checkout Error\",\n        description: error.message || \"Something went wrong. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleSelectSEOPlan = (plan: SEOPricingTier) => {\n    const tier = selectedTiers[plan.duration];\n    const priceInfo = plan.prices.find(p => p.tier === tier) || plan.prices[0];\n    setSelectedSEOProduct({\n      productId: priceInfo.productId,\n      name: `SEO ${priceInfo.tierLabel} ${plan.durationLabel}`,\n      price: priceInfo.price,\n      duration: plan.duration,\n      tier: priceInfo.tier,\n    });\n    setSelectedProduct(null);\n    setShowCheckout(true);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const designProducts = shadowProducts.filter(p => p.category === 'design');\n\n  if (showCheckout && (selectedProduct || selectedSEOProduct)) {\n    const productName = selectedProduct?.name || selectedSEOProduct?.name || \"\";\n    const productSubtitle = selectedProduct?.shadowName || `${selectedSEOProduct?.tier} tier - ${selectedSEOProduct?.duration}`;\n    const productPrice = selectedProduct?.price || selectedSEOProduct?.price || 0;\n\n    return (\n      <div className=\"min-h-screen bg-background text-foreground font-sans\">\n        <nav className=\"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur\">\n          <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2 font-semibold text-xl text-primary cursor-pointer\" onClick={() => { setShowCheckout(false); setSelectedProduct(null); setSelectedSEOProduct(null); }}>\n              <LayoutGrid className=\"w-6 h-6\" />\n              <span>WebFlow Design</span>\n            </div>\n          </div>\n        </nav>\n\n        <div className=\"container mx-auto px-4 py-16 max-w-2xl\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-8\"\n          >\n            <div className=\"text-center\">\n              <h1 className=\"text-3xl font-bold mb-2\">Complete Your Order</h1>\n              <p className=\"text-muted-foreground\">You're one step away from your new {selectedSEOProduct ? 'SEO package' : 'website'}</p>\n            </div>\n\n            <Card className=\"border-2 border-primary/20\">\n              <CardHeader>\n                <CardTitle>Order Summary</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex justify-between items-center py-4 border-b\">\n                  <div>\n                    <h3 className=\"font-semibold\">{productName}</h3>\n                    <p className=\"text-sm text-muted-foreground\">{productSubtitle}</p>\n                  </div>\n                  <div className=\"text-2xl font-bold\">${productPrice}</div>\n                </div>\n                \n                <div className=\"space-y-4 pt-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">Full Name</label>\n                    <Input \n                      placeholder=\"John Smith\"\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                      data-testid=\"input-checkout-name\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">Email Address</label>\n                    <Input \n                      type=\"email\"\n                      placeholder=\"john@example.com\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      data-testid=\"input-checkout-email\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"pt-4 space-y-3\">\n                  <Button \n                    className=\"w-full h-12 text-lg\"\n                    onClick={handleCheckout}\n                    disabled={isProcessing}\n                    data-testid=\"button-checkout-submit\"\n                  >\n                    {isProcessing ? \"Processing...\" : `Pay $${productPrice}`}\n                  </Button>\n                  <Button \n                    variant=\"ghost\" \n                    className=\"w-full\"\n                    onClick={() => { setShowCheckout(false); setSelectedProduct(null); setSelectedSEOProduct(null); }}\n                  >\n                     Back to Packages\n                  </Button>\n                </div>\n\n                <div className=\"flex items-center justify-center gap-4 pt-4 text-sm text-muted-foreground\">\n                  <div className=\"flex items-center gap-1\">\n                    <Shield className=\"w-4 h-4\" />\n                    <span>Secure Payment</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"w-4 h-4\" />\n                    <span>Instant Confirmation</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground font-sans\">\n      <nav className=\"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2 font-semibold text-xl text-primary\">\n            <LayoutGrid className=\"w-6 h-6\" />\n            <span>WebFlow Design</span>\n          </div>\n          \n          <div className=\"hidden md:flex items-center gap-8 text-sm font-medium text-muted-foreground\">\n            <a href=\"#services\" className=\"hover:text-primary transition-colors\">Services</a>\n            <a href=\"#portfolio\" className=\"hover:text-primary transition-colors\">Portfolio</a>\n            <a href=\"#pricing\" className=\"hover:text-primary transition-colors\">Pricing</a>\n            <a href=\"#testimonials\" className=\"hover:text-primary transition-colors\">Testimonials</a>\n            <a href=\"#contact\" className=\"hover:text-primary transition-colors\">Contact</a>\n          </div>\n\n          <Button onClick={() => document.getElementById('pricing')?.scrollIntoView({ behavior: 'smooth' })}>\n            Get Started\n          </Button>\n        </div>\n      </nav>\n\n      <section className=\"relative py-24 lg:py-32 overflow-hidden\">\n        <div className=\"absolute inset-0 -z-10 opacity-10\">\n          <img src={heroBg} className=\"w-full h-full object-cover\" alt=\"Digital background\" loading=\"eager\" width={1920} height={600} fetchPriority=\"high\" />\n        </div>\n        \n        <div className=\"container mx-auto px-4\">\n          <motion.div \n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"max-w-3xl mx-auto text-center space-y-8\"\n          >\n            <Badge variant=\"outline\" className=\"px-4 py-1 text-primary border-primary/20 bg-primary/5\">\n              Award-Winning Web Design Agency 2025\n            </Badge>\n            <h1 className=\"text-4xl md:text-6xl font-bold tracking-tight text-foreground\">\n              Digital Experiences <br/>\n              <span className=\"text-primary\">That Drive Growth</span>\n            </h1>\n            <p className=\"text-lg text-muted-foreground leading-relaxed\">\n              We build high-performance websites, SEO strategies, and digital campaigns \n              that transform businesses. Over 500+ successful projects delivered worldwide.\n            </p>\n            <div className=\"flex items-center justify-center gap-4\">\n              <Button size=\"lg\" className=\"h-12 px-8\" onClick={() => document.getElementById('pricing')?.scrollIntoView({ behavior: 'smooth' })}>\n                View Packages <ArrowRight className=\"ml-2 w-4 h-4\" />\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" className=\"h-12 px-8\" onClick={() => document.getElementById('portfolio')?.scrollIntoView({ behavior: 'smooth' })}>\n                Our Portfolio\n              </Button>\n            </div>\n            \n            <div className=\"flex items-center justify-center gap-8 pt-8 text-muted-foreground\">\n              <div className=\"flex items-center gap-2\">\n                <Users className=\"w-5 h-5 text-primary\" />\n                <span className=\"text-sm\">500+ Clients</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Award className=\"w-5 h-5 text-primary\" />\n                <span className=\"text-sm\">Award Winning</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Globe className=\"w-5 h-5 text-primary\" />\n                <span className=\"text-sm\">Worldwide Service</span>\n              </div>\n            </div>\n          </motion.div>\n        </div>\n      </section>\n\n      <section id=\"services\" className=\"py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl font-bold mb-4\">Our Services</h2>\n            <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n              From stunning websites to comprehensive SEO strategies, we provide everything your business needs to succeed online.\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <Card className=\"border-none shadow-lg hover:shadow-xl transition-shadow\">\n              <CardHeader>\n                <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 text-primary\">\n                  <MonitorIcon />\n                </div>\n                <CardTitle>Web Design</CardTitle>\n                <CardDescription>Responsive, modern websites built with the latest technologies.</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Custom UI/UX Design</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Mobile-First Responsive</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> SEO Optimized Structure</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Fast Loading Performance</li>\n                </ul>\n              </CardContent>\n            </Card>\n            \n            <Card className=\"border-none shadow-lg hover:shadow-xl transition-shadow\">\n              <CardHeader>\n                <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 text-primary\">\n                  <SearchIcon />\n                </div>\n                <CardTitle>SEO & Marketing</CardTitle>\n                <CardDescription>Rank higher and drive more organic traffic to your site.</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Keyword Research & Strategy</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> On-Page Optimization</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Content Strategy</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Monthly Analytics Reports</li>\n                </ul>\n              </CardContent>\n            </Card>\n\n            <Card className=\"border-none shadow-lg hover:shadow-xl transition-shadow\">\n              <CardHeader>\n                <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 text-primary\">\n                  <Code />\n                </div>\n                <CardTitle>Custom Development</CardTitle>\n                <CardDescription>Tailored solutions for complex business requirements.</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Custom Web Applications</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> API & Integration Development</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Database Architecture</li>\n                  <li className=\"flex gap-2\"><Check className=\"w-4 h-4 text-primary flex-shrink-0\"/> Cloud Infrastructure</li>\n                </ul>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"portfolio\" className=\"py-24\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl font-bold mb-4\">Our Portfolio</h2>\n            <p className=\"text-muted-foreground\">A selection of our recent work across various industries.</p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {portfolioItems.map((item, i) => (\n              <motion.div\n                key={i}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ delay: i * 0.1 }}\n                className=\"group relative bg-muted rounded-xl p-6 hover:bg-primary/5 transition-colors cursor-pointer\"\n              >\n                <div className=\"aspect-video bg-gradient-to-br from-primary/20 to-primary/5 rounded-lg mb-4 flex items-center justify-center\">\n                  <Globe className=\"w-12 h-12 text-primary/50\" />\n                </div>\n                <Badge variant=\"secondary\" className=\"mb-2\">{item.category}</Badge>\n                <h3 className=\"font-semibold mb-1\">{item.name}</h3>\n                <p className=\"text-sm text-muted-foreground\">{item.description}</p>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section id=\"pricing\" className=\"py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl font-bold mb-4\">Transparent Pricing</h2>\n            <p className=\"text-muted-foreground\">Choose the package that fits your business needs. No hidden fees.</p>\n          </div>\n\n          <h3 className=\"text-xl font-semibold mb-6 text-center\">Web Design Packages</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-16\">\n            {designProducts.map((product) => (\n              <motion.div\n                key={product.id}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                className={`border rounded-2xl p-8 bg-background hover:border-primary transition-all cursor-pointer relative ${\n                  product.popular ? 'border-primary ring-2 ring-primary/20' : ''\n                }`}\n                onClick={() => handleSelectPlan(product)}\n                data-testid={`card-product-${product.id}`}\n              >\n                {product.popular && (\n                  <div className=\"absolute top-0 right-0 bg-primary text-primary-foreground text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-2xl\">\n                    MOST POPULAR\n                  </div>\n                )}\n                {product.image && (\n                  <div className=\"aspect-video rounded-lg overflow-hidden mb-4 -mx-2\">\n                    <img src={product.image} alt={product.name} className=\"w-full h-full object-cover\" />\n                  </div>\n                )}\n                <h3 className=\"text-xl font-semibold mb-2\">{product.name}</h3>\n                <div className=\"text-4xl font-bold mb-2\">\n                  ${product.price}\n                  <span className=\"text-base font-normal text-muted-foreground\">{product.period}</span>\n                </div>\n                <p className=\"text-sm text-muted-foreground mb-6\">{product.description}</p>\n                <Button \n                  className={`w-full mb-6 ${product.popular ? '' : 'variant-outline'}`}\n                  variant={product.popular ? 'default' : 'outline'}\n                  data-testid={`button-select-${product.id}`}\n                >\n                  Select Plan <ChevronRight className=\"w-4 h-4 ml-1\" />\n                </Button>\n                <ul className=\"space-y-3 text-sm text-muted-foreground\">\n                  {product.features.map((feature, i) => (\n                    <li key={i} className=\"flex gap-2\">\n                      <Check className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\n                      {feature}\n                    </li>\n                  ))}\n                </ul>\n              </motion.div>\n            ))}\n          </div>\n          \n          <h3 className=\"text-xl font-semibold mb-6 text-center\">SEO & Marketing Packages</h3>\n          <p className=\"text-center text-muted-foreground mb-8 max-w-2xl mx-auto\">\n            Choose your package duration and tier. Higher tiers include more keywords, pages, and dedicated support.\n          </p>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto\">\n            {seoPricingMatrix.map((plan) => {\n              const currentTier = selectedTiers[plan.duration];\n              const currentPrice = plan.prices.find(p => p.tier === currentTier)?.price || plan.prices[0].price;\n              \n              return (\n                <motion.div\n                  key={plan.duration}\n                  initial={{ opacity: 0, y: 20 }}\n                  whileInView={{ opacity: 1, y: 0 }}\n                  className={`border rounded-2xl p-6 bg-background relative ${\n                    plan.popular ? 'border-primary ring-2 ring-primary/20' : ''\n                  }`}\n                  data-testid={`card-seo-${plan.duration}`}\n                >\n                  {plan.popular && (\n                    <div className=\"absolute top-0 right-0 bg-primary text-primary-foreground text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-2xl\">\n                      POPULAR\n                    </div>\n                  )}\n                  <h4 className=\"text-lg font-semibold mb-1\">{plan.durationLabel}</h4>\n                  <p className=\"text-sm text-muted-foreground mb-4\">{plan.description}</p>\n                  \n                  <div className=\"mb-4\">\n                    <div className=\"text-3xl font-bold mb-2\">\n                      ${currentPrice}\n                      <span className=\"text-sm font-normal text-muted-foreground\">/{plan.duration === \"1mo\" ? \"mo\" : plan.duration}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"mb-4\">\n                    <label className=\"text-xs font-medium text-muted-foreground block mb-2\">Select Tier</label>\n                    <div className=\"grid grid-cols-5 gap-1\">\n                      {plan.prices.map((priceInfo) => (\n                        <button\n                          key={priceInfo.tier}\n                          onClick={() => setSelectedTiers(prev => ({ ...prev, [plan.duration]: priceInfo.tier }))}\n                          className={`py-2 px-1 text-xs rounded-md transition-all ${\n                            currentTier === priceInfo.tier\n                              ? 'bg-primary text-primary-foreground'\n                              : 'bg-muted hover:bg-muted/80'\n                          }`}\n                          title={`${priceInfo.tierLabel} - $${priceInfo.price}`}\n                          data-testid={`button-tier-${plan.duration}-${priceInfo.tier}`}\n                        >\n                          {priceInfo.tierLabel.slice(0, 3)}\n                        </button>\n                      ))}\n                    </div>\n                    <div className=\"text-xs text-center text-muted-foreground mt-2\">\n                      {plan.prices.find(p => p.tier === currentTier)?.tierLabel} tier\n                    </div>\n                  </div>\n                  \n                  <Button \n                    className=\"w-full mb-4\"\n                    variant={plan.popular ? 'default' : 'outline'}\n                    onClick={() => handleSelectSEOPlan(plan)}\n                    data-testid={`button-select-seo-${plan.duration}`}\n                  >\n                    Select Plan <ChevronRight className=\"w-4 h-4 ml-1\" />\n                  </Button>\n                  \n                  <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                    {plan.features.map((feature, i) => (\n                      <li key={i} className=\"flex gap-2\">\n                        <Check className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\n                        {feature}\n                      </li>\n                    ))}\n                  </ul>\n                </motion.div>\n              );\n            })}\n          </div>\n        </div>\n      </section>\n\n      <section id=\"testimonials\" className=\"py-24\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl font-bold mb-4\">What Our Clients Say</h2>\n            <p className=\"text-muted-foreground\">Don't just take our word for it - hear from our satisfied clients.</p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {testimonials.map((testimonial, i) => (\n              <motion.div\n                key={i}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ delay: i * 0.1 }}\n              >\n                <Card className=\"h-full\">\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex gap-1 mb-4\">\n                      {[...Array(testimonial.rating)].map((_, i) => (\n                        <Star key={i} className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                      ))}\n                    </div>\n                    <p className=\"text-muted-foreground mb-6 italic\">\"{testimonial.text}\"</p>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold text-sm\">\n                        {testimonial.image}\n                      </div>\n                      <div>\n                        <div className=\"font-semibold text-sm\">{testimonial.name}</div>\n                        <div className=\"text-xs text-muted-foreground\">{testimonial.company}</div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 bg-primary text-primary-foreground\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-8\">\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2\">Ready to Transform Your Online Presence?</h2>\n              <p className=\"text-primary-foreground/80\">Get started today and see results within weeks.</p>\n            </div>\n            <div className=\"flex gap-4\">\n              <Button size=\"lg\" variant=\"secondary\" onClick={() => document.getElementById('pricing')?.scrollIntoView({ behavior: 'smooth' })}>\n                View Pricing\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" className=\"border-primary-foreground/20 text-primary-foreground hover:bg-primary-foreground/10\" onClick={() => document.getElementById('contact')?.scrollIntoView({ behavior: 'smooth' })}>\n                Contact Us\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"contact\" className=\"py-24\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"text-center mb-16\">\n              <h2 className=\"text-3xl font-bold mb-4\">Get In Touch</h2>\n              <p className=\"text-muted-foreground\">Have a project in mind? We'd love to hear from you.</p>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n              <div className=\"text-center p-6\">\n                <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 text-primary\">\n                  <Mail className=\"w-6 h-6\" />\n                </div>\n                <h3 className=\"font-semibold mb-2\">Email Us</h3>\n                <p className=\"text-muted-foreground text-sm\">hello@webflowdesign.com</p>\n              </div>\n              <div className=\"text-center p-6\">\n                <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 text-primary\">\n                  <Phone className=\"w-6 h-6\" />\n                </div>\n                <h3 className=\"font-semibold mb-2\">Call Us</h3>\n                <p className=\"text-muted-foreground text-sm\">+1 (555) 123-4567</p>\n              </div>\n              <div className=\"text-center p-6\">\n                <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 text-primary\">\n                  <MapPin className=\"w-6 h-6\" />\n                </div>\n                <h3 className=\"font-semibold mb-2\">Visit Us</h3>\n                <p className=\"text-muted-foreground text-sm\">123 Design Street, NY 10001</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <footer className=\"py-12 bg-muted text-muted-foreground\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\n            <div>\n              <div className=\"flex items-center gap-2 font-semibold text-xl text-primary mb-4\">\n                <LayoutGrid className=\"w-5 h-5\" />\n                <span>WebFlow Design</span>\n              </div>\n              <p className=\"text-sm\">Creating digital masterpieces for modern brands since 2018.</p>\n            </div>\n            <div>\n              <h4 className=\"font-semibold mb-4 text-foreground\">Services</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>Web Design</li>\n                <li>SEO Services</li>\n                <li>Custom Development</li>\n                <li>E-commerce Solutions</li>\n              </ul>\n            </div>\n            <div>\n              <h4 className=\"font-semibold mb-4 text-foreground\">Company</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>About Us</li>\n                <li>Our Team</li>\n                <li>Careers</li>\n                <li>Contact</li>\n              </ul>\n            </div>\n            <div>\n              <h4 className=\"font-semibold mb-4 text-foreground\">Legal</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>Privacy Policy</li>\n                <li>Terms of Service</li>\n                <li>Cookie Policy</li>\n                <li>Refund Policy</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"border-t pt-8 text-center text-sm\">\n            <p> 2025 WebFlow Design Agency. All rights reserved.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nfunction MonitorIcon(props: any) {\n  return (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\n      <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\" />\n      <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\" />\n    </svg>\n  )\n}\n\nfunction SearchIcon(props: any) {\n  return (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"11\" cy=\"11\" r=\"8\" />\n      <path d=\"m21 21-4.3-4.3\" />\n    </svg>\n  )\n}\n","path":null,"size_bytes":39578,"size_tokens":null},"replit.md":{"content":"# StreamStickPro - Jailbroken Fire Stick E-commerce Platform\n\n## PROJECT STATUS:  PRODUCTION-READY (INDEPENDENT INFRASTRUCTURE)\n\n**Latest Deployment:** December 17, 2025\n- Production URL: https://streamstickpro.com\n- Cloudflare: https://cafdfbad.streamerstickpro-live.pages.dev\n- Branch: `clean-main`\n- Database: Supabase PostgreSQL (81 blog posts)\n- All features production-ready\n\n**Independent Architecture (No Replit Dependencies):**\n- Code Repository: GitHub (reloadedfiretvteam/streamerstickpro-live)\n- CI/CD: GitHub Actions (auto-deploy on push to clean-main)\n- Hosting: Cloudflare Pages + Workers\n- Database: Supabase PostgreSQL\n- Payments: Stripe\n- Email: Resend\n- See `GITHUB_SECRETS.md` for complete secrets configuration\n\n## Overview\n\nStreamStickPro is a full-stack e-commerce application for selling jailbroken Fire Sticks and IPTV subscriptions. The platform implements a dual-store architecture with product cloaking to present different products to customers versus payment processors. It features automated email delivery of credentials, Stripe payment integration, and a comprehensive admin panel with 81 SEO-optimized blog posts targeting US, UK, and Canada markets.\n\n**Recent Updates (December 2025):**\n- Added 32 new SEO blog posts covering Premier League, NHL, Sky Sports, NFL, MotoGP/F1, Cricket, Boxing, and family streaming guides\n- Updated navigation to use query parameters (?section=shop) for reliable page routing\n- Fixed WhatsApp chat button z-index for proper visibility\n- Updated messaging to emphasize \"10-minute setup\" with instant credentials and 24/7 support\n- Configured wrangler.toml with production secrets and environment variables\n- Set CLOUDFLARE_ACCOUNT_ID environment variable\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Application Structure\n\n**Monorepo Layout:**\n- `client/` - React frontend with Vite\n- `server/` - Express.js backend\n- `shared/` - Shared TypeScript schemas and types\n- Single build process that bundles both client and server\n\n**Technology Stack:**\n- Frontend: React 18, TypeScript, Vite, TailwindCSS\n- UI Library: Shadcn/ui (Radix UI components)\n- Backend: Express.js, TypeScript\n- Database: PostgreSQL with Drizzle ORM\n- Payments: Stripe Checkout & Payment Intents\n- Email: Resend API\n- State Management: Zustand for cart, TanStack Query for server state\n\n### Dual-Store Architecture (Product Cloaking)\n\n**Core Concept:**\nThe application maintains two separate product catalogs to comply with payment processor policies:\n\n1. **Main Store (Customer-Facing):**\n   - Domain: Primary domain (e.g., mywebsite.com)\n   - Products: Jailbroken Fire Sticks ($140-$160) and IPTV subscriptions ($15-$75)\n   - Route: `/` (MainStore.tsx)\n\n2. **Shadow Store (Payment Processor View):**\n   - Domain: Separate subdomain (e.g., shadow.mysite.com)\n   - Products: Generic \"Web Design\" and \"SEO\" services with matching prices\n   - Route: `/shadow-services` (ShadowStore.tsx)\n   - Customers never see this page directly\n\n**Mapping Logic:**\n- Each real product has a corresponding shadow product in Stripe\n- `realProducts` table stores the mapping: `shadowProductId`  `realProductId`\n- During checkout, the shadow product is sent to Stripe\n- Webhooks reverse the mapping to deliver correct credentials\n\n### Database Schema\n\n**Tables (Drizzle ORM):**\n\n1. `users` - Admin authentication\n   - id, username, password (hashed)\n\n2. `orders` - Complete order tracking\n   - Customer info (email, name)\n   - Stripe IDs (payment_intent, checkout_session, customer)\n   - Shadow product references (shadowProductId, shadowPriceId)\n   - Real product references (realProductId, realProductName)\n   - Status tracking, credentials sent flag\n\n3. `realProducts` - Main product catalog\n   - Product details (name, price, description, features)\n   - Category (firestick/iptv)\n   - Shadow product mapping (shadowProductId)\n   - Images stored via URL references (Supabase Storage)\n\n4. `blogPosts` - Blog content system\n   - Full SEO optimization (keywords, meta tags, SEO scores)\n   - Real-time scoring (heading score, keyword density, content length, meta, structure)\n   - Publishing controls (featured, published, publishedAt)\n   - Product linking (linkedProductIds array)\n\n**Design Decisions:**\n- Using PostgreSQL for relational integrity between products and orders\n- Drizzle ORM chosen for type-safe queries and schema management\n- UUID primary keys for security and distributed scalability\n- Indexed foreign keys (payment_intent, checkout_session) for fast webhook lookups\n\n### Payment Flow\n\n**Stripe Integration Pattern:**\n\n1. **Checkout Initiation:**\n   - Customer adds products to cart (Zustand state)\n   - Navigates to `/checkout`\n   - Form collects email, name\n   - Frontend calls `/api/checkout` with shadow product IDs\n\n2. **Server-Side Checkout:**\n   - Maps real products to shadow products\n   - Creates Stripe Checkout Session with shadow products\n   - Stores order in database with both real and shadow references\n   - Returns Stripe session URL\n\n3. **Redirect & Payment:**\n   - Customer redirected to Stripe Checkout (on shadow domain)\n   - Stripe displays shadow product names (\"Web Design Basic\", etc.)\n   - Customer completes payment with saved cards, Apple Pay, Google Pay\n\n4. **Webhook Processing:**\n   - Stripe sends webhooks to `/api/stripe/webhook`\n   - Raw body preserved for signature verification (middleware order critical)\n   - `stripe-replit-sync` package syncs webhook events to database\n   - Custom handlers process `checkout.session.completed` and `payment_intent.succeeded`\n   - Orders updated with payment status\n\n5. **Email Delivery:**\n   - Immediate: Order confirmation email\n   - Delayed (5 minutes): Credentials email with IPTV portal URL and setup video\n   - Separate flows for Fire Stick vs IPTV-only products\n\n**Why This Approach:**\n- Stripe Checkout provides hosted payment page (PCI compliance handled)\n- Shadow products prevent payment processor policy violations\n- Webhook-based fulfillment ensures reliable credential delivery\n- Database stores complete audit trail\n\n### Email Service Architecture\n\n**Provider:** Resend API\n\n**Email Templates:**\n1. Order Confirmation - Immediate upon checkout completion\n2. Credentials Email - Delayed 5 minutes, contains:\n   - IPTV username/password (generated from order ID + timestamp)\n   - Portal URL: http://ky-tv.cc\n   - YouTube setup video link\n   - Fire Stick specific instructions (conditional)\n\n**Design Pattern:**\n- API keys managed via Cloudflare Worker environment variables\n- Credentials stored in wrangler.toml secrets configuration\n\n### Frontend Architecture\n\n**Routing:** Wouter (lightweight React router)\n\n**Key Pages:**\n- `/` - Main store with Fire Stick and IPTV products\n- `/shadow-services` - Shadow store (corporate design theme)\n- `/checkout` - Cart review and payment\n- `/success` - Post-purchase confirmation\n- `/admin` - Admin panel (product management, orders, analytics)\n- `/blog` - SEO content pages\n\n**State Management:**\n- Cart: Zustand store (`useCart`) with localStorage persistence\n- Server Data: TanStack Query with React Query hooks\n- Form State: React Hook Form with Zod validation\n\n**UI Patterns:**\n- Dark theme by default (streamer aesthetic)\n- Shadow store forces light theme via CSS class manipulation\n- Responsive design with Tailwind breakpoints\n- Embla Carousel for sports image rotation\n- Framer Motion for page transitions and animations\n\n**Component Library:**\nShadcn/ui provides 40+ pre-built components (buttons, cards, dialogs, forms, etc.) built on Radix UI primitives. Fully customizable via Tailwind and variant APIs.\n\n### Image Storage Strategy\n\n**Provider:** Supabase Storage\n\n**Bucket Structure:**\n- Product images organized by category\n- Background images for hero sections\n- Sports carousel images (UFC, NFL, NBA, MLB)\n- OpenGraph social sharing image\n\n**Access Pattern:**\n- Public bucket with direct URL access\n- `getStorageUrl()` helper constructs CDN URLs\n- Fallback to placeholder images if Supabase unavailable\n- Admin panel allows image uploads (multipart form data)\n\n**Why Supabase:**\n- Free tier supports small catalogs\n- Built-in CDN for fast delivery\n- Simple REST API for uploads\n- Bucket policies for access control\n\n### Admin Panel Features\n\n**Dashboard:**\n- Real-time visitor analytics (if tracking enabled)\n- Order statistics and revenue metrics\n- Recent orders table with status indicators\n\n**Product Management:**\n- CRUD operations on real products\n- Image upload to Supabase\n- Pricing sync between real and shadow products\n- Category filtering (Fire Stick vs IPTV)\n\n**Order Management:**\n- View all orders with search/filter\n- Manual status updates\n- Resend credentials emails\n- Customer information display\n\n**Blog/SEO:**\n- 49+ seeded blog posts (Fire Stick guides, cord-cutting tips, sports streaming)\n- SEO-optimized with real scoring system\n- Slug-based routing for SEO\n- Featured posts and categories\n- Seed endpoint: POST /api/admin/seed-blog populates database\n\n**Design Decision:**\nAdmin panel is intentionally simple - no complex dashboards or charts. Focus on core operations: managing products and viewing orders. Analytics are basic (visitor counts) as main goal is e-commerce, not metrics.\n\n## External Dependencies\n\n### Payment Processing\n- **Stripe:** Checkout Sessions, Payment Intents, Webhooks\n- Credentials managed via Cloudflare Worker environment variables\n\n### Email Service\n- **Resend:** Transactional email API\n- Credentials via Cloudflare Worker environment variables\n\n### Database\n- **Supabase (PostgreSQL):** Primary data store\n- Managed via Cloudflare Worker environment variables\n- Direct Supabase client connections\n\n### Storage\n- **Supabase Storage:** Image hosting and CDN\n- Optional - app functions without it (placeholder images)\n- Public bucket access pattern\n- Credentials via `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`\n\n### Development Tools\n- **Vite:** Frontend build tool and dev server\n- **esbuild:** Server bundler for production\n- **Replit Plugins:** Dev banner, cartographer (development only)\n- **TailwindCSS:** Utility-first styling with custom theme\n\n### Third-Party Integrations\n- **YouTube:** Embedded setup video links\n- **IPTV Portal:** External service at http://ky-tv.cc (customer access point)\n\n### NPM Packages (Key Dependencies)\n- UI: `@radix-ui/*` components, `lucide-react` icons, `framer-motion` animations\n- Forms: `react-hook-form`, `@hookform/resolvers`, `zod` validation\n- Data: `drizzle-orm`, `@tanstack/react-query`\n- Carousel: `embla-carousel-react`, `embla-carousel-autoplay`\n- Utilities: `date-fns`, `nanoid`, `zustand`","path":null,"size_bytes":10642,"size_tokens":null},"client/src/pages/Blog.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation, useParams } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { motion } from \"framer-motion\";\nimport { \n  Flame, \n  ArrowLeft, \n  Calendar, \n  Clock, \n  Tag, \n  ChevronRight,\n  Search,\n  Tv,\n  Zap,\n  Shield,\n  Star\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\n\ninterface BlogPost {\n  id: string;\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  category: string;\n  readTime: string;\n  date: string;\n  featured: boolean;\n  image: string;\n  linkedProductIds: string[] | null;\n}\n\ninterface Product {\n  id: string;\n  name: string;\n  description: string | null;\n  price: number;\n  imageUrl: string | null;\n  category: string | null;\n}\n\nconst categories = [\"All\", \"Guides\", \"Savings\", \"How-To\", \"Sports\", \"Reviews\", \"Support\", \"Streaming\"];\n\nexport default function Blog() {\n  const [, setLocation] = useLocation();\n  const params = useParams<{ slug?: string }>();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [activeCategory, setActiveCategory] = useState(\"All\");\n  const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);\n  const [posts, setPosts] = useState<BlogPost[]>([]);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await apiCall(\"/api/products\");\n        if (response.ok) {\n          const data = await response.json();\n          setProducts(data.data || []);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch products:\", error);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const response = await apiCall(\"/api/blog/posts\");\n        if (response.ok) {\n          const data = await response.json();\n          const fetchedPosts = (data.data || []).map((post: any) => ({\n            id: post.id,\n            title: post.title,\n            slug: post.slug,\n            excerpt: post.excerpt,\n            content: post.content,\n            category: post.category || \"Guides\",\n            readTime: `${Math.ceil((post.content || \"\").split(\" \").length / 200)} min read`,\n            date: post.createdAt ? new Date(post.createdAt).toISOString().split(\"T\")[0] : new Date().toISOString().split(\"T\")[0],\n            featured: post.featured || false,\n            image: \"/api/placeholder/800/400\",\n            linkedProductIds: post.linkedProductIds || null\n          }));\n          setPosts(fetchedPosts);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch blog posts:\", error);\n        setPosts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchPosts();\n  }, []);\n\n  useEffect(() => {\n    document.documentElement.classList.remove(\"shadow-theme\");\n    document.documentElement.classList.add(\"dark\");\n    \n    const setMetaTag = (name: string, content: string, isProperty = false) => {\n      const attr = isProperty ? 'property' : 'name';\n      let tag = document.querySelector(`meta[${attr}=\"${name}\"]`);\n      if (!tag) {\n        tag = document.createElement('meta');\n        tag.setAttribute(attr, name);\n        document.head.appendChild(tag);\n      }\n      tag.setAttribute('content', content);\n    };\n\n    const setCanonical = (url: string) => {\n      let link = document.querySelector('link[rel=\"canonical\"]') as HTMLLinkElement;\n      if (!link) {\n        link = document.createElement('link');\n        link.setAttribute('rel', 'canonical');\n        document.head.appendChild(link);\n      }\n      link.setAttribute('href', url);\n    };\n\n    const baseUrl = 'https://streamstickpro.com';\n    const defaultDescription = 'Guides, tips, and everything you need to know about cord cutting and streaming';\n    const defaultTitle = 'Blog | StreamStickPro - Cord Cutting Guides & Tips';\n    \n    if (params.slug && posts.length > 0) {\n      const postFromSlug = posts.find(p => p.slug === params.slug);\n      if (postFromSlug) {\n        setSelectedPost(postFromSlug);\n        document.title = `${postFromSlug.title} | StreamStickPro Blog`;\n        \n        setMetaTag('description', postFromSlug.excerpt);\n        setCanonical(`${baseUrl}/blog/${postFromSlug.slug}`);\n        setMetaTag('og:title', postFromSlug.title, true);\n        setMetaTag('og:description', postFromSlug.excerpt, true);\n        setMetaTag('og:url', `${baseUrl}/blog/${postFromSlug.slug}`, true);\n        setMetaTag('og:type', 'article', true);\n        setMetaTag('twitter:title', postFromSlug.title);\n        setMetaTag('twitter:description', postFromSlug.excerpt);\n        setMetaTag('article:published_time', postFromSlug.date, true);\n      } else {\n        setSelectedPost(null);\n        document.title = defaultTitle;\n        setMetaTag('description', defaultDescription);\n        setCanonical(`${baseUrl}/blog`);\n        setMetaTag('og:title', defaultTitle, true);\n        setMetaTag('og:description', defaultDescription, true);\n        setMetaTag('og:url', `${baseUrl}/blog`, true);\n        setMetaTag('og:type', 'website', true);\n        setMetaTag('twitter:title', defaultTitle);\n        setMetaTag('twitter:description', defaultDescription);\n      }\n    } else {\n      setSelectedPost(null);\n      document.title = defaultTitle;\n      setMetaTag('description', defaultDescription);\n      setCanonical(`${baseUrl}/blog`);\n      setMetaTag('og:title', defaultTitle, true);\n      setMetaTag('og:description', defaultDescription, true);\n      setMetaTag('og:url', `${baseUrl}/blog`, true);\n      setMetaTag('og:type', 'website', true);\n      setMetaTag('twitter:title', defaultTitle);\n      setMetaTag('twitter:description', defaultDescription);\n    }\n    \n    return () => {\n      document.title = \"StreamStickPro - Get Fully Loaded Streaming in 10 Minutes\";\n    };\n  }, [params.slug, posts]);\n\n  const filteredPosts = posts.filter(post => {\n    const matchesSearch = post.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          post.excerpt.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = activeCategory === \"All\" || post.category === activeCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const featuredPosts = posts.filter(p => p.featured);\n\n  if (selectedPost) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white\">\n        <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify({\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"BlogPosting\",\n          \"headline\": selectedPost.title,\n          \"description\": selectedPost.excerpt,\n          \"datePublished\": selectedPost.date,\n          \"author\": { \"@type\": \"Organization\", \"name\": \"StreamStickPro\" },\n          \"articleBody\": selectedPost.content\n        }) }} />\n        \n        <nav className=\"border-b border-gray-800 sticky top-0 z-10 bg-gray-900/95 backdrop-blur\">\n          <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center gap-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => {\n                setSelectedPost(null);\n                setLocation(\"/blog\");\n              }}\n              className=\"text-gray-300 hover:text-white\"\n              data-testid=\"button-back-to-blog\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back\n            </Button>\n            <div className=\"flex-1\">\n              <h1 className=\"text-2xl font-bold truncate\" data-testid=\"text-blog-title\">{selectedPost.title}</h1>\n            </div>\n          </div>\n        </nav>\n\n        <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"flex items-center gap-4 text-gray-300 text-sm mb-8 flex-wrap\">\n            <span className=\"flex items-center gap-1\" data-testid=\"text-publish-date\">\n              <Calendar className=\"w-4 h-4\" />\n              {new Date(selectedPost.date).toLocaleDateString()}\n            </span>\n            <span className=\"flex items-center gap-1\" data-testid=\"text-read-time\">\n              <Clock className=\"w-4 h-4\" />\n              {selectedPost.readTime}\n            </span>\n            <Badge variant=\"secondary\" data-testid=\"badge-category\">{selectedPost.category}</Badge>\n          </div>\n\n          <div \n            className=\"prose prose-invert max-w-none mb-12\"\n            dangerouslySetInnerHTML={{ \n              __html: selectedPost.content\n                .replace(/\\n\\n/g, \"</p><p>\")\n                .replace(/^(.+)$/gm, match => !match.startsWith(\"<\") ? match : match)\n                .replace(/\\*\\*(.+?)\\*\\*/g, \"<strong>$1</strong>\")\n                .replace(/^- (.+)$/gm, \"<li>$1</li>\")\n            }}\n            data-testid=\"text-blog-content\"\n          />\n\n          {/* Related Products Section - Internal Linking */}\n          {(() => {\n            const linkedProducts = selectedPost.linkedProductIds && selectedPost.linkedProductIds.length > 0\n              ? products.filter(p => selectedPost.linkedProductIds?.includes(p.id))\n              : products.slice(0, 3);\n            \n            if (linkedProducts.length === 0) return null;\n\n            return (\n              <div className=\"border-t border-gray-700 pt-12 mt-12\" data-testid=\"section-related-products\">\n                <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-3\">\n                  <Zap className=\"w-6 h-6 text-orange-500\" />\n                  Related Products\n                </h2>\n                <p className=\"text-gray-300 mb-6\">\n                  Ready to start streaming? Check out our top-rated products mentioned in this article.\n                </p>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {linkedProducts.map(product => (\n                    <motion.div\n                      key={product.id}\n                      whileHover={{ y: -3, scale: 1.02 }}\n                      className=\"cursor-pointer\"\n                      onClick={() => {\n                        setLocation(\"/?section=shop\");\n                        setTimeout(() => window.dispatchEvent(new Event('scrollToSection')), 100);\n                      }}\n                      data-testid={`card-related-product-${product.id}`}\n                    >\n                      <Card className=\"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-orange-500 transition-all h-full\">\n                        <CardHeader className=\"pb-3\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <Badge \n                              variant=\"secondary\" \n                              className={product.category === 'firestick' ? 'bg-orange-600/20 text-orange-400' : 'bg-purple-600/20 text-purple-400'}\n                            >\n                              {product.category === 'firestick' ? 'StreamStick' : 'Live TV'}\n                            </Badge>\n                          </div>\n                          <CardTitle className=\"text-lg text-white\">{product.name}</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-2xl font-bold text-orange-500\">\n                              ${(product.price / 100).toFixed(2)}\n                            </span>\n                            <Button \n                              size=\"sm\" \n                              className=\"bg-orange-600 hover:bg-orange-700\"\n                              data-testid={`button-view-product-${product.id}`}\n                            >\n                              View Details\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </motion.div>\n                  ))}\n                </div>\n\n                {/* CTA Section */}\n                <div className=\"mt-8 p-6 bg-gradient-to-r from-orange-600/20 to-red-600/20 rounded-xl border border-orange-500/30\">\n                  <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n                    <div>\n                      <h3 className=\"text-xl font-bold text-white mb-1\">Ready to Cut the Cord?</h3>\n                      <p className=\"text-gray-300\">Be streaming in 10 minutes! Your StreamStick includes login credentials, a quick setup video, and 24/7 support. Live TV, Movies, Series, and comprehensive sports coverage await!</p>\n                    </div>\n                    <Button \n                      size=\"lg\" \n                      className=\"bg-orange-600 hover:bg-orange-700 whitespace-nowrap\"\n                      onClick={() => {\n                        setLocation(\"/?section=shop\");\n                        setTimeout(() => window.dispatchEvent(new Event('scrollToSection')), 100);\n                      }}\n                      data-testid=\"button-shop-now\"\n                    >\n                      <Flame className=\"w-4 h-4 mr-2\" />\n                      Shop Now\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white pb-12\">\n      <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify({\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"Blog\",\n        \"name\": \"StreamStickPro Blog\",\n        \"description\": \"Guides, tips, and news about streaming devices and Live TV\",\n        \"url\": \"https://streamstickpro.com/blog\",\n        \"blogPost\": posts.map(post => ({\n          \"@type\": \"BlogPosting\",\n          \"headline\": post.title,\n          \"description\": post.excerpt,\n          \"datePublished\": post.date,\n          \"author\": { \"@type\": \"Organization\", \"name\": \"StreamStickPro\" }\n        }))\n      }) }} />\n\n      <div className=\"relative h-64 sm:h-72 md:h-80 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-orange-500 via-orange-600 to-red-700\" />\n        <div className=\"absolute inset-0 opacity-10\">\n          <Flame className=\"absolute w-32 h-32 top-4 right-8 text-white\" />\n        </div>\n        <div className=\"relative h-full flex flex-col items-center justify-center px-4\">\n          <motion.h1 \n            className=\"text-4xl sm:text-5xl md:text-6xl font-bold text-white text-center mb-4\"\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            data-testid=\"heading-blog-title\"\n          >\n            StreamStickPro Blog\n          </motion.h1>\n          <motion.p \n            className=\"text-lg text-gray-100 text-center max-w-2xl\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.2 }}\n            data-testid=\"text-blog-subtitle\"\n          >\n            Guides, tips, and everything you need to know about cord cutting and streaming\n          </motion.p>\n        </div>\n      </div>\n\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {loading ? (\n          <div className=\"text-center py-12\" data-testid=\"text-loading\">\n            <p className=\"text-gray-300\">Loading blog posts...</p>\n          </div>\n        ) : posts.length === 0 ? (\n          <div className=\"text-center py-12\" data-testid=\"text-no-posts\">\n            <p className=\"text-gray-300\">No blog posts available yet.</p>\n          </div>\n        ) : (\n          <>\n            {featuredPosts.length > 0 && (\n              <div className=\"mb-16\">\n                <h2 className=\"text-3xl font-bold mb-8 flex items-center gap-3\" data-testid=\"heading-featured-posts\">\n                  <Star className=\"w-8 h-8 text-yellow-500\" />\n                  Featured Articles\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12\">\n                  {featuredPosts.slice(0, 2).map(post => (\n                    <motion.div\n                      key={post.id}\n                      whileHover={{ y: -5 }}\n                      onClick={() => setLocation(`/blog/${post.slug}`)}\n                      className=\"cursor-pointer\"\n                      data-testid={`card-featured-post-${post.id}`}\n                    >\n                      <Card className=\"h-full bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-orange-500 transition-colors overflow-hidden\">\n                        <div className=\"h-48 bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center\">\n                          <Tv className=\"w-16 h-16 text-orange-400 opacity-50\" />\n                        </div>\n                        <CardHeader>\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <Badge variant=\"secondary\" data-testid={`badge-category-${post.id}`}>{post.category}</Badge>\n                            <span className=\"text-xs text-gray-300\" data-testid={`text-date-${post.id}`}>{post.date}</span>\n                          </div>\n                          <CardTitle className=\"text-xl\" data-testid={`text-title-${post.id}`}>{post.title}</CardTitle>\n                          <CardDescription className=\"text-gray-300\" data-testid={`text-excerpt-${post.id}`}>{post.excerpt}</CardDescription>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"flex items-center justify-between text-sm text-gray-300\">\n                            <span className=\"flex items-center gap-1\" data-testid={`text-read-time-${post.id}`}>\n                              <Clock className=\"w-4 h-4\" />\n                              {post.readTime}\n                            </span>\n                            <ChevronRight className=\"w-4 h-4\" />\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </motion.div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <div className=\"mb-12\">\n              <div className=\"flex flex-col sm:flex-row gap-4 mb-8\">\n                <div className=\"flex-1 relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5\" />\n                  <Input\n                    placeholder=\"Search articles...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"pl-10 bg-gray-800 border-gray-700\"\n                    data-testid=\"input-search\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 mb-8 overflow-x-auto pb-2\">\n                {categories.map(cat => (\n                  <Button\n                    key={cat}\n                    variant={activeCategory === cat ? \"default\" : \"outline\"}\n                    size=\"sm\"\n                    onClick={() => setActiveCategory(cat)}\n                    className={activeCategory === cat ? \"bg-orange-600 hover:bg-orange-700\" : \"border-gray-700\"}\n                    data-testid={`button-category-${cat}`}\n                  >\n                    {cat}\n                  </Button>\n                ))}\n              </div>\n\n              {filteredPosts.length === 0 ? (\n                <div className=\"text-center py-12\" data-testid=\"text-no-matching-posts\">\n                  <p className=\"text-gray-300\">No posts found. Try adjusting your search or filters.</p>\n                </div>\n              ) : (\n                <div className=\"grid gap-6\">\n                  {filteredPosts.map(post => (\n                    <motion.div\n                      key={post.id}\n                      whileHover={{ x: 5 }}\n                      onClick={() => setLocation(`/blog/${post.slug}`)}\n                      className=\"cursor-pointer\"\n                      data-testid={`card-blog-post-${post.id}`}\n                    >\n                      <Card className=\"bg-gray-800/50 border-gray-700 hover:border-orange-500 transition-colors\">\n                        <CardHeader>\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center gap-2 mb-2\">\n                                <Badge variant=\"secondary\" data-testid={`badge-category-list-${post.id}`}>{post.category}</Badge>\n                                <span className=\"text-xs text-gray-300\" data-testid={`text-date-list-${post.id}`}>{post.date}</span>\n                              </div>\n                              <CardTitle data-testid={`text-post-title-${post.id}`}>{post.title}</CardTitle>\n                              <CardDescription className=\"text-gray-300 mt-2\" data-testid={`text-post-excerpt-${post.id}`}>{post.excerpt}</CardDescription>\n                            </div>\n                          </div>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"flex items-center justify-between text-sm text-gray-300\">\n                            <span className=\"flex items-center gap-1\" data-testid={`text-read-time-list-${post.id}`}>\n                              <Clock className=\"w-4 h-4\" />\n                              {post.readTime}\n                            </span>\n                            <ChevronRight className=\"w-4 h-4\" />\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":22177,"size_tokens":null},"server/webhookHandlers.ts":{"content":"import { getStripeSync, getUncachableStripeClient } from './stripeClient';\nimport { storage } from './storage';\nimport { EmailService } from './emailService';\nimport type { Order } from '@shared/schema';\nimport * as bcrypt from 'bcryptjs';\n\nasync function hashPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, 10);\n}\n\nexport class WebhookHandlers {\n  static async processWebhook(payload: Buffer, signature: string, uuid: string): Promise<void> {\n    if (!Buffer.isBuffer(payload)) {\n      throw new Error(\n        'STRIPE WEBHOOK ERROR: Payload must be a Buffer. ' +\n        'Received type: ' + typeof payload + '. ' +\n        'This usually means express.json() parsed the body before reaching this handler. ' +\n        'FIX: Ensure webhook route is registered BEFORE app.use(express.json()).'\n      );\n    }\n\n    const sync = await getStripeSync();\n    await sync.processWebhook(payload, signature, uuid);\n\n    const stripe = await getUncachableStripeClient();\n    const webhookSecret = await getWebhookSecret(uuid);\n    \n    if (!webhookSecret) {\n      console.log('Webhook secret not found, skipping custom event handling');\n      return;\n    }\n\n    try {\n      const event = stripe.webhooks.constructEvent(payload, signature, webhookSecret);\n      await WebhookHandlers.handleEvent(event);\n    } catch (error: any) {\n      console.error('Error verifying webhook signature:', error.message);\n    }\n  }\n\n  static async handleEvent(event: any): Promise<void> {\n    console.log(`Processing webhook event: ${event.type}`);\n\n    switch (event.type) {\n      case 'checkout.session.completed':\n        await WebhookHandlers.handleCheckoutComplete(event.data.object);\n        break;\n      case 'payment_intent.succeeded':\n        await WebhookHandlers.handlePaymentSucceeded(event.data.object);\n        break;\n      case 'payment_intent.payment_failed':\n        await WebhookHandlers.handlePaymentFailed(event.data.object);\n        break;\n      default:\n        break;\n    }\n  }\n\n  static async handleCheckoutComplete(session: any): Promise<void> {\n    console.log(`Checkout completed: ${session.id}`);\n    \n    const order = await storage.getOrderByCheckoutSession(session.id);\n    if (!order) {\n      console.log(`No order found for session: ${session.id}`);\n      return;\n    }\n\n    const updateData: any = {\n      status: 'paid',\n      stripePaymentIntentId: session.payment_intent,\n      stripeCustomerId: session.customer,\n    };\n\n    if (session.shipping_details) {\n      const shipping = session.shipping_details;\n      updateData.shippingName = shipping.name || null;\n      updateData.shippingPhone = session.customer_details?.phone || null;\n      \n      if (shipping.address) {\n        const line1 = shipping.address.line1 || '';\n        const line2 = shipping.address.line2 || '';\n        updateData.shippingStreet = line2 ? `${line1}, ${line2}` : line1;\n        updateData.shippingCity = shipping.address.city || null;\n        updateData.shippingState = shipping.address.state || null;\n        updateData.shippingZip = shipping.address.postal_code || null;\n        updateData.shippingCountry = shipping.address.country || null;\n      }\n      \n      console.log(`Shipping address captured for order ${order.id}`);\n    }\n\n    const productIds = order.realProductId?.split(',') || [];\n    const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-')) || \n                    productIds.some(id => id.trim().startsWith('firestick-'));\n\n    if (hasIPTV) {\n      if (order.isRenewal && order.existingUsername) {\n        console.log(`Processing renewal for existing username: ${order.existingUsername}`);\n        \n        const existingCustomer = await storage.getCustomerByUsername(order.existingUsername);\n        if (existingCustomer) {\n          updateData.generatedUsername = existingCustomer.username;\n          updateData.generatedPassword = existingCustomer.password;\n          \n          if (!order.customerId) {\n            updateData.customerId = existingCustomer.id;\n          }\n          \n          await storage.incrementCustomerOrders(existingCustomer.id);\n          console.log(`Renewal processed for customer ${existingCustomer.id}, order count incremented`);\n        } else {\n          console.log(`WARNING: Could not find customer with username ${order.existingUsername}`);\n        }\n      } else {\n        console.log(`Processing new customer order, generating credentials`);\n        \n        const credentials = await EmailService.generateUniqueCredentials(order);\n        updateData.generatedUsername = credentials.username;\n        updateData.generatedPassword = credentials.password;\n        \n        const customerPhone = session.customer_details?.phone || order.shippingPhone || updateData.shippingPhone || undefined;\n        const customerName = order.customerName || session.customer_details?.name || undefined;\n        \n        try {\n          const hashedPassword = await hashPassword(credentials.password);\n          const newCustomer = await storage.createCustomer({\n            username: credentials.username,\n            password: hashedPassword,\n            email: order.customerEmail,\n            fullName: customerName,\n            phone: customerPhone,\n          });\n          \n          updateData.customerId = newCustomer.id;\n          console.log(`Created new customer ${newCustomer.id} with username ${credentials.username}`);\n          \n          await storage.incrementCustomerOrders(newCustomer.id);\n        } catch (error) {\n          console.error('Error creating customer record:', error);\n        }\n      }\n    }\n\n    await storage.updateOrder(order.id, updateData);\n    console.log(`Order ${order.id} marked as paid`);\n\n    const updatedOrder = await storage.getOrder(order.id);\n    if (updatedOrder) {\n      try {\n        await EmailService.sendOrderConfirmation(updatedOrder);\n        await EmailService.sendOwnerOrderNotification(updatedOrder);\n        await EmailService.scheduleCredentialsEmail(updatedOrder.id);\n      } catch (error) {\n        console.error('Error sending emails:', error);\n      }\n    }\n  }\n\n  static async handlePaymentSucceeded(paymentIntent: any): Promise<void> {\n    console.log(`Payment succeeded: ${paymentIntent.id}`);\n    \n    const order = await storage.getOrderByPaymentIntent(paymentIntent.id);\n    if (!order) {\n      return;\n    }\n\n    if (order.status !== 'paid') {\n      await storage.updateOrder(order.id, {\n        status: 'paid',\n      });\n      console.log(`Order ${order.id} marked as paid via payment_intent.succeeded`);\n\n      const updatedOrder = await storage.getOrder(order.id);\n      if (updatedOrder) {\n        try {\n          await EmailService.sendOrderConfirmation(updatedOrder);\n          await EmailService.sendOwnerOrderNotification(updatedOrder);\n          await EmailService.scheduleCredentialsEmail(updatedOrder.id);\n        } catch (error) {\n          console.error('Error sending emails:', error);\n        }\n      }\n    }\n  }\n\n  static async handlePaymentFailed(paymentIntent: any): Promise<void> {\n    console.log(`Payment failed: ${paymentIntent.id}`);\n    \n    const order = await storage.getOrderByPaymentIntent(paymentIntent.id);\n    if (!order) {\n      return;\n    }\n\n    await storage.updateOrder(order.id, {\n      status: 'failed',\n    });\n    console.log(`Order ${order.id} marked as failed`);\n  }\n}\n\nasync function getWebhookSecret(uuid: string): Promise<string | null> {\n  try {\n    const stripeSync = await getStripeSync();\n    const webhooks = await stripeSync.listManagedWebhooks();\n    const webhook = webhooks.find((w: any) => w.url.includes(uuid));\n    return webhook?.secret || null;\n  } catch (error) {\n    console.error('Error getting webhook secret:', error);\n    return null;\n  }\n}\n","path":null,"size_bytes":7750,"size_tokens":null},"server/resendClient.ts":{"content":"import { Resend } from 'resend';\n\nlet connectionSettings: any;\n\nfunction isReplitEnvironment(): boolean {\n  return !!(process.env.REPLIT_CONNECTORS_HOSTNAME && \n    (process.env.REPL_IDENTITY || process.env.WEB_REPL_RENEWAL));\n}\n\nasync function getReplitCredentials() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY\n    ? 'repl ' + process.env.REPL_IDENTITY\n    : process.env.WEB_REPL_RENEWAL\n      ? 'depl ' + process.env.WEB_REPL_RENEWAL\n      : null;\n\n  if (!xReplitToken) {\n    console.error('Resend: X_REPLIT_TOKEN not found for repl/depl');\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  const url = 'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=resend';\n  console.log('Resend: Fetching credentials from', url);\n  \n  const response = await fetch(url, {\n    headers: {\n      'Accept': 'application/json',\n      'X_REPLIT_TOKEN': xReplitToken\n    }\n  });\n  \n  const data = await response.json();\n  console.log('Resend: Response status', response.status, 'items:', data.items?.length || 0);\n  \n  connectionSettings = data.items?.[0];\n\n  if (!connectionSettings || (!connectionSettings.settings?.api_key)) {\n    console.error('Resend: No valid connection settings found. Response:', JSON.stringify(data));\n    throw new Error('Resend not connected - check integration setup');\n  }\n  \n  let fromEmail = connectionSettings.settings.from_email;\n  \n  if (fromEmail && (fromEmail.includes('@gmail.com') || fromEmail.includes('@resend.dev'))) {\n    console.log('Resend: Using verified streamstickpro.com domain for sending.');\n    fromEmail = 'StreamStickPro <noreply@streamstickpro.com>';\n  }\n  \n  console.log('Resend: Successfully retrieved credentials, from_email:', fromEmail);\n  \n  return {\n    apiKey: connectionSettings.settings.api_key,\n    fromEmail: fromEmail\n  };\n}\n\nfunction getEnvCredentials() {\n  const apiKey = process.env.RESEND_API_KEY;\n  const fromEmail = process.env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n  \n  if (!apiKey) {\n    throw new Error('RESEND_API_KEY environment variable is required');\n  }\n  \n  return { apiKey, fromEmail };\n}\n\nasync function getCredentials() {\n  if (isReplitEnvironment()) {\n    return getReplitCredentials();\n  }\n  return getEnvCredentials();\n}\n\nexport async function getUncachableResendClient() {\n  const { apiKey, fromEmail } = await getCredentials();\n  return {\n    client: new Resend(apiKey),\n    fromEmail: fromEmail || 'noreply@streamstickpro.com'\n  };\n}\n","path":null,"size_bytes":2539,"size_tokens":null},"server/emailService.ts":{"content":"import { getUncachableResendClient } from './resendClient';\nimport { storage } from './storage';\nimport type { Order, Customer } from '@shared/schema';\n\nconst CREDENTIALS_DELAY_MS = 5 * 60 * 1000;\nconst SETUP_VIDEO_URL = 'https://youtu.be/DYSOp6mUzDU';\nconst STREAMING_PORTAL_URL = 'http://ky-tv.cc';\nconst OWNER_EMAIL = 'reloadedfiretvteam@gmail.com';\n\nexport class EmailService {\n  static async sendOrderConfirmation(order: Order): Promise<void> {\n    const { client, fromEmail } = await getUncachableResendClient();\n\n    const priceFormatted = (order.amount / 100).toFixed(2);\n    \n    await client.emails.send({\n      from: fromEmail,\n      to: order.customerEmail,\n      subject: `Order Confirmation - ${order.realProductName}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <h1 style=\"color: #1a1a1a;\">Thank You for Your Order!</h1>\n          \n          <p>Hi ${order.customerName || 'Valued Customer'},</p>\n          \n          <p>Your order has been confirmed and is being processed.</p>\n          \n          <div style=\"background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n            <h2 style=\"margin-top: 0; color: #333;\">Order Details</h2>\n            <p><strong>Order ID:</strong> ${order.id}</p>\n            <p><strong>Product:</strong> ${order.realProductName}</p>\n            <p><strong>Amount:</strong> $${priceFormatted}</p>\n            ${order.countryPreference ? `<p><strong>Channel Preferences:</strong> ${order.countryPreference}</p>` : ''}\n          </div>\n          \n          <p>You will receive your login credentials in a separate email within the next 5 minutes.</p>\n          \n          <p>If you have any questions, please don't hesitate to reach out.</p>\n          \n          <p>Best regards,<br>StreamStickPro Team</p>\n        </div>\n      `,\n    });\n\n    console.log(`Order confirmation email sent to ${order.customerEmail}`);\n  }\n\n  static async sendCredentialsEmail(order: Order): Promise<void> {\n    if (order.isRenewal) {\n      await EmailService.sendRenewalConfirmationEmail(order);\n      return;\n    }\n\n    const { client, fromEmail } = await getUncachableResendClient();\n\n    const credentials = order.generatedUsername && order.generatedPassword\n      ? { username: order.generatedUsername, password: order.generatedPassword }\n      : EmailService.generateCredentials(order);\n\n    const productIds = order.realProductId?.split(',') || [];\n    const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-'));\n    const hasFireStick = productIds.some(id => id.trim().startsWith('firestick-'));\n\n    let productInstructions = '';\n    if (hasIPTV) {\n      productInstructions = `\n        <div style=\"background: #e8f4fd; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h2 style=\"margin-top: 0; color: #0066cc;\">Live TV Setup Instructions</h2>\n          <p><strong>Portal URL:</strong> <a href=\"${STREAMING_PORTAL_URL}\">${STREAMING_PORTAL_URL}</a></p>\n          <p><strong>Username:</strong> ${credentials.username}</p>\n          <p><strong>Password:</strong> ${credentials.password}</p>\n          \n          <h3 style=\"color: #0066cc;\">How to Setup:</h3>\n          <ol>\n            <li>Download the streaming app on your device</li>\n            <li>Enter the portal URL: ${STREAMING_PORTAL_URL}</li>\n            <li>Enter your username and password</li>\n            <li>Start streaming!</li>\n          </ol>\n          \n          <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\">${SETUP_VIDEO_URL}</a></p>\n        </div>\n      `;\n    }\n    \n    if (hasFireStick) {\n      productInstructions += `\n        <div style=\"background: #fff7ed; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h2 style=\"margin-top: 0; color: #ea580c;\">StreamStick Setup Instructions</h2>\n          <p><strong>Portal URL:</strong> <a href=\"${STREAMING_PORTAL_URL}\">${STREAMING_PORTAL_URL}</a></p>\n          <p><strong>Username:</strong> ${credentials.username}</p>\n          <p><strong>Password:</strong> ${credentials.password}</p>\n          \n          <h3 style=\"color: #ea580c;\">How to Get Fully Loaded in 10 Minutes:</h3>\n          <ol>\n            <li>Your StreamStick arrives ready - just plug it into your TV</li>\n            <li>Connect to your WiFi</li>\n            <li>Open the Live TV app and enter your credentials above</li>\n            <li>Follow our quick setup video and you're fully loaded!</li>\n          </ol>\n          \n          <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\">${SETUP_VIDEO_URL}</a></p>\n        </div>\n      `;\n    }\n\n    await client.emails.send({\n      from: fromEmail,\n      to: order.customerEmail,\n      subject: `Your Login Credentials - ${order.realProductName}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <h1 style=\"color: #1a1a1a;\">Your Credentials Are Ready!</h1>\n          \n          <p>Hi ${order.customerName || 'Valued Customer'},</p>\n          \n          <p>Here are your login credentials for ${order.realProductName}:</p>\n          \n          ${productInstructions}\n          \n          <div style=\"background: #e0f2fe; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0284c7;\">\n            <strong> Activation Time:</strong> Please allow 1-4 hours (typically 15 minutes) for your activation to be active. You will be able to log in once your account is activated.\n          </div>\n          \n          <div style=\"background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;\">\n            <strong>Important:</strong> Please save these credentials in a safe place. Do not share them with anyone.\n          </div>\n          \n          <p>If you need any assistance, please don't hesitate to reach out.</p>\n          \n          <p>Best regards,<br>StreamStickPro Team</p>\n        </div>\n      `,\n    });\n\n    await storage.updateOrder(order.id, { credentialsSent: true });\n    console.log(`Credentials email sent to ${order.customerEmail}`);\n  }\n\n  static async sendRenewalConfirmationEmail(order: Order): Promise<void> {\n    const { client, fromEmail } = await getUncachableResendClient();\n\n    const priceFormatted = (order.amount / 100).toFixed(2);\n    const existingUsername = order.existingUsername || 'your current username';\n\n    await client.emails.send({\n      from: fromEmail,\n      to: order.customerEmail,\n      subject: `Subscription Renewed! - ${order.realProductName}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <h1 style=\"color: #1a1a1a;\"> Your Subscription Has Been Extended!</h1>\n          \n          <p>Hi ${order.customerName || 'Valued Customer'},</p>\n          \n          <p>Great news! Your Live TV subscription has been successfully renewed.</p>\n          \n          <div style=\"background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 25px; border-radius: 12px; margin: 20px 0; color: white;\">\n            <h2 style=\"margin-top: 0; color: white;\">Renewal Confirmed</h2>\n            <p style=\"font-size: 16px;\"><strong>Product:</strong> ${order.realProductName}</p>\n            <p style=\"font-size: 16px;\"><strong>Amount Paid:</strong> $${priceFormatted}</p>\n            <p style=\"font-size: 16px;\"><strong>Your Username:</strong> ${existingUsername}</p>\n          </div>\n          \n          <div style=\"background: #e0f2fe; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0284c7;\">\n            <h3 style=\"margin-top: 0; color: #0369a1;\">Your Existing Credentials Still Work!</h3>\n            <p>You can continue using your current login credentials. No changes needed!</p>\n            <p><strong>Portal URL:</strong> <a href=\"${STREAMING_PORTAL_URL}\" style=\"color: #0369a1;\">${STREAMING_PORTAL_URL}</a></p>\n            <p><strong>Username:</strong> ${existingUsername}</p>\n            <p><strong>Password:</strong> (same as before)</p>\n          </div>\n          \n          <div style=\"background: #f0fdf4; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e;\">\n            <strong> What's Next:</strong> Your subscription is now extended. Just keep streaming - no action required!\n          </div>\n          \n          <p>Thank you for being a loyal customer! If you have any questions, please don't hesitate to reach out.</p>\n          \n          <p>Best regards,<br>StreamStickPro Team</p>\n        </div>\n      `,\n    });\n\n    await storage.updateOrder(order.id, { credentialsSent: true });\n    console.log(`Renewal confirmation email sent to ${order.customerEmail}`);\n  }\n\n  static generateCredentials(order: Order): { username: string; password: string } {\n    const letters = 'abcdefghkmnpqrstuvwxyz';\n    const numbers = '23456789';\n    const alphanumeric = letters + letters.toUpperCase() + numbers;\n    \n    const seed = order.id.replace(/-/g, '');\n    \n    const generateChar = (index: number, charset: string): string => {\n      const charCode = seed.charCodeAt(index % seed.length) || 65;\n      return charset[(charCode + index) % charset.length];\n    };\n    \n    const customerName = order.customerName?.replace(/[^a-zA-Z]/g, '') || '';\n    const namePrefix = customerName.substring(0, 3).toLowerCase();\n    \n    let username = '';\n    if (namePrefix.length >= 2) {\n      username = namePrefix;\n      for (let i = 0; username.length < 8; i++) {\n        username += generateChar(i, numbers + letters);\n      }\n    } else {\n      for (let i = 0; username.length < 8; i++) {\n        username += generateChar(i, letters + numbers);\n      }\n    }\n    \n    let password = '';\n    password += generateChar(0, letters.toUpperCase());\n    password += generateChar(1, letters);\n    password += generateChar(2, numbers);\n    password += generateChar(3, letters.toUpperCase());\n    for (let i = 4; password.length < 10; i++) {\n      password += generateChar(i + 10, alphanumeric);\n    }\n    \n    return {\n      username: username.substring(0, 10),\n      password: password.substring(0, 10),\n    };\n  }\n\n  static async scheduleCredentialsEmail(orderId: string): Promise<void> {\n    console.log(`Scheduling credentials email for order ${orderId} in ${CREDENTIALS_DELAY_MS / 1000} seconds`);\n    \n    setTimeout(async () => {\n      try {\n        const order = await storage.getOrder(orderId);\n        if (!order) {\n          console.error(`Order ${orderId} not found for credentials email`);\n          return;\n        }\n\n        if (order.credentialsSent) {\n          console.log(`Credentials already sent for order ${orderId}`);\n          return;\n        }\n\n        await EmailService.sendCredentialsEmail(order);\n      } catch (error) {\n        console.error(`Error sending credentials email for order ${orderId}:`, error);\n      }\n    }, CREDENTIALS_DELAY_MS);\n  }\n\n  static async sendOwnerOrderNotification(order: Order): Promise<void> {\n    const { client, fromEmail } = await getUncachableResendClient();\n\n    const priceFormatted = (order.amount / 100).toFixed(2);\n    const orderDate = new Date().toLocaleString();\n    const productIds = order.realProductId?.split(',') || [];\n    const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-'));\n    const hasFireStick = productIds.some(id => id.trim().startsWith('firestick-'));\n    \n    const isRenewal = order.isRenewal || false;\n    const orderTypeEmoji = isRenewal ? '' : '';\n    const orderTypeLabel = isRenewal ? 'RENEWAL' : 'NEW CUSTOMER';\n    \n    const credentials = isRenewal \n      ? { username: order.existingUsername || 'N/A', password: '(existing)' }\n      : (order.generatedUsername && order.generatedPassword)\n        ? { username: order.generatedUsername, password: order.generatedPassword }\n        : EmailService.generateCredentials(order);\n\n    const emoji = hasFireStick ? '' : '';\n    const category = hasFireStick && hasIPTV ? ' StreamStick + Live TV' : hasFireStick ? ' StreamStick' : ' Live TV Plan';\n    \n    const headerColor = isRenewal \n      ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)' \n      : 'linear-gradient(135deg, #f97316 0%, #ef4444 100%)';\n    \n    const credentialsSection = isRenewal ? `\n          <div style=\"background: #d1fae5; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #10b981;\">\n            <h2 style=\"margin-top: 0; color: #047857;\"> Renewal - Existing Customer</h2>\n            <p><strong>Existing Username:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${order.existingUsername || 'Not provided'}</code></p>\n            <p><strong>Action:</strong> Extend this customer's subscription in admin panel</p>\n            <p><strong>Portal URL:</strong> <a href=\"${STREAMING_PORTAL_URL}\" style=\"color: #047857;\">${STREAMING_PORTAL_URL}</a></p>\n          </div>\n    ` : `\n          <div style=\"background: #dcfce7; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e;\">\n            <h2 style=\"margin-top: 0; color: #15803d;\"> New Customer Credentials</h2>\n            <p><strong>Username:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${credentials.username}</code></p>\n            <p><strong>Password:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${credentials.password}</code></p>\n            <p><strong>Action:</strong> Create this account in admin panel</p>\n            <p><strong>Portal URL:</strong> <a href=\"${STREAMING_PORTAL_URL}\" style=\"color: #15803d;\">${STREAMING_PORTAL_URL}</a></p>\n            <p><strong>Setup Video:</strong> <a href=\"${SETUP_VIDEO_URL}\" style=\"color: #15803d;\">${SETUP_VIDEO_URL}</a></p>\n          </div>\n    `;\n    \n    await client.emails.send({\n      from: fromEmail,\n      to: OWNER_EMAIL,\n      subject: `${emoji} ${orderTypeEmoji} ${orderTypeLabel} - $${priceFormatted} - ${order.realProductName}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background: ${headerColor}; padding: 20px; border-radius: 12px 12px 0 0;\">\n            <h1 style=\"color: white; margin: 0;\"> ${isRenewal ? 'Subscription Renewal!' : 'New Paid Order!'}</h1>\n            <p style=\"color: rgba(255,255,255,0.9); margin: 5px 0 0 0;\">${orderTypeLabel}</p>\n          </div>\n          \n          <div style=\"background: #fef3c7; padding: 20px; border-left: 4px solid #f59e0b;\">\n            <h2 style=\"margin-top: 0; color: #92400e;\">Order Summary</h2>\n            <p style=\"font-size: 24px; color: #16a34a; font-weight: bold; margin: 10px 0;\">$${priceFormatted}</p>\n          </div>\n          \n          <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n            <h2 style=\"margin-top: 0; color: #7c3aed;\">Customer Details</h2>\n            <p><strong>Name:</strong> ${order.customerName || 'Not provided'}</p>\n            <p><strong>Email:</strong> ${order.customerEmail}</p>\n            <p><strong>Order ID:</strong> ${order.id}</p>\n            <p><strong>Order Date:</strong> ${orderDate}</p>\n            <p><strong>Customer Type:</strong> <span style=\"background: ${isRenewal ? '#d1fae5' : '#fef3c7'}; padding: 2px 8px; border-radius: 4px; font-weight: bold;\">${orderTypeLabel}</span></p>\n          </div>\n          \n          ${credentialsSection}\n          \n          <div style=\"background: ${hasFireStick ? '#fef2f2' : '#eff6ff'}; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n            <h2 style=\"margin-top: 0; color: ${hasFireStick ? '#dc2626' : '#2563eb'};\">Product Information</h2>\n            <p><strong>Product:</strong> ${order.realProductName}</p>\n            <p><strong>Category:</strong> ${category}</p>\n            <p><strong>Status:</strong> ${order.status}</p>\n            ${order.countryPreference ? `<p><strong> Channel Preferences:</strong> <span style=\"background: #dbeafe; padding: 2px 8px; border-radius: 4px;\">${order.countryPreference}</span></p>` : ''}\n          </div>\n\n          ${hasFireStick ? `\n          <div style=\"background: #fee2e2; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ef4444;\">\n            <strong> Action Required:</strong> This is a Fire Stick order. Ship the device to the customer!\n          </div>\n          ` : ''}\n          \n          <div style=\"background: #e0f2fe; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0284c7;\">\n            <strong> Email Status:</strong> ${isRenewal ? 'Renewal confirmation' : 'Order confirmation and credentials'} emails will be sent automatically to the customer.\n          </div>\n          \n          <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n            StreamStickPro Order Notification System\n          </p>\n        </div>\n      `,\n    });\n\n    console.log(`Owner notification sent for order ${order.id} to ${OWNER_EMAIL}`);\n  }\n\n  static async generateUniqueCredentials(order: Order): Promise<{ username: string; password: string }> {\n    const baseCredentials = EmailService.generateCredentials(order);\n    let username = baseCredentials.username;\n    let attempts = 0;\n    const maxAttempts = 10;\n    \n    while (attempts < maxAttempts) {\n      const existingCustomer = await storage.getCustomerByUsername(username);\n      if (!existingCustomer) {\n        return { username, password: baseCredentials.password };\n      }\n      \n      attempts++;\n      const suffix = attempts.toString();\n      username = baseCredentials.username.substring(0, 10 - suffix.length) + suffix;\n    }\n    \n    const timestamp = Date.now().toString(36).substring(0, 4);\n    username = baseCredentials.username.substring(0, 6) + timestamp;\n    \n    return { username, password: baseCredentials.password };\n  }\n}\n","path":null,"size_bytes":17915,"size_tokens":null},"server/stripeClient.ts":{"content":"import Stripe from 'stripe';\n\nlet connectionSettings: any;\n\nfunction isReplitEnvironment(): boolean {\n  return !!(process.env.REPLIT_CONNECTORS_HOSTNAME && \n    (process.env.REPL_IDENTITY || process.env.WEB_REPL_RENEWAL));\n}\n\nasync function getReplitCredentials() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY\n    ? 'repl ' + process.env.REPL_IDENTITY\n    : process.env.WEB_REPL_RENEWAL\n      ? 'depl ' + process.env.WEB_REPL_RENEWAL\n      : null;\n\n  if (!xReplitToken) {\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  const connectorName = 'stripe';\n  const isProduction = process.env.REPLIT_DEPLOYMENT === '1';\n  const targetEnvironment = isProduction ? 'production' : 'development';\n\n  const url = new URL(`https://${hostname}/api/v2/connection`);\n  url.searchParams.set('include_secrets', 'true');\n  url.searchParams.set('connector_names', connectorName);\n  url.searchParams.set('environment', targetEnvironment);\n\n  const response = await fetch(url.toString(), {\n    headers: {\n      'Accept': 'application/json',\n      'X_REPLIT_TOKEN': xReplitToken\n    }\n  });\n\n  const data = await response.json();\n  \n  connectionSettings = data.items?.[0];\n\n  if (!connectionSettings || (!connectionSettings.settings.publishable || !connectionSettings.settings.secret)) {\n    throw new Error(`Stripe ${targetEnvironment} connection not found`);\n  }\n\n  return {\n    publishableKey: connectionSettings.settings.publishable,\n    secretKey: connectionSettings.settings.secret,\n  };\n}\n\nfunction getEnvCredentials() {\n  const secretKey = process.env.STRIPE_SECRET_KEY;\n  const publishableKey = process.env.STRIPE_PUBLISHABLE_KEY || process.env.VITE_STRIPE_PUBLISHABLE_KEY;\n  \n  if (!secretKey || !publishableKey) {\n    return null;\n  }\n  \n  return { secretKey, publishableKey };\n}\n\nasync function getCredentials() {\n  const envCreds = getEnvCredentials();\n  if (envCreds) {\n    console.log('[stripe] Using environment variable credentials');\n    return envCreds;\n  }\n  \n  if (isReplitEnvironment()) {\n    console.log('[stripe] Using Replit connector credentials');\n    return getReplitCredentials();\n  }\n  \n  throw new Error('STRIPE_SECRET_KEY and STRIPE_PUBLISHABLE_KEY environment variables are required');\n}\n\nexport async function getUncachableStripeClient() {\n  const { secretKey } = await getCredentials();\n\n  return new Stripe(secretKey, {\n    apiVersion: '2025-11-17.clover',\n  });\n}\n\nexport async function getStripePublishableKey() {\n  const { publishableKey } = await getCredentials();\n  return publishableKey;\n}\n\nexport async function getStripeSecretKey() {\n  const { secretKey } = await getCredentials();\n  return secretKey;\n}\n\nexport function getStripeWebhookSecret() {\n  const webhookSecret = process.env.STRIPE_WEBHOOK_SECRET;\n  if (!webhookSecret) {\n    console.warn('STRIPE_WEBHOOK_SECRET not set - webhook signature verification will fail');\n  }\n  return webhookSecret;\n}\n\nlet stripeSync: any = null;\n\nexport async function getStripeSync() {\n  if (!stripeSync) {\n    const { StripeSync } = await import('stripe-replit-sync');\n    const secretKey = await getStripeSecretKey();\n\n    stripeSync = new StripeSync({\n      poolConfig: {\n        connectionString: process.env.DATABASE_URL!,\n        max: 2,\n        ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : undefined\n      },\n      stripeSecretKey: secretKey,\n    });\n  }\n  return stripeSync;\n}\n","path":null,"size_bytes":3464,"size_tokens":null},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/node-postgres\";\nimport pg from \"pg\";\nimport * as schema from \"@shared/schema\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL is required\");\n}\n\nconst pool = new pg.Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nexport const db = drizzle(pool, { schema });\n","path":null,"size_bytes":323,"size_tokens":null},"server/seed-products.ts":{"content":"import { getUncachableStripeClient } from './stripeClient';\nimport { db } from './db';\nimport { realProducts } from '@shared/schema';\n\ninterface ShadowProduct {\n  name: string;\n  description: string;\n  price: number;\n  imageUrl: string;\n  metadata: {\n    realProductId: string;\n    realProductName: string;\n    category: string;\n    deviceCount?: number;\n    duration?: string;\n  };\n}\n\nconst SUPABASE_URL = 'https://emlqlmfzqsnqokrqvmcm.supabase.co/storage/v1/object/public/imiges';\n\nconst shadowProducts: ShadowProduct[] = [\n  {\n    name: 'Web Design Basic',\n    description: 'Professional web design services - Basic package',\n    price: 13000,\n    imageUrl: `${SUPABASE_URL}/firestick%20hd.jpg`,\n    metadata: {\n      realProductId: 'firestick-hd',\n      realProductName: 'StreamStick Starter Kit',\n      category: 'firestick',\n    },\n  },\n  {\n    name: 'Web Design Pro',\n    description: 'Professional web design services - Pro package',\n    price: 14000,\n    imageUrl: `${SUPABASE_URL}/firestick%204k.jpg`,\n    metadata: {\n      realProductId: 'firestick-4k',\n      realProductName: 'StreamStick 4K Kit',\n      category: 'firestick',\n    },\n  },\n  {\n    name: 'Web Design Enterprise',\n    description: 'Professional web design services - Enterprise package',\n    price: 15000,\n    imageUrl: `${SUPABASE_URL}/firestick%204k%20max.jpg`,\n    metadata: {\n      realProductId: 'firestick-4k-max',\n      realProductName: 'StreamStick Max Kit',\n      category: 'firestick',\n    },\n  },\n\n  // ONN Android TV Devices - Upgrades from Fire Stick\n  {\n    name: 'Mobile App Development Basic',\n    description: 'Custom mobile application development - Basic package with essential features',\n    price: 14000,\n    imageUrl: `${SUPABASE_URL}/onn-4k-streaming.webp`,\n    metadata: {\n      realProductId: 'android-onn-4k',\n      realProductName: 'ONN 4K Streaming Device Kit',\n      category: 'firestick',\n    },\n  },\n  {\n    name: 'Mobile App Development Pro',\n    description: 'Custom mobile application development - Professional package with advanced features and storage',\n    price: 16000,\n    imageUrl: `${SUPABASE_URL}/onn-4k-ultra-hd.webp`,\n    metadata: {\n      realProductId: 'android-onn-pro',\n      realProductName: 'ONN 4K Ultra HD Pro Kit',\n      category: 'firestick',\n    },\n  },\n\n  // 1 MONTH Live TV - $15 base, scaling for devices\n  {\n    name: 'SEO Starter Monthly',\n    description: 'Search engine optimization - Monthly starter package for single site',\n    price: 1500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1mo-1d',\n      realProductName: 'Live TV Plan 1 Month - 1 Device',\n      category: 'iptv',\n      deviceCount: 1,\n      duration: '1mo',\n    },\n  },\n  {\n    name: 'SEO Duo Monthly',\n    description: 'Search engine optimization - Monthly package for two sites',\n    price: 2500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1mo-2d',\n      realProductName: 'Live TV Plan 1 Month - 2 Devices',\n      category: 'iptv',\n      deviceCount: 2,\n      duration: '1mo',\n    },\n  },\n  {\n    name: 'SEO Team Monthly',\n    description: 'Search engine optimization - Monthly package for three sites',\n    price: 3500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1mo-3d',\n      realProductName: 'Live TV Plan 1 Month - 3 Devices',\n      category: 'iptv',\n      deviceCount: 3,\n      duration: '1mo',\n    },\n  },\n  {\n    name: 'SEO Business Monthly',\n    description: 'Search engine optimization - Monthly package for four sites',\n    price: 4000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1mo-4d',\n      realProductName: 'Live TV Plan 1 Month - 4 Devices',\n      category: 'iptv',\n      deviceCount: 4,\n      duration: '1mo',\n    },\n  },\n  {\n    name: 'SEO Enterprise Monthly',\n    description: 'Search engine optimization - Monthly package for five sites',\n    price: 4500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1mo-5d',\n      realProductName: 'Live TV Plan 1 Month - 5 Devices',\n      category: 'iptv',\n      deviceCount: 5,\n      duration: '1mo',\n    },\n  },\n\n  // 3 MONTH IPTV - $25 base, scaling for devices\n  {\n    name: 'SEO Starter Quarterly',\n    description: 'Search engine optimization - Quarterly starter package for single site',\n    price: 2500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-3mo-1d',\n      realProductName: 'Live TV Plan 3 Month - 1 Device',\n      category: 'iptv',\n      deviceCount: 1,\n      duration: '3mo',\n    },\n  },\n  {\n    name: 'SEO Duo Quarterly',\n    description: 'Search engine optimization - Quarterly package for two sites',\n    price: 4000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-3mo-2d',\n      realProductName: 'Live TV Plan 3 Month - 2 Devices',\n      category: 'iptv',\n      deviceCount: 2,\n      duration: '3mo',\n    },\n  },\n  {\n    name: 'SEO Team Quarterly',\n    description: 'Search engine optimization - Quarterly package for three sites',\n    price: 5500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-3mo-3d',\n      realProductName: 'Live TV Plan 3 Month - 3 Devices',\n      category: 'iptv',\n      deviceCount: 3,\n      duration: '3mo',\n    },\n  },\n  {\n    name: 'SEO Business Quarterly',\n    description: 'Search engine optimization - Quarterly package for four sites',\n    price: 6500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-3mo-4d',\n      realProductName: 'Live TV Plan 3 Month - 4 Devices',\n      category: 'iptv',\n      deviceCount: 4,\n      duration: '3mo',\n    },\n  },\n  {\n    name: 'SEO Enterprise Quarterly',\n    description: 'Search engine optimization - Quarterly package for five sites',\n    price: 7500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-3mo-5d',\n      realProductName: 'Live TV Plan 3 Month - 5 Devices',\n      category: 'iptv',\n      deviceCount: 5,\n      duration: '3mo',\n    },\n  },\n\n  // 6 MONTH IPTV - $40 base, scaling for devices\n  {\n    name: 'Content Marketing Semi-Annual',\n    description: 'Content marketing services - 6-month package for single site',\n    price: 4000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-6mo-1d',\n      realProductName: 'Live TV Plan 6 Month - 1 Device',\n      category: 'iptv',\n      deviceCount: 1,\n      duration: '6mo',\n    },\n  },\n  {\n    name: 'Content Marketing Duo Semi-Annual',\n    description: 'Content marketing services - 6-month package for two sites',\n    price: 6500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-6mo-2d',\n      realProductName: 'Live TV Plan 6 Month - 2 Devices',\n      category: 'iptv',\n      deviceCount: 2,\n      duration: '6mo',\n    },\n  },\n  {\n    name: 'Content Marketing Team Semi-Annual',\n    description: 'Content marketing services - 6-month package for three sites',\n    price: 8500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-6mo-3d',\n      realProductName: 'Live TV Plan 6 Month - 3 Devices',\n      category: 'iptv',\n      deviceCount: 3,\n      duration: '6mo',\n    },\n  },\n  {\n    name: 'Content Marketing Business Semi-Annual',\n    description: 'Content marketing services - 6-month package for four sites',\n    price: 10000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-6mo-4d',\n      realProductName: 'Live TV Plan 6 Month - 4 Devices',\n      category: 'iptv',\n      deviceCount: 4,\n      duration: '6mo',\n    },\n  },\n  {\n    name: 'Content Marketing Enterprise Semi-Annual',\n    description: 'Content marketing services - 6-month package for five sites',\n    price: 12500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-6mo-5d',\n      realProductName: 'Live TV Plan 6 Month - 5 Devices',\n      category: 'iptv',\n      deviceCount: 5,\n      duration: '6mo',\n    },\n  },\n\n  // 1 YEAR IPTV - $65 base, scaling for devices\n  {\n    name: 'Digital Marketing Annual',\n    description: 'Comprehensive digital marketing - Annual package for single site',\n    price: 6500,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1yr-1d',\n      realProductName: 'Live TV Plan 1 Year - 1 Device',\n      category: 'iptv',\n      deviceCount: 1,\n      duration: '1yr',\n    },\n  },\n  {\n    name: 'Digital Marketing Duo Annual',\n    description: 'Comprehensive digital marketing - Annual package for two sites',\n    price: 10000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1yr-2d',\n      realProductName: 'Live TV Plan 1 Year - 2 Devices',\n      category: 'iptv',\n      deviceCount: 2,\n      duration: '1yr',\n    },\n  },\n  {\n    name: 'Digital Marketing Team Annual',\n    description: 'Comprehensive digital marketing - Annual package for three sites',\n    price: 14000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1yr-3d',\n      realProductName: 'Live TV Plan 1 Year - 3 Devices',\n      category: 'iptv',\n      deviceCount: 3,\n      duration: '1yr',\n    },\n  },\n  {\n    name: 'Digital Marketing Business Annual',\n    description: 'Comprehensive digital marketing - Annual package for four sites',\n    price: 19000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1yr-4d',\n      realProductName: 'Live TV Plan 1 Year - 4 Devices',\n      category: 'iptv',\n      deviceCount: 4,\n      duration: '1yr',\n    },\n  },\n  {\n    name: 'Digital Marketing Enterprise Annual',\n    description: 'Comprehensive digital marketing - Annual package for five sites',\n    price: 22000,\n    imageUrl: `${SUPABASE_URL}/iptv-subscription.jpg`,\n    metadata: {\n      realProductId: 'iptv-1yr-5d',\n      realProductName: 'Live TV Plan 1 Year - 5 Devices',\n      category: 'iptv',\n      deviceCount: 5,\n      duration: '1yr',\n    },\n  },\n];\n\nasync function seedProducts() {\n  console.log('Starting product seeding...');\n  console.log(`Total products to seed: ${shadowProducts.length}`);\n  \n  const stripe = await getUncachableStripeClient();\n  \n  for (const shadowProduct of shadowProducts) {\n    try {\n      const existingProducts = await stripe.products.search({\n        query: `name:'${shadowProduct.name}'`,\n      });\n      \n      let product;\n      let price;\n      \n      if (existingProducts.data.length > 0) {\n        product = existingProducts.data[0];\n        console.log(`Product \"${shadowProduct.name}\" already exists: ${product.id}`);\n        \n        const existingPrices = await stripe.prices.list({\n          product: product.id,\n          active: true,\n        });\n        \n        price = existingPrices.data.find(p => p.unit_amount === shadowProduct.price);\n        \n        if (!price) {\n          price = await stripe.prices.create({\n            product: product.id,\n            unit_amount: shadowProduct.price,\n            currency: 'usd',\n          });\n          console.log(`Created new price for \"${shadowProduct.name}\": ${price.id}`);\n        } else {\n          console.log(`Price already exists for \"${shadowProduct.name}\": ${price.id}`);\n        }\n      } else {\n        product = await stripe.products.create({\n          name: shadowProduct.name,\n          description: shadowProduct.description,\n          metadata: shadowProduct.metadata as any,\n        });\n        console.log(`Created product \"${shadowProduct.name}\": ${product.id}`);\n        \n        price = await stripe.prices.create({\n          product: product.id,\n          unit_amount: shadowProduct.price,\n          currency: 'usd',\n        });\n        console.log(`Created price for \"${shadowProduct.name}\": ${price.id}`);\n      }\n      \n      await db.insert(realProducts).values({\n        id: shadowProduct.metadata.realProductId,\n        name: shadowProduct.metadata.realProductName,\n        description: `Real product mapped to ${shadowProduct.name}`,\n        price: shadowProduct.price,\n        imageUrl: shadowProduct.imageUrl,\n        category: shadowProduct.metadata.category,\n        shadowProductId: product.id,\n        shadowPriceId: price.id,\n      }).onConflictDoUpdate({\n        target: realProducts.id,\n        set: {\n          shadowProductId: product.id,\n          shadowPriceId: price.id,\n          name: shadowProduct.metadata.realProductName,\n          price: shadowProduct.price,\n          imageUrl: shadowProduct.imageUrl,\n          category: shadowProduct.metadata.category,\n        },\n      });\n      \n      console.log(`Saved real product mapping for \"${shadowProduct.metadata.realProductName}\"`);\n      \n    } catch (error) {\n      console.error(`Error processing ${shadowProduct.name}:`, error);\n    }\n  }\n  \n  console.log('Product seeding complete!');\n}\n\nseedProducts().catch(console.error);\n","path":null,"size_bytes":13171,"size_tokens":null},"client/src/components/FreeTrial.tsx":{"content":"import { useState } from \"react\";\nimport { apiCall } from \"@/lib/api\";\nimport { Gift, Mail, User, Loader2, Check, Clock, Tv } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { motion } from \"framer-motion\";\nimport iptvImg from \"@assets/OIF_1764979270800.jpg\";\n\nexport function FreeTrial() {\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!email || !name) {\n      setError(\"Please fill in all fields\");\n      return;\n    }\n\n    if (!email.includes(\"@\")) {\n      setError(\"Please enter a valid email address\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const response = await apiCall(\"/api/free-trial\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, name })\n      });\n\n      if (response.ok) {\n        setSuccess(true);\n        setEmail(\"\");\n        setName(\"\");\n      } else {\n        const data = await response.json();\n        setError(data.error || \"Something went wrong. Please try again.\");\n      }\n    } catch (err) {\n      setError(\"Failed to submit. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <motion.div \n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"max-w-2xl mx-auto mb-12 bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-2 border-green-500/50 rounded-2xl p-8 text-center\"\n        data-testid=\"free-trial-success\"\n      >\n        <div className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <Check className=\"w-8 h-8 text-white\" />\n        </div>\n        <p className=\"text-2xl font-bold text-green-400 mb-2\">Trial Activated!</p>\n        <p className=\"text-gray-300 mb-4\">\n          Check your email for your 36-hour trial credentials. Your login details have been sent to <span className=\"text-green-400 font-semibold\">{email || \"your email\"}</span>.\n        </p>\n        <p className=\"text-sm text-gray-300\">\n          Didn't receive it? Check your spam folder or contact us at reloadedfiretvteam@gmail.com\n        </p>\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div \n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"max-w-3xl mx-auto mb-12 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-cyan-500/20 border-2 border-purple-500/50 rounded-2xl overflow-hidden\"\n      data-testid=\"free-trial-box\"\n    >\n      <div className=\"grid md:grid-cols-5 gap-0\">\n        <div className=\"md:col-span-2 relative h-48 md:h-auto\">\n          <img \n            src={iptvImg} \n            alt=\"4K Live TV - Free Trial\" \n            className=\"w-full h-full object-cover\"\n            loading=\"lazy\"\n            width={300}\n            height={192}\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-purple-900/80 md:bg-gradient-to-r md:from-transparent md:to-gray-900\"></div>\n          <div className=\"absolute bottom-4 left-4 md:hidden\">\n            <span className=\"bg-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold animate-pulse\">\n              FREE TRIAL\n            </span>\n          </div>\n        </div>\n        \n        <div className=\"md:col-span-3 p-6 md:p-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse\">\n              <Gift className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400\">\n                FREE 36-Hour Trial\n              </p>\n              <p className=\"text-gray-300 text-sm\">No credit card required  Instant access</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2 text-gray-300 mb-6\">\n            <Clock className=\"w-5 h-5 text-purple-400\" />\n            <span>Try our premium 4K Live TV service FREE - experience our extensive channel library!</span>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid md:grid-cols-2 gap-4\">\n              <div className=\"relative\">\n                <Label htmlFor=\"trial-name\" className=\"sr-only\">Your Name</Label>\n                <User className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300\" />\n                <Input\n                  id=\"trial-name\"\n                  type=\"text\"\n                  placeholder=\"Your Name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"pl-10 bg-gray-800/50 border-gray-600 text-white h-12\"\n                  data-testid=\"input-trial-name\"\n                />\n              </div>\n              <div className=\"relative\">\n                <Label htmlFor=\"trial-email\" className=\"sr-only\">Your Email</Label>\n                <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300\" />\n                <Input\n                  id=\"trial-email\"\n                  type=\"email\"\n                  placeholder=\"Your Email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"pl-10 bg-gray-800/50 border-gray-600 text-white h-12\"\n                  data-testid=\"input-trial-email\"\n                />\n              </div>\n            </div>\n\n            {error && (\n              <p className=\"text-red-400 text-sm\">{error}</p>\n            )}\n\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 font-bold text-lg\"\n              data-testid=\"button-start-trial\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\n                  Processing...\n                </>\n              ) : (\n                <>\n                  <Gift className=\"w-5 h-5 mr-2\" />\n                  Start My Free Trial\n                </>\n              )}\n            </Button>\n          </form>\n\n          <p className=\"text-xs text-gray-500 mt-4 text-center\">\n            By requesting a trial, you agree to receive emails about your trial and our services.\n          </p>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n","path":null,"size_bytes":6901,"size_tokens":null},"client/src/components/StickyMobileCTA.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { ShoppingCart, ArrowUp } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useCart } from \"@/lib/store\";\n\nexport function StickyMobileCTA() {\n  const [visible, setVisible] = useState(false);\n  const { items, openCart } = useCart();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const showAfter = 500;\n      setVisible(scrollY > showAfter);\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const scrollToShop = () => {\n    document.getElementById('shop')?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.div\n          initial={{ y: 100, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          exit={{ y: 100, opacity: 0 }}\n          className=\"fixed bottom-0 left-0 right-0 z-50 md:hidden\"\n        >\n          <div className=\"bg-gray-900/95 backdrop-blur-md border-t border-white/10 px-4 py-3 safe-area-pb\">\n            <div className=\"flex gap-3\">\n              <button\n                onClick={scrollToShop}\n                className=\"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 px-4 rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-orange-500/30\"\n                data-testid=\"sticky-shop-button\"\n              >\n                <ShoppingCart className=\"w-5 h-5\" />\n                Shop Now\n              </button>\n              {items.length > 0 && (\n                <button\n                  onClick={openCart}\n                  className=\"bg-white text-black font-bold py-3 px-6 rounded-xl flex items-center justify-center gap-2\"\n                  data-testid=\"sticky-cart-button\"\n                >\n                  Cart ({items.length})\n                </button>\n              )}\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport function ScrollToTopButton() {\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setVisible(window.scrollY > 1000);\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.button\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          onClick={scrollToTop}\n          className=\"fixed bottom-24 right-4 z-40 w-12 h-12 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-colors hidden md:flex\"\n          data-testid=\"scroll-to-top\"\n        >\n          <ArrowUp className=\"w-5 h-5\" />\n        </motion.button>\n      )}\n    </AnimatePresence>\n  );\n}\n","path":null,"size_bytes":3155,"size_tokens":null},"client/src/components/TrustBadges.tsx":{"content":"import { Shield, Lock, RefreshCw, Headphones, CreditCard, CheckCircle } from \"lucide-react\";\n\ninterface TrustBadgesProps {\n  variant?: \"horizontal\" | \"compact\";\n  className?: string;\n}\n\nexport function TrustBadges({ variant = \"horizontal\", className = \"\" }: TrustBadgesProps) {\n  const badges = [\n    {\n      icon: Lock,\n      label: \"SSL Secure\",\n      sublabel: \"256-bit encryption\",\n      color: \"text-green-400\"\n    },\n    {\n      icon: RefreshCw,\n      label: \"Money-Back\",\n      sublabel: \"30-day guarantee\",\n      color: \"text-blue-400\"\n    },\n    {\n      icon: Headphones,\n      label: \"24/7 Support\",\n      sublabel: \"Always here to help\",\n      color: \"text-orange-400\"\n    },\n    {\n      icon: Shield,\n      label: \"Secure Payment\",\n      sublabel: \"Protected checkout\",\n      color: \"text-purple-400\"\n    }\n  ];\n\n  if (variant === \"compact\") {\n    return (\n      <div className={`flex flex-wrap justify-center gap-4 ${className}`}>\n        {badges.map((badge, idx) => (\n          <div key={idx} className=\"flex items-center gap-2 text-sm\">\n            <badge.icon className={`w-4 h-4 ${badge.color}`} />\n            <span className=\"text-gray-300\">{badge.label}</span>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`bg-gradient-to-r from-gray-800/50 via-gray-900/50 to-gray-800/50 border-y border-white/10 py-6 ${className}`}>\n      <div className=\"container mx-auto px-4\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n          {badges.map((badge, idx) => (\n            <div \n              key={idx} \n              className=\"flex items-center justify-center gap-3 group\"\n              data-testid={`trust-badge-${idx}`}\n            >\n              <div className={`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center border border-white/10 group-hover:border-white/20 transition-colors`}>\n                <badge.icon className={`w-6 h-6 ${badge.color}`} />\n              </div>\n              <div className=\"text-left\">\n                <div className=\"font-semibold text-white text-sm\">{badge.label}</div>\n                <div className=\"text-xs text-gray-300\">{badge.sublabel}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function PaymentBadges({ className = \"\" }: { className?: string }) {\n  return (\n    <div className={`flex flex-wrap items-center justify-center gap-3 ${className}`}>\n      <div className=\"flex items-center gap-1 bg-white/10 rounded-lg px-3 py-2\">\n        <CreditCard className=\"w-5 h-5 text-blue-400\" />\n        <span className=\"text-xs font-medium text-white\">Visa</span>\n      </div>\n      <div className=\"flex items-center gap-1 bg-white/10 rounded-lg px-3 py-2\">\n        <CreditCard className=\"w-5 h-5 text-red-400\" />\n        <span className=\"text-xs font-medium text-white\">Mastercard</span>\n      </div>\n      <div className=\"flex items-center gap-1 bg-white/10 rounded-lg px-3 py-2\">\n        <CreditCard className=\"w-5 h-5 text-blue-500\" />\n        <span className=\"text-xs font-medium text-white\">PayPal</span>\n      </div>\n      <div className=\"flex items-center gap-1 bg-white/10 rounded-lg px-3 py-2\">\n        <CreditCard className=\"w-5 h-5 text-gray-300\" />\n        <span className=\"text-xs font-medium text-white\">Apple Pay</span>\n      </div>\n      <div className=\"flex items-center gap-2 ml-2\">\n        <Lock className=\"w-4 h-4 text-green-400\" />\n        <span className=\"text-xs text-green-400 font-medium\">Secure Checkout</span>\n      </div>\n    </div>\n  );\n}\n\nexport function GuaranteeBadge({ className = \"\" }: { className?: string }) {\n  return (\n    <div className={`flex items-center justify-center gap-3 ${className}`}>\n      <div className=\"relative\">\n        <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center\">\n          <CheckCircle className=\"w-8 h-8 text-white\" />\n        </div>\n        <div className=\"absolute -bottom-1 -right-1 bg-yellow-400 text-black text-xs font-bold px-2 py-0.5 rounded-full\">\n          100%\n        </div>\n      </div>\n      <div className=\"text-left\">\n        <div className=\"text-lg font-bold text-white\">Satisfaction Guaranteed</div>\n        <div className=\"text-sm text-gray-300\">30-day money-back promise</div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4348,"size_tokens":null},"client/src/components/ChannelLogos.tsx":{"content":"import { useEffect, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Tv, Film, Trophy, Zap } from \"lucide-react\";\n\nconst channels = [\n  { name: \"ESPN\", color: \"#d00\" },\n  { name: \"HBO\", color: \"#000\" },\n  { name: \"NFL Network\", color: \"#003369\" },\n  { name: \"NBA TV\", color: \"#c8102e\" },\n  { name: \"Fox Sports\", color: \"#003087\" },\n  { name: \"CBS Sports\", color: \"#0d47a1\" },\n  { name: \"NBC Sports\", color: \"#f37021\" },\n  { name: \"UFC\", color: \"#d20a0a\" },\n  { name: \"WWE\", color: \"#000\" },\n  { name: \"Disney+\", color: \"#113ccf\" },\n  { name: \"Showtime\", color: \"#ff0000\" },\n  { name: \"Starz\", color: \"#000\" },\n  { name: \"AMC\", color: \"#000\" },\n  { name: \"TNT\", color: \"#e50914\" },\n  { name: \"USA\", color: \"#003087\" },\n  { name: \"FX\", color: \"#000\" },\n  { name: \"Paramount+\", color: \"#0064ff\" },\n  { name: \"Peacock\", color: \"#000\" },\n  { name: \"MLB Network\", color: \"#002d72\" },\n  { name: \"NHL Network\", color: \"#000\" },\n];\n\nexport function ChannelLogos({ className = \"\" }: { className?: string }) {\n  return (\n    <section className={`py-12 bg-gradient-to-b from-gray-900 to-gray-800/50 overflow-hidden ${className}`}>\n      <div className=\"container mx-auto px-4 mb-8\">\n        <div className=\"text-center\">\n          <div className=\"inline-flex items-center gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-full px-4 py-2 mb-4\">\n            <Tv className=\"w-4 h-4 text-blue-400\" />\n            <span className=\"text-sm font-medium text-blue-300\">AVAILABLE CHANNELS</span>\n          </div>\n          <h2 className=\"text-2xl md:text-3xl font-bold mb-2\">\n            <span className=\"text-white\">Access Our </span>\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400\">Extensive Channel Library</span>\n          </h2>\n          <p className=\"text-gray-300\">All your favorite networks included</p>\n        </div>\n      </div>\n      \n      {/* Scrolling logos - first row */}\n      <div className=\"relative\">\n        <div className=\"flex animate-scroll\">\n          {[...channels, ...channels].map((channel, idx) => (\n            <div\n              key={idx}\n              className=\"flex-shrink-0 mx-4 px-6 py-3 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all\"\n              data-testid={`channel-logo-${idx}`}\n            >\n              <span className=\"text-white font-bold text-sm whitespace-nowrap\">{channel.name}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Stats below */}\n      <div className=\"container mx-auto px-4 mt-10\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto\">\n          <div className=\"text-center p-4 bg-white/5 rounded-xl border border-white/10\">\n            <Tv className=\"w-8 h-8 text-blue-400 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-white\">Extensive</div>\n            <div className=\"text-sm text-gray-300\">Channel Library</div>\n          </div>\n          <div className=\"text-center p-4 bg-white/5 rounded-xl border border-white/10\">\n            <Film className=\"w-8 h-8 text-purple-400 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-white\">Thousands</div>\n            <div className=\"text-sm text-gray-300\">Movies & Shows</div>\n          </div>\n          <div className=\"text-center p-4 bg-white/5 rounded-xl border border-white/10\">\n            <Trophy className=\"w-8 h-8 text-orange-400 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-white\">Full Sports</div>\n            <div className=\"text-sm text-gray-300\">Coverage</div>\n          </div>\n          <div className=\"text-center p-4 bg-white/5 rounded-xl border border-white/10\">\n            <Zap className=\"w-8 h-8 text-yellow-400 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-white\">4K/HD</div>\n            <div className=\"text-sm text-gray-300\">Quality Streams</div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// CSS animation for the scrolling effect\nconst scrollAnimationCSS = `\n@keyframes scroll {\n  0% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(-50%);\n  }\n}\n\n.animate-scroll {\n  animation: scroll 30s linear infinite;\n}\n\n.animate-scroll:hover {\n  animation-play-state: paused;\n}\n`;\n\n// Inject the CSS (only once)\nif (typeof document !== 'undefined' && !document.getElementById('channel-logos-style')) {\n  const style = document.createElement('style');\n  style.id = 'channel-logos-style';\n  style.textContent = scrollAnimationCSS;\n  document.head.appendChild(style);\n}\n","path":null,"size_bytes":4634,"size_tokens":null},"client/src/components/SocialProof.tsx":{"content":"import { Users, TrendingUp, MapPin } from \"lucide-react\";\n\nexport function TrustStats({ className = \"\" }: { className?: string }) {\n  return (\n    <div className={`flex flex-wrap items-center justify-center gap-6 ${className}`}>\n      <div className=\"flex items-center gap-2\">\n        <Users className=\"w-5 h-5 text-blue-400\" />\n        <span className=\"text-sm\">\n          <span className=\"font-bold text-white\">2,700+</span>\n          <span className=\"text-gray-300 ml-1\">Happy Customers</span>\n        </span>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <TrendingUp className=\"w-5 h-5 text-green-400\" />\n        <span className=\"text-sm\">\n          <span className=\"font-bold text-white\">98%</span>\n          <span className=\"text-gray-300 ml-1\">Satisfaction Rate</span>\n        </span>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <MapPin className=\"w-5 h-5 text-orange-400\" />\n        <span className=\"text-sm\">\n          <span className=\"font-bold text-white\">USA</span>\n          <span className=\"text-gray-300 ml-1\">Based Support</span>\n        </span>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1141,"size_tokens":null},"client/src/components/SavingsCalculator.tsx":{"content":"import { useState } from \"react\";\nimport { DollarSign, TrendingDown, Tv, Calculator, ArrowRight } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function SavingsCalculator({ className = \"\" }: { className?: string }) {\n  const [cableBill, setCableBill] = useState(150);\n\n  const yearlyPriceFireStick = 150; // StreamStick 4K with 1 year Live TV\n  const yearlyRenewal = 65; // Live TV 1 Year renewal price\n  const yearlyCable = cableBill * 12;\n  const yearlySavings = yearlyCable - yearlyPriceFireStick;\n  const fiveYearSavings = (yearlyCable * 5) - (yearlyPriceFireStick + (yearlyRenewal * 4)); // Initial + 4 renewals\n\n  return (\n    <section className={`py-16 bg-gradient-to-b from-gray-900 to-gray-800 ${className}`}>\n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-10\">\n          <div className=\"inline-flex items-center gap-2 bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-full px-4 py-2 mb-4\">\n            <Calculator className=\"w-4 h-4 text-green-400\" />\n            <span className=\"text-sm font-medium text-green-300\">SAVINGS CALCULATOR</span>\n          </div>\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            <span className=\"text-white\">See How Much </span>\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400\">You'll Save</span>\n          </h2>\n          <p className=\"text-gray-300\">Compare your current cable bill to StreamStickPro</p>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10\">\n            {/* Input */}\n            <div className=\"mb-8\">\n              <label htmlFor=\"cable-bill-slider\" className=\"block text-gray-300 text-sm mb-3\">\n                What's your current monthly cable/streaming bill?\n              </label>\n              <div className=\"flex items-center gap-4\">\n                <div className=\"relative flex-1 max-w-xs\">\n                  <DollarSign className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300\" aria-hidden=\"true\" />\n                  <input\n                    id=\"cable-bill-slider\"\n                    type=\"range\"\n                    min=\"50\"\n                    max=\"300\"\n                    value={cableBill}\n                    onChange={(e) => setCableBill(Number(e.target.value))}\n                    className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500\"\n                    data-testid=\"input-cable-bill\"\n                    aria-valuemin={50}\n                    aria-valuemax={300}\n                    aria-valuenow={cableBill}\n                    aria-valuetext={`$${cableBill} per month`}\n                  />\n                </div>\n                <div className=\"text-3xl font-bold text-white min-w-[100px]\">\n                  ${cableBill}/mo\n                </div>\n              </div>\n              <div className=\"flex justify-between text-xs text-gray-500 mt-2 max-w-xs\">\n                <span>$50</span>\n                <span>$150</span>\n                <span>$300</span>\n              </div>\n            </div>\n\n            {/* Comparison */}\n            <div className=\"grid md:grid-cols-2 gap-6 mb-8\">\n              {/* Cable */}\n              <div className=\"bg-red-950/30 border border-red-500/30 rounded-xl p-6\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <Tv className=\"w-5 h-5 text-red-400\" />\n                  <span className=\"font-semibold text-red-300\">Cable TV</span>\n                </div>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">Monthly cost</span>\n                    <span className=\"text-red-400 font-semibold\">${cableBill}/mo</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">Yearly cost</span>\n                    <span className=\"text-red-400 font-semibold\">${yearlyCable.toLocaleString()}/yr</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">5 Year cost</span>\n                    <span className=\"text-red-400 font-semibold\">${(yearlyCable * 5).toLocaleString()}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* StreamStickPro */}\n              <div className=\"bg-green-950/30 border border-green-500/30 rounded-xl p-6\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <TrendingDown className=\"w-5 h-5 text-green-400\" />\n                  <span className=\"font-semibold text-green-300\">StreamStickPro</span>\n                </div>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">StreamStick 4K + 1yr Live TV</span>\n                    <span className=\"text-green-400 font-semibold\">$150 one-time</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">Yearly renewal</span>\n                    <span className=\"text-green-400 font-semibold\">$65/yr</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-300\">5 Year total</span>\n                    <span className=\"text-green-400 font-semibold\">${(yearlyPriceFireStick + (yearlyRenewal * 4)).toLocaleString()}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Savings result */}\n            <motion.div \n              className=\"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-xl p-6 text-center\"\n              animate={{ scale: [1, 1.02, 1] }}\n              transition={{ duration: 2, repeat: Infinity }}\n            >\n              <div className=\"text-gray-300 mb-2\">Your estimated savings</div>\n              <div className=\"flex items-center justify-center gap-8 flex-wrap\">\n                <div>\n                  <div className=\"text-4xl md:text-5xl font-bold text-green-400\">\n                    ${yearlySavings.toLocaleString()}\n                  </div>\n                  <div className=\"text-sm text-gray-300\">First Year</div>\n                </div>\n                <ArrowRight className=\"w-6 h-6 text-gray-500 hidden md:block\" />\n                <div>\n                  <div className=\"text-4xl md:text-5xl font-bold text-green-400\">\n                    ${fiveYearSavings.toLocaleString()}\n                  </div>\n                  <div className=\"text-sm text-gray-300\">Over 5 Years</div>\n                </div>\n              </div>\n            </motion.div>\n\n            {/* CTA */}\n            <div className=\"text-center mt-8\">\n              <Button \n                onClick={() => document.getElementById('shop')?.scrollIntoView({ behavior: 'smooth' })}\n                className=\"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-8 py-6 text-lg font-bold rounded-xl shadow-lg shadow-green-500/30\"\n                data-testid=\"button-start-saving\"\n              >\n                Start Saving Today\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":7630,"size_tokens":null},"server/github.ts":{"content":"import { Octokit } from '@octokit/rest';\n\nfunction isReplitEnvironment(): boolean {\n  return !!(process.env.REPLIT_CONNECTORS_HOSTNAME && \n    (process.env.REPL_IDENTITY || process.env.WEB_REPL_RENEWAL));\n}\n\nasync function getReplitCredentials() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY\n    ? 'repl ' + process.env.REPL_IDENTITY\n    : process.env.WEB_REPL_RENEWAL\n      ? 'depl ' + process.env.WEB_REPL_RENEWAL\n      : null;\n\n  if (!xReplitToken) {\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  const response = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken\n      }\n    }\n  );\n\n  const data = await response.json();\n  const connectionSettings = data.items?.[0];\n\n  const accessToken = connectionSettings?.settings?.access_token || \n                      connectionSettings?.settings?.oauth?.credentials?.access_token;\n\n  if (!connectionSettings || !accessToken) {\n    throw new Error('GitHub not connected');\n  }\n\n  return {\n    accessToken\n  };\n}\n\nfunction getEnvCredentials() {\n  const accessToken = process.env.GITHUB_TOKEN || process.env.GITHUB_PERSONAL_ACCESS_TOKEN;\n  \n  if (!accessToken) {\n    throw new Error('GITHUB_TOKEN environment variable is required');\n  }\n  \n  return { accessToken };\n}\n\nasync function getCredentials() {\n  if (isReplitEnvironment()) {\n    return getReplitCredentials();\n  }\n  return getEnvCredentials();\n}\n\nexport async function getUncachableGitHubClient() {\n  const { accessToken } = await getCredentials();\n  return new Octokit({ auth: accessToken });\n}\n\nexport async function getGitHubUser() {\n  const octokit = await getUncachableGitHubClient();\n  const { data: user } = await octokit.users.getAuthenticated();\n  return user;\n}\n\nexport async function listGitHubRepos(perPage: number = 30) {\n  const octokit = await getUncachableGitHubClient();\n  const { data: repos } = await octokit.repos.listForAuthenticatedUser({ per_page: perPage });\n  return repos;\n}\n","path":null,"size_bytes":2148,"size_tokens":null},"client/src/components/CustomerReviews.tsx":{"content":"import { Star, Quote, CheckCircle, Clock } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\ninterface Review {\n  id: string;\n  name: string;\n  location: string;\n  date: string;\n  rating: number;\n  product: string;\n  review: string;\n  verified: boolean;\n}\n\nconst reviews: Review[] = [\n  {\n    id: \"1\",\n    name: \"Marcus T.\",\n    location: \"Houston, TX\",\n    date: \"Nov 2024\",\n    rating: 5,\n    product: \"Fire Stick 4K\",\n    review: \"This thing is amazing! Set it up in about 10 minutes and the picture quality is incredible. Only thing was shipping took 3 days instead of 2, but honestly worth the wait. My cable bill was $180/month - now I pay nothing. Best purchase I've made.\",\n    verified: true\n  },\n  {\n    id: \"2\",\n    name: \"Jennifer L.\",\n    location: \"Atlanta, GA\",\n    date: \"Oct 2024\",\n    rating: 5,\n    product: \"1 Year Live TV Plan\",\n    review: \"Customer service is top notch. Had a small issue with my login not working at first and they fixed it within a few hours. The channel selection is amazing - I can watch anything. My husband is happy he can finally watch all the UFC fights without paying extra each time.\",\n    verified: true\n  },\n  {\n    id: \"3\",\n    name: \"David R.\",\n    location: \"Phoenix, AZ\",\n    date: \"Nov 2024\",\n    rating: 5,\n    product: \"Fire Stick 4K Max\",\n    review: \"Bought this for my parents who are not tech savvy at all. They figured it out in 5 minutes! The interface is super simple. Only minor complaint is I wish the remote had a mute button, but that's an Amazon thing not StreamStickPro. Highly recommend.\",\n    verified: true\n  },\n  {\n    id: \"4\",\n    name: \"Michelle K.\",\n    location: \"Chicago, IL\",\n    date: \"Sep 2024\",\n    rating: 5,\n    product: \"3 Month Live TV Plan\",\n    review: \"Started with 3 months to test it out and just renewed for a full year. Picture quality is great, rarely any buffering. I emailed support once on a Sunday and didn't hear back until Monday morning, but they were helpful when they responded. Overall very satisfied.\",\n    verified: true\n  },\n  {\n    id: \"5\",\n    name: \"Robert J.\",\n    location: \"Miami, FL\",\n    date: \"Oct 2024\",\n    rating: 5,\n    product: \"Fire Stick 4K\",\n    review: \"Finally cut the cord! Been thinking about it for years. The Fire Stick came exactly as described and works perfectly. Setup video they emailed was really helpful. My only note is make sure you have good wifi - I had to move my router closer to the TV but now it's flawless.\",\n    verified: true\n  },\n  {\n    id: \"6\",\n    name: \"Sarah M.\",\n    location: \"Denver, CO\",\n    date: \"Nov 2024\",\n    rating: 5,\n    product: \"6 Month Live TV Plan\",\n    review: \"Love being able to watch my shows whenever I want. The on-demand library is huge. Took me a day to get my credentials after ordering but once I got them everything worked perfectly. Support walked me through connecting to my smart TV. Would definitely recommend to friends.\",\n    verified: true\n  },\n];\n\nfunction StarRating({ rating }: { rating: number }) {\n  return (\n    <div className=\"flex gap-0.5\">\n      {[1, 2, 3, 4, 5].map((star) => (\n        <Star\n          key={star}\n          className={`w-4 h-4 ${\n            star <= rating ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-600\"\n          }`}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport function CustomerReviews({ className = \"\" }: { className?: string }) {\n  return (\n    <section className={`py-16 bg-gradient-to-b from-gray-800/50 to-gray-900 ${className}`}>\n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center gap-2 bg-yellow-500/20 backdrop-blur-sm border border-yellow-400/30 rounded-full px-4 py-2 mb-4\">\n            <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />\n            <span className=\"text-sm font-medium text-yellow-300\">CUSTOMER REVIEWS</span>\n          </div>\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            <span className=\"text-white\">What Our </span>\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400\">Customers Say</span>\n          </h2>\n          <p className=\"text-gray-300 max-w-2xl mx-auto\">\n            Real reviews from verified customers. We're proud of our 4.9/5 average rating.\n          </p>\n          \n          {/* Overall rating summary */}\n          <div className=\"flex items-center justify-center gap-4 mt-6\">\n            <div className=\"flex gap-1\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <Star key={star} className=\"w-6 h-6 fill-yellow-400 text-yellow-400\" />\n              ))}\n            </div>\n            <span className=\"text-2xl font-bold text-white\">4.9</span>\n            <span className=\"text-gray-300\">out of 5</span>\n            <span className=\"text-gray-500\">|</span>\n            <span className=\"text-gray-300\">2,700+ reviews</span>\n          </div>\n        </div>\n\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {reviews.map((review, idx) => (\n            <motion.div\n              key={review.id}\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ delay: idx * 0.1 }}\n              className=\"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-colors\"\n              data-testid={`review-card-${review.id}`}\n            >\n              {/* Header */}\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-bold text-sm\">\n                    {review.name.charAt(0)}\n                  </div>\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-semibold text-white\">{review.name}</span>\n                      {review.verified && (\n                        <span className=\"flex items-center gap-1 text-xs text-green-400\">\n                          <CheckCircle className=\"w-3 h-3\" />\n                          Verified\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">{review.location}</div>\n                  </div>\n                </div>\n                <Quote className=\"w-6 h-6 text-orange-500/30\" />\n              </div>\n\n              {/* Rating & Product */}\n              <div className=\"flex items-center gap-3 mb-3\">\n                <StarRating rating={review.rating} />\n                <span className=\"text-xs text-gray-500\"></span>\n                <span className=\"text-xs text-blue-400\">{review.product}</span>\n              </div>\n\n              {/* Review text */}\n              <p className=\"text-gray-300 text-sm leading-relaxed mb-4\">\n                \"{review.review}\"\n              </p>\n\n              {/* Date */}\n              <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n                <Clock className=\"w-3 h-3\" />\n                <span>{review.date}</span>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":7379,"size_tokens":null},"scripts/create-6mo-product.ts":{"content":"import { getUncachableStripeClient } from '../server/stripeClient';\n\nasync function create6MonthProduct() {\n  try {\n    const stripe = await getUncachableStripeClient();\n    \n    // Create shadow product for 6-month IPTV ($50)\n    const product = await stripe.products.create({\n      name: 'SEO Semi-Annual',\n      description: 'Semi-annual SEO service package',\n    });\n    \n    console.log('Created product:', product.id, product.name);\n    \n    // Create price for $50 (5000 cents)\n    const price = await stripe.prices.create({\n      product: product.id,\n      unit_amount: 5000,\n      currency: 'usd',\n    });\n    \n    console.log('Created price:', price.id, '$' + (price.unit_amount! / 100));\n    console.log('\\nAdd to database:');\n    console.log(`Shadow Product ID: ${product.id}`);\n    console.log(`Shadow Price ID: ${price.id}`);\n    \n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\ncreate6MonthProduct();\n","path":null,"size_bytes":931,"size_tokens":null},"scripts/check-supabase-storage.ts":{"content":"// Script to check and configure Supabase storage buckets\n// Uses the Supabase service key from environment\n\nimport { createClient } from '@supabase/supabase-js';\n\nconst SUPABASE_URL = process.env.VITE_SUPABASE_URL!;\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY!;\nconst BUCKET_NAME = process.env.VITE_STORAGE_BUCKET_NAME || 'imiges';\n\nif (!SUPABASE_URL || !SUPABASE_SERVICE_KEY) {\n  console.error('Missing Supabase credentials. Need VITE_SUPABASE_URL and SUPABASE_SERVICE_KEY');\n  process.exit(1);\n}\n\nconst supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY, {\n  auth: {\n    autoRefreshToken: false,\n    persistSession: false\n  }\n});\n\nasync function checkAndFixStorage() {\n  console.log('='.repeat(60));\n  console.log('SUPABASE STORAGE AUDIT');\n  console.log('='.repeat(60));\n  console.log('Supabase URL:', SUPABASE_URL);\n  console.log('Target Bucket:', BUCKET_NAME);\n  console.log('');\n\n  // List all buckets\n  console.log('1. Listing all buckets...');\n  const { data: buckets, error: listError } = await supabase.storage.listBuckets();\n  \n  if (listError) {\n    console.error('   Error listing buckets:', listError.message);\n    return;\n  }\n  \n  console.log('   Found buckets:', buckets?.map(b => b.name).join(', ') || 'none');\n  \n  // Check if target bucket exists\n  const targetBucket = buckets?.find(b => b.name === BUCKET_NAME);\n  \n  if (!targetBucket) {\n    console.log('\\n2. Creating bucket \"' + BUCKET_NAME + '\"...');\n    const { data: newBucket, error: createError } = await supabase.storage.createBucket(BUCKET_NAME, {\n      public: true,\n      allowedMimeTypes: ['image/png', 'image/jpeg', 'image/gif', 'image/webp', 'video/mp4'],\n      fileSizeLimit: 52428800 // 50MB\n    });\n    \n    if (createError) {\n      console.error('   Error creating bucket:', createError.message);\n    } else {\n      console.log('   Successfully created bucket:', BUCKET_NAME);\n    }\n  } else {\n    console.log('\\n2. Bucket \"' + BUCKET_NAME + '\" exists');\n    console.log('   Public:', targetBucket.public);\n    console.log('   Created:', targetBucket.created_at);\n    \n    // Make sure it's public\n    if (!targetBucket.public) {\n      console.log('   Updating bucket to be public...');\n      const { error: updateError } = await supabase.storage.updateBucket(BUCKET_NAME, {\n        public: true\n      });\n      if (updateError) {\n        console.error('   Error updating bucket:', updateError.message);\n      } else {\n        console.log('   Bucket is now public');\n      }\n    }\n  }\n  \n  // List files in bucket\n  console.log('\\n3. Listing files in bucket...');\n  const { data: files, error: filesError } = await supabase.storage.from(BUCKET_NAME).list('', {\n    limit: 100,\n    sortBy: { column: 'name', order: 'asc' }\n  });\n  \n  if (filesError) {\n    console.error('   Error listing files:', filesError.message);\n  } else if (files && files.length > 0) {\n    console.log('   Root level items:');\n    for (const file of files) {\n      if (file.id) {\n        const publicUrl = supabase.storage.from(BUCKET_NAME).getPublicUrl(file.name).data.publicUrl;\n        console.log('   - ' + file.name + ' (size: ' + (file.metadata?.size || 'folder') + ')');\n      } else {\n        console.log('   - ' + file.name + '/ (folder)');\n        // List folder contents\n        const { data: folderFiles } = await supabase.storage.from(BUCKET_NAME).list(file.name, { limit: 50 });\n        if (folderFiles && folderFiles.length > 0) {\n          for (const ff of folderFiles.slice(0, 5)) {\n            console.log('     - ' + file.name + '/' + ff.name);\n          }\n          if (folderFiles.length > 5) {\n            console.log('     ... and ' + (folderFiles.length - 5) + ' more files');\n          }\n        }\n      }\n    }\n  } else {\n    console.log('   No files found in bucket');\n  }\n  \n  // Check for expected folders\n  console.log('\\n4. Checking expected folder structure...');\n  const expectedFolders = ['firesticks', 'iptv', 'backgrounds', 'sports'];\n  \n  for (const folder of expectedFolders) {\n    const { data: folderContents, error: folderError } = await supabase.storage\n      .from(BUCKET_NAME)\n      .list(folder, { limit: 10 });\n    \n    if (folderError) {\n      console.log('   - ' + folder + '/: ERROR - ' + folderError.message);\n    } else if (folderContents && folderContents.length > 0) {\n      console.log('   - ' + folder + '/: OK (' + folderContents.length + ' files)');\n    } else {\n      console.log('   - ' + folder + '/: EMPTY (no files)');\n    }\n  }\n  \n  // Generate public URL examples\n  console.log('\\n5. Public URL pattern:');\n  console.log('   ' + SUPABASE_URL + '/storage/v1/object/public/' + BUCKET_NAME + '/<path>');\n  \n  console.log('\\n' + '='.repeat(60));\n  console.log('STORAGE AUDIT COMPLETE');\n  console.log('='.repeat(60));\n}\n\ncheckAndFixStorage().catch(console.error);\n","path":null,"size_bytes":4813,"size_tokens":null},"server/github.cloudflare.ts":{"content":"import { Octokit } from '@octokit/rest';\n\nexport async function getUncachableGitHubClient() {\n  const accessToken = process.env.GITHUB_TOKEN;\n  \n  if (!accessToken) {\n    throw new Error('GITHUB_TOKEN environment variable is required');\n  }\n\n  return new Octokit({ auth: accessToken });\n}\n\nexport async function getGitHubUser() {\n  const octokit = await getUncachableGitHubClient();\n  const { data: user } = await octokit.users.getAuthenticated();\n  return user;\n}\n\nexport async function listGitHubRepos(perPage: number = 30) {\n  const octokit = await getUncachableGitHubClient();\n  const { data: repos } = await octokit.repos.listForAuthenticatedUser({ per_page: perPage });\n  return repos;\n}\n","path":null,"size_bytes":694,"size_tokens":null},"server/stripeClient.cloudflare.ts":{"content":"import Stripe from 'stripe';\n\nexport async function getUncachableStripeClient() {\n  const secretKey = process.env.STRIPE_SECRET_KEY;\n  \n  if (!secretKey) {\n    throw new Error('STRIPE_SECRET_KEY environment variable is required');\n  }\n\n  return new Stripe(secretKey, {\n    apiVersion: '2025-11-17.clover',\n  });\n}\n\nexport async function getStripePublishableKey() {\n  const publishableKey = process.env.STRIPE_PUBLISHABLE_KEY;\n  \n  if (!publishableKey) {\n    throw new Error('STRIPE_PUBLISHABLE_KEY environment variable is required');\n  }\n  \n  return publishableKey;\n}\n\nexport async function getStripeSecretKey() {\n  const secretKey = process.env.STRIPE_SECRET_KEY;\n  \n  if (!secretKey) {\n    throw new Error('STRIPE_SECRET_KEY environment variable is required');\n  }\n  \n  return secretKey;\n}\n\nexport function getStripeWebhookSecret() {\n  const webhookSecret = process.env.STRIPE_WEBHOOK_SECRET;\n  \n  if (!webhookSecret) {\n    throw new Error('STRIPE_WEBHOOK_SECRET environment variable is required');\n  }\n  \n  return webhookSecret;\n}\n\nlet stripeSync: any = null;\n\nexport async function getStripeSync() {\n  if (!stripeSync) {\n    const { StripeSync } = await import('stripe-replit-sync');\n    const secretKey = await getStripeSecretKey();\n\n    stripeSync = new StripeSync({\n      poolConfig: {\n        connectionString: process.env.DATABASE_URL!,\n        max: 2,\n        ssl: { rejectUnauthorized: false }\n      },\n      stripeSecretKey: secretKey,\n    });\n  }\n  return stripeSync;\n}\n","path":null,"size_bytes":1483,"size_tokens":null},"server/resendClient.cloudflare.ts":{"content":"import { Resend } from 'resend';\n\nexport async function getUncachableResendClient() {\n  const apiKey = process.env.RESEND_API_KEY;\n  const fromEmail = process.env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n  \n  if (!apiKey) {\n    throw new Error('RESEND_API_KEY environment variable is required');\n  }\n\n  return {\n    client: new Resend(apiKey),\n    fromEmail: fromEmail\n  };\n}\n","path":null,"size_bytes":386,"size_tokens":null},"client/src/hooks/useTracking.ts":{"content":"import { useEffect, useRef } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\n\nfunction getSessionId(): string {\n  let sessionId = sessionStorage.getItem('visitor_session_id');\n  if (!sessionId) {\n    sessionId = `${Date.now()}-${Math.random().toString(36).substring(2, 15)}`;\n    sessionStorage.setItem('visitor_session_id', sessionId);\n  }\n  return sessionId;\n}\n\nexport function useTracking() {\n  const [location] = useLocation();\n  const lastTrackedPath = useRef<string | null>(null);\n\n  useEffect(() => {\n    const currentPath = location + window.location.search;\n    \n    if (lastTrackedPath.current === currentPath) return;\n    lastTrackedPath.current = currentPath;\n\n    const trackPageView = async () => {\n      try {\n        const sessionId = getSessionId();\n        const referrer = document.referrer || null;\n        const userAgent = navigator.userAgent;\n\n        await apiCall('/api/track', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            sessionId,\n            pageUrl: currentPath,\n            referrer,\n            userAgent,\n          }),\n        });\n      } catch (error) {\n        console.warn('Failed to track page view:', error);\n      }\n    };\n\n    trackPageView();\n  }, [location]);\n}\n","path":null,"size_bytes":1332,"size_tokens":null},"server/geoLocationService.ts":{"content":"interface GeoLocationData {\n  country: string | null;\n  countryCode: string | null;\n  region: string | null;\n  regionCode: string | null;\n  city: string | null;\n  latitude: string | null;\n  longitude: string | null;\n  timezone: string | null;\n  isp: string | null;\n  isProxy: boolean;\n}\n\nconst geoCache = new Map<string, { data: GeoLocationData; timestamp: number }>();\nconst CACHE_TTL = 24 * 60 * 60 * 1000;\n\nexport async function getGeoLocation(ipAddress: string): Promise<GeoLocationData> {\n  if (!ipAddress || ipAddress === 'unknown' || ipAddress === '127.0.0.1' || ipAddress.startsWith('192.168.') || ipAddress.startsWith('10.')) {\n    return {\n      country: null,\n      countryCode: null,\n      region: null,\n      regionCode: null,\n      city: null,\n      latitude: null,\n      longitude: null,\n      timezone: null,\n      isp: null,\n      isProxy: false,\n    };\n  }\n\n  const cached = geoCache.get(ipAddress);\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    return cached.data;\n  }\n\n  try {\n    const response = await fetch(`https://freeipapi.com/api/json/${ipAddress}`, {\n      signal: AbortSignal.timeout(3000),\n    });\n\n    if (!response.ok) {\n      console.warn(`Geolocation API returned ${response.status} for ${ipAddress}`);\n      return getDefaultGeoData();\n    }\n\n    const data = await response.json();\n\n    const geoData: GeoLocationData = {\n      country: data.countryName || null,\n      countryCode: data.countryCode || null,\n      region: data.regionName || null,\n      regionCode: data.regionCode || null,\n      city: data.cityName || null,\n      latitude: data.latitude?.toString() || null,\n      longitude: data.longitude?.toString() || null,\n      timezone: data.timeZone || null,\n      isp: data.isp || null,\n      isProxy: data.isProxy === true,\n    };\n\n    geoCache.set(ipAddress, { data: geoData, timestamp: Date.now() });\n\n    if (geoCache.size > 10000) {\n      const oldest = Array.from(geoCache.entries())\n        .sort((a, b) => a[1].timestamp - b[1].timestamp)\n        .slice(0, 1000);\n      oldest.forEach(([key]) => geoCache.delete(key));\n    }\n\n    return geoData;\n  } catch (error) {\n    console.warn(`Geolocation lookup failed for ${ipAddress}:`, error);\n    return getDefaultGeoData();\n  }\n}\n\nfunction getDefaultGeoData(): GeoLocationData {\n  return {\n    country: null,\n    countryCode: null,\n    region: null,\n    regionCode: null,\n    city: null,\n    latitude: null,\n    longitude: null,\n    timezone: null,\n    isp: null,\n    isProxy: false,\n  };\n}\n\nexport function getGeoStats(visitors: Array<{ country?: string | null; region?: string | null; city?: string | null }>) {\n  const countryStats: Record<string, number> = {};\n  const regionStats: Record<string, number> = {};\n  const cityStats: Record<string, number> = {};\n\n  visitors.forEach((v) => {\n    if (v.country) {\n      countryStats[v.country] = (countryStats[v.country] || 0) + 1;\n    }\n    if (v.region) {\n      regionStats[v.region] = (regionStats[v.region] || 0) + 1;\n    }\n    if (v.city) {\n      cityStats[v.city] = (cityStats[v.city] || 0) + 1;\n    }\n  });\n\n  return {\n    topCountries: Object.entries(countryStats)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => ({ name, count })),\n    topRegions: Object.entries(regionStats)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => ({ name, count })),\n    topCities: Object.entries(cityStats)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => ({ name, count })),\n  };\n}\n","path":null,"size_bytes":3548,"size_tokens":null},"worker/email.ts":{"content":"import { Resend } from 'resend';\nimport type { Order } from '../shared/schema';\nimport type { Storage } from './storage';\nimport type { Env } from './index';\n\nconst SETUP_VIDEO_URL = 'https://youtu.be/DYSOp6mUzDU';\nconst IPTV_PORTAL_URL = 'http://ky-tv.cc';\nconst OWNER_EMAIL = 'reloadedfiretvteam@gmail.com';\n\nexport async function sendOrderConfirmation(order: Order, env: Env): Promise<void> {\n  if (!env.RESEND_API_KEY) {\n    console.error('RESEND_API_KEY not configured - skipping order confirmation email');\n    return;\n  }\n  const resend = new Resend(env.RESEND_API_KEY);\n  const fromEmail = env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n\n  const priceFormatted = (order.amount / 100).toFixed(2);\n  \n  await resend.emails.send({\n    from: fromEmail,\n    to: order.customerEmail,\n    subject: `Order Confirmation - ${order.realProductName}`,\n    html: `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h1 style=\"color: #1a1a1a;\">Thank You for Your Order!</h1>\n        \n        <p>Hi ${order.customerName || 'Valued Customer'},</p>\n        \n        <p>Your order has been confirmed and is being processed.</p>\n        \n        <div style=\"background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h2 style=\"margin-top: 0; color: #333;\">Order Details</h2>\n          <p><strong>Order ID:</strong> ${order.id}</p>\n          <p><strong>Product:</strong> ${order.realProductName}</p>\n          <p><strong>Amount:</strong> $${priceFormatted}</p>\n          ${order.countryPreference ? `<p><strong>Channel Preferences:</strong> ${order.countryPreference}</p>` : ''}\n        </div>\n        \n        <p>You will receive your login credentials in a separate email within the next 5 minutes.</p>\n        \n        <p>If you have any questions, please don't hesitate to reach out.</p>\n        \n        <p>Best regards,<br>StreamStickPro Team</p>\n      </div>\n    `,\n  });\n\n  console.log(`Order confirmation email sent to ${order.customerEmail}`);\n}\n\nexport async function sendCredentialsEmail(order: Order, env: Env, storage: Storage): Promise<void> {\n  if (order.isRenewal) {\n    await sendRenewalConfirmationEmail(order, env);\n    return;\n  }\n\n  if (!env.RESEND_API_KEY) {\n    console.error('RESEND_API_KEY not configured - skipping credentials email');\n    return;\n  }\n  const resend = new Resend(env.RESEND_API_KEY);\n  const fromEmail = env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n\n  const credentials = order.generatedUsername && order.generatedPassword\n    ? { username: order.generatedUsername, password: order.generatedPassword }\n    : generateCredentials(order);\n\n  const productIds = order.realProductId?.split(',') || [];\n  const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-'));\n  const hasFireStick = productIds.some(id => id.trim().startsWith('firestick-'));\n\n  let productInstructions = '';\n  if (hasIPTV) {\n    productInstructions = `\n      <div style=\"background: #e8f4fd; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h2 style=\"margin-top: 0; color: #0066cc;\">IPTV Setup Instructions</h2>\n        <p><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\">${IPTV_PORTAL_URL}</a></p>\n        <p><strong>Username:</strong> ${credentials.username}</p>\n        <p><strong>Password:</strong> ${credentials.password}</p>\n        \n        <h3 style=\"color: #0066cc;\">How to Setup:</h3>\n        <ol>\n          <li>Download IPTV Smarters or TiviMate app on your device</li>\n          <li>Enter the portal URL: ${IPTV_PORTAL_URL}</li>\n          <li>Enter your username and password</li>\n          <li>Start streaming!</li>\n        </ol>\n        \n        <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\">${SETUP_VIDEO_URL}</a></p>\n      </div>\n    `;\n  }\n  \n  if (hasFireStick) {\n    productInstructions += `\n      <div style=\"background: #fff7ed; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h2 style=\"margin-top: 0; color: #ea580c;\">Fire Stick Setup Instructions</h2>\n        <p><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\">${IPTV_PORTAL_URL}</a></p>\n        <p><strong>Username:</strong> ${credentials.username}</p>\n        <p><strong>Password:</strong> ${credentials.password}</p>\n        \n        <h3 style=\"color: #ea580c;\">How to Setup Your Device:</h3>\n        <ol>\n          <li>Your Fire Stick will arrive pre-configured</li>\n          <li>Simply plug it into your TV</li>\n          <li>Connect to your WiFi</li>\n          <li>Open the IPTV app and enter your credentials</li>\n        </ol>\n        \n        <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\">${SETUP_VIDEO_URL}</a></p>\n      </div>\n    `;\n  }\n\n  await resend.emails.send({\n    from: fromEmail,\n    to: order.customerEmail,\n    subject: `Your Login Credentials - ${order.realProductName}`,\n    html: `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h1 style=\"color: #1a1a1a;\">Your Credentials Are Ready!</h1>\n        \n        <p>Hi ${order.customerName || 'Valued Customer'},</p>\n        \n        <p>Here are your login credentials for ${order.realProductName}:</p>\n        \n        ${productInstructions}\n        \n        <div style=\"background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;\">\n          <strong>Important:</strong> Please save these credentials in a safe place. Do not share them with anyone.\n        </div>\n        \n        <p>If you need any assistance, please don't hesitate to reach out.</p>\n        \n        <p>Best regards,<br>StreamStickPro Team</p>\n      </div>\n    `,\n  });\n\n  await storage.updateOrder(order.id, { credentialsSent: true });\n  console.log(`Credentials email sent to ${order.customerEmail}`);\n}\n\nexport async function sendRenewalConfirmationEmail(order: Order, env: Env): Promise<void> {\n  if (!env.RESEND_API_KEY) {\n    console.error('RESEND_API_KEY not configured - skipping renewal email');\n    return;\n  }\n  const resend = new Resend(env.RESEND_API_KEY);\n  const fromEmail = env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n\n  const priceFormatted = (order.amount / 100).toFixed(2);\n  const existingUsername = order.existingUsername || 'your current username';\n\n  await resend.emails.send({\n    from: fromEmail,\n    to: order.customerEmail,\n    subject: `Subscription Renewed! - ${order.realProductName}`,\n    html: `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h1 style=\"color: #1a1a1a;\"> Your Subscription Has Been Extended!</h1>\n        \n        <p>Hi ${order.customerName || 'Valued Customer'},</p>\n        \n        <p>Great news! Your IPTV subscription has been successfully renewed.</p>\n        \n        <div style=\"background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 25px; border-radius: 12px; margin: 20px 0; color: white;\">\n          <h2 style=\"margin-top: 0; color: white;\">Renewal Confirmed</h2>\n          <p style=\"font-size: 16px;\"><strong>Product:</strong> ${order.realProductName}</p>\n          <p style=\"font-size: 16px;\"><strong>Amount Paid:</strong> $${priceFormatted}</p>\n          <p style=\"font-size: 16px;\"><strong>Your Username:</strong> ${existingUsername}</p>\n        </div>\n        \n        <div style=\"background: #e0f2fe; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0284c7;\">\n          <h3 style=\"margin-top: 0; color: #0369a1;\">Your Existing Credentials Still Work!</h3>\n          <p>You can continue using your current login credentials. No changes needed!</p>\n          <p><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\" style=\"color: #0369a1;\">${IPTV_PORTAL_URL}</a></p>\n          <p><strong>Username:</strong> ${existingUsername}</p>\n          <p><strong>Password:</strong> (same as before)</p>\n        </div>\n        \n        <div style=\"background: #f0fdf4; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e;\">\n          <strong> What's Next:</strong> Your subscription is now extended. Just keep streaming - no action required!\n        </div>\n        \n        <p>Thank you for being a loyal customer! If you have any questions, please don't hesitate to reach out.</p>\n        \n        <p>Best regards,<br>StreamStickPro Team</p>\n      </div>\n    `,\n  });\n\n  console.log(`Renewal confirmation email sent to ${order.customerEmail}`);\n}\n\nexport function generateCredentials(order: Order): { username: string; password: string } {\n  const letters = 'abcdefghkmnpqrstuvwxyz';\n  const upperLetters = 'ABCDEFGHJKMNPQRSTUVWXYZ';\n  const numbers = '23456789';\n  const allChars = letters + upperLetters + numbers;\n  \n  const seed = order.id.replace(/-/g, '');\n  \n  const generateChar = (index: number, charset: string): string => {\n    const charCode = seed.charCodeAt(index % seed.length) || 65;\n    return charset[(charCode + index) % charset.length];\n  };\n  \n  const customerName = order.customerName?.replace(/[^a-zA-Z]/g, '') || '';\n  const namePrefix = customerName.substring(0, 3).toLowerCase();\n  \n  let username = '';\n  if (namePrefix.length >= 2) {\n    username = namePrefix;\n    for (let i = 0; username.length < 8; i++) {\n      username += generateChar(i, numbers + letters);\n    }\n  } else {\n    for (let i = 0; username.length < 8; i++) {\n      username += generateChar(i, letters + numbers);\n    }\n  }\n  \n  let password = '';\n  password += generateChar(0, upperLetters);\n  password += generateChar(1, letters);\n  password += generateChar(2, numbers);\n  password += generateChar(3, upperLetters);\n  for (let i = 4; password.length < 10; i++) {\n    password += generateChar(i + 10, allChars);\n  }\n  \n  return {\n    username: username.substring(0, 10),\n    password: password.substring(0, 10),\n  };\n}\n\nexport async function generateUniqueCredentials(order: Order, storage: Storage): Promise<{ username: string; password: string }> {\n  const baseCredentials = generateCredentials(order);\n  let username = baseCredentials.username;\n  let attempts = 0;\n  const maxAttempts = 10;\n  \n  while (attempts < maxAttempts) {\n    const existingCustomer = await storage.getCustomerByUsername(username);\n    if (!existingCustomer) {\n      return { username, password: baseCredentials.password };\n    }\n    \n    attempts++;\n    const suffix = attempts.toString();\n    username = baseCredentials.username.substring(0, 10 - suffix.length) + suffix;\n  }\n  \n  const timestamp = Date.now().toString(36).substring(0, 4);\n  username = baseCredentials.username.substring(0, 6) + timestamp;\n  \n  return { username, password: baseCredentials.password };\n}\n\nexport async function sendOwnerOrderNotification(order: Order, env: Env): Promise<void> {\n  if (!env.RESEND_API_KEY) {\n    console.error('RESEND_API_KEY not configured - skipping owner notification');\n    return;\n  }\n  const resend = new Resend(env.RESEND_API_KEY);\n  const fromEmail = env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n\n  const priceFormatted = (order.amount / 100).toFixed(2);\n  const orderDate = new Date().toLocaleString();\n  const productIds = order.realProductId?.split(',') || [];\n  const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-'));\n  const hasFireStick = productIds.some(id => id.trim().startsWith('firestick-'));\n  \n  const isRenewal = order.isRenewal || false;\n  const orderTypeEmoji = isRenewal ? '' : '';\n  const orderTypeLabel = isRenewal ? 'RENEWAL' : 'NEW CUSTOMER';\n  \n  const credentials = isRenewal \n    ? { username: order.existingUsername || 'N/A', password: '(existing)' }\n    : (order.generatedUsername && order.generatedPassword)\n      ? { username: order.generatedUsername, password: order.generatedPassword }\n      : generateCredentials(order);\n\n  const emoji = hasFireStick ? '' : '';\n  const category = hasFireStick && hasIPTV ? ' Fire Stick + IPTV' : hasFireStick ? ' Fire Stick' : ' IPTV Subscription';\n  \n  const headerColor = isRenewal \n    ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)' \n    : 'linear-gradient(135deg, #f97316 0%, #ef4444 100%)';\n  \n  const credentialsSection = isRenewal ? `\n        <div style=\"background: #d1fae5; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #10b981;\">\n          <h2 style=\"margin-top: 0; color: #047857;\"> Renewal - Existing Customer</h2>\n          <p><strong>Existing Username:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${order.existingUsername || 'Not provided'}</code></p>\n          <p><strong>Action:</strong> Extend this customer's subscription in IPTV panel</p>\n          <p><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\" style=\"color: #047857;\">${IPTV_PORTAL_URL}</a></p>\n        </div>\n  ` : `\n        <div style=\"background: #dcfce7; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e;\">\n          <h2 style=\"margin-top: 0; color: #15803d;\"> New Customer Credentials</h2>\n          <p><strong>Username:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${credentials.username}</code></p>\n          <p><strong>Password:</strong> <code style=\"background: #f0fdf4; padding: 2px 6px; border-radius: 4px;\">${credentials.password}</code></p>\n          <p><strong>Action:</strong> Create this account in IPTV panel</p>\n          <p><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\" style=\"color: #15803d;\">${IPTV_PORTAL_URL}</a></p>\n          <p><strong>Setup Video:</strong> <a href=\"${SETUP_VIDEO_URL}\" style=\"color: #15803d;\">${SETUP_VIDEO_URL}</a></p>\n        </div>\n  `;\n  \n  await resend.emails.send({\n    from: fromEmail,\n    to: OWNER_EMAIL,\n    subject: `${emoji} ${orderTypeEmoji} ${orderTypeLabel} - $${priceFormatted} - ${order.realProductName}`,\n    html: `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <div style=\"background: ${headerColor}; padding: 20px; border-radius: 12px 12px 0 0;\">\n          <h1 style=\"color: white; margin: 0;\"> ${isRenewal ? 'Subscription Renewal!' : 'New Paid Order!'}</h1>\n          <p style=\"color: rgba(255,255,255,0.9); margin: 5px 0 0 0;\">${orderTypeLabel}</p>\n        </div>\n        \n        <div style=\"background: #fef3c7; padding: 20px; border-left: 4px solid #f59e0b;\">\n          <h2 style=\"margin-top: 0; color: #92400e;\">Order Summary</h2>\n          <p style=\"font-size: 24px; color: #16a34a; font-weight: bold; margin: 10px 0;\">$${priceFormatted}</p>\n        </div>\n        \n        <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h2 style=\"margin-top: 0; color: #7c3aed;\">Customer Details</h2>\n          <p><strong>Name:</strong> ${order.customerName || 'Not provided'}</p>\n          <p><strong>Email:</strong> ${order.customerEmail}</p>\n          <p><strong>Phone:</strong> ${order.customerPhone || order.shippingPhone || 'Not provided'}</p>\n          <p><strong>Order ID:</strong> ${order.id}</p>\n          <p><strong>Order Date:</strong> ${orderDate}</p>\n          <p><strong>Customer Type:</strong> <span style=\"background: ${isRenewal ? '#d1fae5' : '#fef3c7'}; padding: 2px 8px; border-radius: 4px; font-weight: bold;\">${orderTypeLabel}</span></p>\n        </div>\n        \n        ${order.customerMessage ? `\n        <div style=\"background: #fef9c3; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #facc15;\">\n          <h2 style=\"margin-top: 0; color: #854d0e;\"> Customer Message</h2>\n          <p style=\"font-style: italic; color: #713f12;\">\"${order.customerMessage}\"</p>\n        </div>\n        ` : ''}\n        \n        ${credentialsSection}\n        \n        <div style=\"background: ${hasFireStick ? '#fef2f2' : '#eff6ff'}; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h2 style=\"margin-top: 0; color: ${hasFireStick ? '#dc2626' : '#2563eb'};\">Product Information</h2>\n          <p><strong>Product:</strong> ${order.realProductName}</p>\n          <p><strong>Category:</strong> ${category}</p>\n          <p><strong>Status:</strong> ${order.status}</p>\n          ${order.countryPreference ? `<p><strong> Channel Preferences:</strong> <span style=\"background: #dbeafe; padding: 2px 8px; border-radius: 4px;\">${order.countryPreference}</span></p>` : ''}\n        </div>\n\n        ${hasFireStick ? `\n        <div style=\"background: #fee2e2; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ef4444;\">\n          <strong> Action Required:</strong> This is a Fire Stick order. Ship the device to the customer!\n        </div>\n        ` : ''}\n        \n        <div style=\"background: #e0f2fe; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0284c7;\">\n          <strong> Email Status:</strong> ${isRenewal ? 'Renewal confirmation' : 'Order confirmation and credentials'} emails will be sent automatically to the customer.\n        </div>\n        \n        <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n          StreamStickPro Order Notification System\n        </p>\n      </div>\n    `,\n  });\n\n  console.log(`Owner notification sent for order ${order.id} to ${OWNER_EMAIL}`);\n}\n","path":null,"size_bytes":17226,"size_tokens":null},"worker/routes/products.ts":{"content":"import { Hono } from 'hono';\nimport { getStorage } from '../helpers';\nimport type { Env } from '../index';\n\nconst defaultProducts = [\n  {\n    id: \"firestick-hd\",\n    name: \"StreamStick Starter Kit\",\n    price: 13000,\n    description: \"Get fully loaded in just 10 minutes! Your Fire Stick arrives ready - simply plug in, enter your credentials (sent instantly after purchase), and follow our quick setup video.\",\n    imageUrl: \"\",\n    category: \"firestick\",\n    shadowProductId: \"prod_TYEEobMjXf5B3d\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  },\n  {\n    id: \"firestick-4k\",\n    name: \"StreamStick 4K Kit\",\n    price: 14000,\n    description: \"Best-selling Fire Stick - get fully loaded in 10 minutes! Plug in, enter your instant credentials, follow our setup video, and you're streaming in 4K with Dolby Vision.\",\n    imageUrl: \"\",\n    category: \"firestick\",\n    shadowProductId: \"prod_TYEEFruD8obUE7\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  },\n  {\n    id: \"firestick-4k-max\",\n    name: \"StreamStick Max Kit\",\n    price: 15000,\n    description: \"Ultimate 4K Max with Wi-Fi 6E - get fully loaded in just 10 minutes! Your device arrives ready with breathtaking 4K and Dolby Atmos sound.\",\n    imageUrl: \"\",\n    category: \"firestick\",\n    shadowProductId: \"prod_TYEEeLmZMqrUxh\",\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n];\n\nexport function createProductRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.get('/', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const products = await storage.getRealProducts();\n      if (products && products.length > 0) {\n        return c.json({ data: products });\n      }\n      return c.json({ data: defaultProducts });\n    } catch (error: any) {\n      console.error(\"Error fetching products:\", error);\n      return c.json({ data: defaultProducts });\n    }\n  });\n\n  app.get('/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const product = await storage.getRealProduct(c.req.param('id'));\n      if (!product) {\n        return c.json({ error: \"Product not found\" }, 404);\n      }\n      return c.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error fetching product:\", error);\n      return c.json({ error: \"Failed to fetch product\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":2420,"size_tokens":null},"worker/routes/admin.ts":{"content":"import { Hono } from 'hono';\nimport Stripe from 'stripe';\nimport { getStorage } from '../helpers';\nimport { sendCredentialsEmail } from '../email';\nimport { createCustomerSchema, updateCustomerSchema } from '../../shared/schema';\nimport type { Env } from '../index';\n\nexport function createAdminRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.get('/orders', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const orders = await storage.getAllOrders();\n      return c.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching orders:\", error);\n      return c.json({ error: \"Failed to fetch orders\" }, 500);\n    }\n  });\n\n  app.put('/orders/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { status, credentialsSent } = body;\n\n      const existingOrder = await storage.getOrder(c.req.param('id'));\n      if (!existingOrder) {\n        return c.json({ error: \"Order not found\" }, 404);\n      }\n\n      const order = await storage.updateOrder(c.req.param('id'), {\n        status,\n        credentialsSent,\n      });\n\n      return c.json({ data: order });\n    } catch (error: any) {\n      console.error(\"Error updating order:\", error);\n      return c.json({ error: \"Failed to update order\" }, 500);\n    }\n  });\n\n  app.post('/orders/:id/resend-credentials', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const order = await storage.getOrder(c.req.param('id'));\n      if (!order) {\n        return c.json({ error: \"Order not found\" }, 404);\n      }\n\n      await sendCredentialsEmail(order, c.env, storage);\n\n      return c.json({ success: true, message: \"Credentials email sent\" });\n    } catch (error: any) {\n      console.error(\"Error resending credentials:\", error);\n      return c.json({ error: \"Failed to resend credentials\" }, 500);\n    }\n  });\n\n  app.get('/fulfillment', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const orders = await storage.getFireStickOrdersForFulfillment();\n      return c.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching fulfillment orders:\", error);\n      return c.json({ error: \"Failed to fetch fulfillment orders\" }, 500);\n    }\n  });\n\n  app.put('/fulfillment/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { fulfillmentStatus, amazonOrderId } = body;\n\n      const existingOrder = await storage.getOrder(c.req.param('id'));\n      if (!existingOrder) {\n        return c.json({ error: \"Order not found\" }, 404);\n      }\n\n      const updates: any = {};\n      if (fulfillmentStatus !== undefined) {\n        updates.fulfillmentStatus = fulfillmentStatus;\n      }\n      if (amazonOrderId !== undefined) {\n        updates.amazonOrderId = amazonOrderId;\n      }\n\n      const order = await storage.updateOrder(c.req.param('id'), updates);\n      return c.json({ data: order });\n    } catch (error: any) {\n      console.error(\"Error updating fulfillment:\", error);\n      return c.json({ error: \"Failed to update fulfillment\" }, 500);\n    }\n  });\n\n  app.get('/products', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const products = await storage.getRealProducts();\n      return c.json({ data: products });\n    } catch (error: any) {\n      console.error(\"Error fetching products:\", error);\n      return c.json({ error: \"Failed to fetch products\" }, 500);\n    }\n  });\n\n  app.post('/products', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { id, name, description, price, imageUrl, category, shadowProductId, shadowPriceId } = body;\n\n      if (!id || !name || !price) {\n        return c.json({ error: \"ID, name, and price are required\" }, 400);\n      }\n\n      const product = await storage.createRealProduct({\n        id,\n        name,\n        description: description || null,\n        price,\n        imageUrl: imageUrl || null,\n        category: category || null,\n        shadowProductId: shadowProductId || null,\n        shadowPriceId: shadowPriceId || null,\n      });\n\n      return c.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error creating product:\", error);\n      return c.json({ error: \"Failed to create product\" }, 500);\n    }\n  });\n\n  app.put('/products/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { name, description, price, imageUrl, category, shadowProductId, shadowPriceId } = body;\n\n      const existingProduct = await storage.getRealProduct(c.req.param('id'));\n      if (!existingProduct) {\n        return c.json({ error: \"Product not found\" }, 404);\n      }\n\n      const product = await storage.updateRealProduct(c.req.param('id'), {\n        name,\n        description,\n        price,\n        imageUrl,\n        category,\n        shadowProductId,\n        shadowPriceId,\n      });\n\n      return c.json({ data: product });\n    } catch (error: any) {\n      console.error(\"Error updating product:\", error);\n      return c.json({ error: \"Failed to update product\" }, 500);\n    }\n  });\n\n  app.delete('/products/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const existingProduct = await storage.getRealProduct(c.req.param('id'));\n      if (!existingProduct) {\n        return c.json({ error: \"Product not found\" }, 404);\n      }\n\n      const deleted = await storage.deleteRealProduct(c.req.param('id'));\n      \n      if (deleted) {\n        return c.json({ success: true });\n      } else {\n        return c.json({ error: \"Failed to delete product\" }, 500);\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting product:\", error);\n      return c.json({ error: \"Failed to delete product\" }, 500);\n    }\n  });\n\n  app.post('/products/:id/sync-stripe-price', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { price, shadowName } = body;\n\n      if (!price || price <= 0) {\n        return c.json({ error: \"Valid price is required\" }, 400);\n      }\n\n      const existingProduct = await storage.getRealProduct(c.req.param('id'));\n      if (!existingProduct) {\n        return c.json({ error: \"Product not found\" }, 404);\n      }\n\n      const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n\n      let shadowProductId = existingProduct.shadowProductId;\n      \n      if (!shadowProductId) {\n        const productName = shadowName || `Service ${existingProduct.id}`;\n        const stripeProduct = await stripe.products.create({\n          name: productName,\n          description: `Shadow product for ${existingProduct.name}`,\n          metadata: {\n            realProductId: existingProduct.id,\n          },\n        });\n        shadowProductId = stripeProduct.id;\n      }\n\n      const priceInCents = Math.round(price);\n\n      const stripePrice = await stripe.prices.create({\n        product: shadowProductId,\n        unit_amount: priceInCents,\n        currency: 'usd',\n        metadata: {\n          realProductId: existingProduct.id,\n        },\n      });\n\n      const updatedProduct = await storage.updateRealProduct(c.req.param('id'), {\n        price: priceInCents,\n        shadowProductId,\n        shadowPriceId: stripePrice.id,\n      });\n\n      return c.json({ \n        data: updatedProduct,\n        stripeProductId: shadowProductId,\n        stripePriceId: stripePrice.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error syncing Stripe price:\", error);\n      return c.json({ error: `Failed to sync Stripe price: ${error.message}` }, 500);\n    }\n  });\n\n  app.post('/products/create-with-stripe', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { id, name, description, price, imageUrl, category, shadowName } = body;\n\n      if (!id || !name || !price) {\n        return c.json({ error: \"ID, name, and price are required\" }, 400);\n      }\n\n      const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n\n      const productName = shadowName || `Service ${id}`;\n      const stripeProduct = await stripe.products.create({\n        name: productName,\n        description: `Shadow product`,\n        metadata: {\n          realProductId: id,\n        },\n      });\n\n      const priceInCents = Math.round(price);\n\n      const stripePrice = await stripe.prices.create({\n        product: stripeProduct.id,\n        unit_amount: priceInCents,\n        currency: 'usd',\n        metadata: {\n          realProductId: id,\n        },\n      });\n\n      const product = await storage.createRealProduct({\n        id,\n        name,\n        description: description || null,\n        price: priceInCents,\n        imageUrl: imageUrl || null,\n        category: category || null,\n        shadowProductId: stripeProduct.id,\n        shadowPriceId: stripePrice.id,\n      });\n\n      return c.json({ \n        data: product,\n        stripeProductId: stripeProduct.id,\n        stripePriceId: stripePrice.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error creating product with Stripe:\", error);\n      return c.json({ error: `Failed to create product: ${error.message}` }, 500);\n    }\n  });\n\n  app.get('/visitors/stats', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const stats = await storage.getVisitorStats();\n      return c.json({ data: stats });\n    } catch (error: any) {\n      console.error(\"Error fetching visitor stats:\", error);\n      return c.json({ error: \"Failed to fetch visitor stats\" }, 500);\n    }\n  });\n\n  app.get('/page-edits', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const edits = await storage.getAllPageEdits();\n      return c.json({ data: edits });\n    } catch (error: any) {\n      console.error(\"Error fetching all page edits:\", error);\n      return c.json({ error: \"Failed to fetch page edits\" }, 500);\n    }\n  });\n\n  app.post('/page-edits', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { pageId, sectionId, elementId, elementType, content, imageUrl, isActive } = body;\n\n      if (!pageId || !sectionId || !elementId || !elementType) {\n        return c.json({ error: \"Page ID, section ID, element ID, and element type are required\" }, 400);\n      }\n\n      const edit = await storage.upsertPageEdit({\n        pageId,\n        sectionId,\n        elementId,\n        elementType,\n        content: content || null,\n        imageUrl: imageUrl || null,\n        isActive: isActive !== undefined ? isActive : true,\n      });\n\n      return c.json({ data: edit });\n    } catch (error: any) {\n      console.error(\"Error saving page edit:\", error);\n      return c.json({ error: \"Failed to save page edit\" }, 500);\n    }\n  });\n\n  app.delete('/page-edits/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const deleted = await storage.deletePageEdit(c.req.param('id'));\n      \n      if (deleted) {\n        return c.json({ success: true });\n      } else {\n        return c.json({ error: \"Page edit not found\" }, 404);\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting page edit:\", error);\n      return c.json({ error: \"Failed to delete page edit\" }, 500);\n    }\n  });\n\n  app.get('/customers', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const search = c.req.query('search');\n      let customersList;\n      \n      if (search && search.trim()) {\n        customersList = await storage.searchCustomers(search.trim());\n      } else {\n        customersList = await storage.getAllCustomers();\n      }\n      \n      return c.json({ data: customersList });\n    } catch (error: any) {\n      console.error(\"Error fetching customers:\", error);\n      return c.json({ error: \"Failed to fetch customers\" }, 500);\n    }\n  });\n\n  app.get('/customers/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const customer = await storage.getCustomer(c.req.param('id'));\n      if (!customer) {\n        return c.json({ error: \"Customer not found\" }, 404);\n      }\n      return c.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error fetching customer:\", error);\n      return c.json({ error: \"Failed to fetch customer\" }, 500);\n    }\n  });\n\n  app.get('/customers/:id/orders', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const customer = await storage.getCustomer(c.req.param('id'));\n      if (!customer) {\n        return c.json({ error: \"Customer not found\" }, 404);\n      }\n      \n      const customerOrders = await storage.getCustomerOrders(c.req.param('id'));\n      return c.json({ data: customerOrders });\n    } catch (error: any) {\n      console.error(\"Error fetching customer orders:\", error);\n      return c.json({ error: \"Failed to fetch customer orders\" }, 500);\n    }\n  });\n\n  app.post('/customers', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const parseResult = createCustomerSchema.safeParse(body);\n      if (!parseResult.success) {\n        return c.json({ error: parseResult.error.message }, 400);\n      }\n\n      const existingByUsername = await storage.getCustomerByUsername(parseResult.data.username);\n      if (existingByUsername) {\n        return c.json({ error: \"A customer with this username already exists\" }, 409);\n      }\n\n      const customer = await storage.createCustomer(parseResult.data);\n      return c.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error creating customer:\", error);\n      return c.json({ error: \"Failed to create customer\" }, 500);\n    }\n  });\n\n  app.put('/customers/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const parseResult = updateCustomerSchema.safeParse(body);\n      if (!parseResult.success) {\n        return c.json({ error: parseResult.error.message }, 400);\n      }\n\n      const existingCustomer = await storage.getCustomer(c.req.param('id'));\n      if (!existingCustomer) {\n        return c.json({ error: \"Customer not found\" }, 404);\n      }\n\n      if (parseResult.data.username && parseResult.data.username !== existingCustomer.username) {\n        const conflictingCustomer = await storage.getCustomerByUsername(parseResult.data.username);\n        if (conflictingCustomer) {\n          return c.json({ error: \"A customer with this username already exists\" }, 409);\n        }\n      }\n\n      const customer = await storage.updateCustomer(c.req.param('id'), parseResult.data);\n      return c.json({ data: customer });\n    } catch (error: any) {\n      console.error(\"Error updating customer:\", error);\n      return c.json({ error: \"Failed to update customer\" }, 500);\n    }\n  });\n\n  app.delete('/customers/:id', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const existingCustomer = await storage.getCustomer(c.req.param('id'));\n      if (!existingCustomer) {\n        return c.json({ error: \"Customer not found\" }, 404);\n      }\n\n      const deleted = await storage.deleteCustomer(c.req.param('id'));\n      \n      if (deleted) {\n        return c.json({ success: true });\n      } else {\n        return c.json({ error: \"Failed to delete customer\" }, 500);\n      }\n    } catch (error: any) {\n      console.error(\"Error deleting customer:\", error);\n      return c.json({ error: \"Failed to delete customer\" }, 500);\n    }\n  });\n\n  app.get('/iptv-customers', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const iptvOrders = await storage.getIPTVOrders();\n      return c.json({ data: iptvOrders });\n    } catch (error: any) {\n      console.error(\"Error fetching IPTV orders:\", error);\n      return c.json({ error: \"Failed to fetch IPTV orders\" }, 500);\n    }\n  });\n\n  // Payment status dashboard - shows all payment health info\n  app.get('/payment-status', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const allOrders = await storage.getAllOrders();\n      \n      // Calculate stats\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n      \n      const paidOrders = allOrders.filter(o => o.status === 'paid');\n      const pendingOrders = allOrders.filter(o => o.status === 'pending');\n      const failedOrders = allOrders.filter(o => o.status === 'failed');\n      \n      // Orders paid but credentials not sent\n      const missingCredentials = paidOrders.filter(o => !o.credentialsSent);\n      \n      // Orders in last 7 days\n      const recentOrders = allOrders.filter(o => \n        o.createdAt && new Date(o.createdAt) >= weekAgo\n      );\n      const recentPaid = paidOrders.filter(o => \n        o.createdAt && new Date(o.createdAt) >= weekAgo\n      );\n      \n      // Revenue calculation\n      const totalRevenue = paidOrders.reduce((sum, o) => sum + (o.amount || 0), 0);\n      const weekRevenue = recentPaid.reduce((sum, o) => sum + (o.amount || 0), 0);\n      \n      return c.json({\n        data: {\n          summary: {\n            totalOrders: allOrders.length,\n            paidOrders: paidOrders.length,\n            pendingOrders: pendingOrders.length,\n            failedOrders: failedOrders.length,\n            missingCredentials: missingCredentials.length,\n            totalRevenue: totalRevenue / 100,\n            weekRevenue: weekRevenue / 100,\n            recentOrdersCount: recentOrders.length,\n          },\n          // Orders that need attention (paid but no credentials sent)\n          ordersNeedingAttention: missingCredentials.map(o => ({\n            id: o.id,\n            customerEmail: o.customerEmail,\n            customerName: o.customerName,\n            productName: o.realProductName,\n            amount: (o.amount || 0) / 100,\n            createdAt: o.createdAt,\n            status: o.status,\n            credentialsSent: o.credentialsSent,\n            generatedUsername: o.generatedUsername,\n          })),\n          // Recent failed orders\n          recentFailures: failedOrders.slice(0, 10).map(o => ({\n            id: o.id,\n            customerEmail: o.customerEmail,\n            productName: o.realProductName,\n            amount: (o.amount || 0) / 100,\n            createdAt: o.createdAt,\n          })),\n          // Pending orders (might be abandoned checkouts)\n          pendingOrdersList: pendingOrders.slice(0, 10).map(o => ({\n            id: o.id,\n            customerEmail: o.customerEmail,\n            productName: o.realProductName,\n            amount: (o.amount || 0) / 100,\n            createdAt: o.createdAt,\n          })),\n        }\n      });\n    } catch (error: any) {\n      console.error(\"Error fetching payment status:\", error);\n      return c.json({ error: \"Failed to fetch payment status\" }, 500);\n    }\n  });\n\n  // Resend credentials to all orders missing them\n  app.post('/fix-missing-credentials', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const allOrders = await storage.getAllOrders();\n      const paidOrders = allOrders.filter(o => o.status === 'paid' && !o.credentialsSent);\n      \n      const results: Array<{ orderId: string; email: string; success: boolean; error?: string }> = [];\n      \n      for (const order of paidOrders) {\n        try {\n          await sendCredentialsEmail(order, c.env, storage);\n          results.push({ orderId: order.id, email: order.customerEmail, success: true });\n        } catch (error: any) {\n          results.push({ orderId: order.id, email: order.customerEmail, success: false, error: error.message });\n        }\n      }\n      \n      return c.json({ \n        data: {\n          processed: results.length,\n          successful: results.filter(r => r.success).length,\n          failed: results.filter(r => !r.success).length,\n          results\n        }\n      });\n    } catch (error: any) {\n      console.error(\"Error fixing missing credentials:\", error);\n      return c.json({ error: \"Failed to fix missing credentials\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":20168,"size_tokens":null},"worker/index.ts":{"content":"import { Hono } from 'hono';\nimport { cors } from 'hono/cors';\nimport { serveStatic } from 'hono/cloudflare-workers';\nimport { createProductRoutes } from './routes/products';\nimport { createCheckoutRoutes } from './routes/checkout';\nimport { createOrderRoutes } from './routes/orders';\nimport { createAdminRoutes } from './routes/admin';\nimport { createWebhookRoutes } from './routes/webhook';\nimport { createVisitorRoutes } from './routes/visitors';\nimport { createCustomerRoutes } from './routes/customers';\nimport { createTrialRoutes } from './routes/trial';\nimport { createAuthRoutes, authMiddleware } from './routes/auth';\nimport { createBlogRoutes } from './routes/blog';\n\nexport interface Env {\n  DATABASE_URL: string;\n  STRIPE_SECRET_KEY: string;\n  STRIPE_PUBLISHABLE_KEY: string;\n  STRIPE_WEBHOOK_SECRET: string;\n  RESEND_API_KEY: string;\n  RESEND_FROM_EMAIL: string;\n  VITE_SUPABASE_URL: string;\n  VITE_SUPABASE_ANON_KEY: string;\n  SUPABASE_SERVICE_KEY?: string;\n  ADMIN_USERNAME?: string;\n  ADMIN_PASSWORD?: string;\n  JWT_SECRET?: string;\n  NODE_ENV?: string;\n  ASSETS: { fetch: (request: Request) => Promise<Response> };\n}\n\nconst app = new Hono<{ Bindings: Env }>();\n\napp.use('*', cors({\n  origin: ['https://streamstickpro.com', 'https://www.streamstickpro.com', 'https://secure.streamstickpro.com'],\n  allowMethods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  allowHeaders: ['Content-Type', 'Authorization', 'stripe-signature'],\n  credentials: true,\n}));\n\napp.route('/api/auth', createAuthRoutes());\napp.route('/api/products', createProductRoutes());\napp.route('/api/checkout', createCheckoutRoutes());\napp.route('/api/orders', createOrderRoutes());\napp.use('/api/admin/*', authMiddleware);\napp.route('/api/admin', createAdminRoutes());\napp.route('/api/stripe', createWebhookRoutes());\napp.route('/api/track', createVisitorRoutes());\napp.route('/api/customer', createCustomerRoutes());\napp.route('/api/free-trial', createTrialRoutes());\napp.route('/api/blog', createBlogRoutes());\n\napp.post('/api/track-cart', async (c) => {\n  try {\n    const { getStorage } = await import('./helpers');\n    const storage = getStorage(c.env);\n    const body = await c.req.json();\n    const { email, customerName, cartItems, totalAmount } = body;\n\n    if (!email || !cartItems || cartItems.length === 0) {\n      return c.json({ error: 'Email and cart items required' }, 400);\n    }\n\n    await storage.trackAbandonedCart({\n      email,\n      customerName: customerName || null,\n      cartItems,\n      totalAmount: totalAmount || 0,\n    });\n\n    return c.json({ success: true });\n  } catch (error: any) {\n    console.error('Error tracking cart:', error);\n    return c.json({ success: true });\n  }\n});\n\napp.get('/api/stripe/config', async (c) => {\n  const publishableKey = c.env.STRIPE_PUBLISHABLE_KEY;\n  if (!publishableKey) {\n    return c.json({ error: 'Stripe not configured' }, 500);\n  }\n  return c.json({ publishableKey });\n});\n\napp.get('/api/health', (c) => {\n  return c.json({ status: 'ok', timestamp: new Date().toISOString(), version: '2.0.1' });\n});\n\napp.get('/api/debug', async (c) => {\n  const supabaseUrl = c.env.VITE_SUPABASE_URL || '';\n  const supabaseKey = c.env.SUPABASE_SERVICE_KEY || c.env.VITE_SUPABASE_ANON_KEY || '';\n  \n  // Test Supabase connection\n  let supabaseTest = { connected: false, error: '', productCount: 0 };\n  try {\n    const { getStorage } = await import('./helpers');\n    const storage = getStorage(c.env);\n    const products = await storage.getRealProducts();\n    supabaseTest = { connected: true, error: '', productCount: products.length };\n  } catch (err: any) {\n    supabaseTest = { connected: false, error: err.message || String(err), productCount: 0 };\n  }\n  \n  // Test Stripe connection\n  let stripeTest = { connected: false, error: '' };\n  try {\n    const Stripe = (await import('stripe')).default;\n    const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n    await stripe.products.list({ limit: 1 });\n    stripeTest = { connected: true, error: '' };\n  } catch (err: any) {\n    stripeTest = { connected: false, error: err.message || String(err) };\n  }\n  \n  return c.json({\n    supabase: {\n      hasUrl: !!supabaseUrl,\n      urlPrefix: supabaseUrl.substring(0, 30) || 'none',\n      hasKey: !!supabaseKey,\n      keyLength: supabaseKey.length,\n      keyPrefix: supabaseKey.substring(0, 10) || 'none',\n      test: supabaseTest,\n    },\n    stripe: {\n      hasSecretKey: !!c.env.STRIPE_SECRET_KEY,\n      hasPublishableKey: !!c.env.STRIPE_PUBLISHABLE_KEY,\n      hasWebhookSecret: !!c.env.STRIPE_WEBHOOK_SECRET,\n      secretKeyPrefix: c.env.STRIPE_SECRET_KEY?.substring(0, 7) || 'none',\n      test: stripeTest,\n    },\n    email: {\n      hasResendKey: !!c.env.RESEND_API_KEY,\n      hasFromEmail: !!c.env.RESEND_FROM_EMAIL,\n      fromEmail: c.env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com',\n    },\n    auth: {\n      hasAdminUsername: !!c.env.ADMIN_USERNAME,\n      hasAdminPassword: !!c.env.ADMIN_PASSWORD,\n      hasJwtSecret: !!c.env.JWT_SECRET,\n    },\n    nodeEnv: c.env.NODE_ENV || 'not set',\n  });\n});\n\napp.get('*', async (c) => {\n  try {\n    return await c.env.ASSETS.fetch(c.req.raw);\n  } catch {\n    return c.env.ASSETS.fetch(new Request(new URL('/index.html', c.req.url)));\n  }\n});\n\nexport default app;\n","path":null,"size_bytes":5246,"size_tokens":null},"worker/routes/customers.ts":{"content":"import { Hono } from 'hono';\nimport { getStorage } from '../helpers';\nimport type { Env } from '../index';\n\nexport function createCustomerRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.get('/lookup/:username', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const customer = await storage.getCustomerByUsername(c.req.param('username'));\n      if (!customer) {\n        return c.json({ error: \"Customer not found\", exists: false }, 404);\n      }\n      \n      return c.json({ \n        exists: true,\n        data: {\n          id: customer.id,\n          username: customer.username,\n          email: customer.email,\n          fullName: customer.fullName,\n          status: customer.status,\n          totalOrders: customer.totalOrders,\n        }\n      });\n    } catch (error: any) {\n      console.error(\"Error looking up customer:\", error);\n      return c.json({ error: \"Failed to lookup customer\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":970,"size_tokens":null},"worker/routes/visitors.ts":{"content":"import { Hono } from 'hono';\nimport { getStorage } from '../helpers';\nimport type { Env } from '../index';\n\nexport function createVisitorRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.post('/', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      const { sessionId, pageUrl, referrer, userAgent } = body;\n\n      if (!sessionId || !pageUrl) {\n        return c.json({ error: \"Session ID and page URL are required\" }, 400);\n      }\n\n      const ipAddress = c.req.header('cf-connecting-ip') || \n                        c.req.header('x-forwarded-for')?.split(',')[0] || \n                        'unknown';\n\n      const cfData = (c.req.raw as any).cf || {};\n      \n      await storage.trackVisitor({\n        sessionId,\n        pageUrl,\n        referrer: referrer || null,\n        userAgent: userAgent || c.req.header('user-agent') || null,\n        ipAddress,\n        country: cfData.country || null,\n        countryCode: cfData.country || null,\n        region: cfData.region || null,\n        regionCode: cfData.regionCode || null,\n        city: cfData.city || null,\n        latitude: cfData.latitude?.toString() || null,\n        longitude: cfData.longitude?.toString() || null,\n        timezone: cfData.timezone || null,\n        isp: cfData.asOrganization || null,\n        isProxy: false,\n      });\n\n      return c.json({ success: true });\n    } catch (error: any) {\n      console.error(\"Error tracking visitor:\", error);\n      return c.json({ error: \"Failed to track visitor\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":1583,"size_tokens":null},"wrangler.toml":{"content":"name = \"streamerstickpro-live\"\npages_build_output_dir = \"./dist\"\ncompatibility_date = \"2024-09-23\"\ncompatibility_flags = [\"nodejs_compat\"]\n\n# PUBLIC variables (safe to commit)\n[vars]\nNODE_ENV = \"production\"\nRESEND_FROM_EMAIL = \"noreply@streamstickpro.com\"\nVITE_SUPABASE_URL = \"https://emlqlmfzqsnqokrqvmcm.supabase.co\"\nVITE_SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtbHFsbWZ6cXNucW9rcnF2bWNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4ODQ0OTIsImV4cCI6MjA3OTQ2MDQ5Mn0.gD54kCrRiqLCpP_p6cEO4-r9GSIAJSuN4PKWx5Dnyeg\"\nVITE_SECURE_HOSTS = \"secure.streamstickpro.com\"\nVITE_STORAGE_BUCKET_NAME = \"imiges\"\nSITE_URL = \"https://streamstickpro.com\"\n\n# SECRETS - Set these in Cloudflare Pages Dashboard  Settings  Environment Variables\n# Do NOT commit actual values here\n# Required secrets:\n#   ADMIN_USERNAME - Admin login username\n#   ADMIN_PASSWORD - Admin login password  \n#   SUPABASE_SERVICE_KEY - Supabase service role key (for server-side operations)\n#   STRIPE_SECRET_KEY - Stripe API secret key\n#   STRIPE_PUBLISHABLE_KEY - Stripe publishable key\n#   STRIPE_WEBHOOK_SECRET - Stripe webhook signing secret\n#   RESEND_API_KEY - Resend email API key\n#   SESSION_SECRET - Session encryption key\n","path":null,"size_bytes":1236,"size_tokens":null},"worker/storage.ts":{"content":"import { createClient, SupabaseClient } from '@supabase/supabase-js';\nimport type {\n  User,\n  InsertUser,\n  Order,\n  InsertOrder,\n  RealProduct,\n  InsertRealProduct,\n  Visitor,\n  InsertVisitor,\n  PageEdit,\n  InsertPageEdit,\n  Customer,\n  InsertCustomer,\n} from \"../shared/schema\";\n\nexport interface StorageConfig {\n  supabaseUrl: string;\n  supabaseKey: string;\n}\n\nexport function createStorage(config: StorageConfig) {\n  const supabase = createClient(config.supabaseUrl, config.supabaseKey);\n\n  return {\n    async getUser(id: string): Promise<User | undefined> {\n      const { data } = await supabase.from('users').select('*').eq('id', id).single();\n      return data || undefined;\n    },\n\n    async getUserByUsername(username: string): Promise<User | undefined> {\n      const { data } = await supabase.from('users').select('*').eq('username', username).single();\n      return data || undefined;\n    },\n\n    async createUser(insertUser: InsertUser): Promise<User> {\n      const { data, error } = await supabase.from('users').insert(insertUser).select().single();\n      if (error) throw error;\n      return data;\n    },\n\n    async getCustomer(id: string): Promise<Customer | undefined> {\n      const { data } = await supabase.from('customers').select('*').eq('id', id).single();\n      return data ? this.mapCustomerFromDb(data) : undefined;\n    },\n\n    async getCustomerByUsername(username: string): Promise<Customer | undefined> {\n      const { data } = await supabase.from('customers').select('*').eq('username', username).single();\n      return data ? this.mapCustomerFromDb(data) : undefined;\n    },\n\n    async getCustomerByEmail(email: string): Promise<Customer | undefined> {\n      const { data } = await supabase.from('customers').select('*').eq('email', email).single();\n      return data ? this.mapCustomerFromDb(data) : undefined;\n    },\n\n    async createCustomer(customer: InsertCustomer): Promise<Customer> {\n      const dbCustomer = {\n        username: customer.username,\n        password: customer.password,\n        email: customer.email,\n        full_name: customer.fullName,\n        phone: customer.phone,\n        status: customer.status,\n        notes: customer.notes,\n      };\n      const { data, error } = await supabase.from('customers').insert(dbCustomer).select().single();\n      if (error) throw error;\n      return this.mapCustomerFromDb(data);\n    },\n\n    async updateCustomer(id: string, updates: Partial<InsertCustomer>): Promise<Customer | undefined> {\n      const dbUpdates: any = {};\n      if (updates.username !== undefined) dbUpdates.username = updates.username;\n      if (updates.password !== undefined) dbUpdates.password = updates.password;\n      if (updates.email !== undefined) dbUpdates.email = updates.email;\n      if (updates.fullName !== undefined) dbUpdates.full_name = updates.fullName;\n      if (updates.phone !== undefined) dbUpdates.phone = updates.phone;\n      if (updates.status !== undefined) dbUpdates.status = updates.status;\n      if (updates.notes !== undefined) dbUpdates.notes = updates.notes;\n      dbUpdates.updated_at = new Date().toISOString();\n      \n      const { data } = await supabase.from('customers')\n        .update(dbUpdates)\n        .eq('id', id)\n        .select()\n        .single();\n      return data ? this.mapCustomerFromDb(data) : undefined;\n    },\n\n    async deleteCustomer(id: string): Promise<boolean> {\n      const { error } = await supabase.from('customers').delete().eq('id', id);\n      return !error;\n    },\n\n    async getAllCustomers(): Promise<Customer[]> {\n      const { data } = await supabase.from('customers').select('*').order('created_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapCustomerFromDb(d));\n    },\n\n    async searchCustomers(query: string): Promise<Customer[]> {\n      const { data } = await supabase.from('customers')\n        .select('*')\n        .or(`username.ilike.%${query}%,email.ilike.%${query}%,full_name.ilike.%${query}%`)\n        .order('created_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapCustomerFromDb(d));\n    },\n\n    async incrementCustomerOrders(id: string): Promise<Customer | undefined> {\n      const customer = await this.getCustomer(id);\n      if (!customer) return undefined;\n      \n      const { data } = await supabase.from('customers')\n        .update({ \n          total_orders: (customer.totalOrders || 0) + 1,\n          last_order_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', id)\n        .select()\n        .single();\n      return data ? this.mapCustomerFromDb(data) : undefined;\n    },\n\n    async getCustomerOrders(customerId: string): Promise<Order[]> {\n      const { data } = await supabase.from('orders')\n        .select('*')\n        .eq('customer_id', customerId)\n        .order('created_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapOrderFromDb(d));\n    },\n\n    async createOrder(order: InsertOrder): Promise<Order> {\n      const dbOrder: Record<string, any> = {\n        customer_email: order.customerEmail,\n        customer_name: order.customerName,\n        customer_id: order.customerId,\n        stripe_checkout_session_id: order.stripeCheckoutSessionId,\n        stripe_payment_intent_id: order.stripePaymentIntentId,\n        stripe_customer_id: order.stripeCustomerId,\n        shadow_product_id: order.shadowProductId,\n        shadow_price_id: order.shadowPriceId,\n        real_product_id: order.realProductId,\n        real_product_name: order.realProductName,\n        amount: order.amount,\n        status: order.status,\n        credentials_sent: order.credentialsSent,\n        shipping_name: order.shippingName,\n        shipping_phone: order.shippingPhone,\n        shipping_street: order.shippingStreet,\n        shipping_city: order.shippingCity,\n        shipping_state: order.shippingState,\n        shipping_zip: order.shippingZip,\n        shipping_country: order.shippingCountry,\n        fulfillment_status: order.fulfillmentStatus,\n        amazon_order_id: order.amazonOrderId,\n        is_renewal: order.isRenewal,\n        existing_username: order.existingUsername,\n        generated_username: order.generatedUsername,\n        generated_password: order.generatedPassword,\n        country_preference: order.countryPreference,\n      };\n      \n      const { data, error } = await supabase.from('orders').insert(dbOrder).select().single();\n      if (error) throw error;\n      return this.mapOrderFromDb(data);\n    },\n\n    async getOrder(id: string): Promise<Order | undefined> {\n      const { data } = await supabase.from('orders').select('*').eq('id', id).single();\n      return data ? this.mapOrderFromDb(data) : undefined;\n    },\n\n    async getOrderByCheckoutSession(sessionId: string): Promise<Order | undefined> {\n      const { data } = await supabase.from('orders').select('*').eq('stripe_checkout_session_id', sessionId).single();\n      return data ? this.mapOrderFromDb(data) : undefined;\n    },\n\n    async getOrderByPaymentIntent(paymentIntentId: string): Promise<Order | undefined> {\n      const { data } = await supabase.from('orders').select('*').eq('stripe_payment_intent_id', paymentIntentId).single();\n      return data ? this.mapOrderFromDb(data) : undefined;\n    },\n\n    async updateOrder(id: string, updates: Partial<InsertOrder>): Promise<Order | undefined> {\n      const dbUpdates: any = {};\n      if (updates.customerEmail !== undefined) dbUpdates.customer_email = updates.customerEmail;\n      if (updates.customerName !== undefined) dbUpdates.customer_name = updates.customerName;\n      if (updates.customerId !== undefined) dbUpdates.customer_id = updates.customerId;\n      if (updates.stripeCheckoutSessionId !== undefined) dbUpdates.stripe_checkout_session_id = updates.stripeCheckoutSessionId;\n      if (updates.stripePaymentIntentId !== undefined) dbUpdates.stripe_payment_intent_id = updates.stripePaymentIntentId;\n      if (updates.stripeCustomerId !== undefined) dbUpdates.stripe_customer_id = updates.stripeCustomerId;\n      if (updates.shadowProductId !== undefined) dbUpdates.shadow_product_id = updates.shadowProductId;\n      if (updates.shadowPriceId !== undefined) dbUpdates.shadow_price_id = updates.shadowPriceId;\n      if (updates.realProductId !== undefined) dbUpdates.real_product_id = updates.realProductId;\n      if (updates.realProductName !== undefined) dbUpdates.real_product_name = updates.realProductName;\n      if (updates.amount !== undefined) dbUpdates.amount = updates.amount;\n      if (updates.status !== undefined) dbUpdates.status = updates.status;\n      if (updates.credentialsSent !== undefined) dbUpdates.credentials_sent = updates.credentialsSent;\n      if (updates.shippingName !== undefined) dbUpdates.shipping_name = updates.shippingName;\n      if (updates.shippingPhone !== undefined) dbUpdates.shipping_phone = updates.shippingPhone;\n      if (updates.shippingStreet !== undefined) dbUpdates.shipping_street = updates.shippingStreet;\n      if (updates.shippingCity !== undefined) dbUpdates.shipping_city = updates.shippingCity;\n      if (updates.shippingState !== undefined) dbUpdates.shipping_state = updates.shippingState;\n      if (updates.shippingZip !== undefined) dbUpdates.shipping_zip = updates.shippingZip;\n      if (updates.shippingCountry !== undefined) dbUpdates.shipping_country = updates.shippingCountry;\n      if (updates.fulfillmentStatus !== undefined) dbUpdates.fulfillment_status = updates.fulfillmentStatus;\n      if (updates.amazonOrderId !== undefined) dbUpdates.amazon_order_id = updates.amazonOrderId;\n      if (updates.isRenewal !== undefined) dbUpdates.is_renewal = updates.isRenewal;\n      if (updates.existingUsername !== undefined) dbUpdates.existing_username = updates.existingUsername;\n      if (updates.generatedUsername !== undefined) dbUpdates.generated_username = updates.generatedUsername;\n      if (updates.generatedPassword !== undefined) dbUpdates.generated_password = updates.generatedPassword;\n      if (updates.countryPreference !== undefined) dbUpdates.country_preference = updates.countryPreference;\n      \n      const { data } = await supabase.from('orders').update(dbUpdates).eq('id', id).select().single();\n      return data ? this.mapOrderFromDb(data) : undefined;\n    },\n\n    async getOrdersByEmail(email: string): Promise<Order[]> {\n      const { data } = await supabase.from('orders').select('*').eq('customer_email', email);\n      return (data || []).map((d: any) => this.mapOrderFromDb(d));\n    },\n\n    async getAllOrders(): Promise<Order[]> {\n      const { data } = await supabase.from('orders').select('*').order('created_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapOrderFromDb(d));\n    },\n\n    async getFireStickOrdersForFulfillment(): Promise<Order[]> {\n      const { data } = await supabase.from('orders')\n        .select('*')\n        .eq('status', 'paid')\n        .order('created_at', { ascending: false });\n      \n      return (data || [])\n        .map((d: any) => this.mapOrderFromDb(d))\n        .filter((order: Order) => {\n          const productName = (order.realProductName || '').toLowerCase();\n          return productName.includes('fire') || productName.includes('stick') || productName.includes('firestick');\n        });\n    },\n\n    async getIPTVOrders(): Promise<Order[]> {\n      const { data } = await supabase.from('orders')\n        .select('*')\n        .eq('status', 'paid')\n        .order('created_at', { ascending: false });\n      \n      return (data || [])\n        .map((d: any) => this.mapOrderFromDb(d))\n        .filter((order: Order) => {\n          const productName = (order.realProductName || '').toLowerCase();\n          return productName.includes('iptv') || productName.includes('subscription') || \n                 productName.includes('month') || productName.includes('year');\n        });\n    },\n\n    async getRealProducts(): Promise<RealProduct[]> {\n      const { data } = await supabase.from('real_products').select('*');\n      return (data || []).map((d: any) => this.mapProductFromDb(d));\n    },\n\n    async getRealProduct(id: string): Promise<RealProduct | undefined> {\n      const { data } = await supabase.from('real_products').select('*').eq('id', id).single();\n      return data ? this.mapProductFromDb(data) : undefined;\n    },\n\n    async getRealProductByShadowId(shadowProductId: string): Promise<RealProduct | undefined> {\n      const { data } = await supabase.from('real_products').select('*').eq('shadow_product_id', shadowProductId).single();\n      return data ? this.mapProductFromDb(data) : undefined;\n    },\n\n    async createRealProduct(product: InsertRealProduct): Promise<RealProduct> {\n      const dbProduct = {\n        id: product.id,\n        name: product.name,\n        description: product.description,\n        price: product.price,\n        category: product.category,\n        image_url: product.imageUrl,\n        shadow_product_id: product.shadowProductId,\n        shadow_price_id: product.shadowPriceId,\n      };\n      const { data, error } = await supabase.from('real_products').insert(dbProduct).select().single();\n      if (error) throw error;\n      return this.mapProductFromDb(data);\n    },\n\n    async updateRealProduct(id: string, updates: Partial<InsertRealProduct>): Promise<RealProduct | undefined> {\n      const dbUpdates: any = {};\n      if (updates.name !== undefined) dbUpdates.name = updates.name;\n      if (updates.description !== undefined) dbUpdates.description = updates.description;\n      if (updates.price !== undefined) dbUpdates.price = updates.price;\n      if (updates.category !== undefined) dbUpdates.category = updates.category;\n      if (updates.imageUrl !== undefined) dbUpdates.image_url = updates.imageUrl;\n      if (updates.shadowProductId !== undefined) dbUpdates.shadow_product_id = updates.shadowProductId;\n      if (updates.shadowPriceId !== undefined) dbUpdates.shadow_price_id = updates.shadowPriceId;\n      \n      const { data } = await supabase.from('real_products').update(dbUpdates).eq('id', id).select().single();\n      return data ? this.mapProductFromDb(data) : undefined;\n    },\n\n    async deleteRealProduct(id: string): Promise<boolean> {\n      const { error } = await supabase.from('real_products').delete().eq('id', id);\n      return !error;\n    },\n\n    async trackVisitor(visitor: InsertVisitor): Promise<Visitor> {\n      const dbVisitor = {\n        session_id: visitor.sessionId,\n        page_url: visitor.pageUrl,\n        referrer: visitor.referrer,\n        user_agent: visitor.userAgent,\n        ip_address: visitor.ipAddress,\n        country: visitor.country,\n        country_code: visitor.countryCode,\n        region: visitor.region,\n        region_code: visitor.regionCode,\n        city: visitor.city,\n        latitude: visitor.latitude,\n        longitude: visitor.longitude,\n        timezone: visitor.timezone,\n        isp: visitor.isp,\n        is_proxy: visitor.isProxy,\n      };\n      const { data, error } = await supabase.from('visitors').insert(dbVisitor).select().single();\n      if (error) throw error;\n      return this.mapVisitorFromDb(data);\n    },\n\n    async getVisitors(since?: Date): Promise<Visitor[]> {\n      let query = supabase.from('visitors').select('*').order('created_at', { ascending: false });\n      if (since) {\n        query = query.gte('created_at', since.toISOString());\n      } else {\n        query = query.limit(1000);\n      }\n      const { data } = await query;\n      return (data || []).map((d: any) => this.mapVisitorFromDb(d));\n    },\n\n    async getVisitorStats(): Promise<{\n      totalVisitors: number;\n      todayVisitors: number;\n      weekVisitors: number;\n      onlineNow: number;\n      recentVisitors: Visitor[];\n    }> {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n      const fiveMinutesAgo = new Date(now.getTime() - 5 * 60 * 1000);\n\n      const { data: allVisitors } = await supabase.from('visitors')\n        .select('*')\n        .order('created_at', { ascending: false })\n        .limit(5000);\n      \n      const visitors = (allVisitors || []).map((d: any) => this.mapVisitorFromDb(d));\n      \n      const totalVisitors = visitors.length;\n      const todayVisitors = visitors.filter((v: Visitor) => v.createdAt && new Date(v.createdAt) >= today).length;\n      const weekVisitors = visitors.filter((v: Visitor) => v.createdAt && new Date(v.createdAt) >= weekAgo).length;\n      const onlineNow = visitors.filter((v: Visitor) => v.createdAt && new Date(v.createdAt) >= fiveMinutesAgo).length;\n      const recentVisitors = visitors.slice(0, 50);\n\n      return {\n        totalVisitors,\n        todayVisitors,\n        weekVisitors,\n        onlineNow,\n        recentVisitors,\n      };\n    },\n\n    async getPageEdits(pageId: string): Promise<PageEdit[]> {\n      const { data } = await supabase.from('page_edits')\n        .select('*')\n        .eq('page_id', pageId)\n        .eq('is_active', true);\n      return (data || []).map((d: any) => this.mapPageEditFromDb(d));\n    },\n\n    async getPageEdit(pageId: string, sectionId: string, elementId: string): Promise<PageEdit | undefined> {\n      const { data } = await supabase.from('page_edits')\n        .select('*')\n        .eq('page_id', pageId)\n        .eq('section_id', sectionId)\n        .eq('element_id', elementId)\n        .single();\n      return data ? this.mapPageEditFromDb(data) : undefined;\n    },\n\n    async upsertPageEdit(edit: InsertPageEdit): Promise<PageEdit> {\n      const existing = await this.getPageEdit(edit.pageId, edit.sectionId, edit.elementId);\n      \n      const dbEdit = {\n        page_id: edit.pageId,\n        section_id: edit.sectionId,\n        element_id: edit.elementId,\n        content: edit.content,\n        image_url: edit.imageUrl,\n        element_type: edit.elementType,\n        is_active: edit.isActive ?? true,\n        updated_at: new Date().toISOString(),\n      };\n      \n      if (existing) {\n        const { data, error } = await supabase.from('page_edits')\n          .update(dbEdit)\n          .eq('id', existing.id)\n          .select()\n          .single();\n        if (error) throw error;\n        return this.mapPageEditFromDb(data);\n      } else {\n        const { data, error } = await supabase.from('page_edits').insert(dbEdit).select().single();\n        if (error) throw error;\n        return this.mapPageEditFromDb(data);\n      }\n    },\n\n    async deletePageEdit(id: string): Promise<boolean> {\n      const { error } = await supabase.from('page_edits').delete().eq('id', id);\n      return !error;\n    },\n\n    async getAllPageEdits(): Promise<PageEdit[]> {\n      const { data } = await supabase.from('page_edits').select('*').eq('is_active', true);\n      return (data || []).map((d: any) => this.mapPageEditFromDb(d));\n    },\n\n    mapCustomerFromDb(data: any): Customer {\n      return {\n        id: data.id,\n        username: data.username,\n        password: data.password,\n        email: data.email,\n        fullName: data.full_name,\n        phone: data.phone,\n        status: data.status,\n        notes: data.notes,\n        totalOrders: data.total_orders,\n        lastOrderAt: data.last_order_at ? new Date(data.last_order_at) : null,\n        createdAt: data.created_at ? new Date(data.created_at) : null,\n        updatedAt: data.updated_at ? new Date(data.updated_at) : null,\n      };\n    },\n\n    mapOrderFromDb(data: any): Order {\n      return {\n        id: data.id,\n        customerEmail: data.customer_email,\n        customerName: data.customer_name,\n        customerId: data.customer_id,\n        stripeCheckoutSessionId: data.stripe_checkout_session_id,\n        stripePaymentIntentId: data.stripe_payment_intent_id,\n        stripeCustomerId: data.stripe_customer_id,\n        shadowProductId: data.shadow_product_id,\n        shadowPriceId: data.shadow_price_id,\n        realProductId: data.real_product_id,\n        realProductName: data.real_product_name,\n        amount: data.amount,\n        status: data.status,\n        credentialsSent: data.credentials_sent,\n        shippingName: data.shipping_name,\n        shippingPhone: data.shipping_phone,\n        shippingStreet: data.shipping_street,\n        shippingCity: data.shipping_city,\n        shippingState: data.shipping_state,\n        shippingZip: data.shipping_zip,\n        shippingCountry: data.shipping_country,\n        fulfillmentStatus: data.fulfillment_status,\n        amazonOrderId: data.amazon_order_id,\n        isRenewal: data.is_renewal,\n        existingUsername: data.existing_username,\n        generatedUsername: data.generated_username,\n        generatedPassword: data.generated_password,\n        countryPreference: data.country_preference,\n        customerMessage: null,\n        customerPhone: null,\n        createdAt: data.created_at ? new Date(data.created_at) : null,\n      };\n    },\n\n    mapProductFromDb(data: any): RealProduct {\n      return {\n        id: data.id,\n        name: data.name,\n        description: data.description,\n        price: data.price,\n        category: data.category,\n        imageUrl: data.image_url,\n        shadowProductId: data.shadow_product_id,\n        shadowPriceId: data.shadow_price_id,\n      };\n    },\n\n    mapVisitorFromDb(data: any): Visitor {\n      return {\n        id: data.id,\n        sessionId: data.session_id,\n        pageUrl: data.page_url,\n        referrer: data.referrer,\n        userAgent: data.user_agent,\n        ipAddress: data.ip_address,\n        country: data.country,\n        countryCode: data.country_code,\n        region: data.region,\n        regionCode: data.region_code,\n        city: data.city,\n        latitude: data.latitude,\n        longitude: data.longitude,\n        timezone: data.timezone,\n        isp: data.isp,\n        isProxy: data.is_proxy,\n        createdAt: data.created_at ? new Date(data.created_at) : null,\n      };\n    },\n\n    mapPageEditFromDb(data: any): PageEdit {\n      return {\n        id: data.id,\n        pageId: data.page_id,\n        sectionId: data.section_id,\n        elementId: data.element_id,\n        content: data.content,\n        imageUrl: data.image_url,\n        elementType: data.element_type,\n        isActive: data.is_active,\n        createdAt: data.created_at ? new Date(data.created_at) : null,\n        updatedAt: data.updated_at ? new Date(data.updated_at) : null,\n      };\n    },\n\n    async getBlogPosts(): Promise<any[]> {\n      const { data } = await supabase.from('blog_posts')\n        .select('*')\n        .eq('is_published', true)\n        .order('published_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapBlogPostFromDb(d));\n    },\n\n    async getFeaturedBlogPosts(): Promise<any[]> {\n      const { data } = await supabase.from('blog_posts')\n        .select('*')\n        .eq('is_published', true)\n        .eq('featured', true)\n        .order('published_at', { ascending: false })\n        .limit(6);\n      return (data || []).map((d: any) => this.mapBlogPostFromDb(d));\n    },\n\n    async getBlogPostBySlug(slug: string): Promise<any | undefined> {\n      const { data } = await supabase.from('blog_posts')\n        .select('*')\n        .eq('slug', slug)\n        .single();\n      return data ? this.mapBlogPostFromDb(data) : undefined;\n    },\n\n    async searchBlogPosts(query: string): Promise<any[]> {\n      const { data } = await supabase.from('blog_posts')\n        .select('*')\n        .eq('is_published', true)\n        .or(`title.ilike.%${query}%,excerpt.ilike.%${query}%,content.ilike.%${query}%`)\n        .order('published_at', { ascending: false });\n      return (data || []).map((d: any) => this.mapBlogPostFromDb(d));\n    },\n\n    mapBlogPostFromDb(data: any): any {\n      return {\n        id: data.id,\n        title: data.title,\n        slug: data.slug,\n        excerpt: data.excerpt,\n        content: data.content,\n        category: data.category,\n        featured: data.featured,\n        published: data.is_published,\n        keywords: data.keywords,\n        metaDescription: data.meta_description,\n        publishedAt: data.published_at,\n      };\n    },\n\n    async trackAbandonedCart(cart: {\n      email: string;\n      customerName?: string | null;\n      cartItems: any[];\n      totalAmount: number;\n    }): Promise<any> {\n      const { data: existing } = await supabase.from('abandoned_carts')\n        .select('*')\n        .eq('email', cart.email)\n        .eq('converted', false)\n        .order('created_at', { ascending: false })\n        .limit(1)\n        .single();\n\n      if (existing) {\n        const { data, error } = await supabase.from('abandoned_carts')\n          .update({\n            cart_items: cart.cartItems,\n            total_amount: cart.totalAmount,\n            customer_name: cart.customerName,\n            updated_at: new Date().toISOString(),\n          })\n          .eq('id', existing.id)\n          .select()\n          .single();\n        if (error) throw error;\n        return data;\n      }\n\n      const { data, error } = await supabase.from('abandoned_carts')\n        .insert({\n          email: cart.email,\n          customer_name: cart.customerName,\n          cart_items: cart.cartItems,\n          total_amount: cart.totalAmount,\n        })\n        .select()\n        .single();\n      if (error) throw error;\n      return data;\n    },\n\n    async getAbandonedCartsToRecover(): Promise<any[]> {\n      const thirtyMinutesAgo = new Date(Date.now() - 30 * 60 * 1000);\n      const { data } = await supabase.from('abandoned_carts')\n        .select('*')\n        .eq('recovery_email_sent', false)\n        .eq('converted', false)\n        .lt('created_at', thirtyMinutesAgo.toISOString())\n        .order('created_at', { ascending: false });\n      return data || [];\n    },\n\n    async markRecoveryEmailSent(id: string): Promise<void> {\n      await supabase.from('abandoned_carts')\n        .update({\n          recovery_email_sent: true,\n          recovery_email_sent_at: new Date().toISOString(),\n        })\n        .eq('id', id);\n    },\n\n    async markCartConverted(id: string, orderId: string): Promise<void> {\n      await supabase.from('abandoned_carts')\n        .update({\n          converted: true,\n          converted_order_id: orderId,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('id', id);\n    },\n  };\n}\n\nexport type Storage = ReturnType<typeof createStorage>;\n","path":null,"size_bytes":26338,"size_tokens":null},"worker/db.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nexport interface DbConfig {\n  supabaseUrl: string;\n  supabaseKey: string;\n}\n\nexport function createDb(config: DbConfig) {\n  const supabase = createClient(config.supabaseUrl, config.supabaseKey);\n  return supabase;\n}\n\nexport type DbClient = ReturnType<typeof createDb>;\n","path":null,"size_bytes":324,"size_tokens":null},"script/build-worker.ts":{"content":"import { build as viteBuild } from \"vite\";\nimport { rm, mkdir, cp } from \"fs/promises\";\nimport { spawn } from \"child_process\";\nimport path from \"path\";\n\nasync function runPrerenderBlog(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    console.log(\"Running blog prerender script...\");\n    const child = spawn(\"npx\", [\"tsx\", \"scripts/prerender-blog.ts\"], {\n      stdio: \"inherit\",\n      shell: true,\n    });\n    \n    child.on(\"close\", (code) => {\n      if (code === 0) {\n        resolve();\n      } else {\n        console.warn(`Prerender exited with code ${code}, continuing...`);\n        resolve();\n      }\n    });\n    \n    child.on(\"error\", (err) => {\n      console.warn(\"Prerender error:\", err.message);\n      resolve();\n    });\n  });\n}\n\nasync function buildProject() {\n  await rm(\"dist\", { recursive: true, force: true });\n  await mkdir(\"dist\", { recursive: true });\n\n  console.log(\"Building client with Vite...\");\n  await viteBuild({\n    configFile: path.resolve(process.cwd(), \"vite.config.cloudflare.ts\"),\n    build: {\n      outDir: path.resolve(process.cwd(), \"dist\"),\n      emptyOutDir: false,\n    },\n  });\n\n  console.log(\"Copying Pages Functions...\");\n  await cp(\"functions\", \"dist/functions\", { recursive: true });\n\n  console.log(\"Prerendering blog posts for SEO...\");\n  await runPrerenderBlog();\n\n  console.log(\"Build complete!\");\n  console.log(\"Output:\");\n  console.log(\"  - dist/ (static assets + functions directory)\");\n  console.log(\"  - dist/blog/ (prerendered blog posts for SEO)\");\n}\n\nbuildProject().catch((err) => {\n  console.error(\"Build failed:\", err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1612,"size_tokens":null},"worker/routes/orders.ts":{"content":"import { Hono } from 'hono';\nimport { getStorage } from '../helpers';\nimport type { Env } from '../index';\n\nexport function createOrderRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.get('/:email', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const orders = await storage.getOrdersByEmail(c.req.param('email'));\n      return c.json({ data: orders });\n    } catch (error: any) {\n      console.error(\"Error fetching orders:\", error);\n      return c.json({ error: \"Failed to fetch orders\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":566,"size_tokens":null},"worker/routes/webhook.ts":{"content":"import { Hono } from 'hono';\nimport Stripe from 'stripe';\nimport { getStorage } from '../helpers';\nimport { sendOrderConfirmation, sendCredentialsEmail, sendOwnerOrderNotification, generateCredentials, generateUniqueCredentials } from '../email';\nimport type { Env } from '../index';\n\ntype Storage = ReturnType<typeof getStorage>;\n\nexport function createWebhookRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  // Handle webhook with optional UUID suffix (from stripe-replit-sync managed webhooks)\n  const handleWebhook = async (c: any) => {\n    const signature = c.req.header('stripe-signature');\n    const eventId = c.req.header('stripe-webhook-event-id') || 'unknown';\n\n    console.log(`[WEBHOOK] Received request, event-id header: ${eventId}`);\n\n    if (!signature) {\n      console.error('[WEBHOOK] Missing stripe-signature header');\n      return c.json({ error: 'Missing stripe-signature' }, 400);\n    }\n\n    const webhookSecret = c.env.STRIPE_WEBHOOK_SECRET;\n    if (!webhookSecret) {\n      console.error('[WEBHOOK] STRIPE_WEBHOOK_SECRET not configured');\n      return c.json({ error: 'Webhook not configured' }, 500);\n    }\n\n    let event: Stripe.Event;\n    try {\n      const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n      const rawBody = await c.req.text();\n      event = stripe.webhooks.constructEvent(rawBody, signature, webhookSecret);\n      console.log(`[WEBHOOK] Verified event: ${event.type} (${event.id})`);\n    } catch (error: any) {\n      console.error(`[WEBHOOK] Signature verification failed: ${error.message}`);\n      return c.json({ error: 'Invalid signature' }, 400);\n    }\n\n    const storage = getStorage(c.env);\n    let processingResult = { success: true, error: null as string | null };\n\n    try {\n      switch (event.type) {\n        case 'checkout.session.completed':\n          console.log(`[WEBHOOK] Processing checkout.session.completed`);\n          await handleCheckoutComplete(event.data.object, storage, c.env);\n          console.log(`[WEBHOOK] checkout.session.completed processed successfully`);\n          break;\n        case 'payment_intent.succeeded':\n          console.log(`[WEBHOOK] Processing payment_intent.succeeded`);\n          await handlePaymentSucceeded(event.data.object, storage, c.env);\n          console.log(`[WEBHOOK] payment_intent.succeeded processed successfully`);\n          break;\n        case 'payment_intent.payment_failed':\n          console.log(`[WEBHOOK] Processing payment_intent.payment_failed`);\n          await handlePaymentFailed(event.data.object, storage);\n          console.log(`[WEBHOOK] payment_intent.payment_failed processed successfully`);\n          break;\n        case 'charge.succeeded':\n        case 'charge.updated':\n        case 'charge.captured':\n          // These are informational events - we handle payments via checkout.session.completed\n          console.log(`[WEBHOOK] Acknowledged ${event.type} (no action needed)`);\n          break;\n        case 'payment_intent.created':\n        case 'payment_intent.processing':\n          // These are intermediate states - no action needed\n          console.log(`[WEBHOOK] Acknowledged ${event.type} (intermediate state)`);\n          break;\n        default:\n          console.log(`[WEBHOOK] Unhandled event type: ${event.type}`);\n          break;\n      }\n    } catch (error: any) {\n      console.error(`[WEBHOOK] Error processing ${event.type}: ${error.message}`);\n      console.error(`[WEBHOOK] Stack trace: ${error.stack}`);\n      processingResult = { success: false, error: error.message };\n    }\n\n    // Always return 200 to prevent Stripe retries (event was received)\n    if (processingResult.success) {\n      return c.json({ received: true, event: event.type, status: 'processed' });\n    } else {\n      return c.json({ \n        received: true, \n        event: event.type, \n        status: 'error', \n        error: processingResult.error \n      });\n    }\n  };\n\n  // Register both routes - with and without UUID\n  app.post('/webhook', handleWebhook);\n  app.post('/webhook/:uuid', handleWebhook);\n\n  return app;\n}\n\nasync function handleCheckoutComplete(session: any, storage: Storage, env: Env) {\n  console.log(`[CHECKOUT] Session completed: ${session.id}`);\n  console.log(`[CHECKOUT] Payment intent: ${session.payment_intent}`);\n  console.log(`[CHECKOUT] Customer email: ${session.customer_details?.email}`);\n  \n  const order = await storage.getOrderByCheckoutSession(session.id);\n  if (!order) {\n    console.error(`[CHECKOUT] ERROR: No order found for session: ${session.id}`);\n    return;\n  }\n\n  console.log(`[CHECKOUT] Found order: ${order.id} for ${order.customerEmail}`);\n  console.log(`[CHECKOUT] Product: ${order.realProductName} ($${(order.amount / 100).toFixed(2)})`);\n\n  const updateData: any = {\n    status: 'paid',\n    stripePaymentIntentId: session.payment_intent,\n    stripeCustomerId: session.customer,\n  };\n\n  if (session.shipping_details) {\n    const shipping = session.shipping_details;\n    updateData.shippingName = shipping.name || null;\n    updateData.shippingPhone = session.customer_details?.phone || null;\n    \n    if (shipping.address) {\n      const line1 = shipping.address.line1 || '';\n      const line2 = shipping.address.line2 || '';\n      updateData.shippingStreet = line2 ? `${line1}, ${line2}` : line1;\n      updateData.shippingCity = shipping.address.city || null;\n      updateData.shippingState = shipping.address.state || null;\n      updateData.shippingZip = shipping.address.postal_code || null;\n      updateData.shippingCountry = shipping.address.country || null;\n    }\n    \n    console.log(`Shipping address captured for order ${order.id}`);\n  }\n\n  const productIds = order.realProductId?.split(',') || [];\n  const hasIPTV = productIds.some(id => id.trim().startsWith('iptv-')) || \n                  productIds.some(id => id.trim().startsWith('firestick-'));\n\n  if (hasIPTV) {\n    if (order.isRenewal && order.existingUsername) {\n      console.log(`Processing renewal for existing username: ${order.existingUsername}`);\n      \n      const existingCustomer = await storage.getCustomerByUsername(order.existingUsername);\n      if (existingCustomer) {\n        updateData.generatedUsername = existingCustomer.username;\n        updateData.generatedPassword = existingCustomer.password;\n        \n        if (!order.customerId) {\n          updateData.customerId = existingCustomer.id;\n        }\n        \n        await storage.incrementCustomerOrders(existingCustomer.id);\n        console.log(`Renewal processed for customer ${existingCustomer.id}, order count incremented`);\n      } else {\n        console.log(`WARNING: Could not find customer with username ${order.existingUsername}`);\n      }\n    } else {\n      console.log(`Processing new customer order, generating credentials`);\n      \n      const credentials = await generateUniqueCredentials(order, storage);\n      updateData.generatedUsername = credentials.username;\n      updateData.generatedPassword = credentials.password;\n      \n      const customerPhone = session.customer_details?.phone || order.shippingPhone || updateData.shippingPhone || undefined;\n      const customerName = order.customerName || session.customer_details?.name || undefined;\n      \n      try {\n        const newCustomer = await storage.createCustomer({\n          username: credentials.username,\n          password: credentials.password,\n          email: order.customerEmail,\n          fullName: customerName,\n          phone: customerPhone,\n        });\n        \n        updateData.customerId = newCustomer.id;\n        console.log(`Created new customer ${newCustomer.id} with username ${credentials.username}`);\n        \n        await storage.incrementCustomerOrders(newCustomer.id);\n      } catch (error) {\n        console.error('Error creating customer record:', error);\n      }\n    }\n  }\n\n  await storage.updateOrder(order.id, updateData);\n  console.log(`[CHECKOUT] Order ${order.id} marked as paid`);\n\n  const updatedOrder = await storage.getOrder(order.id);\n  if (updatedOrder) {\n    console.log(`[EMAIL] Starting email delivery for order ${order.id}`);\n    \n    // Send order confirmation\n    try {\n      await sendOrderConfirmation(updatedOrder, env);\n      console.log(`[EMAIL] Order confirmation sent to ${updatedOrder.customerEmail}`);\n    } catch (error: any) {\n      console.error(`[EMAIL] ERROR sending order confirmation: ${error.message}`);\n    }\n    \n    // Send owner notification\n    try {\n      await sendOwnerOrderNotification(updatedOrder, env);\n      console.log(`[EMAIL] Owner notification sent`);\n    } catch (error: any) {\n      console.error(`[EMAIL] ERROR sending owner notification: ${error.message}`);\n    }\n    \n    // Send credentials if not already sent\n    if (!updatedOrder.credentialsSent) {\n      try {\n        await sendCredentialsEmail(updatedOrder, env, storage);\n        console.log(`[EMAIL] Credentials sent to ${updatedOrder.customerEmail}`);\n      } catch (error: any) {\n        console.error(`[EMAIL] ERROR sending credentials: ${error.message}`);\n      }\n    } else {\n      console.log(`[EMAIL] Credentials already sent for order ${order.id}`);\n    }\n    \n    console.log(`[CHECKOUT] Completed processing order ${order.id}`);\n  }\n}\n\nasync function handlePaymentSucceeded(paymentIntent: any, storage: Storage, env: Env) {\n  console.log(`Payment succeeded: ${paymentIntent.id}`);\n  \n  const order = await storage.getOrderByPaymentIntent(paymentIntent.id);\n  if (!order) {\n    return;\n  }\n\n  if (order.status !== 'paid') {\n    await storage.updateOrder(order.id, {\n      status: 'paid',\n    });\n    console.log(`Order ${order.id} marked as paid via payment_intent.succeeded`);\n\n    const updatedOrder = await storage.getOrder(order.id);\n    if (updatedOrder) {\n      try {\n        await sendOrderConfirmation(updatedOrder, env);\n        await sendOwnerOrderNotification(updatedOrder, env);\n      } catch (error) {\n        console.error('Error sending emails:', error);\n      }\n    }\n  }\n}\n\nasync function handlePaymentFailed(paymentIntent: any, storage: Storage) {\n  console.log(`Payment failed: ${paymentIntent.id}`);\n  \n  const order = await storage.getOrderByPaymentIntent(paymentIntent.id);\n  if (!order) {\n    return;\n  }\n\n  await storage.updateOrder(order.id, {\n    status: 'failed',\n  });\n  console.log(`Order ${order.id} marked as failed`);\n}\n","path":null,"size_bytes":10299,"size_tokens":null},"worker/routes/trial.ts":{"content":"import { Hono } from 'hono';\nimport { Resend } from 'resend';\nimport type { Env } from '../index';\n\nconst IPTV_PORTAL_URL = 'http://ky-tv.cc';\nconst SETUP_VIDEO_URL = 'https://youtu.be/DYSOp6mUzDU';\nconst OWNER_EMAIL = 'reloadedfiretvteam@gmail.com';\n\nexport function createTrialRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.post('/', async (c) => {\n    try {\n      const body = await c.req.json();\n      const { email, name } = body;\n\n      if (!email || !name) {\n        return c.json({ error: \"Email and name are required\" }, 400);\n      }\n\n      if (!email.includes(\"@\")) {\n        return c.json({ error: \"Please enter a valid email address\" }, 400);\n      }\n\n      const resend = new Resend(c.env.RESEND_API_KEY);\n      const fromEmail = c.env.RESEND_FROM_EMAIL || 'noreply@streamstickpro.com';\n\n      const letters = 'abcdefghkmnpqrstuvwxyz';\n      const numbers = '23456789';\n      const symbols = '@#$%&*!';\n      const timestamp = Date.now().toString(36);\n      const seed = email.replace(/[^a-zA-Z0-9]/g, '') + timestamp;\n      \n      const generateChar = (index: number, charset: string): string => {\n        const charCode = seed.charCodeAt(index % seed.length) || 65;\n        return charset[(charCode + index) % charset.length];\n      };\n      \n      const nameClean = name.replace(/[^a-zA-Z]/g, '').toLowerCase().substring(0, 3);\n      let username = nameClean.length >= 2 ? nameClean : 'usr';\n      for (let i = 0; username.length < 8; i++) {\n        username += generateChar(i, numbers + letters);\n      }\n      username = username.substring(0, 10);\n      \n      let password = '';\n      password += generateChar(0, letters.toUpperCase());\n      password += generateChar(1, letters);\n      password += generateChar(2, numbers);\n      password += generateChar(3, symbols);\n      for (let i = 4; password.length < 10; i++) {\n        password += generateChar(i + 5, letters + letters.toUpperCase() + numbers + symbols);\n      }\n      \n      const trialCredentials = {\n        username: username,\n        password: password.substring(0, 10),\n      };\n\n      await resend.emails.send({\n        from: fromEmail,\n        to: email,\n        subject: 'Your FREE 36-Hour IPTV Trial Credentials - StreamStickPro',\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h1 style=\"color: #9333ea;\"> Your Free Trial is Ready!</h1>\n            \n            <p>Hi ${name},</p>\n            \n            <p>Thank you for trying StreamStickPro! Here are your <strong>36-hour free trial</strong> credentials:</p>\n            \n            <div style=\"background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%); padding: 25px; border-radius: 12px; margin: 20px 0; color: white;\">\n              <h2 style=\"margin-top: 0; color: white;\">Your Trial Credentials</h2>\n              <p style=\"font-size: 16px;\"><strong>Portal URL:</strong> <a href=\"${IPTV_PORTAL_URL}\" style=\"color: #fef08a;\">${IPTV_PORTAL_URL}</a></p>\n              <p style=\"font-size: 18px;\"><strong>Username:</strong> ${trialCredentials.username}</p>\n              <p style=\"font-size: 18px;\"><strong>Password:</strong> ${trialCredentials.password}</p>\n            </div>\n            \n            <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h3 style=\"color: #7c3aed; margin-top: 0;\">Quick Setup Guide:</h3>\n              <ol style=\"color: #4c1d95;\">\n                <li>Download IPTV Smarters or TiviMate app on your device</li>\n                <li>Enter the portal URL: ${IPTV_PORTAL_URL}</li>\n                <li>Enter your username and password above</li>\n                <li>Enjoy 18,000+ live channels for FREE!</li>\n              </ol>\n              <p><strong>Watch our setup video:</strong> <a href=\"${SETUP_VIDEO_URL}\" style=\"color: #7c3aed;\">${SETUP_VIDEO_URL}</a></p>\n            </div>\n            \n            <div style=\"background: #fef3c7; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #f59e0b;\">\n              <strong> Remember:</strong> Your trial expires in 36 hours. Upgrade anytime to keep streaming!\n            </div>\n            \n            <p>Love the service? <a href=\"https://streamstickpro.com\" style=\"color: #9333ea; font-weight: bold;\">Visit our shop</a> to get full access!</p>\n            \n            <p>Questions? Reply to this email or contact us at reloadedfiretvteam@gmail.com</p>\n            \n            <p>Happy Streaming! <br>StreamStickPro Team</p>\n          </div>\n        `,\n      });\n\n      await resend.emails.send({\n        from: fromEmail,\n        to: OWNER_EMAIL,\n        subject: ` New Free Trial Signup - ${name}`,\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h1 style=\"color: #9333ea;\">New Free Trial Request</h1>\n            \n            <div style=\"background: #f3e8ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h2 style=\"margin-top: 0; color: #7c3aed;\">Customer Details</h2>\n              <p><strong>Name:</strong> ${name}</p>\n              <p><strong>Email:</strong> ${email}</p>\n              <p><strong>Signed up:</strong> ${new Date().toLocaleString()}</p>\n            </div>\n            \n            <div style=\"background: #e0e7ff; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n              <h2 style=\"margin-top: 0; color: #4338ca;\">Trial Credentials Sent</h2>\n              <p><strong>Username:</strong> ${trialCredentials.username}</p>\n              <p><strong>Password:</strong> ${trialCredentials.password}</p>\n              <p><strong>Expires:</strong> 36 hours from signup</p>\n            </div>\n            \n            <p>This customer may convert to a paying customer. Consider following up after their trial expires!</p>\n          </div>\n        `,\n      });\n\n      console.log(`Free trial credentials sent to ${email}, owner notified`);\n\n      return c.json({ success: true, message: \"Trial credentials sent\" });\n    } catch (error: any) {\n      console.error(\"Error processing free trial:\", error);\n      return c.json({ error: \"Failed to process trial request. Please try again.\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":6245,"size_tokens":null},"worker/routes/checkout.ts":{"content":"import { Hono } from 'hono';\nimport Stripe from 'stripe';\nimport { getStorage } from '../helpers';\nimport { checkoutRequestSchema } from '../../shared/schema';\nimport type { Env } from '../index';\n\nexport function createCheckoutRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.post('/', async (c) => {\n    try {\n      console.log(\"Checkout: Starting checkout process\");\n      const storage = getStorage(c.env);\n      const body = await c.req.json();\n      console.log(\"Checkout: Received body:\", JSON.stringify(body));\n      \n      const parseResult = checkoutRequestSchema.safeParse(body);\n      if (!parseResult.success) {\n        console.log(\"Checkout: Validation failed:\", parseResult.error.message);\n        return c.json({ error: parseResult.error.message }, 400);\n      }\n      \n      const { items, customerEmail, customerName, customerPhone, customerMessage, isRenewal, existingUsername, countryPreference } = parseResult.data;\n      console.log(\"Checkout: Parsed data - items:\", items.length, \"email:\", customerEmail);\n\n      let existingCustomer: Awaited<ReturnType<typeof storage.getCustomerByUsername>> | null = null;\n      if (isRenewal && existingUsername) {\n        existingCustomer = await storage.getCustomerByUsername(existingUsername) ?? null;\n        if (!existingCustomer) {\n          return c.json({ \n            error: \"Username not found. Please check your username or select 'New Account' instead.\" \n          }, 404);\n        }\n      }\n\n      const productsWithQuantity: Array<{ product: any; quantity: number }> = [];\n      \n      for (const item of items) {\n        console.log(\"Checkout: Looking up product:\", item.productId);\n        const product = await storage.getRealProduct(item.productId);\n        if (!product) {\n          console.log(\"Checkout: Product not found:\", item.productId);\n          return c.json({ error: `Product not found: ${item.productId}` }, 404);\n        }\n        if (!product.shadowPriceId) {\n          console.log(\"Checkout: Product not configured:\", item.productId);\n          return c.json({ error: `Product not configured for checkout: ${item.productId}` }, 400);\n        }\n        console.log(\"Checkout: Found product:\", product.name, \"shadowPriceId:\", product.shadowPriceId);\n        productsWithQuantity.push({ product, quantity: item.quantity });\n      }\n\n      console.log(\"Checkout: Creating Stripe session\");\n      const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n\n      const baseUrl = new URL(c.req.url).origin;\n\n      const lineItems = productsWithQuantity.map(({ product, quantity }) => ({\n        price: product.shadowPriceId,\n        quantity,\n      }));\n\n      const realProductIds = productsWithQuantity.map(p => p.product.id).join(',');\n      const realProductNames = productsWithQuantity.map(p => p.product.name).join(', ');\n      const shadowProductIds = productsWithQuantity.map(p => p.product.shadowProductId || '').join(',');\n\n      const hasPhysicalProduct = productsWithQuantity.some(({ product }) => {\n        const name = (product.name || '').toLowerCase();\n        const id = (product.id || '').toLowerCase();\n        return name.includes('fire') || name.includes('stick') || name.includes('firestick') ||\n               name.includes('onn') || name.includes('android') || name.includes('device') ||\n               id.includes('firestick') || id.includes('android-onn');\n      });\n\n      const sessionConfig: any = {\n        line_items: lineItems,\n        mode: 'payment',\n        success_url: `${baseUrl}/success?session_id={CHECKOUT_SESSION_ID}`,\n        cancel_url: `${baseUrl}/cancel`,\n        customer_email: customerEmail,\n        metadata: {\n          realProductIds,\n          realProductNames,\n          shadowProductIds,\n          isRenewal: isRenewal ? 'true' : 'false',\n          existingUsername: existingUsername || '',\n          existingCustomerId: existingCustomer?.id || '',\n        },\n      };\n\n      if (hasPhysicalProduct) {\n        sessionConfig.shipping_address_collection = {\n          allowed_countries: ['US', 'CA'],\n        };\n        sessionConfig.phone_number_collection = {\n          enabled: true,\n        };\n      }\n\n      console.log(\"Checkout: Calling stripe.checkout.sessions.create with lineItems:\", JSON.stringify(lineItems));\n      const session = await stripe.checkout.sessions.create(sessionConfig);\n      console.log(\"Checkout: Stripe session created:\", session.id);\n\n      const totalAmount = productsWithQuantity.reduce(\n        (sum, { product, quantity }) => sum + product.price * quantity, \n        0\n      );\n\n      console.log(\"Checkout: Creating order in database\");\n      const order = await storage.createOrder({\n        customerEmail,\n        customerName: customerName || null,\n        stripeCheckoutSessionId: session.id,\n        shadowProductId: shadowProductIds,\n        shadowPriceId: productsWithQuantity.map(p => p.product.shadowPriceId).join(','),\n        realProductId: realProductIds,\n        realProductName: realProductNames,\n        amount: totalAmount,\n        status: 'pending',\n        credentialsSent: false,\n        isRenewal: isRenewal || false,\n        existingUsername: existingUsername || null,\n        customerId: existingCustomer?.id || null,\n        countryPreference: countryPreference || null,\n      });\n      console.log(\"Checkout: Order created:\", order.id);\n\n      return c.json({ \n        sessionId: session.id,\n        url: session.url,\n        orderId: order.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error creating checkout session:\", error.message || error);\n      console.error(\"Error stack:\", error.stack);\n      return c.json({ error: \"Failed to create checkout session\", details: error.message }, 500);\n    }\n  });\n\n  app.get('/session/:sessionId', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const order = await storage.getOrderByCheckoutSession(c.req.param('sessionId'));\n      if (!order) {\n        return c.json({ error: \"Order not found\" }, 404);\n      }\n      \n      const stripe = new Stripe(c.env.STRIPE_SECRET_KEY);\n      const session = await stripe.checkout.sessions.retrieve(c.req.param('sessionId'));\n      \n      return c.json({ \n        order,\n        paymentStatus: session.payment_status,\n        customerEmail: session.customer_details?.email,\n      });\n    } catch (error: any) {\n      console.error(\"Error fetching checkout session:\", error);\n      return c.json({ error: \"Failed to fetch checkout session\" }, 500);\n    }\n  });\n\n  return app;\n}\n","path":null,"size_bytes":6508,"size_tokens":null},"script/push-to-github.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  if (connectionSettings && connectionSettings.settings.expires_at && new Date(connectionSettings.settings.expires_at).getTime() > Date.now()) {\n    return connectionSettings.settings.access_token;\n  }\n  \n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  if (!xReplitToken) {\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken\n      }\n    }\n  ).then(res => res.json()).then(data => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n\n  if (!connectionSettings || !accessToken) {\n    throw new Error('GitHub not connected');\n  }\n  return accessToken;\n}\n\nasync function getUncachableGitHubClient() {\n  const accessToken = await getAccessToken();\n  return new Octokit({ auth: accessToken });\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst filesToPush = [\n  'worker/index.ts',\n  'worker/db.ts',\n  'worker/storage.ts',\n  'worker/email.ts',\n  'worker/routes/products.ts',\n  'worker/routes/checkout.ts',\n  'worker/routes/orders.ts',\n  'worker/routes/admin.ts',\n  'worker/routes/webhook.ts',\n  'worker/routes/visitors.ts',\n  'worker/routes/customers.ts',\n  'worker/routes/trial.ts',\n  'wrangler.toml',\n  'script/build-worker.ts',\n  '.github/workflows/deploy-cloudflare.yml',\n  'client/src/pages/MainStore.tsx',\n  'client/src/pages/ShadowStore.tsx',\n  'client/src/pages/CustomerPortal.tsx',\n  'server/seed-products.ts',\n  'server/webhookHandlers.ts',\n  'server/routes.ts',\n  'attached_assets/s-l1600onnbok_1766008738774.webp',\n  'attached_assets/OIPonnbox4k_1766008832103.webp',\n];\n\nasync function pushFiles() {\n  const octokit = await getUncachableGitHubClient();\n  \n  console.log('Getting current branch reference...');\n  const { data: ref } = await octokit.git.getRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`,\n  });\n  const currentSha = ref.object.sha;\n  console.log(`Current commit SHA: ${currentSha}`);\n\n  console.log('Getting current commit tree...');\n  const { data: currentCommit } = await octokit.git.getCommit({\n    owner: OWNER,\n    repo: REPO,\n    commit_sha: currentSha,\n  });\n  const baseTreeSha = currentCommit.tree.sha;\n\n  console.log('Creating blobs for files...');\n  const treeItems: Array<{\n    path: string;\n    mode: '100644';\n    type: 'blob';\n    sha: string;\n  }> = [];\n\n  for (const filePath of filesToPush) {\n    const fullPath = path.join(process.cwd(), filePath);\n    if (!fs.existsSync(fullPath)) {\n      console.log(`Skipping ${filePath} - file not found`);\n      continue;\n    }\n    \n    const content = fs.readFileSync(fullPath, 'utf-8');\n    console.log(`Creating blob for ${filePath}...`);\n    \n    const { data: blob } = await octokit.git.createBlob({\n      owner: OWNER,\n      repo: REPO,\n      content: Buffer.from(content).toString('base64'),\n      encoding: 'base64',\n    });\n    \n    treeItems.push({\n      path: filePath,\n      mode: '100644',\n      type: 'blob',\n      sha: blob.sha,\n    });\n  }\n\n  console.log(`Creating new tree with ${treeItems.length} files...`);\n  const { data: newTree } = await octokit.git.createTree({\n    owner: OWNER,\n    repo: REPO,\n    base_tree: baseTreeSha,\n    tree: treeItems,\n  });\n\n  console.log('Creating commit...');\n  const { data: newCommit } = await octokit.git.createCommit({\n    owner: OWNER,\n    repo: REPO,\n    message: 'Cloudflare Workers migration - remove all Replit dependencies',\n    tree: newTree.sha,\n    parents: [currentSha],\n  });\n  console.log(`New commit SHA: ${newCommit.sha}`);\n\n  console.log('Updating branch reference...');\n  await octokit.git.updateRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`,\n    sha: newCommit.sha,\n  });\n\n  console.log(`Successfully pushed ${treeItems.length} files to ${BRANCH}!`);\n  console.log('GitHub Actions should now trigger the Cloudflare deployment.');\n}\n\npushFiles().catch(console.error);\n","path":null,"size_bytes":4535,"size_tokens":null},"script/deploy-cloudflare.ts":{"content":"import * as fs from 'fs';\nimport * as path from 'path';\n\nconst CLOUDFLARE_ACCOUNT_ID = process.env.CLOUDFLARE_ACCOUNT_ID;\nconst CLOUDFLARE_API_TOKEN = process.env.CLOUDFLARE_API_TOKEN;\nconst PROJECT_NAME = 'streamerstickpro-live';\n\nasync function getFiles(dir: string, baseDir: string = dir): Promise<Array<{path: string, content: Buffer}>> {\n  const files: Array<{path: string, content: Buffer}> = [];\n  const entries = fs.readdirSync(dir, { withFileTypes: true });\n  \n  for (const entry of entries) {\n    const fullPath = path.join(dir, entry.name);\n    if (entry.isDirectory()) {\n      files.push(...await getFiles(fullPath, baseDir));\n    } else {\n      const relativePath = path.relative(baseDir, fullPath);\n      files.push({\n        path: relativePath,\n        content: fs.readFileSync(fullPath)\n      });\n    }\n  }\n  \n  return files;\n}\n\nasync function deploy() {\n  if (!CLOUDFLARE_ACCOUNT_ID || !CLOUDFLARE_API_TOKEN) {\n    console.error('Missing CLOUDFLARE_ACCOUNT_ID or CLOUDFLARE_API_TOKEN');\n    process.exit(1);\n  }\n\n  console.log('Collecting files from dist/...');\n  const distPath = path.join(process.cwd(), 'dist');\n  const files = await getFiles(distPath);\n  console.log(`Found ${files.length} files to upload`);\n\n  const formData = new FormData();\n  \n  for (const file of files) {\n    const blob = new Blob([file.content]);\n    formData.append(file.path, blob, file.path);\n  }\n\n  console.log('Uploading to Cloudflare Pages...');\n  \n  const response = await fetch(\n    `https://api.cloudflare.com/client/v4/accounts/${CLOUDFLARE_ACCOUNT_ID}/pages/projects/${PROJECT_NAME}/deployments`,\n    {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${CLOUDFLARE_API_TOKEN}`,\n      },\n      body: formData\n    }\n  );\n\n  const result = await response.json();\n  \n  if (result.success) {\n    console.log('Deployment successful!');\n    console.log('URL:', result.result?.url || 'Check Cloudflare dashboard');\n  } else {\n    console.error('Deployment failed:', JSON.stringify(result.errors, null, 2));\n  }\n}\n\ndeploy().catch(console.error);\n","path":null,"size_bytes":2066,"size_tokens":null},"worker/routes/auth.ts":{"content":"import { Hono } from 'hono';\nimport { sign, verify } from 'hono/jwt';\nimport type { Env } from '../index';\n\nconst DEFAULT_JWT_SECRET = 'streamstickpro-admin-secret-2024';\nconst TOKEN_EXPIRY = 24 * 60 * 60;\n\nfunction getJwtSecret(env: Env): string {\n  return env.JWT_SECRET || DEFAULT_JWT_SECRET;\n}\n\nasync function hashPassword(password: string, secret: string): Promise<string> {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(password + secret);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\nasync function verifyPassword(password: string, hash: string, secret: string): Promise<boolean> {\n  const computedHash = await hashPassword(password, secret);\n  return computedHash === hash;\n}\n\nexport function createAuthRoutes() {\n  const app = new Hono<{ Bindings: Env }>();\n\n  app.post('/login', async (c) => {\n    try {\n      const body = await c.req.json();\n      const { username, password } = body;\n\n      if (!username || !password) {\n        return c.json({ error: 'Username and password are required' }, 400);\n      }\n\n      const jwtSecret = getJwtSecret(c.env);\n      const adminUsername = c.env.ADMIN_USERNAME || 'admin';\n      const adminPassword = c.env.ADMIN_PASSWORD || 'admin123';\n\n      if (username === adminUsername && password === adminPassword) {\n        const token = await sign(\n          { \n            sub: username, \n            role: 'admin',\n            exp: Math.floor(Date.now() / 1000) + TOKEN_EXPIRY \n          }, \n          jwtSecret\n        );\n        \n        return c.json({ success: true, token });\n      }\n\n      return c.json({ error: 'Invalid username or password' }, 401);\n    } catch (error: any) {\n      console.error('Login error:', error);\n      return c.json({ error: 'Login failed' }, 500);\n    }\n  });\n\n  app.post('/verify', async (c) => {\n    try {\n      const authHeader = c.req.header('Authorization');\n      \n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return c.json({ valid: false, error: 'No token provided' }, 401);\n      }\n\n      const token = authHeader.substring(7);\n      const jwtSecret = getJwtSecret(c.env);\n      \n      try {\n        const payload = await verify(token, jwtSecret);\n        return c.json({ valid: true, user: payload.sub, role: payload.role });\n      } catch {\n        return c.json({ valid: false, error: 'Invalid or expired token' }, 401);\n      }\n    } catch (error: any) {\n      console.error('Token verification error:', error);\n      return c.json({ valid: false, error: 'Verification failed' }, 500);\n    }\n  });\n\n  app.post('/logout', async (c) => {\n    return c.json({ success: true, message: 'Logged out successfully' });\n  });\n\n  app.post('/generate-hash', async (c) => {\n    try {\n      const body = await c.req.json();\n      const { password } = body;\n\n      if (!password) {\n        return c.json({ error: 'Password is required' }, 400);\n      }\n\n      const jwtSecret = getJwtSecret(c.env);\n      const hash = await hashPassword(password, jwtSecret);\n      return c.json({ \n        hash,\n        instructions: 'Set this hash as ADMIN_PASSWORD_HASH in your Cloudflare environment variables'\n      });\n    } catch (error: any) {\n      console.error('Hash generation error:', error);\n      return c.json({ error: 'Failed to generate hash' }, 500);\n    }\n  });\n\n  return app;\n}\n\nexport async function authMiddleware(c: any, next: () => Promise<void>) {\n  const authHeader = c.req.header('Authorization');\n  \n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    return c.json({ error: 'Authentication required' }, 401);\n  }\n\n  const token = authHeader.substring(7);\n  const jwtSecret = c.env.JWT_SECRET || DEFAULT_JWT_SECRET;\n  \n  try {\n    const payload = await verify(token, jwtSecret);\n    c.set('user', payload);\n    await next();\n  } catch {\n    return c.json({ error: 'Invalid or expired token' }, 401);\n  }\n}\n","path":null,"size_bytes":4008,"size_tokens":null},"script/push-files.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst filesToPush = [\n  'worker/index.ts',\n  'worker/db.ts',\n  'worker/storage.ts',\n  'worker/email.ts',\n  'worker/routes/products.ts',\n  'worker/routes/checkout.ts',\n  'worker/routes/orders.ts',\n  'worker/routes/admin.ts',\n  'worker/routes/webhook.ts',\n  'worker/routes/visitors.ts',\n  'worker/routes/customers.ts',\n  'worker/routes/trial.ts',\n  'wrangler.toml',\n  'script/build-worker.ts',\n  '.github/workflows/deploy-cloudflare.yml',\n];\n\nasync function getFileSha(octokit: Octokit, filePath: string): Promise<string | null> {\n  try {\n    const { data } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: filePath,\n      ref: BRANCH\n    });\n    if (!Array.isArray(data) && data.type === 'file') {\n      return data.sha;\n    }\n    return null;\n  } catch (error: any) {\n    if (error.status === 404) {\n      return null;\n    }\n    throw error;\n  }\n}\n\nasync function pushFile(octokit: Octokit, filePath: string) {\n  const fullPath = path.join(process.cwd(), filePath);\n  if (!fs.existsSync(fullPath)) {\n    console.log(`Skipping ${filePath} - file not found locally`);\n    return;\n  }\n  \n  const content = fs.readFileSync(fullPath, 'utf-8');\n  const sha = await getFileSha(octokit, filePath);\n  \n  console.log(`Pushing ${filePath}...`);\n  \n  await octokit.repos.createOrUpdateFileContents({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    message: `Update ${filePath} - Cloudflare Workers migration`,\n    content: Buffer.from(content).toString('base64'),\n    branch: BRANCH,\n    sha: sha || undefined\n  });\n  \n  console.log(`   ${filePath} pushed`);\n}\n\nasync function pushAllFiles() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  console.log('Pushing files to GitHub...\\n');\n  \n  for (const filePath of filesToPush) {\n    try {\n      await pushFile(octokit, filePath);\n    } catch (error: any) {\n      console.error(`   Failed to push ${filePath}: ${error.message}`);\n    }\n  }\n  \n  console.log('\\nDone! GitHub Actions should now trigger the Cloudflare deployment.');\n}\n\npushAllFiles().catch(console.error);\n","path":null,"size_bytes":3103,"size_tokens":null},"script/list-repos.ts":{"content":"import { Octokit } from '@octokit/rest';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nasync function listRepos() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  const { data: user } = await octokit.users.getAuthenticated();\n  console.log('Authenticated as:', user.login);\n  \n  const { data: repos } = await octokit.repos.listForAuthenticatedUser({\n    sort: 'updated',\n    per_page: 30\n  });\n  \n  console.log('\\nYour repositories:');\n  repos.forEach(r => console.log(`- ${r.full_name} (branch: ${r.default_branch})`));\n}\n\nlistRepos().catch(console.error);\n","path":null,"size_bytes":1350,"size_tokens":null},"script/push-remaining.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function checkAndPush() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  console.log('Checking wrangler.toml...');\n  try {\n    const { data } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: 'wrangler.toml',\n      ref: BRANCH\n    });\n    console.log(' wrangler.toml exists');\n  } catch (error: any) {\n    if (error.status === 404) {\n      console.log('Pushing wrangler.toml...');\n      const content = fs.readFileSync(path.join(process.cwd(), 'wrangler.toml'), 'utf-8');\n      await octokit.repos.createOrUpdateFileContents({\n        owner: OWNER,\n        repo: REPO,\n        path: 'wrangler.toml',\n        message: 'Add wrangler.toml for Cloudflare Workers',\n        content: Buffer.from(content).toString('base64'),\n        branch: BRANCH\n      });\n      console.log(' wrangler.toml pushed');\n    }\n  }\n\n  console.log('\\nPushing workflow via Git Data API...');\n  try {\n    const { data: ref } = await octokit.git.getRef({\n      owner: OWNER,\n      repo: REPO,\n      ref: `heads/${BRANCH}`,\n    });\n    const currentSha = ref.object.sha;\n    \n    const { data: currentCommit } = await octokit.git.getCommit({\n      owner: OWNER,\n      repo: REPO,\n      commit_sha: currentSha,\n    });\n\n    const workflowContent = fs.readFileSync(\n      path.join(process.cwd(), '.github/workflows/deploy-cloudflare.yml'), \n      'utf-8'\n    );\n\n    const { data: blob } = await octokit.git.createBlob({\n      owner: OWNER,\n      repo: REPO,\n      content: Buffer.from(workflowContent).toString('base64'),\n      encoding: 'base64',\n    });\n\n    const { data: tree } = await octokit.git.createTree({\n      owner: OWNER,\n      repo: REPO,\n      base_tree: currentCommit.tree.sha,\n      tree: [{\n        path: '.github/workflows/deploy-cloudflare.yml',\n        mode: '100644',\n        type: 'blob',\n        sha: blob.sha,\n      }],\n    });\n\n    const { data: newCommit } = await octokit.git.createCommit({\n      owner: OWNER,\n      repo: REPO,\n      message: 'Add Cloudflare deployment workflow',\n      tree: tree.sha,\n      parents: [currentSha],\n    });\n\n    await octokit.git.updateRef({\n      owner: OWNER,\n      repo: REPO,\n      ref: `heads/${BRANCH}`,\n      sha: newCommit.sha,\n    });\n\n    console.log(' Workflow file pushed successfully!');\n  } catch (error: any) {\n    console.error('Failed to push workflow:', error.message);\n  }\n}\n\ncheckAndPush().catch(console.error);\n","path":null,"size_bytes":3457,"size_tokens":null},"script/push-workflow.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function listWorkflows() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  console.log('Checking .github/workflows directory...\\n');\n  \n  try {\n    const { data: contents } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: '.github/workflows',\n      ref: BRANCH\n    });\n    \n    if (Array.isArray(contents)) {\n      console.log('Existing workflows:');\n      contents.forEach((f: any) => console.log(`  - ${f.name} (sha: ${f.sha})`));\n      \n      const deployFile = contents.find((f: any) => f.name === 'deploy-cloudflare.yml');\n      if (deployFile) {\n        console.log('\\nUpdating existing deploy-cloudflare.yml...');\n        const localContent = fs.readFileSync(path.join(process.cwd(), '.github/workflows/deploy-cloudflare.yml'), 'utf-8');\n        \n        await octokit.repos.createOrUpdateFileContents({\n          owner: OWNER,\n          repo: REPO,\n          path: '.github/workflows/deploy-cloudflare.yml',\n          message: 'Update Cloudflare deployment workflow for Workers',\n          content: Buffer.from(localContent).toString('base64'),\n          branch: BRANCH,\n          sha: deployFile.sha\n        });\n        console.log(' Workflow updated successfully!');\n      } else {\n        console.log('\\nNo deploy-cloudflare.yml found, creating new...');\n        const localContent = fs.readFileSync(path.join(process.cwd(), '.github/workflows/deploy-cloudflare.yml'), 'utf-8');\n        \n        await octokit.repos.createOrUpdateFileContents({\n          owner: OWNER,\n          repo: REPO,\n          path: '.github/workflows/deploy-cloudflare.yml',\n          message: 'Add Cloudflare Workers deployment workflow',\n          content: Buffer.from(localContent).toString('base64'),\n          branch: BRANCH\n        });\n        console.log(' Workflow created successfully!');\n      }\n    }\n  } catch (error: any) {\n    if (error.status === 404) {\n      console.log('.github/workflows directory does not exist, creating...');\n      \n      const localContent = fs.readFileSync(path.join(process.cwd(), '.github/workflows/deploy-cloudflare.yml'), 'utf-8');\n      \n      await octokit.repos.createOrUpdateFileContents({\n        owner: OWNER,\n        repo: REPO,\n        path: '.github/workflows/deploy-cloudflare.yml',\n        message: 'Add Cloudflare Workers deployment workflow',\n        content: Buffer.from(localContent).toString('base64'),\n        branch: BRANCH\n      });\n      console.log(' Workflow created successfully!');\n    } else {\n      console.error('Error:', error.message);\n    }\n  }\n}\n\nlistWorkflows().catch(console.error);\n","path":null,"size_bytes":3640,"size_tokens":null},"script/check-repo.ts":{"content":"import { Octokit } from '@octokit/rest';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function checkRepo() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  console.log('Checking repository access...');\n  \n  try {\n    const { data: repo } = await octokit.repos.get({\n      owner: OWNER,\n      repo: REPO\n    });\n    console.log('Repository:', repo.full_name);\n    console.log('Default branch:', repo.default_branch);\n    console.log('Permissions:', repo.permissions);\n    console.log('Private:', repo.private);\n    \n    const { data: ref } = await octokit.git.getRef({\n      owner: OWNER,\n      repo: REPO,\n      ref: `heads/${BRANCH}`,\n    });\n    console.log('\\nBranch SHA:', ref.object.sha);\n    \n    const { data: contents } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: '',\n      ref: BRANCH\n    });\n    console.log('\\nRoot files:', Array.isArray(contents) ? contents.map((c: any) => c.name).join(', ') : 'single file');\n    \n  } catch (error: any) {\n    console.error('Error:', error.message);\n  }\n}\n\ncheckRepo().catch(console.error);\n","path":null,"size_bytes":1987,"size_tokens":null},"script/verify-push.ts":{"content":"import { Octokit } from '@octokit/rest';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken!\n      }\n    }\n  ).then(res => res.json()).then((data: any) => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n  return accessToken;\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function verifyFiles() {\n  const accessToken = await getAccessToken();\n  const octokit = new Octokit({ auth: accessToken });\n  \n  console.log('Verifying pushed files...\\n');\n  \n  const directories = ['worker', 'worker/routes', 'script', '.github', '.github/workflows'];\n  \n  for (const dir of directories) {\n    try {\n      const { data: contents } = await octokit.repos.getContent({\n        owner: OWNER,\n        repo: REPO,\n        path: dir,\n        ref: BRANCH\n      });\n      \n      if (Array.isArray(contents)) {\n        console.log(` ${dir}/`);\n        contents.forEach((f: any) => console.log(`    - ${f.name}`));\n      }\n    } catch (error: any) {\n      if (error.status === 404) {\n        console.log(` ${dir}/ - not found`);\n      } else {\n        console.log(` ${dir}/ - error: ${error.message}`);\n      }\n    }\n  }\n  \n  console.log('\\nChecking GitHub Actions runs...');\n  try {\n    const { data: runs } = await octokit.actions.listWorkflowRunsForRepo({\n      owner: OWNER,\n      repo: REPO,\n      per_page: 5\n    });\n    \n    if (runs.workflow_runs.length === 0) {\n      console.log('No workflow runs found.');\n    } else {\n      console.log('Recent workflow runs:');\n      runs.workflow_runs.forEach((run: any) => {\n        console.log(`  - ${run.name}: ${run.status} (${run.conclusion || 'in progress'}) - ${run.created_at}`);\n      });\n    }\n  } catch (error: any) {\n    console.log('Could not list workflow runs:', error.message);\n  }\n}\n\nverifyFiles().catch(console.error);\n","path":null,"size_bytes":2436,"size_tokens":null},"client/src/components/SEOSchema.tsx":{"content":"import { useEffect, useMemo } from 'react';\n\ninterface FAQItem {\n  question: string;\n  answer: string;\n}\n\ninterface Product {\n  name: string;\n  description: string;\n  price: number;\n  image?: string;\n  sku?: string;\n  brand?: string;\n  availability?: 'InStock' | 'OutOfStock' | 'PreOrder';\n}\n\ninterface SEOSchemaProps {\n  faq?: FAQItem[];\n  products?: Product[];\n  breadcrumbs?: { name: string; url: string }[];\n}\n\nexport function SEOSchema({ faq, products, breadcrumbs }: SEOSchemaProps) {\n  const faqMemo = useMemo(() => faq, [JSON.stringify(faq)]);\n  const productsMemo = useMemo(() => products, [JSON.stringify(products)]);\n  const breadcrumbsMemo = useMemo(() => breadcrumbs, [JSON.stringify(breadcrumbs)]);\n\n  useEffect(() => {\n    if (faqMemo && faqMemo.length > 0) {\n      const existingFaq = document.querySelector('script[data-seo-schema=\"faq\"]');\n      if (existingFaq) existingFaq.remove();\n\n      const faqSchema = {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"FAQPage\",\n        \"mainEntity\": faqMemo.map(item => ({\n          \"@type\": \"Question\",\n          \"name\": item.question,\n          \"acceptedAnswer\": {\n            \"@type\": \"Answer\",\n            \"text\": item.answer\n          }\n        }))\n      };\n      const faqScript = document.createElement('script');\n      faqScript.type = 'application/ld+json';\n      faqScript.setAttribute('data-seo-schema', 'faq');\n      faqScript.textContent = JSON.stringify(faqSchema);\n      document.head.appendChild(faqScript);\n    }\n\n    return () => {\n      const faqScript = document.querySelector('script[data-seo-schema=\"faq\"]');\n      if (faqScript) faqScript.remove();\n    };\n  }, [faqMemo]);\n\n  useEffect(() => {\n    if (productsMemo && productsMemo.length > 0) {\n      document.querySelectorAll('script[data-seo-schema^=\"product-\"]').forEach(s => s.remove());\n\n      productsMemo.forEach((product, index) => {\n        const productSchema = {\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"Product\",\n          \"name\": product.name,\n          \"description\": product.description,\n          \"image\": product.image || \"https://streamstickpro.com/opengraph.jpg\",\n          \"brand\": {\n            \"@type\": \"Brand\",\n            \"name\": product.brand || \"StreamStickPro\"\n          },\n          \"sku\": product.sku || `SSP-${index + 1}`,\n          \"offers\": {\n            \"@type\": \"Offer\",\n            \"url\": \"https://streamstickpro.com\",\n            \"priceCurrency\": \"USD\",\n            \"price\": product.price,\n            \"availability\": `https://schema.org/${product.availability || 'InStock'}`,\n            \"seller\": {\n              \"@type\": \"Organization\",\n              \"name\": \"StreamStickPro\"\n            }\n          }\n        };\n        const productScript = document.createElement('script');\n        productScript.type = 'application/ld+json';\n        productScript.setAttribute('data-seo-schema', `product-${index}`);\n        productScript.textContent = JSON.stringify(productSchema);\n        document.head.appendChild(productScript);\n      });\n    }\n\n    return () => {\n      document.querySelectorAll('script[data-seo-schema^=\"product-\"]').forEach(s => s.remove());\n    };\n  }, [productsMemo]);\n\n  useEffect(() => {\n    if (breadcrumbsMemo && breadcrumbsMemo.length > 0) {\n      const existingBreadcrumbs = document.querySelector('script[data-seo-schema=\"breadcrumbs\"]');\n      if (existingBreadcrumbs) existingBreadcrumbs.remove();\n\n      const breadcrumbSchema = {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"BreadcrumbList\",\n        \"itemListElement\": breadcrumbsMemo.map((item, index) => ({\n          \"@type\": \"ListItem\",\n          \"position\": index + 1,\n          \"name\": item.name,\n          \"item\": item.url\n        }))\n      };\n      const breadcrumbScript = document.createElement('script');\n      breadcrumbScript.type = 'application/ld+json';\n      breadcrumbScript.setAttribute('data-seo-schema', 'breadcrumbs');\n      breadcrumbScript.textContent = JSON.stringify(breadcrumbSchema);\n      document.head.appendChild(breadcrumbScript);\n    }\n\n    return () => {\n      const breadcrumbScript = document.querySelector('script[data-seo-schema=\"breadcrumbs\"]');\n      if (breadcrumbScript) breadcrumbScript.remove();\n    };\n  }, [breadcrumbsMemo]);\n\n  return null;\n}\n\nexport function BlogPostSchema({ \n  title, \n  description, \n  datePublished, \n  dateModified,\n  author = \"StreamStickPro Team\",\n  image\n}: {\n  title: string;\n  description: string;\n  datePublished: string;\n  dateModified?: string;\n  author?: string;\n  image?: string;\n}) {\n  useEffect(() => {\n    const existingScript = document.querySelector('script[data-seo-schema=\"article\"]');\n    if (existingScript) existingScript.remove();\n\n    const articleSchema = {\n      \"@context\": \"https://schema.org\",\n      \"@type\": \"Article\",\n      \"headline\": title,\n      \"description\": description,\n      \"image\": image || \"https://streamstickpro.com/opengraph.jpg\",\n      \"author\": {\n        \"@type\": \"Organization\",\n        \"name\": author\n      },\n      \"publisher\": {\n        \"@type\": \"Organization\",\n        \"name\": \"StreamStickPro\",\n        \"logo\": {\n          \"@type\": \"ImageObject\",\n          \"url\": \"https://streamstickpro.com/favicon.png\"\n        }\n      },\n      \"datePublished\": datePublished,\n      \"dateModified\": dateModified || datePublished,\n      \"mainEntityOfPage\": {\n        \"@type\": \"WebPage\",\n        \"@id\": window.location.href\n      }\n    };\n\n    const script = document.createElement('script');\n    script.type = 'application/ld+json';\n    script.setAttribute('data-seo-schema', 'article');\n    script.textContent = JSON.stringify(articleSchema);\n    document.head.appendChild(script);\n\n    return () => {\n      const scriptToRemove = document.querySelector('script[data-seo-schema=\"article\"]');\n      if (scriptToRemove) scriptToRemove.remove();\n    };\n  }, [title, description, datePublished, dateModified, author, image]);\n\n  return null;\n}\n\nexport function HowToSchema({\n  name,\n  description,\n  steps,\n  totalTime\n}: {\n  name: string;\n  description: string;\n  steps: { name: string; text: string; image?: string }[];\n  totalTime?: string;\n}) {\n  const stepsMemo = useMemo(() => steps, [JSON.stringify(steps)]);\n\n  useEffect(() => {\n    const existingScript = document.querySelector('script[data-seo-schema=\"howto\"]');\n    if (existingScript) existingScript.remove();\n\n    const howToSchema = {\n      \"@context\": \"https://schema.org\",\n      \"@type\": \"HowTo\",\n      \"name\": name,\n      \"description\": description,\n      \"totalTime\": totalTime || \"PT15M\",\n      \"step\": stepsMemo.map((step, index) => ({\n        \"@type\": \"HowToStep\",\n        \"position\": index + 1,\n        \"name\": step.name,\n        \"text\": step.text,\n        ...(step.image && { \"image\": step.image })\n      }))\n    };\n\n    const script = document.createElement('script');\n    script.type = 'application/ld+json';\n    script.setAttribute('data-seo-schema', 'howto');\n    script.textContent = JSON.stringify(howToSchema);\n    document.head.appendChild(script);\n\n    return () => {\n      const scriptToRemove = document.querySelector('script[data-seo-schema=\"howto\"]');\n      if (scriptToRemove) scriptToRemove.remove();\n    };\n  }, [name, description, stepsMemo, totalTime]);\n\n  return null;\n}\n","path":null,"size_bytes":7258,"size_tokens":null},"docs/seo/backlink-outreach-kit.md":{"content":"# StreamStickPro Backlink Outreach Kit\n\n## Overview\n\nThis document contains email templates, target directories, and partnership strategies for building high-quality backlinks to StreamStickPro. The goal is to improve domain authority and organic search rankings for key terms like \"jailbroken fire stick,\" \"IPTV subscription,\" and \"cord cutting solutions.\"\n\n---\n\n## Cold Outreach Email Templates\n\n### Template 1: Guest Post Pitch\n\n**Subject Lines (A/B test these):**\n- \"Guest Post Idea: Complete Guide to [Their Niche Topic]\"\n- \"Content Collaboration Opportunity - Cord Cutting Expert\"\n- \"Would Your Readers Love This? [Streaming Topic]\"\n\n**Email Body:**\n\n```\nHi [Name],\n\nI've been following [Blog Name] for a while and really enjoyed your recent post on [specific article title]. Your insights on [specific point from article] were spot-on.\n\nI'm reaching out because I write for StreamStickPro, where we cover cord-cutting, streaming devices, and IPTV solutions. I'd love to contribute a guest post to your site.\n\nHere are a few topic ideas that might resonate with your audience:\n\n1. \"The Ultimate Guide to Cord Cutting in 2025: Save $1,500+ Per Year\"\n2. \"Fire Stick vs Roku vs Apple TV: Honest Comparison for Streamers\"\n3. \"How to Access Every Sports Channel Without Cable\"\n\nEach article would be 1,500-2,500 words, include original screenshots/images, and be completely unique to your site.\n\nIn return, I'd just ask for a single contextual link back to our site.\n\nWould any of these topics work for [Blog Name]? Happy to discuss other ideas if you have something specific in mind.\n\nBest,\n[Your Name]\nStreamStickPro\n```\n\n---\n\n### Template 2: Link Exchange Request\n\n**Subject Lines:**\n- \"Quick Question About Link Opportunities\"\n- \"Partnership Idea for [Their Site Name]\"\n- \"Mutual Value: Link Exchange Proposal\"\n\n**Email Body:**\n\n```\nHi [Name],\n\nI'm [Your Name] from StreamStickPro, a resource site for cord-cutters and streaming enthusiasts. I came across [Their Site] while researching [topic] and was impressed by your content.\n\nI noticed you have a great resource page on [specific page/topic]. We have a comprehensive guide on [related topic] that might be valuable to your readers: [Your Article URL]\n\nWould you be open to a simple link exchange? Here's what I'm proposing:\n\n- We link to your [specific page] from our relevant article on [topic]\n- You add a link to our guide from your [specific page/resource]\n\nThis would be mutually beneficial - both our readers get access to more valuable resources, and we both improve our SEO.\n\nLet me know if you're interested!\n\nBest,\n[Your Name]\n```\n\n---\n\n### Template 3: Broken Link Outreach\n\n**Subject Lines:**\n- \"Broken Link on [Page Title] - Quick Fix + Replacement\"\n- \"Found a Dead Link on Your Site (Easy Fix)\"\n- \"Heads Up: Link Issue on [Their Domain]\"\n\n**Email Body:**\n\n```\nHi [Name],\n\nI was reading your article on [Article Title] and noticed that one of the links is broken:\n\n- Broken Link: [URL of broken link]\n- Anchor Text: [The linked text]\n\nIt looks like the original page has been removed or moved.\n\nI actually have a similar resource that covers [topic] in depth: [Your Article URL]\n\nWould you consider updating the link to point to our resource? It covers [brief description of what your article covers].\n\nEither way, wanted to give you a heads up about the broken link!\n\nBest,\n[Your Name]\n```\n\n---\n\n### Template 4: Resource Page Inclusion\n\n**Subject Lines:**\n- \"Resource for Your [Topic] Page\"\n- \"Suggestion for Your Resources Section\"\n- \"Valuable Addition for [Page Name]\"\n\n**Email Body:**\n\n```\nHi [Name],\n\nI discovered your excellent resource page on [topic]: [Their Resource Page URL]\n\nIt's one of the most comprehensive collections I've seen on [topic].\n\nI wanted to suggest an addition that might be valuable to your readers. We recently published:\n\n\"[Article Title]\" - [Brief 1-sentence description]\nURL: [Your Article URL]\n\nThe guide covers:\n- [Key Point 1]\n- [Key Point 2]\n- [Key Point 3]\n\nI think it would fit perfectly in your [specific section] of the resource page.\n\nLet me know if you'd like me to send more details!\n\nBest,\n[Your Name]\n```\n\n---\n\n### Template 5: Influencer/Reviewer Outreach\n\n**Subject Lines:**\n- \"Review Opportunity: Pre-Loaded Streaming Device\"\n- \"Free Product for Honest Review\"\n- \"Collaboration Opportunity - Streaming Tech\"\n\n**Email Body:**\n\n```\nHi [Name],\n\nI've been watching your content on [Platform] and love your honest reviews of streaming tech. Your video on [specific video/article] was really helpful.\n\nI'm reaching out from StreamStickPro, where we specialize in pre-configured Fire Sticks with premium streaming apps and IPTV subscriptions.\n\nWe'd love to send you one of our devices for an honest review. No strings attached - we just want your genuine feedback.\n\nWhat we offer:\n- Fire Stick 4K Max with Kodi + streaming apps pre-installed\n- 3-month IPTV subscription (10,000+ live channels)\n- No script or talking points required\n\nIf you're interested, I can ship a device to you this week. Just let me know your shipping address.\n\nLooking forward to hearing from you!\n\nBest,\n[Your Name]\n```\n\n---\n\n## Target Directories & Submission Sites\n\n> **Note:** All directories listed below were validated for active submission as of December 2024. DA (Domain Authority) estimates are approximate and should be verified using Ahrefs or Moz before outreach.\n\n### Tier 1: High-Authority Business Directories\n\n| Directory | URL | DA | Contact Method | Verified | Notes |\n|-----------|-----|-----|----------------|----------|-------|\n| Crunchbase | crunchbase.com | 91 | Self-service signup | Dec 2024 | Tech company profiles, free tier |\n| Product Hunt | producthunt.com | 90 | Submit via site | Dec 2024 | Launch new products, high engagement |\n| G2 | g2.com | 89 | Vendor signup | Dec 2024 | Software/service reviews |\n| Capterra | capterra.com | 88 | Vendor portal | Dec 2024 | Software directory, paid options |\n| AlternativeTo | alternativeto.net | 82 | Submit via form | Dec 2024 | List as alternative to cable/satellite |\n\n### Tier 2: Tech & Consumer Electronics\n\n| Directory | URL | DA | Contact Method | Verified | Notes |\n|-----------|-----|-----|----------------|----------|-------|\n| Feedspot | feedspot.com | 76 | Submit blog via form | Dec 2024 | \"Top 100\" streaming blogs list |\n| StartupRanking | startupranking.com | 65 | Free submission | Dec 2024 | Tech startup directory |\n| BetaList | betalist.com | 63 | Submit via form | Dec 2024 | New product launches |\n| SaaSHub | saashub.com | 58 | Self-service | Dec 2024 | Software alternatives directory |\n| WebAppRater | webapprater.com | 45 | Submit via form | Dec 2024 | Web app directory |\n\n### Tier 3: Streaming & Entertainment (Niche-Specific)\n\n| Directory | URL | DA | Contact Method | Verified | Notes |\n|-----------|-----|-----|----------------|----------|-------|\n| Cord Cutters News | cordcuttersnews.com | 65 | editorial@cordcuttersnews.com | Dec 2024 | Industry authority |\n| The Streamable | thestreamable.com | 60 | Contact form | Dec 2024 | Comprehensive comparison site |\n| Grounded Reason | groundedreason.com | 52 | dennis@groundedreason.com | Dec 2024 | Community focused |\n| Flixed | flixed.io | 48 | Contact form | Dec 2024 | Modern streaming guides |\n| CableTV.com | cabletv.com | 72 | Editorial contact | Dec 2024 | Resource page opportunities |\n\n### Tier 4: Local Business & Trust Signals\n\n| Directory | URL | DA | Contact Method | Verified | Notes |\n|-----------|-----|-----|----------------|----------|-------|\n| Google Business Profile | business.google.com | 100 | Self-service | Dec 2024 | Essential for local SEO |\n| Bing Places | bingplaces.com | 98 | Self-service | Dec 2024 | Microsoft search ecosystem |\n| Apple Maps Connect | mapsconnect.apple.com | 100 | Self-service | Dec 2024 | iOS users discovery |\n| Trustpilot | trustpilot.com | 94 | Claim business | Dec 2024 | Review platform, builds trust |\n| Sitejabber | sitejabber.com | 78 | Claim listing | Dec 2024 | Consumer reviews |\n\n### Tier 5: Forum & Community Backlinks (NoFollow but High Traffic)\n\n| Platform | URL | DA | Strategy | Verified | Notes |\n|----------|-----|-----|----------|----------|-------|\n| Reddit r/cordcutters | reddit.com/r/cordcutters | 98 | Helpful comments, AMAs | Dec 2024 | 800k+ members, very active |\n| Reddit r/firetvstick | reddit.com/r/firetvstick | 98 | Technical help, guides | Dec 2024 | Fire TV specific community |\n| Reddit r/IPTV | reddit.com/r/IPTV | 98 | Community engagement | Dec 2024 | IPTV discussions |\n| AVS Forum | avsforum.com | 72 | Expert contributions | Dec 2024 | Home theater enthusiasts |\n| Slickdeals | slickdeals.net | 88 | Deal posts | Dec 2024 | High traffic, deal hunters |\n\n---\n\n## Niche Blog Targets for Guest Posts\n\n### Cord Cutting & Streaming Blogs\n\n1. **Cord Cutters News** (cordcuttersnews.com)\n   - DA: 65\n   - Contact: editorial@cordcuttersnews.com\n   - Topics: Streaming news, device reviews, cord-cutting guides\n   - Status: Active, industry authority, accepts guest posts\n   - Verified: Dec 2024\n\n2. **The Streamable** (thestreamable.com)\n   - DA: 60\n   - Contact: Contact form on site\n   - Topics: Streaming service comparisons, cord-cutting guides\n   - Status: Active, comprehensive comparison site\n   - Verified: Dec 2024\n\n3. **Grounded Reason** (groundedreason.com)\n   - DA: 52\n   - Contact: dennis@groundedreason.com\n   - Topics: Cost savings, antenna guides, streaming setups\n   - Status: Active, run by cord-cutting expert Dennis Restauro\n   - Verified: Dec 2024\n\n4. **Flixed** (flixed.io)\n   - DA: 48\n   - Contact: Contact form on site\n   - Topics: Streaming platform guides, app tutorials\n   - Status: Active, modern design, growing audience\n   - Verified: Dec 2024\n\n5. **CutCableToday** (cutcabletoday.com)\n   - DA: 45\n   - Contact: Contact form on site\n   - Topics: Beginner cord-cutting guides, device reviews\n   - Status: Active, focused on cord-cutting beginners\n   - Verified: Dec 2024\n\n### Tech & Electronics Blogs\n\n1. **Android Police** (androidpolice.com)\n   - DA: 85\n   - Contact: tips@androidpolice.com (for news), pitch via contact form for guest posts\n   - Focus: Fire TV is Android-based, relevant for app coverage\n   - Status: Active, accepts contributed content\n   - Verified: Dec 2024\n\n2. **XDA Developers** (xda-developers.com)\n   - DA: 91\n   - Contact: Apply to write at portal.xda-developers.com\n   - Focus: Technical how-to content, sideloading guides\n   - Status: Active, has contributor program\n   - Verified: Dec 2024\n\n3. **Tom's Guide** (tomsguide.com)\n   - DA: 92\n   - Contact: tips@tomsguide.com for pitches\n   - Focus: Product reviews and comparisons\n   - Status: Active, major publication\n   - Verified: Dec 2024\n\n4. **How-To Geek** (howtogeek.com)\n   - DA: 91\n   - Contact: Contact form for pitches\n   - Focus: Technical tutorials, setup guides\n   - Status: Active, high traffic\n   - Verified: Dec 2024\n\n5. **MakeUseOf** (makeuseof.com)\n   - DA: 90\n   - Contact: jobs@makeuseof.com (they hire freelancers)\n   - Focus: How-to content, streaming tips\n   - Status: Active, accepts freelance writers\n   - Verified: Dec 2024\n\n### Personal Finance & Frugal Living Blogs\n\n1. **The Penny Hoarder** (thepennyhoarder.com)\n   - DA: 82\n   - Contact: pitch@thepennyhoarder.com\n   - Angle: \"How Cord Cutting Saves $1,500+ Per Year\"\n   - Status: Active, major publication\n   - Verified: Dec 2024\n\n2. **Clark Howard** (clark.com)\n   - DA: 75\n   - Contact: Contact form on site\n   - Angle: Consumer savings, cable alternatives\n   - Status: Active, established brand\n   - Verified: Dec 2024\n\n3. **Money Saving Mom** (moneysavingmom.com)\n   - DA: 68\n   - Contact: Contact form on site\n   - Angle: Family entertainment on a budget\n   - Status: Active, accepts guest posts\n   - Verified: Dec 2024\n\n4. **Frugal Rules** (frugalrules.com)\n   - DA: 52\n   - Contact: john@frugalrules.com\n   - Angle: Long-term savings from cutting cable\n   - Status: Active, accepts guest posts\n   - Verified: Dec 2024\n\n5. **The Simple Dollar** (thesimpledollar.com)\n   - DA: 78\n   - Contact: editor@thesimpledollar.com\n   - Angle: Money-saving alternatives to cable\n   - Status: Active, established authority\n   - Verified: Dec 2024\n\n---\n\n## Partnership Proposal Templates\n\n### Template 1: Affiliate Partnership Proposal\n\n**Subject:** Affiliate Partnership Opportunity - [Commission]% Per Sale\n\n**Email Body:**\n\n```\nHi [Name],\n\nI'm [Your Name] from StreamStickPro, a leading provider of pre-configured streaming devices and IPTV subscriptions.\n\nI've noticed your audience is interested in [cord-cutting/streaming/tech], and I think there's a great opportunity for us to work together.\n\nWe're launching an affiliate program and would love to have [Blog/Channel Name] as a partner.\n\nHere's what we offer:\n- [X]% commission on every sale\n- 30-day cookie duration\n- Average order value: $140-160\n- High conversion rate (12%+)\n- Custom discount codes for your audience\n- Dedicated affiliate manager\n\nWhat you'd promote:\n- Pre-loaded Fire Stick 4K Max with Kodi + streaming apps\n- IPTV subscriptions with 10,000+ live channels\n- Bundle deals (device + subscription)\n\nIf you're interested, I'd be happy to set you up with:\n- Unique tracking links\n- Custom promo code (e.g., \"[YOURNAME]10\" for 10% off)\n- Product images and banners\n- Sample device for review\n\nWould you be open to a quick call to discuss the details?\n\nBest,\n[Your Name]\n```\n\n---\n\n### Template 2: Sponsored Content Proposal\n\n**Subject:** Sponsored Post Opportunity - [Budget]\n\n**Email Body:**\n\n```\nHi [Name],\n\nI love the content on [Blog/Channel Name], especially your recent piece on [specific content].\n\nI'm reaching out to discuss a sponsored content opportunity. StreamStickPro would like to sponsor a post/video on [specific topic] that would naturally feature our streaming devices.\n\nHere's what we're thinking:\n\nContent Type: [Blog post / Video / Social post]\nTopic: [Suggested topic that fits their audience]\nBudget: [$X - $X range]\nTimeline: [Flexible / Specific date]\n\nWhat we'd include:\n- Product for review (yours to keep)\n- All product details and talking points (no script required)\n- High-quality images if needed\n- Payment within [X] days of publication\n\nWe're flexible on the format and happy to collaborate on an angle that works best for your audience.\n\nWould you be interested in discussing further?\n\nBest,\n[Your Name]\n```\n\n---\n\n### Template 3: Bundle/Cross-Promotion Partnership\n\n**Subject:** Cross-Promotion Idea for [Their Brand]\n\n**Email Body:**\n\n```\nHi [Name],\n\nI'm [Your Name] from StreamStickPro. We sell pre-configured streaming devices and IPTV subscriptions to cord-cutters.\n\nI had an idea that could benefit both our audiences:\n\n[Their product/service] + StreamStickPro streaming device = Perfect cord-cutting bundle\n\nHere's what I'm proposing:\n\nOption A: Bundle Deal\n- We create a co-branded bundle\n- Customers get [X]% off when purchasing both products\n- We split marketing efforts and costs\n\nOption B: Newsletter Swap\n- We feature [Their Brand] in our newsletter (10,000+ subscribers)\n- You feature StreamStickPro in yours\n- Zero cost, mutual benefit\n\nOption C: Giveaway Collaboration\n- Joint giveaway (our device + your product)\n- Cross-promote on both our social channels\n- Build both our email lists\n\nWhich option sounds most interesting to you? Open to other ideas as well!\n\nBest,\n[Your Name]\n```\n\n---\n\n## Outreach Tracking Spreadsheet Template\n\nUse this structure to track your outreach efforts:\n\n| Date | Website | Contact Email | Template Used | Status | Response Date | Outcome | Follow-up Date | Notes |\n|------|---------|---------------|---------------|--------|---------------|---------|----------------|-------|\n| 2024-01-15 | cordcuttersnews.com | editorial@... | Guest Post | Sent | - | Pending | 2024-01-22 | - |\n| 2024-01-15 | example.com | john@... | Link Exchange | Responded | 2024-01-17 | Link Added | - | DR 45, link live |\n\n### Status Options:\n- **Sent** - Initial outreach sent, awaiting response\n- **Responded** - They replied, conversation ongoing\n- **Negotiating** - Discussing terms\n- **Link Added** - Success! Link is live\n- **Declined** - They said no\n- **No Response** - No reply after follow-ups\n- **Invalid** - Email bounced, site dead, etc.\n\n### Key Metrics to Track:\n- **Response Rate** = Responded / Total Sent\n- **Success Rate** = Links Added / Total Sent\n- **Average DA of Links** = Sum of DA / Number of Links\n- **Best Performing Template** = Template with highest success rate\n\n---\n\n## Follow-Up Sequences\n\n### Follow-Up 1 (After 5-7 days of no response)\n\n**Subject:** Re: [Original Subject]\n\n```\nHi [Name],\n\nJust wanted to follow up on my email from last week about [guest post / link exchange / etc.].\n\nI know you're busy, so I'll keep this short - would [specific proposal] be of interest to you?\n\nHappy to adjust the approach if you have something else in mind.\n\nBest,\n[Your Name]\n```\n\n### Follow-Up 2 (After 7-10 more days)\n\n**Subject:** Last Try - [Brief Value Prop]\n\n```\nHi [Name],\n\nI wanted to reach out one more time regarding [topic].\n\nIf now isn't a good time, no worries at all. But if you're interested in [specific benefit], I'd love to connect.\n\nEither way, keep up the great work on [Blog Name]!\n\nBest,\n[Your Name]\n```\n\n---\n\n## Best Practices for Outreach\n\n### Do's:\n1. **Personalize every email** - Reference specific content from their site\n2. **Provide value first** - What's in it for them?\n3. **Keep it short** - Busy people skim emails\n4. **Follow up** - Most links come from follow-up #1 or #2\n5. **Track everything** - Know what's working\n6. **Be patient** - Quality link building takes months\n\n### Don'ts:\n1. **Don't use generic templates** - \"Dear Webmaster\" = instant delete\n2. **Don't buy links** - Google penalizes this\n3. **Don't spam** - Quality > Quantity\n4. **Don't be pushy** - Build relationships, not just links\n5. **Don't ignore relevance** - Only reach out to relevant sites\n6. **Don't forget anchor text diversity** - Mix up your link text\n\n---\n\n## Monthly Outreach Goals\n\n| Month | Emails Sent | Target Response Rate | Target Links Acquired |\n|-------|-------------|---------------------|----------------------|\n| 1 | 100 | 10% | 5-10 |\n| 2 | 100 | 12% | 8-12 |\n| 3 | 100 | 15% | 10-15 |\n\nAfter 3 months, evaluate which templates and targets perform best, then double down on what works.\n\n---\n\n## Tools for Outreach\n\n1. **Hunter.io** - Find email addresses\n2. **Ahrefs/Moz** - Check domain authority\n3. **Mailtrack** - Track email opens\n4. **Google Sheets** - Manage outreach tracking\n5. **TextExpander** - Quick template insertion\n6. **Streak CRM** - Gmail-based CRM for outreach\n\n---\n\n*Last Updated: December 2024*\n*Created for StreamStickPro SEO Campaign*\n","path":null,"size_bytes":18655,"size_tokens":null},"script/simple-push.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  if (connectionSettings && connectionSettings.settings.expires_at && new Date(connectionSettings.settings.expires_at).getTime() > Date.now()) {\n    return connectionSettings.settings.access_token;\n  }\n  \n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  if (!xReplitToken) {\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken\n      }\n    }\n  ).then(res => res.json()).then(data => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n\n  if (!connectionSettings || !accessToken) {\n    throw new Error('GitHub not connected');\n  }\n  return accessToken;\n}\n\nasync function getUncachableGitHubClient() {\n  const accessToken = await getAccessToken();\n  return new Octokit({ auth: accessToken });\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst filesToPush = [\n  'worker/index.ts',\n  'worker/db.ts',\n  'worker/storage.ts',\n  'worker/email.ts',\n  'worker/routes/products.ts',\n  'worker/routes/checkout.ts',\n  'worker/routes/orders.ts',\n  'worker/routes/admin.ts',\n  'worker/routes/webhook.ts',\n  'worker/routes/visitors.ts',\n  'worker/routes/customers.ts',\n  'worker/routes/trial.ts',\n  'worker/routes/auth.ts',\n  'wrangler.toml',\n  'script/build-worker.ts',\n  '.github/workflows/deploy-cloudflare.yml',\n  'client/src/pages/MainStore.tsx',\n  'client/src/pages/ShadowStore.tsx',\n  'client/src/pages/CustomerPortal.tsx',\n  'server/seed-products.ts',\n  'server/webhookHandlers.ts',\n  'server/routes.ts',\n];\n\nasync function getFileSha(octokit: Octokit, filePath: string): Promise<string | null> {\n  try {\n    const { data } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: filePath,\n      ref: BRANCH,\n    });\n    if (!Array.isArray(data) && 'sha' in data) {\n      return data.sha;\n    }\n    return null;\n  } catch (error: any) {\n    if (error.status === 404) {\n      return null;\n    }\n    throw error;\n  }\n}\n\nasync function pushFile(octokit: Octokit, filePath: string) {\n  const fullPath = path.join(process.cwd(), filePath);\n  if (!fs.existsSync(fullPath)) {\n    console.log(`Skipping ${filePath} - file not found`);\n    return;\n  }\n  \n  const content = fs.readFileSync(fullPath, 'utf-8');\n  const base64Content = Buffer.from(content).toString('base64');\n  \n  const existingSha = await getFileSha(octokit, filePath);\n  \n  console.log(`Pushing ${filePath}...`);\n  \n  await octokit.repos.createOrUpdateFileContents({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    message: `Update ${filePath}`,\n    content: base64Content,\n    branch: BRANCH,\n    ...(existingSha ? { sha: existingSha } : {}),\n  });\n  \n  console.log(`  Done: ${filePath}`);\n}\n\nasync function pushFiles() {\n  const octokit = await getUncachableGitHubClient();\n  \n  console.log(`Pushing ${filesToPush.length} files to ${OWNER}/${REPO}@${BRANCH}...`);\n  \n  for (const filePath of filesToPush) {\n    try {\n      await pushFile(octokit, filePath);\n    } catch (error: any) {\n      console.error(`Error pushing ${filePath}:`, error.message);\n    }\n  }\n  \n  console.log('\\nDone! GitHub Actions should now trigger the Cloudflare deployment.');\n}\n\npushFiles().catch(console.error);\n","path":null,"size_bytes":3851,"size_tokens":null},"scripts/deploy-to-github.ts":{"content":"import { getUncachableGitHubClient } from '../server/github';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst IGNORE_PATTERNS = [\n  'node_modules',\n  '.git',\n  '.cache',\n  'dist',\n  '.replit',\n  '.config',\n  '.local',\n  'attached_assets',\n  '*.log',\n  '.upm',\n  '.DS_Store',\n  'package-lock.json'\n];\n\nfunction shouldIgnore(filePath: string): boolean {\n  for (const pattern of IGNORE_PATTERNS) {\n    if (pattern.startsWith('*')) {\n      if (filePath.endsWith(pattern.slice(1))) return true;\n    } else if (filePath.includes(pattern)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getAllFiles(dir: string, baseDir: string = dir): string[] {\n  const files: string[] = [];\n  const entries = fs.readdirSync(dir, { withFileTypes: true });\n  \n  for (const entry of entries) {\n    const fullPath = path.join(dir, entry.name);\n    const relativePath = path.relative(baseDir, fullPath);\n    \n    if (shouldIgnore(relativePath)) continue;\n    \n    if (entry.isDirectory()) {\n      files.push(...getAllFiles(fullPath, baseDir));\n    } else {\n      files.push(relativePath);\n    }\n  }\n  \n  return files;\n}\n\nasync function main() {\n  console.log('Connecting to GitHub...');\n  const octokit = await getUncachableGitHubClient();\n  \n  // Get the latest commit SHA from clean-main\n  console.log(`Getting latest commit from ${BRANCH}...`);\n  const { data: ref } = await octokit.git.getRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`\n  });\n  const latestCommitSha = ref.object.sha;\n  console.log(`Latest commit: ${latestCommitSha}`);\n  \n  // Get the tree from latest commit\n  const { data: latestCommit } = await octokit.git.getCommit({\n    owner: OWNER,\n    repo: REPO,\n    commit_sha: latestCommitSha\n  });\n  \n  // Get all files to upload\n  const projectRoot = process.cwd();\n  const files = getAllFiles(projectRoot);\n  console.log(`Found ${files.length} files to upload`);\n  \n  // Create blobs for each file\n  const tree: Array<{path: string, mode: '100644', type: 'blob', sha: string}> = [];\n  \n  for (const file of files) {\n    const filePath = path.join(projectRoot, file);\n    const content = fs.readFileSync(filePath);\n    const base64Content = content.toString('base64');\n    \n    try {\n      const { data: blob } = await octokit.git.createBlob({\n        owner: OWNER,\n        repo: REPO,\n        content: base64Content,\n        encoding: 'base64'\n      });\n      \n      tree.push({\n        path: file,\n        mode: '100644',\n        type: 'blob',\n        sha: blob.sha\n      });\n      \n      console.log(`Uploaded: ${file}`);\n    } catch (err: any) {\n      console.error(`Failed to upload ${file}: ${err.message}`);\n    }\n  }\n  \n  // Create a new tree\n  console.log('Creating tree...');\n  const { data: newTree } = await octokit.git.createTree({\n    owner: OWNER,\n    repo: REPO,\n    tree,\n    base_tree: latestCommit.tree.sha\n  });\n  \n  // Create a new commit\n  console.log('Creating commit...');\n  const { data: newCommit } = await octokit.git.createCommit({\n    owner: OWNER,\n    repo: REPO,\n    message: 'Deploy: Update all files from Replit',\n    tree: newTree.sha,\n    parents: [latestCommitSha]\n  });\n  \n  // Update the branch reference\n  console.log('Updating branch...');\n  await octokit.git.updateRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`,\n    sha: newCommit.sha\n  });\n  \n  console.log(`Successfully pushed to ${BRANCH}!`);\n  console.log(`New commit SHA: ${newCommit.sha}`);\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":3589,"size_tokens":null},"worker/helpers.ts":{"content":"import { createStorage, StorageConfig } from './storage';\nimport type { Env } from './index';\n\nexport function getStorageConfig(env: Env): StorageConfig {\n  return {\n    supabaseUrl: env.VITE_SUPABASE_URL,\n    supabaseKey: env.SUPABASE_SERVICE_KEY || env.VITE_SUPABASE_ANON_KEY\n  };\n}\n\nexport function getStorage(env: Env) {\n  return createStorage(getStorageConfig(env));\n}\n","path":null,"size_bytes":374,"size_tokens":null},"vite.config.cloudflare.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport { metaImagesPlugin } from \"./vite-plugin-meta-images\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    tailwindcss(),\n    metaImagesPlugin(),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n});\n","path":null,"size_bytes":763,"size_tokens":null},"client/src/components/WishlistDrawer.tsx":{"content":"import { motion, AnimatePresence } from \"framer-motion\";\nimport { Heart, Trash2, ShoppingCart, ArrowRight } from \"lucide-react\";\nimport { useWishlist, useCart } from \"@/lib/store\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n} from \"@/components/ui/sheet\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\nexport function WishlistDrawer() {\n  const { items, isOpen, closeWishlist, removeFromWishlist } = useWishlist();\n  const { addItem, openCart } = useCart();\n\n  const handleAddToCart = (item: typeof items[0]) => {\n    addItem({\n      id: item.id,\n      name: item.name,\n      price: item.price,\n      image: item.image,\n      category: item.category,\n      description: item.description,\n    });\n    removeFromWishlist(item.id);\n  };\n\n  const handleAddAllToCart = () => {\n    items.forEach((item) => {\n      addItem({\n        id: item.id,\n        name: item.name,\n        price: item.price,\n        image: item.image,\n        category: item.category,\n        description: item.description,\n      });\n    });\n    items.forEach((item) => removeFromWishlist(item.id));\n    closeWishlist();\n    openCart();\n  };\n\n  return (\n    <Sheet open={isOpen} onOpenChange={(open) => !open && closeWishlist()}>\n      <SheetContent \n        side=\"right\" \n        className=\"w-full sm:max-w-lg bg-gray-900 border-gray-800 text-white flex flex-col\"\n        data-testid=\"wishlist-drawer\"\n      >\n        <SheetHeader className=\"space-y-1\">\n          <SheetTitle className=\"flex items-center gap-2 text-white\">\n            <Heart className=\"w-5 h-5 text-red-500 fill-red-500\" />\n            Your Wishlist\n            {items.length > 0 && (\n              <Badge className=\"bg-red-500 text-white ml-2\" data-testid=\"text-wishlist-count\">\n                {items.length} {items.length === 1 ? 'item' : 'items'}\n              </Badge>\n            )}\n          </SheetTitle>\n          <SheetDescription className=\"text-gray-300\">\n            Items you've saved for later\n          </SheetDescription>\n        </SheetHeader>\n\n        <Separator className=\"bg-gray-800 my-4\" />\n\n        {items.length === 0 ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center text-center p-6\">\n            <motion.div\n              initial={{ scale: 0.8, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ duration: 0.3 }}\n              className=\"bg-gray-800/50 rounded-full p-6 mb-4\"\n            >\n              <Heart className=\"w-12 h-12 text-gray-500\" />\n            </motion.div>\n            <p className=\"text-lg font-semibold text-white mb-2\">Your wishlist is empty</p>\n            <p className=\"text-gray-300 text-sm mb-6\">\n              Save items you love by clicking the heart icon!\n            </p>\n            <Button \n              onClick={closeWishlist}\n              className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600\"\n              data-testid=\"button-browse-products\"\n            >\n              Browse Products\n            </Button>\n          </div>\n        ) : (\n          <>\n            <ScrollArea className=\"flex-1 -mx-6 px-6\">\n              <AnimatePresence mode=\"popLayout\">\n                {items.map((item, index) => (\n                  <motion.div\n                    key={item.id}\n                    initial={{ opacity: 0, x: 20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: -20, height: 0 }}\n                    transition={{ duration: 0.2, delay: index * 0.05 }}\n                    className=\"flex gap-4 py-4 border-b border-gray-800 last:border-0\"\n                    data-testid={`wishlist-item-${item.id}`}\n                  >\n                    <div className=\"w-20 h-20 rounded-lg overflow-hidden bg-gray-800 flex-shrink-0\">\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-full h-full object-cover\"\n                        onError={(e) => {\n                          const target = e.target as HTMLImageElement;\n                          target.src = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzMzMyIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+';\n                        }}\n                      />\n                    </div>\n\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium text-white text-sm leading-tight truncate\" data-testid={`text-wishlist-item-name-${item.id}`}>\n                        {item.name}\n                      </p>\n                      <p className=\"text-orange-400 font-bold mt-1\" data-testid={`text-wishlist-item-price-${item.id}`}>\n                        ${item.price.toFixed(2)}\n                      </p>\n\n                      <div className=\"flex items-center gap-2 mt-2\">\n                        <Button\n                          size=\"sm\"\n                          className=\"h-8 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-xs\"\n                          onClick={() => handleAddToCart(item)}\n                          data-testid={`button-add-to-cart-${item.id}`}\n                        >\n                          <ShoppingCart className=\"w-3 h-3 mr-1\" />\n                          Add to Cart\n                        </Button>\n                        <button\n                          type=\"button\"\n                          aria-label=\"Remove from wishlist\"\n                          className=\"h-8 w-8 flex items-center justify-center text-red-400 hover:text-red-300 hover:bg-red-950/50 rounded-lg transition-colors\"\n                          onClick={() => removeFromWishlist(item.id)}\n                          data-testid={`button-remove-wishlist-${item.id}`}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </ScrollArea>\n\n            <div className=\"mt-auto pt-4 space-y-4\">\n              <Separator className=\"bg-gray-800\" />\n\n              <Button\n                onClick={handleAddAllToCart}\n                className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-6 text-lg shadow-lg shadow-orange-500/30\"\n                data-testid=\"button-add-all-to-cart\"\n              >\n                Add All to Cart\n                <ArrowRight className=\"w-5 h-5 ml-2\" />\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={closeWishlist}\n                className=\"w-full border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white\"\n                data-testid=\"button-continue-browsing\"\n              >\n                Continue Browsing\n              </Button>\n            </div>\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  );\n}\n","path":null,"size_bytes":7418,"size_tokens":null},"client/src/components/CartDrawer.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ShoppingCart, Trash2, Plus, Minus, ArrowRight, Package, Sparkles } from \"lucide-react\";\nimport { useCart } from \"@/lib/store\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n  SheetFooter,\n} from \"@/components/ui/sheet\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\nexport function CartDrawer() {\n  const [, setLocation] = useLocation();\n  const { items, isOpen, closeCart, removeItem, updateQuantity, total } = useCart();\n\n  const handleCheckout = () => {\n    closeCart();\n    setLocation(\"/checkout\");\n  };\n\n  const itemCount = items.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <Sheet open={isOpen} onOpenChange={(open) => !open && closeCart()}>\n      <SheetContent \n        side=\"right\" \n        className=\"w-full sm:max-w-lg bg-gray-900 border-gray-800 text-white flex flex-col\"\n        data-testid=\"cart-drawer\"\n      >\n        <SheetHeader className=\"space-y-1\">\n          <SheetTitle className=\"flex items-center gap-2 text-white\">\n            <ShoppingCart className=\"w-5 h-5 text-orange-500\" />\n            Your Cart\n            {itemCount > 0 && (\n              <Badge className=\"bg-orange-500 text-white ml-2\" data-testid=\"text-cart-item-count\">\n                {itemCount} {itemCount === 1 ? 'item' : 'items'}\n              </Badge>\n            )}\n          </SheetTitle>\n          <SheetDescription className=\"text-gray-300\">\n            Review your items before checkout\n          </SheetDescription>\n        </SheetHeader>\n\n        <Separator className=\"bg-gray-800 my-4\" />\n\n        {items.length === 0 ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center text-center p-6\">\n            <motion.div\n              initial={{ scale: 0.8, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ duration: 0.3 }}\n              className=\"bg-gray-800/50 rounded-full p-6 mb-4\"\n            >\n              <Package className=\"w-12 h-12 text-gray-500\" />\n            </motion.div>\n            <p className=\"text-lg font-semibold text-white mb-2\">Your cart is empty</p>\n            <p className=\"text-gray-300 text-sm mb-6\">\n              Add some amazing products to get started!\n            </p>\n            <Button \n              onClick={closeCart}\n              className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600\"\n              data-testid=\"button-continue-shopping\"\n            >\n              Continue Shopping\n            </Button>\n          </div>\n        ) : (\n          <>\n            <ScrollArea className=\"flex-1 -mx-6 px-6\">\n              <AnimatePresence mode=\"popLayout\">\n                {items.map((item, index) => (\n                  <motion.div\n                    key={item.id}\n                    initial={{ opacity: 0, x: 20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: -20, height: 0 }}\n                    transition={{ duration: 0.2, delay: index * 0.05 }}\n                    className=\"flex gap-4 py-4 border-b border-gray-800 last:border-0\"\n                    data-testid={`cart-item-${item.id}`}\n                  >\n                    <div className=\"w-20 h-20 rounded-lg overflow-hidden bg-gray-800 flex-shrink-0\">\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-full h-full object-cover\"\n                        onError={(e) => {\n                          const target = e.target as HTMLImageElement;\n                          target.src = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzMzMyIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+';\n                        }}\n                      />\n                    </div>\n\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium text-white text-sm leading-tight truncate\" data-testid={`text-item-name-${item.id}`}>\n                        {item.name}\n                      </p>\n                      <p className=\"text-orange-400 font-bold mt-1\" data-testid={`text-item-price-${item.id}`}>\n                        ${item.price.toFixed(2)}\n                      </p>\n\n                      <div className=\"flex items-center gap-2 mt-2\">\n                        <div className=\"flex items-center bg-gray-800 rounded-lg\">\n                          <button\n                            type=\"button\"\n                            aria-label=\"Decrease quantity\"\n                            className=\"h-8 w-8 flex items-center justify-center text-gray-300 hover:text-white hover:bg-gray-700 rounded-l-lg transition-colors\"\n                            onClick={() => {\n                              if (item.quantity > 1) {\n                                updateQuantity(item.id, item.quantity - 1);\n                              } else {\n                                removeItem(item.id);\n                              }\n                            }}\n                            data-testid={`button-decrease-${item.id}`}\n                          >\n                            <Minus className=\"w-4 h-4\" />\n                          </button>\n                          <span className=\"w-8 text-center text-sm font-medium\" data-testid={`text-quantity-${item.id}`}>\n                            {item.quantity}\n                          </span>\n                          <button\n                            type=\"button\"\n                            aria-label=\"Increase quantity\"\n                            className=\"h-8 w-8 flex items-center justify-center text-gray-300 hover:text-white hover:bg-gray-700 rounded-r-lg transition-colors\"\n                            onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                            data-testid={`button-increase-${item.id}`}\n                          >\n                            <Plus className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                        <button\n                          type=\"button\"\n                          aria-label=\"Remove item\"\n                          className=\"h-8 w-8 flex items-center justify-center text-red-400 hover:text-red-300 hover:bg-red-950/50 rounded-lg transition-colors\"\n                          onClick={() => removeItem(item.id)}\n                          data-testid={`button-remove-${item.id}`}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <p className=\"font-bold text-white\" data-testid={`text-item-total-${item.id}`}>\n                        ${(item.price * item.quantity).toFixed(2)}\n                      </p>\n                    </div>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </ScrollArea>\n\n            <div className=\"mt-auto pt-4 space-y-4\">\n              <Separator className=\"bg-gray-800\" />\n\n              <div className=\"bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-lg p-3 flex items-center gap-2\">\n                <Sparkles className=\"w-5 h-5 text-orange-400\" />\n                <span className=\"text-sm text-orange-200\">Free setup guide included with every order!</span>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-300\">Subtotal</span>\n                  <span className=\"text-white\" data-testid=\"text-subtotal\">${total().toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-300\">Shipping</span>\n                  <span className=\"text-green-400\">FREE</span>\n                </div>\n                <Separator className=\"bg-gray-800\" />\n                <div className=\"flex justify-between\">\n                  <span className=\"font-semibold text-white\">Total</span>\n                  <span className=\"font-bold text-xl text-orange-400\" data-testid=\"text-cart-total\">${total().toFixed(2)}</span>\n                </div>\n              </div>\n\n              <SheetFooter className=\"flex-col gap-2 sm:flex-col\">\n                <Button\n                  onClick={handleCheckout}\n                  className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-6 text-lg shadow-lg shadow-orange-500/30\"\n                  data-testid=\"button-checkout\"\n                >\n                  Proceed to Checkout\n                  <ArrowRight className=\"w-5 h-5 ml-2\" />\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={closeCart}\n                  className=\"w-full border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white\"\n                  data-testid=\"button-continue-shopping-footer\"\n                >\n                  Continue Shopping\n                </Button>\n              </SheetFooter>\n            </div>\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  );\n}\n","path":null,"size_bytes":9741,"size_tokens":null},"client/src/components/MobileNav.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Menu, X, Flame, ShoppingCart, ChevronRight, Tv, Wifi, BookOpen, HelpCircle, Home } from \"lucide-react\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useCart } from \"@/lib/store\";\n\ninterface MobileNavProps {\n  scrollToShop: () => void;\n  scrollToAbout: () => void;\n  scrollToFaq: () => void;\n}\n\nexport function MobileNav({ scrollToShop, scrollToAbout, scrollToFaq }: MobileNavProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [location, setLocation] = useLocation();\n  const { items, openCart } = useCart();\n\n  const handleNavClick = (action: () => void) => {\n    action();\n    setIsOpen(false);\n  };\n\n  const navigateToSection = (sectionId: string) => {\n    if (location !== \"/\" && !location.startsWith(\"/?\")) {\n      setLocation(\"/?section=\" + sectionId);\n    } else {\n      document.getElementById(sectionId)?.scrollIntoView({ behavior: 'smooth' });\n    }\n    setIsOpen(false);\n  };\n\n  const menuItems = [\n    { label: \"Home\", icon: Home, action: () => { setLocation(\"/\"); } },\n    { label: \"Fire Sticks\", icon: Tv, action: () => navigateToSection(\"shop\") },\n    { label: \"IPTV Plans\", icon: Wifi, action: () => navigateToSection(\"shop\") },\n    { label: \"How It Works\", icon: ChevronRight, action: () => navigateToSection(\"about\") },\n    { label: \"Blog\", icon: BookOpen, action: () => setLocation(\"/blog\") },\n    { label: \"Support & FAQ\", icon: HelpCircle, action: () => navigateToSection(\"faq\") },\n  ];\n\n  return (\n    <Sheet open={isOpen} onOpenChange={setIsOpen}>\n      <SheetTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"md:hidden text-white hover:bg-white/10\"\n          data-testid=\"button-mobile-menu\"\n        >\n          <Menu className=\"w-6 h-6\" />\n          <span className=\"sr-only\">Open menu</span>\n        </Button>\n      </SheetTrigger>\n      <SheetContent side=\"left\" className=\"w-[300px] bg-gray-900 border-r border-white/10 p-0\">\n        <SheetHeader className=\"p-6 border-b border-white/10\">\n          <SheetTitle className=\"flex items-center gap-2 text-white\">\n            <Flame className=\"w-6 h-6 text-orange-500\" />\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500 font-bold\">\n              Stream Stick Pro\n            </span>\n          </SheetTitle>\n        </SheetHeader>\n        \n        <nav className=\"p-4\">\n          <ul className=\"space-y-1\">\n            {menuItems.map((item, index) => (\n              <li key={index}>\n                <button\n                  onClick={() => handleNavClick(item.action)}\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors text-left\"\n                  data-testid={`mobile-nav-${item.label.toLowerCase().replace(/\\s+/g, '-')}`}\n                >\n                  <item.icon className=\"w-5 h-5 text-orange-400\" />\n                  <span className=\"font-medium\">{item.label}</span>\n                </button>\n              </li>\n            ))}\n          </ul>\n          \n          <div className=\"mt-6 pt-6 border-t border-white/10\">\n            <Button\n              onClick={() => {\n                openCart();\n                setIsOpen(false);\n              }}\n              className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg\"\n              data-testid=\"mobile-nav-cart\"\n            >\n              <ShoppingCart className=\"w-5 h-5 mr-2\" />\n              View Cart\n              {items.length > 0 && (\n                <Badge className=\"ml-2 bg-white text-black\">\n                  {items.length}\n                </Badge>\n              )}\n            </Button>\n          </div>\n          \n          <div className=\"mt-6 p-4 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-lg border border-orange-400/30\">\n            <p className=\"text-sm text-orange-200 font-medium mb-2\">Limited Time Offer!</p>\n            <p className=\"text-xs text-gray-300\">Get up to 50% off on yearly IPTV subscriptions.</p>\n          </div>\n        </nav>\n      </SheetContent>\n    </Sheet>\n  );\n}\n","path":null,"size_bytes":4383,"size_tokens":null},"client/src/components/ProductQuickView.tsx":{"content":"import { motion, AnimatePresence } from \"framer-motion\";\nimport { X, ShoppingCart, Check, Zap, Star, Package, Eye, Heart } from \"lucide-react\";\nimport { useCart, useWishlist } from \"@/lib/store\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n  description: string;\n  features: string[];\n  image: string;\n  category: \"firestick\" | \"iptv\";\n  badge: string;\n  popular?: boolean;\n}\n\ninterface ProductQuickViewProps {\n  product: Product | null;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function ProductQuickView({ product, isOpen, onClose }: ProductQuickViewProps) {\n  const { addItem, openCart } = useCart();\n  const { addToWishlist, removeFromWishlist, isInWishlist } = useWishlist();\n\n  if (!product) return null;\n\n  const handleAddToCart = () => {\n    addItem({\n      id: product.id,\n      name: product.name,\n      price: product.price,\n      image: product.image,\n      category: product.category as 'firestick' | 'iptv' | 'design',\n      description: product.description,\n    });\n    onClose();\n  };\n\n  const toggleWishlist = () => {\n    if (isInWishlist(product.id)) {\n      removeFromWishlist(product.id);\n    } else {\n      addToWishlist({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        image: product.image,\n        category: product.category as 'firestick' | 'iptv' | 'design',\n        description: product.description,\n      });\n    }\n  };\n\n  const inWishlist = isInWishlist(product.id);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent \n        className=\"sm:max-w-[700px] max-h-[90vh] bg-gray-900 border-gray-800 text-white p-0 overflow-hidden\"\n        data-testid=\"quick-view-modal\"\n      >\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-gray-900 pointer-events-none z-10\" />\n          <div className=\"h-64 sm:h-72 overflow-hidden\">\n            <img\n              src={product.image}\n              alt={product.name}\n              className=\"w-full h-full object-cover\"\n              onError={(e) => {\n                const target = e.target as HTMLImageElement;\n                target.src = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIj48cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iIzMzMyIvPjx0ZXh0IHg9IjIwMCIgeT0iMTUwIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj5ObyBJbWFnZTwvdGV4dD48L3N2Zz4=';\n              }}\n            />\n          </div>\n          <div className=\"absolute top-4 left-4 z-20 flex gap-2\">\n            <Badge \n              className={`${\n                product.popular \n                  ? 'bg-gradient-to-r from-orange-500 to-red-500' \n                  : 'bg-blue-500'\n              } text-white font-bold`}\n            >\n              {product.badge}\n            </Badge>\n            {product.popular && (\n              <Badge className=\"bg-yellow-500 text-black font-bold flex items-center gap-1\">\n                <Star className=\"w-3 h-3 fill-current\" />\n                Best Seller\n              </Badge>\n            )}\n          </div>\n        </div>\n\n        <div className=\"px-6 pb-6 -mt-8 relative z-20\">\n          <DialogHeader className=\"mb-4\">\n            <DialogTitle className=\"text-2xl font-bold text-white\" data-testid=\"quick-view-title\">\n              {product.name}\n            </DialogTitle>\n            <DialogDescription className=\"text-gray-300 text-base mt-2\">\n              {product.description}\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"flex items-baseline gap-3 mb-6\">\n            <span className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500\" data-testid=\"quick-view-price\">\n              ${product.price.toFixed(2)}\n            </span>\n            {product.category === 'firestick' && (\n              <span className=\"text-green-400 text-sm font-medium flex items-center gap-1\">\n                <Package className=\"w-4 h-4\" />\n                1 Year Live TV Included\n              </span>\n            )}\n          </div>\n\n          <Separator className=\"bg-gray-800 mb-6\" />\n\n          <div className=\"mb-6\">\n            <p className=\"text-sm font-semibold text-gray-300 uppercase tracking-wide mb-3\">\n              What's Included:\n            </p>\n            <ScrollArea className=\"h-40\">\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                {product.features.map((feature, idx) => (\n                  <motion.div\n                    key={idx}\n                    initial={{ opacity: 0, x: -10 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: idx * 0.05 }}\n                    className=\"flex items-start gap-2\"\n                  >\n                    <Check className=\"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5\" />\n                    <span className=\"text-gray-300 text-sm\">{feature}</span>\n                  </motion.div>\n                ))}\n              </div>\n            </ScrollArea>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={handleAddToCart}\n              className={`flex-1 py-6 text-lg font-bold transition-all ${\n                product.popular\n                  ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/30'\n                  : 'bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600'\n              }`}\n              data-testid=\"quick-view-add-to-cart\"\n            >\n              <ShoppingCart className=\"w-5 h-5 mr-2\" />\n              Add to Cart\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={toggleWishlist}\n              className={`py-6 transition-all ${\n                inWishlist \n                  ? 'border-red-500 text-red-500 hover:bg-red-500/10' \n                  : 'border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white'\n              }`}\n              data-testid=\"quick-view-wishlist\"\n              aria-label={inWishlist ? 'Remove from wishlist' : 'Add to wishlist'}\n            >\n              <Heart className={`w-5 h-5 ${inWishlist ? 'fill-current' : ''}`} />\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={onClose}\n              className=\"border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white py-6\"\n              data-testid=\"quick-view-close\"\n            >\n              Close\n            </Button>\n          </div>\n\n          <div className=\"mt-4 flex items-center justify-center gap-4 text-xs text-gray-500\">\n            <span className=\"flex items-center gap-1\">\n              <Zap className=\"w-3 h-3 text-yellow-500\" />\n              Instant Email Delivery\n            </span>\n            <span></span>\n            <span>24/7 Support</span>\n            <span></span>\n            <span>Secure Payment</span>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport function QuickViewButton({ onClick }: { onClick: () => void }) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"absolute top-4 right-4 z-30 bg-black/50 backdrop-blur-sm hover:bg-black/70 text-white p-2 rounded-full transition-all opacity-0 group-hover:opacity-100\"\n      aria-label=\"Quick view\"\n      data-testid=\"button-quick-view\"\n    >\n      <Eye className=\"w-5 h-5\" />\n    </button>\n  );\n}\n","path":null,"size_bytes":7942,"size_tokens":null},"server/setup-webhook.ts":{"content":"import { getUncachableStripeClient, getStripeSecretKey } from './stripeClient';\n\nasync function setupWebhook() {\n  console.log('='.repeat(50));\n  console.log('STRIPE WEBHOOK SETUP');\n  console.log('='.repeat(50));\n\n  try {\n    const stripe = await getUncachableStripeClient();\n    \n    // Step 1: Delete ALL existing webhooks to start fresh\n    console.log('\\n1. Cleaning up old webhooks...');\n    const existing = await stripe.webhookEndpoints.list({ limit: 100 });\n    \n    for (const wh of existing.data) {\n      console.log(`   Deleting: ${wh.id}`);\n      await stripe.webhookEndpoints.del(wh.id);\n    }\n    console.log(`   Deleted ${existing.data.length} old webhook(s)`);\n\n    // Step 2: Create fresh webhook\n    console.log('\\n2. Creating new webhook...');\n    const webhook = await stripe.webhookEndpoints.create({\n      url: 'https://secure.streamstickpro.com/api/stripe/webhook',\n      enabled_events: [\n        'checkout.session.completed',\n        'checkout.session.expired',\n        'payment_intent.succeeded',\n        'payment_intent.payment_failed',\n        'payment_intent.canceled',\n        'charge.succeeded',\n        'charge.failed',\n        'charge.refunded',\n      ],\n      description: 'StreamStickPro Production Webhook',\n    });\n\n    console.log('\\n' + '='.repeat(50));\n    console.log('SUCCESS! WEBHOOK CREATED');\n    console.log('='.repeat(50));\n    console.log('');\n    console.log('Webhook ID:', webhook.id);\n    console.log('URL:', webhook.url);\n    console.log('Status:', webhook.status);\n    console.log('');\n    console.log('WEBHOOK SECRET (save this):');\n    console.log(webhook.secret);\n    console.log('');\n    console.log('='.repeat(50));\n\n    // Step 3: Verify it exists\n    console.log('\\n3. Verifying webhook exists...');\n    const verify = await stripe.webhookEndpoints.list({ limit: 10 });\n    console.log(`   Found ${verify.data.length} webhook(s):`);\n    for (const w of verify.data) {\n      console.log(`   - ${w.url} (${w.status})`);\n    }\n\n    console.log('\\n SETUP COMPLETE!');\n    console.log('Your app should now receive Stripe events.');\n\n  } catch (error: any) {\n    console.error('\\n ERROR:', error.message);\n    process.exit(1);\n  }\n}\n\nsetupWebhook();\n","path":null,"size_bytes":2211,"size_tokens":null},"content/christmas-campaign-structure.md":{"content":"# StreamStickPro Christmas Campaign 2025\n## 100 Blog Posts + Multi-Platform Distribution Strategy\n\n---\n\n## THEME 1: Dad's Man Cave / Father's Gifts (20 Posts)\n\n### Pillar Article:\n1. **\"The Ultimate Man Cave Gift Guide 2025: Streaming Edition\"** - 2000 words\n\n### Supporting Posts:\n2. \"10 Tech Gifts That Will Make Dad's Man Cave Epic This Christmas\"\n3. \"Why Every Dad Needs a Jailbroken Fire Stick This Holiday\"\n4. \"Man Cave Streaming Setup: Complete Guide for Under $200\"\n5. \"Best Sports Streaming Gifts for Dad 2025\"\n6. \"Transform Dad's Garage into the Ultimate Sports Den\"\n7. \"Father's Day Came Early: Holiday Tech Gifts He'll Actually Use\"\n8. \"The $150 Gift That Replaces Dad's $200/Month Cable Bill\"\n9. \"Man Cave Must-Haves: From Beer Fridge to Streaming Stick\"\n10. \"Why Smart Dads Are Cutting the Cord This Christmas\"\n11. \"5 Gifts Your Husband Actually Wants (But Won't Ask For)\"\n12. \"Sports Bar at Home: The Ultimate Dad Gift Setup\"\n13. \"Fire Stick vs Cable: Why Dad Will Thank You\"\n14. \"Last Minute Gifts for the Tech-Savvy Dad\"\n15. \"Creating the Perfect Game Day Setup for Less Than Cable\"\n16. \"Gifts for the Dad Who Has Everything (Except Free Sports)\"\n17. \"Man Cave Makeover: Streaming Edition Christmas 2025\"\n18. \"The Gift That Keeps Giving: Unlimited Entertainment for Dad\"\n19. \"Budget-Friendly Man Cave Upgrades He'll Love\"\n20. \"Why Every Sports-Loving Dad Needs This $150 Device\"\n\n---\n\n## THEME 2: Sports Lovers / NFL, NBA, UFC (20 Posts)\n\n### Pillar Article:\n21. **\"Watch Every Game: The Sports Fan's Ultimate Christmas Gift Guide 2025\"** - 2000 words\n\n### Supporting Posts:\n22. \"How to Watch NFL Playoffs Without Cable This Christmas\"\n23. \"Best Gifts for UFC Fans 2025: Never Pay for PPV Again\"\n24. \"NBA Christmas Day Games: How to Watch Every Matchup Free\"\n25. \"The Sports Fan's Guide to Cord Cutting for the Holidays\"\n26. \"Watch Sunday Ticket Without the $400 Price Tag\"\n27. \"UFC PPV Events for Free: The Best Gift for Fight Fans\"\n28. \"NFL RedZone Without Cable: A Sports Fan's Dream Gift\"\n29. \"Premier League Christmas Schedule: How to Stream Every Match\"\n30. \"College Football Playoff Streaming Guide 2025\"\n31. \"Best Boxing Day Premier League Streaming Options\"\n32. \"New Year's Bowl Games: Stream Every Game for Free\"\n33. \"Sports Streaming Devices: Which One is Best for Athletes?\"\n34. \"The $150 Device That Replaces $500/Year in Sports Packages\"\n35. \"March Madness Ready: Set Up Now, Thank Yourself Later\"\n36. \"How to Host the Ultimate Super Bowl Party for Less\"\n37. \"Sports Bar Owner's Secret: Stream Every Game for Pennies\"\n38. \"Why Sports Fans Are Ditching Cable This Christmas\"\n39. \"World Cup 2026 Ready: Get Your Streaming Setup Now\"\n40. \"Best Gifts for the Fantasy Football Fanatic\"\n\n---\n\n## THEME 3: Family Entertainment / Cord-Cutting (20 Posts)\n\n### Pillar Article:\n41. **\"Cut the Cord This Christmas: Save $1,500+ While Watching More\"** - 2000 words\n\n### Supporting Posts:\n42. \"Family Movie Night Made Easy: The Best Christmas Gift\"\n43. \"How Families Are Saving $200/Month on Entertainment\"\n44. \"The All-in-One Device Every Family Needs This Christmas\"\n45. \"Kid-Friendly Streaming: Parental Controls Made Simple\"\n46. \"Christmas Movie Marathon: Stream Thousands for Free\"\n47. \"Why Millennials Are Buying Fire Sticks for Their Parents\"\n48. \"Grandma-Proof Streaming: Easy Setup for Any Age\"\n49. \"One Device, Unlimited Entertainment: The Family Gift\"\n50. \"Cancel Cable, Keep Everything: The Cord-Cutter's Guide\"\n51. \"Best Streaming Gift for Large Families 2025\"\n52. \"How to Share Streaming Across Multiple TVs\"\n53. \"The Gift That Ends 'What Should We Watch?' Forever\"\n54. \"Streaming Device vs Smart TV: What's Better for Families?\"\n55. \"Make Christmas Movie Night Magical (Without the Cost)\"\n56. \"Why Your Whole Family Will Love This One Gift\"\n57. \"From Boomers to Gen Z: One Streaming Device for All\"\n58. \"The Secret to 60,000+ Movies at Your Fingertips\"\n59. \"Family Road Trip Entertainment: Take Your Streams Anywhere\"\n60. \"Best Tech Gifts for the Whole Family Under $200\"\n\n---\n\n## THEME 4: Christmas Tech Gifts / Stocking Stuffers (20 Posts)\n\n### Pillar Article:\n61. **\"Top 10 Tech Gifts Under $200 That Actually Deliver Value\"** - 2000 words\n\n### Supporting Posts:\n62. \"Best Stocking Stuffers for Tech Lovers 2025\"\n63. \"Last-Minute Tech Gifts That Ship Before Christmas\"\n64. \"The Gadget That Outperforms Its Price Tag Every Time\"\n65. \"Tech Gift Guide: What's Actually Worth Buying This Year\"\n66. \"Affordable Tech Gifts That Feel Expensive\"\n67. \"Streaming Device Showdown: Best Value Christmas 2025\"\n68. \"The $150 Gift That Feels Like $1,500\"\n69. \"Tech Gifts That Keep Giving All Year Long\"\n70. \"Best Budget Tech Gifts That Don't Feel Cheap\"\n71. \"Why Fire Stick is the #1 Tech Gift This Holiday\"\n72. \"Smart Home Starter: Begin With Streaming\"\n73. \"Tech Gifts for People Who Hate Subscriptions\"\n74. \"The Gift That Pays for Itself in 30 Days\"\n75. \"Best Amazon Alternatives for Holiday Tech Shopping\"\n76. \"Streaming Devices Ranked: Christmas Buyer's Guide\"\n77. \"What Tech Reviewers Are Buying for Their Families\"\n78. \"Unique Tech Gifts They Don't Already Have\"\n79. \"The Most Underrated Tech Gift of 2025\"\n80. \"Tech Gifts That Actually Save Money Long-Term\"\n\n---\n\n## THEME 5: Holiday Savings / Money-Smart Gifts (20 Posts)\n\n### Pillar Article:\n81. **\"The Christmas Gift That Saves Families $2,500 Per Year\"** - 2000 words\n\n### Supporting Posts:\n82. \"How to Cut Your Entertainment Bill by 80% This Holiday\"\n83. \"The Best Gift for Budget-Conscious Families 2025\"\n84. \"Stop Paying for Cable: A Christmas Resolution That Works\"\n85. \"Why Smart Shoppers Are Choosing Streaming This Year\"\n86. \"Financial Freedom Starts With Cutting This One Bill\"\n87. \"The Investment Gift: Tech That Pays Dividends\"\n88. \"New Year, New Savings: Ditch Cable Before January\"\n89. \"How One $150 Purchase Saves You $18,000 Over 10 Years\"\n90. \"Best Gifts for the Frugal Family Member\"\n91. \"Why Cord-Cutting is the Best Financial Gift\"\n92. \"Holiday Shopping Smart: Quality Over Quantity\"\n93. \"The Gift That Actually Saves Money (Unlike Everything Else)\"\n94. \"Budget Christmas Ideas That Don't Sacrifice Quality\"\n95. \"From Cable to Streaming: A Family's Savings Journey\"\n96. \"Why Financial Advisors Recommend Cord-Cutting\"\n97. \"The Hidden Costs of Cable vs. Streaming Truth\"\n98. \"Best Value Gifts for the Practical Person\"\n99. \"Make Your Christmas Gift Budget Go Further\"\n100. \"The One Purchase That Changes Everything About Entertainment\"\n\n---\n\n## DISTRIBUTION STRATEGY\n\n### Immediate Traffic (24 Hours)\n\n#### Pinterest (40 Pins)\n- Create 4 themed boards:\n  - \"Man Cave Gift Ideas 2025\"\n  - \"Sports Streaming Gifts\"\n  - \"Family Entertainment Setup\"\n  - \"Tech Gifts Under $200\"\n- Pin each blog post with eye-catching images\n- Use trending hashtags: #ChristmasGifts #GiftsForHim #ManCave #CordCutting\n\n#### Reddit Posts (15 Posts)\n- r/cordcutters - Savings guides\n- r/FireTV - Setup and tips\n- r/mancave - Man cave gift ideas\n- r/GiftIdeas - Christmas gift recommendations\n- r/Frugal - Money-saving angles\n- r/sports - Sports streaming guides\n\n#### Quora Answers (30 Answers)\n- \"What are the best Christmas gifts for dad?\"\n- \"How do I watch sports without cable?\"\n- \"What is the best streaming device 2025?\"\n- \"How can I save money on entertainment?\"\n- \"What should I get my husband for Christmas?\"\n\n#### Medium Articles (10 Articles)\n- Pillar articles republished with canonical links\n- Holiday gift guides\n- Cord-cutting success stories\n\n#### Facebook Groups (20 Posts)\n- Cord-cutting communities\n- Fire TV users groups\n- Sports fans groups\n- Frugal living groups\n\n#### Twitter/X (50 Posts)\n- Daily gift tips\n- Sports streaming reminders\n- Holiday savings stats\n- User testimonials\n\n---\n\n## SEO OPTIMIZATION\n\n### Keywords to Target:\n- \"best christmas gifts for dad 2025\"\n- \"man cave gift ideas\"\n- \"sports streaming gift\"\n- \"cord cutting guide\"\n- \"fire stick vs cable\"\n- \"watch nfl without cable\"\n- \"ufc ppv free streaming\"\n- \"family entertainment gift\"\n- \"tech gifts under 200\"\n- \"streaming device comparison\"\n\n### Meta Tags Template:\n- Title: [Keyword] | StreamStickPro Holiday Guide\n- Description: [Hook] + [Benefit] + [Call to Action]\n- OG Image: Generated Christmas lifestyle images\n\n### Internal Linking Strategy:\n- Each post links to 2-3 related posts\n- All posts link to product pages\n- Featured products in each article\n\n---\n\n## TIMING\n\n### Week 1 (Immediate):\n- Publish all 100 posts to website\n- Submit sitemap to Google/Bing\n- Begin Pinterest pinning (10/day)\n- Post to Reddit (3-5 quality posts)\n- Answer Quora questions (10/day)\n\n### Week 2 (Amplification):\n- Continue Pinterest (all 40 pins live)\n- Reddit engagement and replies\n- Medium article publishing\n- Facebook group shares\n- Twitter daily posts\n\n### Post-Holiday (January):\n- Keep posts live but remove Christmas CTAs\n- Update for evergreen value\n- Maintain SEO equity for next year\n","path":null,"size_bytes":8851,"size_tokens":null},"script/setup-external-secrets.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport _sodium from 'libsodium-wrappers';\n\nconst REPO_OWNER = 'reloadedfiretvteam-hash';\nconst REPO_NAME = 'streamerstickprofinal';\nconst CLOUDFLARE_PROJECT_NAME = 'streamerstickpro-live';\n\ninterface Credentials {\n  stripe: {\n    secretKey: string;\n    publishableKey: string;\n    webhookSecret: string;\n  };\n  resend: {\n    apiKey: string;\n    fromEmail: string;\n  };\n  github: {\n    accessToken: string;\n  };\n  cloudflare: {\n    apiToken: string;\n    accountId: string;\n  };\n  database: {\n    url: string;\n  };\n  supabase: {\n    url: string;\n    anonKey: string;\n  };\n}\n\nasync function getReplitConnectorCredentials(connectorName: string): Promise<any> {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY\n    ? 'repl ' + process.env.REPL_IDENTITY\n    : process.env.WEB_REPL_RENEWAL\n      ? 'depl ' + process.env.WEB_REPL_RENEWAL\n      : null;\n\n  if (!hostname || !xReplitToken) {\n    return null;\n  }\n\n  try {\n    const response = await fetch(\n      `https://${hostname}/api/v2/connection?include_secrets=true&connector_names=${connectorName}`,\n      {\n        headers: {\n          'Accept': 'application/json',\n          'X_REPLIT_TOKEN': xReplitToken\n        }\n      }\n    );\n\n    const data = await response.json();\n    return data.items?.[0]?.settings || null;\n  } catch (error) {\n    console.error(`Failed to get ${connectorName} connector:`, error);\n    return null;\n  }\n}\n\nasync function getAllCredentials(): Promise<Credentials> {\n  console.log('Fetching credentials from all sources...\\n');\n\n  // Get Stripe credentials from connectors or environment\n  const stripeSettings = await getReplitConnectorCredentials('stripe');\n  const stripeSecretKey = process.env.STRIPE_SECRET_KEY || stripeSettings?.secret_key;\n  const stripePublishableKey = process.env.STRIPE_PUBLISHABLE_KEY || stripeSettings?.publishable_key;\n  const stripeWebhookSecret = process.env.STRIPE_WEBHOOK_SECRET;\n\n  // Get Resend credentials from connectors or environment\n  const resendSettings = await getReplitConnectorCredentials('resend');\n  const resendApiKey = process.env.RESEND_API_KEY || resendSettings?.api_key;\n  const resendFromEmail = process.env.RESEND_FROM_EMAIL;\n\n  // Get GitHub credentials from connectors or environment\n  const githubSettings = await getReplitConnectorCredentials('github');\n  const githubToken = process.env.GITHUB_PERSONAL_ACCESS_TOKEN || \n                      githubSettings?.access_token ||\n                      githubSettings?.oauth?.credentials?.access_token;\n\n  // Get Cloudflare credentials from environment\n  const cloudflareApiToken = process.env.CLOUDFLARE_API_TOKEN;\n  const cloudflareAccountId = process.env.CLOUDFLARE_ACCOUNT_ID;\n\n  // Get Database URL from environment\n  const databaseUrl = process.env.SUPABASE_DATABASE_URL || process.env.DATABASE_URL;\n\n  // Get Supabase credentials from environment (these are public keys, safe to expose)\n  const supabaseUrl = process.env.VITE_SUPABASE_URL;\n  const supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY;\n\n  return {\n    stripe: {\n      secretKey: stripeSecretKey!,\n      publishableKey: stripePublishableKey!,\n      webhookSecret: stripeWebhookSecret!\n    },\n    resend: {\n      apiKey: resendApiKey!,\n      fromEmail: resendFromEmail!\n    },\n    github: {\n      accessToken: githubToken!\n    },\n    cloudflare: {\n      apiToken: cloudflareApiToken!,\n      accountId: cloudflareAccountId!\n    },\n    database: {\n      url: databaseUrl!\n    },\n    supabase: {\n      url: supabaseUrl!,\n      anonKey: supabaseAnonKey!\n    }\n  };\n}\n\nasync function encryptSecret(publicKey: string, secretValue: string): Promise<string> {\n  await _sodium.ready;\n  const sodium = _sodium;\n  \n  const binkey = sodium.from_base64(publicKey, sodium.base64_variants.ORIGINAL);\n  const binsec = sodium.from_string(secretValue);\n  const encBytes = sodium.crypto_box_seal(binsec, binkey);\n  return sodium.to_base64(encBytes, sodium.base64_variants.ORIGINAL);\n}\n\nasync function setGitHubSecret(octokit: Octokit, secretName: string, secretValue: string): Promise<boolean> {\n  try {\n    // Get the repository public key for encrypting secrets\n    const { data: publicKeyData } = await octokit.actions.getRepoPublicKey({\n      owner: REPO_OWNER,\n      repo: REPO_NAME\n    });\n\n    const encryptedValue = await encryptSecret(publicKeyData.key, secretValue);\n\n    await octokit.actions.createOrUpdateRepoSecret({\n      owner: REPO_OWNER,\n      repo: REPO_NAME,\n      secret_name: secretName,\n      encrypted_value: encryptedValue,\n      key_id: publicKeyData.key_id\n    });\n\n    console.log(`   GitHub: ${secretName}`);\n    return true;\n  } catch (error: any) {\n    console.error(`   GitHub: ${secretName} - ${error.message}`);\n    return false;\n  }\n}\n\nasync function setCloudflareEnvVar(\n  apiToken: string, \n  accountId: string, \n  varName: string, \n  varValue: string\n): Promise<boolean> {\n  try {\n    // First, get the project to find its ID\n    const projectResponse = await fetch(\n      `https://api.cloudflare.com/client/v4/accounts/${accountId}/pages/projects/${CLOUDFLARE_PROJECT_NAME}`,\n      {\n        headers: {\n          'Authorization': `Bearer ${apiToken}`,\n          'Content-Type': 'application/json'\n        }\n      }\n    );\n\n    if (!projectResponse.ok) {\n      const error = await projectResponse.text();\n      throw new Error(`Failed to get project: ${error}`);\n    }\n\n    const projectData = await projectResponse.json();\n    const currentEnvVars = projectData.result?.deployment_configs?.production?.env_vars || {};\n\n    // Update with the new variable\n    const updatedEnvVars = {\n      ...currentEnvVars,\n      [varName]: { value: varValue }\n    };\n\n    // Update the project with new environment variables\n    const updateResponse = await fetch(\n      `https://api.cloudflare.com/client/v4/accounts/${accountId}/pages/projects/${CLOUDFLARE_PROJECT_NAME}`,\n      {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${apiToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          deployment_configs: {\n            production: {\n              env_vars: updatedEnvVars\n            }\n          }\n        })\n      }\n    );\n\n    if (!updateResponse.ok) {\n      const error = await updateResponse.text();\n      throw new Error(`Failed to update: ${error}`);\n    }\n\n    console.log(`   Cloudflare: ${varName}`);\n    return true;\n  } catch (error: any) {\n    console.error(`   Cloudflare: ${varName} - ${error.message}`);\n    return false;\n  }\n}\n\nasync function main() {\n  console.log('='.repeat(60));\n  console.log('StreamStickPro - External Secrets Setup');\n  console.log('='.repeat(60));\n  console.log('');\n\n  const creds = await getAllCredentials();\n\n  // Validate we have all required credentials\n  const missing: string[] = [];\n  if (!creds.stripe.secretKey) missing.push('STRIPE_SECRET_KEY');\n  if (!creds.stripe.publishableKey) missing.push('STRIPE_PUBLISHABLE_KEY');\n  if (!creds.stripe.webhookSecret) missing.push('STRIPE_WEBHOOK_SECRET');\n  if (!creds.resend.apiKey) missing.push('RESEND_API_KEY');\n  if (!creds.resend.fromEmail) missing.push('RESEND_FROM_EMAIL');\n  if (!creds.github.accessToken) missing.push('GITHUB_TOKEN');\n  if (!creds.cloudflare.apiToken) missing.push('CLOUDFLARE_API_TOKEN');\n  if (!creds.cloudflare.accountId) missing.push('CLOUDFLARE_ACCOUNT_ID');\n  if (!creds.database.url) missing.push('DATABASE_URL');\n  if (!creds.supabase.url) missing.push('VITE_SUPABASE_URL');\n  if (!creds.supabase.anonKey) missing.push('VITE_SUPABASE_ANON_KEY');\n\n  if (missing.length > 0) {\n    console.log('Missing required credentials:');\n    missing.forEach(m => console.log(`  - ${m}`));\n    console.log('\\nPlease set these environment variables and try again.');\n    process.exit(1);\n  }\n\n  console.log('All credentials found!\\n');\n\n  // Set up GitHub secrets\n  console.log('Setting GitHub Repository Secrets...');\n  const octokit = new Octokit({ auth: creds.github.accessToken });\n\n  const githubSecrets = {\n    'STRIPE_SECRET_KEY': creds.stripe.secretKey,\n    'STRIPE_PUBLISHABLE_KEY': creds.stripe.publishableKey,\n    'STRIPE_WEBHOOK_SECRET': creds.stripe.webhookSecret,\n    'RESEND_API_KEY': creds.resend.apiKey,\n    'RESEND_FROM_EMAIL': creds.resend.fromEmail,\n    'DATABASE_URL': creds.database.url,\n    'VITE_SUPABASE_URL': creds.supabase.url,\n    'VITE_SUPABASE_ANON_KEY': creds.supabase.anonKey,\n    'CLOUDFLARE_API_TOKEN': creds.cloudflare.apiToken,\n    'CLOUDFLARE_ACCOUNT_ID': creds.cloudflare.accountId\n  };\n\n  for (const [name, value] of Object.entries(githubSecrets)) {\n    await setGitHubSecret(octokit, name, value);\n  }\n\n  console.log('');\n\n  // Set up Cloudflare environment variables\n  console.log('Setting Cloudflare Pages Environment Variables...');\n  \n  const cloudflareVars = {\n    'DATABASE_URL': creds.database.url,\n    'STRIPE_SECRET_KEY': creds.stripe.secretKey,\n    'STRIPE_PUBLISHABLE_KEY': creds.stripe.publishableKey,\n    'STRIPE_WEBHOOK_SECRET': creds.stripe.webhookSecret,\n    'RESEND_API_KEY': creds.resend.apiKey,\n    'RESEND_FROM_EMAIL': creds.resend.fromEmail,\n    'WEBHOOK_PUBLIC_BASE_URL': 'https://secure.streamstickpro.com',\n    'VITE_SECURE_HOSTS': 'secure.streamstickpro.com'\n  };\n\n  for (const [name, value] of Object.entries(cloudflareVars)) {\n    await setCloudflareEnvVar(\n      creds.cloudflare.apiToken,\n      creds.cloudflare.accountId,\n      name,\n      value\n    );\n  }\n\n  console.log('');\n  console.log('='.repeat(60));\n  console.log('Setup Complete!');\n  console.log('='.repeat(60));\n  console.log('');\n  console.log('Your app is now configured to run independently from Replit.');\n  console.log('');\n  console.log('Next steps:');\n  console.log('1. Push your code to GitHub (clean-main branch)');\n  console.log('2. GitHub Actions will automatically deploy to Cloudflare');\n  console.log('3. Your app will be live at secure.streamstickpro.com');\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":10000,"size_tokens":null},"DEPLOYMENT_GUIDE.md":{"content":"# StreamStickPro - Complete Independent Deployment Guide\n\nThis guide contains everything you need to deploy and run StreamStickPro completely independently on your own infrastructure.\n\n## Table of Contents\n1. [Architecture Overview](#architecture-overview)\n2. [Required Accounts](#required-accounts)\n3. [All Environment Variables/Secrets](#all-environment-variablessecrets)\n4. [Supabase Database Setup](#supabase-database-setup)\n5. [Stripe Setup](#stripe-setup)\n6. [Resend Email Setup](#resend-email-setup)\n7. [Cloudflare Pages Deployment](#cloudflare-pages-deployment)\n8. [Domain Configuration](#domain-configuration)\n9. [Build & Deploy Commands](#build--deploy-commands)\n\n---\n\n## Architecture Overview\n\n```\n\n                    CLOUDFLARE PAGES                             \n    \n    Frontend (React/Vite) + Cloudflare Worker (Hono API)      \n    \n                                                                 \n\n                               \n        \n                                                    \n        \n   SUPABASE             STRIPE               RESEND     \n  PostgreSQL           Payments              Emails     \n  + Storage           + Webhooks                        \n        \n```\n\n**Dual-Store Product Cloaking:**\n- Main Store (streamstickpro.com)  Shows real products (Fire Sticks, IPTV)\n- Shadow Store (secure.streamstickpro.com/shadow-services)  Shows \"Web Design\", \"SEO\" services for payment processor\n\n---\n\n## Required Accounts\n\nYou need accounts with these services (all have free tiers):\n\n1. **Cloudflare** - Hosting (free tier)\n   - https://cloudflare.com\n\n2. **Supabase** - Database & Storage (free tier)\n   - https://supabase.com\n\n3. **Stripe** - Payments (pay per transaction)\n   - https://stripe.com\n\n4. **Resend** - Emails (free tier: 3,000 emails/month)\n   - https://resend.com\n\n5. **Domain Registrar** (for custom domain)\n   - Namecheap, GoDaddy, Cloudflare Registrar, etc.\n\n---\n\n## All Environment Variables/Secrets\n\nThese are ALL the secrets you need to configure in Cloudflare Pages:\n\n### Required Secrets (13 total)\n\n| Secret Name | Description | Where to Get It |\n|-------------|-------------|-----------------|\n| `STRIPE_SECRET_KEY` | Stripe API secret key | Stripe Dashboard  Developers  API Keys |\n| `STRIPE_PUBLISHABLE_KEY` | Stripe publishable key | Stripe Dashboard  Developers  API Keys |\n| `STRIPE_WEBHOOK_SECRET` | Webhook signing secret | Stripe Dashboard  Webhooks  Signing Secret |\n| `RESEND_API_KEY` | Resend API key | Resend Dashboard  API Keys |\n| `RESEND_FROM_EMAIL` | Your verified sender email | e.g., `noreply@streamstickpro.com` |\n| `DATABASE_URL` | Supabase PostgreSQL connection | Supabase  Settings  Database  Connection String |\n| `VITE_SUPABASE_URL` | Supabase project URL | Supabase  Settings  API  Project URL |\n| `VITE_SUPABASE_ANON_KEY` | Supabase anonymous key | Supabase  Settings  API  anon public key |\n| `SUPABASE_SERVICE_KEY` | Supabase service role key | Supabase  Settings  API  service_role key |\n| `ADMIN_USERNAME` | Admin panel username | Choose your own (e.g., `admin`) |\n| `ADMIN_PASSWORD_HASH` | Hashed admin password | See password hashing section below |\n| `JWT_SECRET` | JWT signing secret | Generate random 64-character string |\n| `SESSION_SECRET` | Session signing secret | Generate random 64-character string |\n\n### Example Values Format\n\nSee `.env.example` in the repository for environment variable templates. Never commit actual secrets to the repository. All sensitive values must be configured via Cloudflare Pages environment settings.\n\n### Generate Password Hash\n\nTo hash your admin password, run this in any Node.js environment:\n\n```javascript\nconst bcrypt = require('bcryptjs');\n// Or use: import bcrypt from 'bcryptjs';\n\nconst password = 'your-secure-password';\nconst hash = bcrypt.hashSync(password, 10);\nconsole.log(hash);\n// Output: $2b$10$xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n```\n\nOr use an online bcrypt generator: https://bcrypt-generator.com/\n\n### Generate Random Secrets\n\nFor JWT_SECRET and SESSION_SECRET:\n\n```bash\n# Using OpenSSL (Mac/Linux)\nopenssl rand -hex 32\n\n# Using Node.js\nnode -e \"console.log(require('crypto').randomBytes(32).toString('hex'))\"\n```\n\n---\n\n## Supabase Database Setup\n\n### 1. Create Supabase Project\n\n1. Go to https://supabase.com and create account\n2. Create new project\n3. Wait for project to initialize (~2 minutes)\n\n### 2. Create Database Tables\n\nRun this SQL in Supabase SQL Editor (Database  SQL Editor):\n\n```sql\n-- Users table (admin authentication)\nCREATE TABLE IF NOT EXISTS users (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    username VARCHAR(255) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Customers table (IPTV customers)\nCREATE TABLE IF NOT EXISTS customers (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    username VARCHAR(255) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    email VARCHAR(255),\n    full_name VARCHAR(255),\n    phone VARCHAR(50),\n    status VARCHAR(50) DEFAULT 'active',\n    notes TEXT,\n    total_orders INTEGER DEFAULT 0,\n    last_order_at TIMESTAMP,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Real products table (your actual products)\nCREATE TABLE IF NOT EXISTS real_products (\n    id VARCHAR(255) PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    price INTEGER NOT NULL,\n    category VARCHAR(50),\n    image_url TEXT,\n    shadow_product_id VARCHAR(255),\n    shadow_price_id VARCHAR(255),\n    created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Orders table\nCREATE TABLE IF NOT EXISTS orders (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    customer_email VARCHAR(255) NOT NULL,\n    customer_name VARCHAR(255),\n    customer_id UUID REFERENCES customers(id),\n    stripe_checkout_session_id VARCHAR(255),\n    stripe_payment_intent_id VARCHAR(255),\n    stripe_customer_id VARCHAR(255),\n    shadow_product_id VARCHAR(255),\n    shadow_price_id VARCHAR(255),\n    real_product_id VARCHAR(255),\n    real_product_name VARCHAR(255),\n    amount INTEGER,\n    status VARCHAR(50) DEFAULT 'pending',\n    credentials_sent BOOLEAN DEFAULT FALSE,\n    shipping_name VARCHAR(255),\n    shipping_phone VARCHAR(50),\n    shipping_street TEXT,\n    shipping_city VARCHAR(255),\n    shipping_state VARCHAR(100),\n    shipping_zip VARCHAR(20),\n    shipping_country VARCHAR(100),\n    fulfillment_status VARCHAR(50) DEFAULT 'pending',\n    amazon_order_id VARCHAR(255),\n    is_renewal BOOLEAN DEFAULT FALSE,\n    existing_username VARCHAR(255),\n    generated_username VARCHAR(255),\n    generated_password VARCHAR(255),\n    country_preference TEXT,\n    created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Visitors table (analytics)\nCREATE TABLE IF NOT EXISTS visitors (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    session_id VARCHAR(255),\n    page_url TEXT,\n    referrer TEXT,\n    user_agent TEXT,\n    ip_address VARCHAR(50),\n    country VARCHAR(100),\n    country_code VARCHAR(10),\n    region VARCHAR(100),\n    region_code VARCHAR(10),\n    city VARCHAR(100),\n    latitude DECIMAL,\n    longitude DECIMAL,\n    timezone VARCHAR(100),\n    isp VARCHAR(255),\n    is_proxy BOOLEAN DEFAULT FALSE,\n    created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Page edits table (CMS)\nCREATE TABLE IF NOT EXISTS page_edits (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    page_id VARCHAR(255) NOT NULL,\n    section_id VARCHAR(255) NOT NULL,\n    element_id VARCHAR(255) NOT NULL,\n    content TEXT,\n    image_url TEXT,\n    element_type VARCHAR(50),\n    is_active BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Create indexes for performance\nCREATE INDEX IF NOT EXISTS idx_orders_checkout_session ON orders(stripe_checkout_session_id);\nCREATE INDEX IF NOT EXISTS idx_orders_payment_intent ON orders(stripe_payment_intent_id);\nCREATE INDEX IF NOT EXISTS idx_orders_customer_email ON orders(customer_email);\nCREATE INDEX IF NOT EXISTS idx_real_products_shadow_id ON real_products(shadow_product_id);\nCREATE INDEX IF NOT EXISTS idx_customers_username ON customers(username);\nCREATE INDEX IF NOT EXISTS idx_customers_email ON customers(email);\n```\n\n### 3. Insert Products\n\nRun this SQL to insert your products (you'll need to update the shadow_product_id and shadow_price_id after creating Stripe products):\n\n```sql\n-- Fire Stick Products\nINSERT INTO real_products (id, name, description, price, category, image_url, shadow_product_id, shadow_price_id) VALUES\n('firestick-hd', 'Fire Stick HD', 'Pre-loaded streaming device with 10,000+ channels', 11900, 'firestick', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('firestick-4k', 'Fire Stick 4K', 'Premium 4K streaming with voice remote', 12900, 'firestick', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('firestick-4k-max', 'Fire Stick 4K Max', 'Ultimate streaming performance with WiFi 6E', 13600, 'firestick', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID');\n\n-- IPTV 1 Month Subscriptions\nINSERT INTO real_products (id, name, description, price, category, image_url, shadow_product_id, shadow_price_id) VALUES\n('iptv-1mo-1d', 'IPTV 1 Month - 1 Device', '1 month subscription for 1 device', 1500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1mo-2d', 'IPTV 1 Month - 2 Devices', '1 month subscription for 2 devices', 2000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1mo-3d', 'IPTV 1 Month - 3 Devices', '1 month subscription for 3 devices', 2500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1mo-4d', 'IPTV 1 Month - 4 Devices', '1 month subscription for 4 devices', 3000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1mo-5d', 'IPTV 1 Month - 5 Devices', '1 month subscription for 5 devices', 3500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID');\n\n-- IPTV 3 Month Subscriptions\nINSERT INTO real_products (id, name, description, price, category, image_url, shadow_product_id, shadow_price_id) VALUES\n('iptv-3mo-1d', 'IPTV 3 Months - 1 Device', '3 month subscription for 1 device', 3500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-3mo-2d', 'IPTV 3 Months - 2 Devices', '3 month subscription for 2 devices', 4500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-3mo-3d', 'IPTV 3 Months - 3 Devices', '3 month subscription for 3 devices', 5500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-3mo-4d', 'IPTV 3 Months - 4 Devices', '3 month subscription for 4 devices', 6500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-3mo-5d', 'IPTV 3 Months - 5 Devices', '3 month subscription for 5 devices', 7500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID');\n\n-- IPTV 6 Month Subscriptions\nINSERT INTO real_products (id, name, description, price, category, image_url, shadow_product_id, shadow_price_id) VALUES\n('iptv-6mo-1d', 'IPTV 6 Months - 1 Device', '6 month subscription for 1 device', 5000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-6mo-2d', 'IPTV 6 Months - 2 Devices', '6 month subscription for 2 devices', 6500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-6mo-3d', 'IPTV 6 Months - 3 Devices', '6 month subscription for 3 devices', 8000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-6mo-4d', 'IPTV 6 Months - 4 Devices', '6 month subscription for 4 devices', 9500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-6mo-5d', 'IPTV 6 Months - 5 Devices', '6 month subscription for 5 devices', 11000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID');\n\n-- IPTV 1 Year Subscriptions\nINSERT INTO real_products (id, name, description, price, category, image_url, shadow_product_id, shadow_price_id) VALUES\n('iptv-1yr-1d', 'IPTV 1 Year - 1 Device', '12 month subscription for 1 device', 7500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1yr-2d', 'IPTV 1 Year - 2 Devices', '12 month subscription for 2 devices', 10000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1yr-3d', 'IPTV 1 Year - 3 Devices', '12 month subscription for 3 devices', 12500, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1yr-4d', 'IPTV 1 Year - 4 Devices', '12 month subscription for 4 devices', 15000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID'),\n('iptv-1yr-5d', 'IPTV 1 Year - 5 Devices', '12 month subscription for 5 devices', 22000, 'iptv', NULL, 'prod_YOUR_STRIPE_ID', 'price_YOUR_STRIPE_ID');\n```\n\n### 4. Get Connection Details\n\nFrom Supabase Dashboard:\n- **Settings  Database  Connection String** (use \"Transaction pooler\" for serverless)\n- **Settings  API  Project URL** = `VITE_SUPABASE_URL`\n- **Settings  API  anon public** = `VITE_SUPABASE_ANON_KEY`\n- **Settings  API  service_role** = `SUPABASE_SERVICE_KEY`\n\n---\n\n## Stripe Setup\n\n### 1. Create Stripe Account\n\n1. Go to https://stripe.com\n2. Complete business verification\n3. Get your API keys from Developers  API Keys\n\n### 2. Create Shadow Products\n\nCreate these \"shadow\" products in Stripe that match your real products. These are what the payment processor sees:\n\n| Shadow Product Name | Price | Maps To |\n|---------------------|-------|---------|\n| Web Design Basic | $119.00 | Fire Stick HD |\n| Web Design Pro | $129.00 | Fire Stick 4K |\n| Web Design Premium | $136.00 | Fire Stick 4K Max |\n| SEO Package 1-Month | $15.00 | IPTV 1mo 1 Device |\n| SEO Package 1-Month Plus | $20.00 | IPTV 1mo 2 Devices |\n| ... (continue for all IPTV plans) | ... | ... |\n\nFor each product in Stripe:\n1. Products  Add Product\n2. Name: \"Web Design Basic\" (or shadow name)\n3. Price: One-time, matching your real product price\n4. Save and copy the `prod_xxx` and `price_xxx` IDs\n\n### 3. Update Product Mappings\n\nAfter creating Stripe products, update your Supabase products with the shadow IDs:\n\n```sql\n-- Example: Update Fire Stick HD with its shadow product\nUPDATE real_products \nSET shadow_product_id = 'prod_xxxxxxxxxx', shadow_price_id = 'price_xxxxxxxxxx'\nWHERE id = 'firestick-hd';\n\n-- Repeat for all products...\n```\n\n### 4. Configure Webhook\n\n1. Stripe Dashboard  Developers  Webhooks\n2. Add endpoint: `https://secure.streamstickpro.com/api/stripe/webhook`\n3. Select events:\n   - `checkout.session.completed`\n   - `payment_intent.succeeded`\n   - `payment_intent.payment_failed`\n4. Copy the signing secret (starts with `whsec_`)\n5. Save as `STRIPE_WEBHOOK_SECRET` in Cloudflare\n\n---\n\n## Resend Email Setup\n\n### 1. Create Resend Account\n\n1. Go to https://resend.com\n2. Create account and verify email\n\n### 2. Add Domain\n\n1. Domains  Add Domain\n2. Add your domain (e.g., `streamstickpro.com`)\n3. Add DNS records to your domain registrar\n4. Wait for verification (~5 minutes)\n\n### 3. Create API Key\n\n1. API Keys  Create API Key\n2. Name: \"StreamStickPro\"\n3. Copy the key (starts with `re_`)\n4. Save as `RESEND_API_KEY` in Cloudflare\n\n### 4. Set From Email\n\nSet `RESEND_FROM_EMAIL` to an email on your verified domain:\n- `noreply@streamstickpro.com`\n- `orders@streamstickpro.com`\n\n---\n\n## Cloudflare Pages Deployment\n\n### 1. Create Cloudflare Account\n\n1. Go to https://cloudflare.com\n2. Create account\n\n### 2. Connect Git Repository\n\n1. Workers & Pages  Create\n2. Connect to GitHub/GitLab\n3. Select your repository\n4. Configure build settings:\n   - Build command: `npm run build`\n   - Build output directory: `dist`\n   - Root directory: (leave empty)\n\n### 3. Add Environment Variables\n\nIn Cloudflare Pages  Settings  Environment Variables:\n\nAdd ALL secrets from the table above for both Production and Preview environments.\n\n### 4. Deploy\n\n1. Save settings\n2. Deploy!\n\n### 5. Redeploy After Adding Secrets\n\nAfter adding secrets, trigger a new deployment:\n1. Go to Deployments\n2. Click \"Retry deployment\" on the latest\n\n---\n\n## Domain Configuration\n\n### 1. Add Custom Domain to Cloudflare Pages\n\n1. Cloudflare Pages  Your Project  Custom Domains\n2. Add domain: `streamstickpro.com`\n3. Add subdomain: `secure.streamstickpro.com`\n\n### 2. Configure DNS\n\nIf your domain is on Cloudflare:\n- DNS records are added automatically\n\nIf your domain is elsewhere:\n1. Add CNAME record:\n   - Name: `@` (or `www`)\n   - Target: `your-project.pages.dev`\n   \n2. Add CNAME for subdomain:\n   - Name: `secure`\n   - Target: `your-project.pages.dev`\n\n### 3. Enable SSL\n\nCloudflare automatically provides SSL certificates.\n\n---\n\n## Build & Deploy Commands\n\n### Local Development\n\n```bash\n# Install dependencies\nnpm install\n\n# Start development server (uses Express for local dev)\nnpm run dev\n\n# Access at http://localhost:5000\n```\n\n### Build for Production\n\n```bash\n# Build for Cloudflare Pages\nnpm run build\n```\n\nThis creates a `dist/` folder with:\n- Static frontend files\n- Cloudflare Worker bundle\n\n### Deploy to Cloudflare\n\n```bash\n# Using Wrangler CLI\nnpx wrangler pages deploy dist\n```\n\nOr push to your connected Git repository for automatic deployment.\n\n---\n\n## File Structure Overview\n\n```\nstreamstickpro/\n client/                 # React frontend\n    src/\n       pages/\n          MainStore.tsx    # Customer store\n          ShadowStore.tsx  # Payment processor view\n          Checkout.tsx     # Cart & checkout\n          Success.tsx      # Post-payment\n          AdminPanel.tsx   # Admin dashboard\n       components/\n       lib/\n    index.html\n worker/                 # Cloudflare Worker (API)\n    index.ts            # Main entry\n    storage.ts          # Supabase database\n    email.ts            # Resend emails\n    routes/\n        checkout.ts     # Stripe checkout\n        webhook.ts      # Stripe webhooks\n        products.ts     # Product API\n        orders.ts       # Orders API\n        admin.ts        # Admin API\n        auth.ts         # Authentication\n shared/                 # Shared types\n    schema.ts\n wrangler.toml           # Cloudflare config\n package.json\n DEPLOYMENT_GUIDE.md     # This file\n```\n\n---\n\n## Troubleshooting\n\n### Webhook Not Working\n\n1. Check webhook URL is correct: `https://secure.streamstickpro.com/api/stripe/webhook`\n2. Verify STRIPE_WEBHOOK_SECRET is set correctly\n3. Check Cloudflare Pages logs\n4. Test with Stripe CLI: `stripe listen --forward-to localhost:5000/api/stripe/webhook`\n\n### Database Connection Failed\n\n1. Verify DATABASE_URL uses Transaction Pooler URL (port 6543)\n2. Check Supabase is not paused (free tier pauses after 7 days inactive)\n3. Verify connection string format\n\n### Emails Not Sending\n\n1. Verify domain is verified in Resend\n2. Check RESEND_API_KEY is correct\n3. Ensure RESEND_FROM_EMAIL matches verified domain\n\n### Products Not Loading\n\n1. Check products exist in Supabase `real_products` table\n2. Verify VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY\n3. Check browser console for errors\n\n---\n\n## Support\n\nFor issues:\n1. Check Cloudflare Pages logs (Deployments  View Logs)\n2. Check browser developer console\n3. Verify all environment variables are set\n\n---\n\n## Quick Checklist\n\nBefore going live, verify:\n\n- [ ] All 13 secrets configured in Cloudflare\n- [ ] Database tables created in Supabase\n- [ ] Products inserted with shadow mappings\n- [ ] Stripe webhook configured\n- [ ] Domain DNS configured\n- [ ] Test checkout flow works\n- [ ] Test emails are received\n- [ ] Admin login works\n","path":null,"size_bytes":21068,"size_tokens":null},"scripts/push-to-github.ts":{"content":"import { Octokit } from \"@octokit/rest\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nconst octokit = new Octokit({ auth: process.env.GITHUB_TOKEN });\nconst owner = \"reloadedfiretvteam-hash\";\nconst repo = \"streamerstickprofinal\";\nconst branch = \"clean-main\";\n\nconst ignorePatterns = [\n  'node_modules', '.git', 'dist', '.cache', '.local', '.replit', 'replit.nix',\n  '.upm', '.config', 'package-lock.json', '.env', 'attached_assets', '.wrangler-secrets'\n];\n\nfunction shouldIgnore(filePath: string): boolean {\n  return ignorePatterns.some(p => filePath.includes(p));\n}\n\nfunction getAllFiles(dir: string, baseDir: string = dir): string[] {\n  const files: string[] = [];\n  const entries = fs.readdirSync(dir, { withFileTypes: true });\n  \n  for (const entry of entries) {\n    const fullPath = path.join(dir, entry.name);\n    const relativePath = path.relative(baseDir, fullPath);\n    \n    if (shouldIgnore(relativePath)) continue;\n    \n    if (entry.isDirectory()) {\n      files.push(...getAllFiles(fullPath, baseDir));\n    } else {\n      files.push(relativePath);\n    }\n  }\n  return files;\n}\n\nasync function main() {\n  console.log(\"Getting current commit SHA...\");\n  const { data: ref } = await octokit.git.getRef({ owner, repo, ref: `heads/${branch}` });\n  const currentSha = ref.object.sha;\n  console.log(\"Current commit:\", currentSha);\n\n  const { data: currentCommit } = await octokit.git.getCommit({ owner, repo, commit_sha: currentSha });\n  const baseTreeSha = currentCommit.tree.sha;\n\n  console.log(\"Reading local files...\");\n  const files = getAllFiles(\".\");\n  console.log(`Found ${files.length} files to push`);\n\n  console.log(\"Creating blobs...\");\n  const tree: Array<{ path: string; mode: \"100644\"; type: \"blob\"; sha: string }> = [];\n  \n  for (const file of files) {\n    try {\n      const content = fs.readFileSync(file);\n      const base64Content = content.toString(\"base64\");\n      \n      const { data: blob } = await octokit.git.createBlob({\n        owner, repo,\n        content: base64Content,\n        encoding: \"base64\"\n      });\n      \n      tree.push({ path: file, mode: \"100644\", type: \"blob\", sha: blob.sha });\n      process.stdout.write(\".\");\n    } catch (err) {\n      console.log(`\\nSkipped: ${file}`);\n    }\n  }\n  console.log(\"\\n\");\n\n  console.log(\"Creating tree...\");\n  const { data: newTree } = await octokit.git.createTree({\n    owner, repo, tree, base_tree: baseTreeSha\n  });\n\n  console.log(\"Creating commit...\");\n  const { data: newCommit } = await octokit.git.createCommit({\n    owner, repo,\n    message: \"Fix webhook 404: add /webhook/:uuid route for Stripe managed webhooks - \" + new Date().toISOString(),\n    tree: newTree.sha,\n    parents: [currentSha]\n  });\n\n  console.log(\"Updating branch reference...\");\n  await octokit.git.updateRef({\n    owner, repo,\n    ref: `heads/${branch}`,\n    sha: newCommit.sha\n  });\n\n  console.log(\"\\n Successfully pushed to GitHub!\");\n  console.log(`Commit: ${newCommit.sha}`);\n  console.log(`Branch: ${branch}`);\n}\n\nmain().catch(err => {\n  console.error(\"Error:\", err.message);\n  process.exit(1);\n});\n","path":null,"size_bytes":3066,"size_tokens":null},"SYSTEM_CREDENTIALS.md":{"content":"# StreamStickPro - Complete System Credentials & Access Guide\n\n## Admin Panel Access\n\n**URL:** https://your-domain.com/admin  \n**Username:** `admin`  \n**Password:** `admin123`\n\n---\n\n## Supabase (Image Storage)\n\n**Dashboard:** https://supabase.com/dashboard/project/emlqlmfzqsnqokrqvmcm  \n**Project URL:** https://emlqlmfzqsnqokrqvmcm.supabase.co  \n**Storage Bucket:** `imiges`\n\n### Current Products in Database:\n- 3 Fire Stick products (all have images)\n- 24 IPTV subscription products (all have images)\n\n---\n\n## GitHub Repository\n\n**Repository:** reloadedfiretvteam-hash/streamerstickprofinal  \n**Branch:** clean-main  \n**Latest Commit:** d9afbf9aa790189372b882f869a646b913179cc8  \n**URL:** https://github.com/reloadedfiretvteam-hash/streamerstickprofinal\n\n---\n\n## Cloudflare Pages (Live Deployment)\n\n**Project Name:** streamerstickpro-live  \n**Live Domain:** streamstickpro.com  \n**Deployment:** Automatic from GitHub (clean-main branch)\n\n### Required Environment Variables in Cloudflare:\nCheck these in Cloudflare Dashboard > Settings > Environment Variables:\n\n| Variable | Description |\n|----------|-------------|\n| `DATABASE_URL` | Supabase PostgreSQL connection string |\n| `STRIPE_SECRET_KEY` | Stripe live secret key |\n| `STRIPE_PUBLISHABLE_KEY` | Stripe live publishable key |\n| `STRIPE_WEBHOOK_SECRET` | Webhook signature verification |\n| `RESEND_API_KEY` | Email sending API key |\n| `VITE_SUPABASE_URL` | Supabase project URL |\n| `VITE_SUPABASE_ANON_KEY` | Supabase public anon key |\n\n**IMPORTANT:** If `ADMIN_PASSWORD_HASH` exists in Cloudflare env vars, DELETE IT so the default admin credentials work.\n\n---\n\n## Stripe (Payments)\n\n**Dashboard:** https://dashboard.stripe.com\n\n### Webhook Endpoint:\n**URL:** https://streamstickpro.com/api/stripe/webhook  \n**Events to listen for:**\n- `checkout.session.completed`\n- `payment_intent.succeeded`\n\n---\n\n## Resend (Email)\n\n**Dashboard:** https://resend.com/overview\n\nEmail templates are built into the application code:\n- Order confirmation (sent immediately)\n- Credentials email (sent 5 minutes after purchase)\n\n---\n\n## IPTV Portal (Customer Access)\n\n**Portal URL:** http://ky-tv.cc  \n**Setup Video:** https://www.youtube.com/watch?v=f2clKKw2HZ8\n\nCustomers receive credentials via email after purchase.\n\n---\n\n## Replit Environment Variables\n\nThese are already configured in your Replit project:\n\n### Public Variables:\n- `VITE_SUPABASE_URL`\n- `VITE_SUPABASE_ANON_KEY`\n- `VITE_SECURE_HOSTS`\n- `VITE_STORAGE_BUCKET_NAME`\n\n### Secrets (Values Hidden):\n- `STRIPE_SECRET_KEY`\n- `STRIPE_PUBLISHABLE_KEY`\n- `STRIPE_LIVE_SECRET_KEY`\n- `STRIPE_LIVE_PUBLISHABLE_KEY`\n- `STRIPE_WEBHOOK_SECRET`\n- `RESEND_API_KEY`\n- `SUPABASE_SERVICE_KEY`\n- `GITHUB_PERSONAL_ACCESS_TOKEN`\n- Database: `DATABASE_URL`, `PGHOST`, `PGPORT`, `PGUSER`, `PGPASSWORD`, `PGDATABASE`\n\n---\n\n## Quick Troubleshooting\n\n### Admin Login Not Working?\n1. Check if `ADMIN_PASSWORD_HASH` exists in environment\n2. If it does, delete it - the default password will then work\n3. Default: admin / StreamStick2024!\n\n### Images Not Loading?\n1. Check Supabase bucket is public\n2. Verify `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` are set\n3. Bucket name should be `imiges`\n\n### Payments Not Processing?\n1. Verify Stripe keys are for LIVE mode (not test)\n2. Check webhook secret matches Stripe dashboard\n3. Ensure webhook endpoint is accessible\n\n### Emails Not Sending?\n1. Verify `RESEND_API_KEY` is set\n2. Check Resend dashboard for delivery status\n3. Verify sender domain is configured\n\n---\n\n## Support\n\nFor technical issues with the platform code, refer to:\n- `replit.md` - Technical architecture documentation\n- `README.md` - Setup instructions\n","path":null,"size_bytes":3653,"size_tokens":null},"client/src/lib/api.ts":{"content":"// Simple API client - always uses relative URLs for Cloudflare Worker\nexport function getApiBase(): string {\n  // Always use relative URLs - the Cloudflare Worker handles all API routes\n  return '';\n}\n\nexport async function apiCall(endpoint: string, options?: RequestInit): Promise<Response> {\n  // Always use relative URLs to hit the Cloudflare Worker API\n  const url = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n  return fetch(url, {\n    ...options,\n    credentials: 'include',\n  });\n}\n","path":null,"size_bytes":500,"size_tokens":null},"client/src/vite-env.d.ts":{"content":"/// <reference types=\"vite/client\" />\n\ndeclare module \"*.mp4\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.webm\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.ogg\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.jpg\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.jpeg\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.png\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.gif\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.svg\" {\n  const src: string;\n  export default src;\n}\n\ndeclare module \"*.webp\" {\n  const src: string;\n  export default src;\n}\n","path":null,"size_bytes":680,"size_tokens":null},"server/aiContentService.ts":{"content":"import OpenAI from 'openai';\n\nconst openai = new OpenAI({\n  apiKey: process.env.AI_INTEGRATIONS_OPENAI_API_KEY,\n  baseURL: process.env.AI_INTEGRATIONS_OPENAI_BASE_URL,\n});\n\nexport interface ContentGenerationRequest {\n  topic: string;\n  keywords?: string[];\n  tone?: 'professional' | 'casual' | 'educational' | 'persuasive' | 'entertaining';\n  length?: 'short' | 'medium' | 'long' | 'comprehensive';\n  category?: string;\n  targetAudience?: string;\n  includeHeadings?: boolean;\n  includeLists?: boolean;\n  includeFAQ?: boolean;\n  productContext?: string;\n}\n\nexport interface GeneratedContent {\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  metaTitle: string;\n  metaDescription: string;\n  keywords: string[];\n  category: string;\n  faq?: { question: string; answer: string }[];\n}\n\nexport interface ContentOutline {\n  title: string;\n  sections: { heading: string; keyPoints: string[] }[];\n  estimatedWordCount: number;\n}\n\nfunction generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-')\n    .substring(0, 100);\n}\n\nfunction getLengthGuidance(length: string): { minWords: number; maxWords: number; sections: number } {\n  switch (length) {\n    case 'short':\n      return { minWords: 400, maxWords: 600, sections: 3 };\n    case 'medium':\n      return { minWords: 800, maxWords: 1200, sections: 5 };\n    case 'long':\n      return { minWords: 1500, maxWords: 2000, sections: 7 };\n    case 'comprehensive':\n      return { minWords: 2500, maxWords: 4000, sections: 10 };\n    default:\n      return { minWords: 800, maxWords: 1200, sections: 5 };\n  }\n}\n\nexport async function generateContentOutline(request: ContentGenerationRequest): Promise<ContentOutline> {\n  const lengthGuide = getLengthGuidance(request.length || 'medium');\n  \n  const systemPrompt = `You are an expert content strategist and SEO specialist. Generate a detailed content outline for a blog post.\nYour response must be valid JSON with this exact structure:\n{\n  \"title\": \"SEO-optimized title (50-60 characters)\",\n  \"sections\": [\n    { \"heading\": \"H2 section heading\", \"keyPoints\": [\"point 1\", \"point 2\", \"point 3\"] }\n  ],\n  \"estimatedWordCount\": number\n}`;\n\n  const userPrompt = `Create a content outline for:\nTopic: ${request.topic}\n${request.keywords?.length ? `Target Keywords: ${request.keywords.join(', ')}` : ''}\nTone: ${request.tone || 'professional'}\nTarget Audience: ${request.targetAudience || 'general readers interested in streaming and entertainment'}\nCategory: ${request.category || 'general'}\n${request.productContext ? `Product Context: ${request.productContext}` : ''}\n\nRequirements:\n- Create ${lengthGuide.sections} sections with H2 headings\n- Target word count: ${lengthGuide.minWords}-${lengthGuide.maxWords} words\n- Include SEO-friendly headings that incorporate keywords naturally\n- Each section should have 3-5 key points to cover\n${request.includeFAQ ? '- Include a FAQ section with 5 common questions' : ''}`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: userPrompt }\n    ],\n    temperature: 0.7,\n    response_format: { type: 'json_object' }\n  });\n\n  const content = response.choices[0]?.message?.content;\n  if (!content) {\n    throw new Error('Failed to generate outline');\n  }\n\n  return JSON.parse(content);\n}\n\nexport async function generateFullContent(request: ContentGenerationRequest): Promise<GeneratedContent> {\n  const lengthGuide = getLengthGuidance(request.length || 'medium');\n  \n  const systemPrompt = `You are an expert content writer specializing in streaming, entertainment, and cord-cutting topics. Write engaging, SEO-optimized blog content.\n\nYour response must be valid JSON with this exact structure:\n{\n  \"title\": \"SEO-optimized title (50-60 characters)\",\n  \"excerpt\": \"Compelling summary (150-160 characters)\",\n  \"content\": \"Full HTML content with proper heading tags (h1, h2, h3), paragraphs, lists, bold text, etc.\",\n  \"metaTitle\": \"SEO meta title (50-60 characters)\",\n  \"metaDescription\": \"SEO meta description (150-160 characters)\",\n  \"keywords\": [\"keyword1\", \"keyword2\", \"keyword3\", \"keyword4\", \"keyword5\"],\n  \"category\": \"category name\"${request.includeFAQ ? `,\n  \"faq\": [\n    { \"question\": \"Question 1?\", \"answer\": \"Answer 1\" },\n    { \"question\": \"Question 2?\", \"answer\": \"Answer 2\" }\n  ]` : ''}\n}\n\nContent Guidelines:\n- Use proper HTML structure with h1 (only one), h2, h3 headings\n- Include bullet points and numbered lists for scannability\n- Add bold text for emphasis on key points\n- Write in ${request.tone || 'professional'} tone\n- Target ${lengthGuide.minWords}-${lengthGuide.maxWords} words\n- Include internal linking opportunities (mark with [internal-link: topic])\n- Optimize for featured snippets where appropriate\n- Make content actionable and valuable`;\n\n  const userPrompt = `Write a complete blog post about:\nTopic: ${request.topic}\n${request.keywords?.length ? `Target Keywords (use naturally throughout): ${request.keywords.join(', ')}` : ''}\nTarget Audience: ${request.targetAudience || 'cord-cutters and streaming enthusiasts'}\nCategory: ${request.category || 'streaming'}\n${request.productContext ? `Product/Service Context: ${request.productContext}` : ''}\n\nContent Requirements:\n- ${lengthGuide.sections} main sections with H2 headings\n- Minimum ${lengthGuide.minWords} words\n- Include practical tips and actionable advice\n${request.includeLists ? '- Use bullet points and numbered lists liberally' : ''}\n${request.includeFAQ ? '- Include 5 FAQ items at the end' : ''}\n- Write for SEO but prioritize reader value\n- Include a strong introduction hook and clear conclusion with CTA`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: userPrompt }\n    ],\n    temperature: 0.8,\n    max_tokens: 4000,\n    response_format: { type: 'json_object' }\n  });\n\n  const content = response.choices[0]?.message?.content;\n  if (!content) {\n    throw new Error('Failed to generate content');\n  }\n\n  const parsed = JSON.parse(content);\n  \n  return {\n    ...parsed,\n    slug: generateSlug(parsed.title),\n  };\n}\n\nexport async function improveContent(\n  existingContent: string,\n  instructions: string\n): Promise<{ content: string; changes: string[] }> {\n  const systemPrompt = `You are an expert content editor. Improve the provided content based on the instructions.\n\nYour response must be valid JSON:\n{\n  \"content\": \"Improved HTML content\",\n  \"changes\": [\"change 1 made\", \"change 2 made\", \"change 3 made\"]\n}`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: `Existing Content:\\n${existingContent}\\n\\nImprovement Instructions:\\n${instructions}` }\n    ],\n    temperature: 0.7,\n    max_tokens: 4000,\n    response_format: { type: 'json_object' }\n  });\n\n  const content = response.choices[0]?.message?.content;\n  if (!content) {\n    throw new Error('Failed to improve content');\n  }\n\n  return JSON.parse(content);\n}\n\nexport async function generateSEOSuggestions(\n  title: string,\n  content: string,\n  currentKeywords: string[]\n): Promise<{\n  titleSuggestions: string[];\n  keywordSuggestions: string[];\n  metaDescriptionSuggestions: string[];\n  contentImprovements: string[];\n}> {\n  const systemPrompt = `You are an SEO expert. Analyze the content and provide optimization suggestions.\n\nYour response must be valid JSON:\n{\n  \"titleSuggestions\": [\"alternative title 1\", \"alternative title 2\", \"alternative title 3\"],\n  \"keywordSuggestions\": [\"keyword1\", \"keyword2\", \"keyword3\", \"keyword4\", \"keyword5\"],\n  \"metaDescriptionSuggestions\": [\"meta description option 1\", \"meta description option 2\"],\n  \"contentImprovements\": [\"improvement 1\", \"improvement 2\", \"improvement 3\", \"improvement 4\", \"improvement 5\"]\n}`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: `Title: ${title}\\nCurrent Keywords: ${currentKeywords.join(', ')}\\n\\nContent (first 2000 chars):\\n${content.substring(0, 2000)}` }\n    ],\n    temperature: 0.7,\n    response_format: { type: 'json_object' }\n  });\n\n  const result = response.choices[0]?.message?.content;\n  if (!result) {\n    throw new Error('Failed to generate SEO suggestions');\n  }\n\n  return JSON.parse(result);\n}\n\nexport async function expandSection(\n  sectionContent: string,\n  context: string,\n  targetWords: number = 300\n): Promise<string> {\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { \n        role: 'system', \n        content: `You are a content writer. Expand the given section to approximately ${targetWords} words while maintaining quality and relevance. Return only the expanded HTML content, no JSON wrapper.`\n      },\n      { role: 'user', content: `Context: ${context}\\n\\nSection to expand:\\n${sectionContent}` }\n    ],\n    temperature: 0.8,\n    max_tokens: 2000\n  });\n\n  return response.choices[0]?.message?.content || sectionContent;\n}\n\nexport async function generateFAQ(\n  topic: string,\n  existingContent: string,\n  count: number = 5\n): Promise<{ question: string; answer: string }[]> {\n  const systemPrompt = `Generate FAQ items for the given topic. Response must be valid JSON:\n{\n  \"faq\": [\n    { \"question\": \"Question 1?\", \"answer\": \"Detailed answer 1\" }\n  ]\n}`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4.1',\n    messages: [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: `Topic: ${topic}\\n\\nGenerate ${count} FAQ items. Base them on this content context:\\n${existingContent.substring(0, 1500)}` }\n    ],\n    temperature: 0.7,\n    response_format: { type: 'json_object' }\n  });\n\n  const result = response.choices[0]?.message?.content;\n  if (!result) {\n    return [];\n  }\n\n  const parsed = JSON.parse(result);\n  return parsed.faq || [];\n}\n","path":null,"size_bytes":10157,"size_tokens":null},"server/seoAnalyzer.ts":{"content":"interface SeoAnalysisResult {\n  headingScore: number;\n  keywordDensityScore: number;\n  contentLengthScore: number;\n  metaScore: number;\n  structureScore: number;\n  overallSeoScore: number;\n  wordCount: number;\n  readTime: string;\n  seoAnalysis: string;\n}\n\ninterface SeoInput {\n  title: string;\n  content: string;\n  excerpt: string;\n  metaTitle?: string | null;\n  metaDescription?: string | null;\n  keywords?: string[] | null;\n}\n\nfunction stripHtml(html: string): string {\n  return html.replace(/<[^>]*>/g, ' ').replace(/\\s+/g, ' ').trim();\n}\n\nfunction countWords(text: string): number {\n  const cleaned = stripHtml(text);\n  return cleaned.split(/\\s+/).filter(word => word.length > 0).length;\n}\n\nfunction calculateReadTime(wordCount: number): string {\n  const wordsPerMinute = 200;\n  const minutes = Math.ceil(wordCount / wordsPerMinute);\n  return `${minutes} min read`;\n}\n\nfunction analyzeHeadingStructure(content: string): { score: number; feedback: string[] } {\n  const feedback: string[] = [];\n  let score = 0;\n\n  const h1Matches = content.match(/<h1[^>]*>.*?<\\/h1>/gi) || [];\n  const h2Matches = content.match(/<h2[^>]*>.*?<\\/h2>/gi) || [];\n  const h3Matches = content.match(/<h3[^>]*>.*?<\\/h3>/gi) || [];\n\n  if (h1Matches.length === 1) {\n    score += 25;\n    feedback.push(\" Single H1 tag found (good)\");\n  } else if (h1Matches.length === 0) {\n    feedback.push(\" No H1 tag found - add a main heading\");\n  } else {\n    score += 10;\n    feedback.push(\" Multiple H1 tags found - use only one\");\n  }\n\n  if (h2Matches.length >= 2) {\n    score += 35;\n    feedback.push(` ${h2Matches.length} H2 tags found (good structure)`);\n  } else if (h2Matches.length === 1) {\n    score += 20;\n    feedback.push(\" Only 1 H2 tag - add more subheadings for better structure\");\n  } else {\n    feedback.push(\" No H2 tags - add subheadings to organize content\");\n  }\n\n  if (h3Matches.length >= 1) {\n    score += 20;\n    feedback.push(` ${h3Matches.length} H3 tags found`);\n  }\n\n  const totalHeadings = h1Matches.length + h2Matches.length + h3Matches.length;\n  if (totalHeadings >= 4) {\n    score += 20;\n  } else if (totalHeadings >= 2) {\n    score += 10;\n  }\n\n  return { score: Math.min(score, 100), feedback };\n}\n\nfunction analyzeKeywordDensity(content: string, title: string, keywords?: string[] | null): { score: number; feedback: string[] } {\n  const feedback: string[] = [];\n  let score = 0;\n\n  const cleanContent = stripHtml(content).toLowerCase();\n  const words = cleanContent.split(/\\s+/).filter(w => w.length > 3);\n  const totalWords = words.length;\n\n  if (totalWords === 0) {\n    return { score: 0, feedback: [\" No content to analyze\"] };\n  }\n\n  const titleWords = title.toLowerCase().split(/\\s+/).filter(w => w.length > 3);\n  \n  let titleKeywordsInContent = 0;\n  for (const word of titleWords) {\n    const regex = new RegExp(`\\\\b${word}\\\\b`, 'gi');\n    const matches = cleanContent.match(regex) || [];\n    if (matches.length > 0) {\n      titleKeywordsInContent++;\n    }\n  }\n\n  if (titleWords.length > 0) {\n    const titleKeywordRatio = titleKeywordsInContent / titleWords.length;\n    if (titleKeywordRatio >= 0.8) {\n      score += 40;\n      feedback.push(\" Title keywords appear well in content\");\n    } else if (titleKeywordRatio >= 0.5) {\n      score += 25;\n      feedback.push(\" Some title keywords missing from content\");\n    } else {\n      score += 10;\n      feedback.push(\" Title keywords rarely appear in content\");\n    }\n  }\n\n  if (keywords && keywords.length > 0) {\n    let keywordsFound = 0;\n    for (const keyword of keywords) {\n      const keywordLower = keyword.toLowerCase();\n      if (cleanContent.includes(keywordLower)) {\n        keywordsFound++;\n      }\n    }\n    \n    const keywordRatio = keywordsFound / keywords.length;\n    if (keywordRatio >= 0.7) {\n      score += 40;\n      feedback.push(` ${keywordsFound}/${keywords.length} keywords found in content`);\n    } else if (keywordRatio >= 0.4) {\n      score += 25;\n      feedback.push(` Only ${keywordsFound}/${keywords.length} keywords found`);\n    } else {\n      score += 10;\n      feedback.push(` Only ${keywordsFound}/${keywords.length} keywords found - add more`);\n    }\n  } else {\n    score += 10;\n    feedback.push(\" No keywords defined - add target keywords\");\n  }\n\n  const wordFrequency: Record<string, number> = {};\n  for (const word of words) {\n    wordFrequency[word] = (wordFrequency[word] || 0) + 1;\n  }\n\n  const topWords = Object.entries(wordFrequency)\n    .filter(([word]) => !['this', 'that', 'with', 'from', 'have', 'been', 'will', 'your', 'their', 'they', 'what', 'when', 'where', 'which', 'would', 'could', 'should', 'about', 'there', 'these', 'those', 'other', 'into', 'more', 'some', 'than', 'them', 'then', 'only', 'come', 'made', 'find', 'here', 'many', 'ways', 'make', 'like', 'just', 'over', 'such', 'also', 'back', 'after', 'most', 'very', 'even', 'well', 'much', 'each', 'because', 'does', 'long', 'still', 'while', 'before', 'between'].includes(word))\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 5);\n\n  if (topWords.length > 0) {\n    const topKeywordDensity = (topWords[0][1] / totalWords) * 100;\n    if (topKeywordDensity >= 1 && topKeywordDensity <= 3) {\n      score += 20;\n      feedback.push(` Good keyword density (~${topKeywordDensity.toFixed(1)}%)`);\n    } else if (topKeywordDensity > 3) {\n      score += 10;\n      feedback.push(` Keyword stuffing detected (${topKeywordDensity.toFixed(1)}%)`);\n    } else {\n      score += 10;\n      feedback.push(` Low keyword density (${topKeywordDensity.toFixed(1)}%)`);\n    }\n  }\n\n  return { score: Math.min(score, 100), feedback };\n}\n\nfunction analyzeContentLength(wordCount: number): { score: number; feedback: string[] } {\n  const feedback: string[] = [];\n  let score = 0;\n\n  if (wordCount >= 2000) {\n    score = 100;\n    feedback.push(` Excellent content length (${wordCount} words) - comprehensive coverage`);\n  } else if (wordCount >= 1500) {\n    score = 90;\n    feedback.push(` Great content length (${wordCount} words)`);\n  } else if (wordCount >= 1000) {\n    score = 75;\n    feedback.push(` Good content length (${wordCount} words)`);\n  } else if (wordCount >= 600) {\n    score = 55;\n    feedback.push(` Moderate content length (${wordCount} words) - consider adding more`);\n  } else if (wordCount >= 300) {\n    score = 35;\n    feedback.push(` Short content (${wordCount} words) - aim for 600+ words`);\n  } else {\n    score = 15;\n    feedback.push(` Very short content (${wordCount} words) - aim for 600+ words`);\n  }\n\n  return { score, feedback };\n}\n\nfunction analyzeMetaTags(input: SeoInput): { score: number; feedback: string[] } {\n  const feedback: string[] = [];\n  let score = 0;\n\n  const metaTitle = input.metaTitle || input.title;\n  if (metaTitle) {\n    const titleLength = metaTitle.length;\n    if (titleLength >= 50 && titleLength <= 60) {\n      score += 30;\n      feedback.push(` Meta title length is optimal (${titleLength} chars)`);\n    } else if (titleLength >= 40 && titleLength <= 70) {\n      score += 20;\n      feedback.push(` Meta title length is acceptable (${titleLength} chars) - aim for 50-60`);\n    } else if (titleLength < 40) {\n      score += 10;\n      feedback.push(` Meta title too short (${titleLength} chars) - aim for 50-60`);\n    } else {\n      score += 10;\n      feedback.push(` Meta title too long (${titleLength} chars) - will be truncated`);\n    }\n  } else {\n    feedback.push(\" No meta title - add one for better SEO\");\n  }\n\n  const metaDesc = input.metaDescription || input.excerpt;\n  if (metaDesc) {\n    const descLength = metaDesc.length;\n    if (descLength >= 150 && descLength <= 160) {\n      score += 30;\n      feedback.push(` Meta description length is optimal (${descLength} chars)`);\n    } else if (descLength >= 120 && descLength <= 180) {\n      score += 20;\n      feedback.push(` Meta description acceptable (${descLength} chars) - aim for 150-160`);\n    } else if (descLength < 120) {\n      score += 10;\n      feedback.push(` Meta description too short (${descLength} chars)`);\n    } else {\n      score += 10;\n      feedback.push(` Meta description too long (${descLength} chars) - will be truncated`);\n    }\n  } else {\n    feedback.push(\" No meta description - add one for better click-through rates\");\n  }\n\n  if (input.keywords && input.keywords.length > 0) {\n    if (input.keywords.length >= 3 && input.keywords.length <= 8) {\n      score += 25;\n      feedback.push(` Good number of keywords (${input.keywords.length})`);\n    } else if (input.keywords.length < 3) {\n      score += 15;\n      feedback.push(` Few keywords (${input.keywords.length}) - add more for targeting`);\n    } else {\n      score += 15;\n      feedback.push(` Many keywords (${input.keywords.length}) - consider focusing`);\n    }\n  } else {\n    feedback.push(\" No keywords defined - add target keywords\");\n  }\n\n  if (input.excerpt && input.excerpt.length >= 50) {\n    score += 15;\n    feedback.push(\" Excerpt/summary provided\");\n  } else {\n    feedback.push(\" Add a compelling excerpt for previews\");\n  }\n\n  return { score: Math.min(score, 100), feedback };\n}\n\nfunction analyzeContentStructure(content: string): { score: number; feedback: string[] } {\n  const feedback: string[] = [];\n  let score = 0;\n\n  const paragraphs = content.match(/<p[^>]*>.*?<\\/p>/gi) || [];\n  if (paragraphs.length >= 5) {\n    score += 25;\n    feedback.push(` Good paragraph structure (${paragraphs.length} paragraphs)`);\n  } else if (paragraphs.length >= 3) {\n    score += 15;\n    feedback.push(` Add more paragraphs (${paragraphs.length} found)`);\n  } else {\n    feedback.push(\" Few paragraphs - break up content for readability\");\n  }\n\n  const lists = content.match(/<(ul|ol)[^>]*>[\\s\\S]*?<\\/(ul|ol)>/gi) || [];\n  if (lists.length >= 2) {\n    score += 25;\n    feedback.push(` Good use of lists (${lists.length} found)`);\n  } else if (lists.length === 1) {\n    score += 15;\n    feedback.push(\" Consider adding more lists for scannability\");\n  } else {\n    feedback.push(\" No lists - add bullet points for key information\");\n  }\n\n  const boldText = content.match(/<(strong|b)[^>]*>.*?<\\/(strong|b)>/gi) || [];\n  const italicText = content.match(/<(em|i)[^>]*>.*?<\\/(em|i)>/gi) || [];\n  if (boldText.length >= 3 || italicText.length >= 2) {\n    score += 20;\n    feedback.push(\" Good text formatting (bold/italic)\");\n  } else if (boldText.length >= 1) {\n    score += 10;\n    feedback.push(\" Add more text emphasis for key points\");\n  } else {\n    feedback.push(\" Consider adding bold/italic for emphasis\");\n  }\n\n  const links = content.match(/<a[^>]*href[^>]*>.*?<\\/a>/gi) || [];\n  if (links.length >= 3) {\n    score += 20;\n    feedback.push(` Good internal/external linking (${links.length} links)`);\n  } else if (links.length >= 1) {\n    score += 10;\n    feedback.push(` Add more links (${links.length} found)`);\n  } else {\n    feedback.push(\" No links - add internal/external links\");\n  }\n\n  const images = content.match(/<img[^>]*>/gi) || [];\n  if (images.length >= 2) {\n    score += 10;\n    feedback.push(` Good use of images (${images.length} found)`);\n  } else if (images.length === 1) {\n    score += 5;\n    feedback.push(\" Consider adding more images\");\n  }\n\n  return { score: Math.min(score, 100), feedback };\n}\n\nexport function analyzeSeo(input: SeoInput): SeoAnalysisResult {\n  const wordCount = countWords(input.content);\n  const readTime = calculateReadTime(wordCount);\n\n  const headingAnalysis = analyzeHeadingStructure(input.content);\n  const keywordAnalysis = analyzeKeywordDensity(input.content, input.title, input.keywords);\n  const lengthAnalysis = analyzeContentLength(wordCount);\n  const metaAnalysis = analyzeMetaTags(input);\n  const structureAnalysis = analyzeContentStructure(input.content);\n\n  const overallScore = Math.round(\n    (headingAnalysis.score * 0.2) +\n    (keywordAnalysis.score * 0.25) +\n    (lengthAnalysis.score * 0.2) +\n    (metaAnalysis.score * 0.2) +\n    (structureAnalysis.score * 0.15)\n  );\n\n  const allFeedback = [\n    \"## Heading Structure\",\n    ...headingAnalysis.feedback,\n    \"\",\n    \"## Keyword Usage\",\n    ...keywordAnalysis.feedback,\n    \"\",\n    \"## Content Length\",\n    ...lengthAnalysis.feedback,\n    \"\",\n    \"## Meta Tags\",\n    ...metaAnalysis.feedback,\n    \"\",\n    \"## Content Structure\",\n    ...structureAnalysis.feedback,\n  ];\n\n  return {\n    headingScore: headingAnalysis.score,\n    keywordDensityScore: keywordAnalysis.score,\n    contentLengthScore: lengthAnalysis.score,\n    metaScore: metaAnalysis.score,\n    structureScore: structureAnalysis.score,\n    overallSeoScore: overallScore,\n    wordCount,\n    readTime,\n    seoAnalysis: allFeedback.join(\"\\n\"),\n  };\n}\n\nexport function getSeoGrade(score: number): { grade: string; color: string } {\n  if (score >= 90) return { grade: 'A+', color: 'green' };\n  if (score >= 80) return { grade: 'A', color: 'green' };\n  if (score >= 70) return { grade: 'B', color: 'lime' };\n  if (score >= 60) return { grade: 'C', color: 'yellow' };\n  if (score >= 50) return { grade: 'D', color: 'orange' };\n  return { grade: 'F', color: 'red' };\n}\n","path":null,"size_bytes":13142,"size_tokens":null},"server/seedBlog.ts":{"content":"import { storage } from \"./storage\";\nimport { nanoid } from \"nanoid\";\n\nconst blogPosts = [\n  {\n    title: \"What is a Jailbroken Fire Stick? Complete Guide 2025\",\n    slug: \"what-is-jailbroken-fire-stick\",\n    excerpt: \"Learn everything about jailbroken Fire Sticks, how they work, what you can stream, and why they're the best cord-cutting solution in 2025.\",\n    content: `A jailbroken Fire Stick is a modified Amazon Fire TV Stick that has been configured to access additional streaming apps and services beyond the standard Amazon app store. Unlike regular Fire Sticks, jailbroken devices come pre-loaded with apps that allow you to stream live TV, movies, sports, and more.\n\n**What Makes It Different?**\n- Access to third-party streaming apps\n- 18,000+ live TV channels from around the world\n- 60,000+ movies and TV shows on demand\n- All sports including PPV events\n- No monthly cable bills\n\n**Is It Legal?**\nThe device itself is completely legal. The Fire Stick is a legitimate Amazon product, and the apps installed are freely available. What you choose to stream is your responsibility.\n\n**Benefits of a Pre-Configured Device**\nWhen you buy from StreamStickPro, your device comes ready to use. No technical knowledge needed - just plug it in and start streaming within minutes. You'll receive login credentials, a setup tutorial video, and 24/7 customer support.`,\n    category: \"Guides\",\n    featured: true,\n  },\n  {\n    title: \"Fire Stick vs Cable TV: Cost Comparison 2025\",\n    slug: \"fire-stick-vs-cable-cost-comparison\",\n    excerpt: \"See how much you can save by switching from cable TV to a jailbroken Fire Stick with IPTV subscription. The numbers will surprise you!\",\n    content: `Cable TV costs continue to rise every year, with the average American household paying over $200/month for cable and streaming subscriptions combined. Here's how a jailbroken Fire Stick compares.\n\n**Average Cable TV Costs:**\n- Basic cable: $50-100/month\n- Premium channels: +$30-50/month\n- Sports packages: +$20-40/month\n- DVR service: +$10-20/month\n- Equipment rental: +$10-15/month\n- **Total: $120-225/month**\n\n**StreamStickPro Costs:**\n- One-time Fire Stick purchase: $140-160\n- IPTV subscription: $15-75/year\n- **First year total: $155-235 (one time)**\n\n**Annual Savings:** $1,200 - $2,500+\n\nWith StreamStickPro, you get 18,000+ live channels, 60,000+ movies & shows, all sports & PPV events, and pay a fraction of the price. The device pays for itself within the first month!`,\n    category: \"Savings\",\n    featured: true,\n  },\n  {\n    title: \"How to Set Up Your Fire Stick in 5 Minutes\",\n    slug: \"setup-fire-stick-5-minutes\",\n    excerpt: \"Our pre-configured Fire Sticks are designed for easy setup. Follow this simple guide to start streaming in minutes.\",\n    content: `Setting up your StreamStickPro Fire Stick is incredibly simple. Our devices come pre-configured, so there's no technical knowledge required.\n\n**Step 1: Unbox Your Device**\nRemove the Fire Stick, power adapter, and HDMI extender from the packaging.\n\n**Step 2: Connect to Your TV**\nPlug the Fire Stick into any available HDMI port on your TV. Use the HDMI extender if the fit is tight.\n\n**Step 3: Power Up**\nConnect the power adapter to the Fire Stick and plug it into a wall outlet.\n\n**Step 4: Connect to WiFi**\nTurn on your TV and select the correct HDMI input. Follow the on-screen prompts to connect to your WiFi network.\n\n**Step 5: Start Streaming!**\nAll apps are pre-installed and configured. Simply navigate to the app you want and start enjoying 18,000+ live channels, 60,000+ movies, and all sports!\n\n**Pro Tips:**\n- Use an ethernet adapter for the most stable connection\n- Position the Fire Stick away from other electronics to avoid interference\n- Contact our 24/7 support if you need any assistance`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best IPTV Channels for Sports Fans in 2025\",\n    slug: \"best-iptv-sports-channels-2025\",\n    excerpt: \"Discover the best sports channels available through IPTV, including NFL, NBA, UFC, Premier League, and all major sporting events.\",\n    content: `Sports fans are some of the biggest beneficiaries of cord-cutting. With IPTV, you get access to virtually every sporting event in the world at a fraction of cable costs.\n\n**What Sports Can You Watch?**\n\n**American Football:**\n- NFL Network, ESPN, Fox Sports, CBS Sports\n- Every NFL game including Sunday Ticket\n- College football on all networks\n\n**Basketball:**\n- NBA League Pass included\n- All local and national broadcasts\n- College basketball coverage\n\n**Soccer:**\n- Premier League, La Liga, Bundesliga, Serie A\n- MLS, Liga MX\n- Champions League, World Cup qualifiers\n\n**Combat Sports:**\n- UFC Fight Nights and PPV events\n- Boxing on all networks\n- WWE and wrestling\n\n**Other Sports:**\n- MLB, NHL, Golf, Tennis, F1, NASCAR\n- Cricket, Rugby, and international sports\n- Olympics and special events\n\nAll of this comes included with your StreamStickPro device and IPTV subscription!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Fire Stick HD vs 4K vs 4K Max: Which Should You Buy?\",\n    slug: \"fire-stick-hd-4k-4k-max-comparison\",\n    excerpt: \"Compare all Fire Stick models to find the perfect streaming device for your setup. We break down specs, features, and value.\",\n    content: `Choosing the right Fire Stick depends on your TV and viewing preferences. Here's a detailed comparison of all three models we offer.\n\n**Fire Stick HD - $140**\nBest for: 1080p TVs, budget-conscious buyers\n- Full HD 1080p resolution\n- Smooth streaming performance\n- 18,000+ live channels, 60,000+ movies\n- 1 Year IPTV subscription included\n\n**Fire Stick 4K - $150**\nBest for: 4K TV owners, most users\n- 4K Ultra HD resolution\n- Dolby Vision and HDR10+ support\n- 18,000+ live channels, 60,000+ movies\n- 1 Year IPTV subscription included\n- **BEST VALUE - Our recommendation**\n\n**Fire Stick 4K Max - $160**\nBest for: Power users, smart home enthusiasts\n- 4K Ultra HD with Wi-Fi 6E\n- Fastest processing of all models\n- 18,000+ live channels, 60,000+ movies\n- Dolby Vision, Atmos, HDR10+\n- 1 Year IPTV subscription included\n\n**Our Recommendation:**\nFor most users, the Fire Stick 4K offers the best balance of features and value. If you have a 4K TV, the upgraded picture quality is absolutely worth the extra $10.`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Troubleshooting Common Fire Stick Issues\",\n    slug: \"troubleshooting-fire-stick-issues\",\n    excerpt: \"Having issues with your Fire Stick? Here are solutions to the most common problems and how to fix them quickly.\",\n    content: `Even the best devices occasionally need troubleshooting. Here are solutions to the most common Fire Stick issues.\n\n**Buffering or Lag**\n1. Check your internet speed (minimum 25 Mbps recommended)\n2. Move your router closer to the TV\n3. Use an ethernet adapter for wired connection\n4. Clear app cache in settings\n\n**Device Won't Turn On**\n1. Check power connection\n2. Try a different power outlet\n3. Use the original power adapter (not TV USB)\n4. Perform a hard reset (hold power 10 seconds)\n\n**No Sound**\n1. Check TV volume and mute status\n2. Verify HDMI connection\n3. Restart the Fire Stick\n4. Check audio settings in Fire Stick menu\n\n**Apps Not Working**\n1. Force close and reopen the app\n2. Clear app cache and data\n3. Check for app updates\n4. Uninstall and reinstall the app\n\n**WiFi Connection Issues**\n1. Restart your router and Fire Stick\n2. Forget network and reconnect\n3. Check for WiFi interference\n4. Consider a WiFi extender\n\n**Still Having Issues?**\nContact our 24/7 support team - we're here to help!`,\n    category: \"Support\",\n    featured: false,\n  },\n  {\n    title: \"How to Use the Downloader App on Fire Stick 2025\",\n    slug: \"downloader-app-fire-stick-guide\",\n    excerpt: \"Complete guide to installing and using the Downloader app on your Fire Stick. The essential tool for sideloading apps and streaming.\",\n    content: `The Downloader app is one of the most important tools for Fire Stick users. It allows you to easily install apps that aren't available in the Amazon App Store.\n\n**What is the Downloader App?**\nDownloader is a free app available in the Amazon App Store that lets you download files directly to your Fire Stick using URLs. It's essential for installing third-party streaming apps.\n\n**How to Install Downloader:**\n1. Go to the Search icon on your Fire Stick\n2. Type \"Downloader\"\n3. Select the Downloader app (orange icon)\n4. Click Download/Get\n5. Wait for installation to complete\n\n**Enabling Unknown Sources:**\nBefore using Downloader, you need to enable app installations from unknown sources:\n1. Go to Settings > My Fire TV\n2. Select Developer Options\n3. Turn on \"Apps from Unknown Sources\"\n4. Confirm the warning message\n\n**Using Downloader:**\n1. Open the Downloader app\n2. Enter the URL of the app you want to install\n3. Click Go\n4. Wait for the download\n5. Click Install when prompted\n\n**Pro Tips:**\n- Bookmark frequently used URLs\n- Delete APK files after installation to save space\n- Use the built-in browser for navigation\n- Our pre-configured Fire Sticks come with everything ready - no Downloader needed!`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best Free Streaming Apps for Fire Stick 2025\",\n    slug: \"best-free-streaming-apps-fire-stick\",\n    excerpt: \"Discover the top free streaming apps available for Fire Stick in 2025. Watch movies, TV shows, and live TV without paying a dime.\",\n    content: `While premium IPTV services offer the best experience, there are also many free streaming apps available for Fire Stick users.\n\n**Top Free Streaming Apps:**\n\n**Tubi TV**\n- Thousands of free movies and TV shows\n- Ad-supported but completely legal\n- New content added weekly\n- Available in Amazon App Store\n\n**Pluto TV**\n- 250+ live TV channels\n- Movies and TV shows on demand\n- Free with ads\n- Great for news and entertainment\n\n**Peacock Free**\n- NBCUniversal content\n- Next-day access to NBC shows\n- Some live sports\n- Free tier available\n\n**Crackle**\n- Sony's free streaming service\n- Original content and classics\n- Movies and TV series\n- Available worldwide\n\n**Plex**\n- Free ad-supported movies and TV\n- Live TV channels\n- Works with personal media libraries\n- Cross-platform sync\n\n**Why Choose Premium IPTV Instead?**\nWhile free apps are good, they can't compare to premium IPTV:\n- 18,000+ live channels vs limited selection\n- 60,000+ movies & shows vs basic library\n- All sports & PPV events included\n- No ads interrupting your content\n- 4K quality available\n\nGet the best experience with StreamStickPro's pre-configured Fire Stick!`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Cord Cutting 101: Complete Beginner's Guide 2025\",\n    slug: \"cord-cutting-beginners-guide\",\n    excerpt: \"New to cord cutting? Learn everything you need to know about canceling cable and switching to streaming in this complete guide.\",\n    content: `Cord cutting means canceling your traditional cable or satellite TV subscription and switching to streaming services. Millions of Americans have already made the switch - here's how you can too.\n\n**Why Cut the Cord?**\n- Save $1,200-$2,500+ per year\n- More content, more choices\n- Watch on your schedule\n- No contracts or hidden fees\n- Better picture quality (4K, HDR)\n\n**What You Need to Get Started:**\n1. A smart TV or streaming device (Fire Stick recommended)\n2. Fast internet (25+ Mbps for HD, 50+ for 4K)\n3. WiFi router or ethernet connection\n4. Streaming subscription(s)\n\n**Streaming Device Options:**\n- **Fire Stick** - Best value, huge app selection\n- Roku - Simple interface\n- Apple TV - Best for iPhone users\n- Chromecast - Good for casting\n\n**Streaming Services:**\n- Premium IPTV - 18,000+ channels, all sports, movies\n- Netflix, Hulu, Disney+ - On-demand content\n- YouTube TV, Sling - Live TV replacements\n\n**The StreamStickPro Advantage:**\nOur jailbroken Fire Sticks come pre-configured with everything you need:\n- 18,000+ live TV channels\n- 60,000+ movies & TV shows\n- All sports including NFL, NBA, UFC, PPV\n- 1 year IPTV subscription included\n- Setup in 5 minutes - no technical knowledge needed`,\n    category: \"Guides\",\n    featured: true,\n  },\n  {\n    title: \"Watch UFC on Fire Stick: Complete Guide 2025\",\n    slug: \"watch-ufc-fire-stick-guide\",\n    excerpt: \"Learn how to watch every UFC fight, including PPV events, on your Fire Stick without paying $80+ per event.\",\n    content: `UFC fans know the struggle - paying $80+ for every Pay-Per-View event adds up quickly. With a jailbroken Fire Stick and IPTV, you can watch every UFC event included in your subscription.\n\n**What UFC Content is Available?**\n- All UFC PPV main events\n- UFC Fight Nights\n- UFC prelims and early prelims\n- UFC Contender Series\n- Dana White's Power Slap\n- Classic UFC fights on demand\n\n**How to Watch UFC on Fire Stick:**\n\n**Option 1: ESPN+ (Official)**\n- $10.99/month or $109.99/year\n- PPV events still cost $79.99 each\n- Limited to ESPN content\n\n**Option 2: IPTV (Best Value)**\n- All UFC events included\n- No extra PPV charges\n- 18,000+ other live channels\n- NFL, NBA, MLB, NHL also included\n- Starting at $15/month\n\n**Getting Started:**\n1. Get a StreamStickPro Fire Stick with IPTV\n2. Connect to your TV and WiFi\n3. Open the streaming app\n4. Navigate to Sports > Combat Sports\n5. Find UFC and enjoy!\n\n**Why IPTV is Better for UFC Fans:**\n- Save $1,000+ per year on PPV events\n- Never miss a fight again\n- Watch live or on-demand\n- Multiple viewing options\n- Works anywhere with internet`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick vs Roku: Which is Better in 2025?\",\n    slug: \"fire-stick-vs-roku-comparison\",\n    excerpt: \"Detailed comparison of Fire Stick and Roku streaming devices. Find out which one is right for your streaming needs.\",\n    content: `Both Fire Stick and Roku are popular streaming devices, but which one is better for cord-cutters? Let's break it down.\n\n**Fire Stick Advantages:**\n- Alexa voice control built-in\n- Easy sideloading of apps\n- Better for IPTV services\n- Frequent sales and discounts\n- Amazon Prime integration\n- More customizable interface\n\n**Roku Advantages:**\n- Simple, clean interface\n- Wide app selection\n- Works with all streaming services\n- Good for beginners\n- No ads on home screen (older models)\n\n**For Cord-Cutters, Fire Stick Wins Because:**\n1. **Sideloading** - Easily install third-party apps like IPTV players\n2. **Flexibility** - More options for streaming sources\n3. **Jailbreaking** - Can be pre-configured for maximum content\n4. **Updates** - Regular software improvements\n5. **Support** - Huge community and resources\n\n**Which Fire Stick to Choose:**\n- Fire Stick HD ($140) - Great for 1080p TVs\n- Fire Stick 4K ($150) - Best value for 4K TVs\n- Fire Stick 4K Max ($160) - Ultimate performance\n\n**The StreamStickPro Difference:**\nOur Fire Sticks come jailbroken and pre-configured with:\n- 18,000+ live TV channels\n- 60,000+ movies & shows\n- All sports & PPV events\n- 1 year IPTV subscription\n- 24/7 customer support`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Watch NFL Games on Fire Stick Without Cable 2025\",\n    slug: \"watch-nfl-fire-stick-without-cable\",\n    excerpt: \"Complete guide to watching every NFL game on your Fire Stick without a cable subscription. Never miss a game again!\",\n    content: `Football fans no longer need cable to watch every NFL game. Here's how to catch all the action on your Fire Stick.\n\n**Official Streaming Options (Expensive):**\n- NFL Sunday Ticket on YouTube TV - $449/season\n- NFL+ - $6.99/month (mobile only)\n- Paramount+ - CBS games only\n- Peacock - NBC games only\n\n**IPTV Option (Best Value):**\nWith StreamStickPro IPTV, you get:\n- Every NFL game (CBS, Fox, NBC, ESPN, NFL Network)\n- NFL Sunday Ticket equivalent access\n- RedZone channel\n- NFL Network 24/7\n- All playoff and Super Bowl games\n- Starting at just $15/month!\n\n**What NFL Channels Are Included:**\n- CBS Sports\n- Fox Sports\n- NBC Sports\n- ESPN/ESPN2\n- NFL Network\n- NFL RedZone\n- Local affiliate stations\n\n**How to Watch:**\n1. Get a StreamStickPro jailbroken Fire Stick\n2. Connect and set up (5 minutes)\n3. Open the IPTV app\n4. Navigate to Sports > Football\n5. Select your game and enjoy!\n\n**Why Fans Choose StreamStickPro:**\n- Save $400+ compared to Sunday Ticket\n- Every game, every week\n- Pre-game shows and analysis\n- Works on multiple devices\n- 24/7 customer support for game day issues`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"IPTV Explained: What It Is and How It Works 2025\",\n    slug: \"what-is-iptv-explained\",\n    excerpt: \"Everything you need to know about IPTV - Internet Protocol Television. Learn how it works and why it's replacing cable TV.\",\n    content: `IPTV stands for Internet Protocol Television - a way to watch TV content over the internet instead of through traditional cable or satellite connections.\n\n**How IPTV Works:**\nInstead of receiving TV signals through cable wires or satellite dishes, IPTV streams content through your internet connection. This allows for:\n- On-demand viewing\n- Live TV streaming\n- DVR-like features\n- Multi-device access\n\n**Types of IPTV:**\n\n**1. Live IPTV**\n- Real-time streaming of TV channels\n- Sports, news, entertainment\n- 18,000+ channels available\n\n**2. Video on Demand (VOD)**\n- Movies and TV shows\n- Watch anytime\n- 60,000+ titles available\n\n**3. Time-Shifted IPTV**\n- Catch-up on shows\n- Pause and rewind live TV\n- Recording capabilities\n\n**Benefits of IPTV:**\n- Massive content library\n- Lower cost than cable\n- No contracts or equipment rental\n- Works on any device\n- Better picture quality (4K available)\n- International channels\n\n**Getting Started with IPTV:**\n1. Choose a reliable IPTV provider (like StreamStickPro)\n2. Get a compatible device (Fire Stick recommended)\n3. Install the IPTV app\n4. Enter your login credentials\n5. Start streaming!\n\n**Why StreamStickPro IPTV:**\n- 18,000+ live TV channels\n- 60,000+ movies & TV shows\n- All sports & PPV events\n- 4K quality streams\n- 24/7 customer support\n- Works worldwide`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Watch Premier League on Fire Stick 2025\",\n    slug: \"watch-premier-league-fire-stick\",\n    excerpt: \"How to watch every Premier League match on your Fire Stick. Stream live EPL games without expensive TV packages.\",\n    content: `Soccer fans in the US know how frustrating it can be to watch Premier League matches. Traditional options are expensive and fragmented. Here's the better way.\n\n**Traditional Streaming Options:**\n- Peacock Premium - $5.99-$11.99/month (some games)\n- USA Network - Cable required\n- NBC Sports - Limited games\n- Total cost: $50-100+/month\n\n**IPTV Solution:**\nWith StreamStickPro IPTV, get every Premier League match:\n- All 380 Premier League games\n- Every team, every week\n- No blackouts or restrictions\n- Multiple camera angles\n- Pre and post-match coverage\n\n**Other Soccer Leagues Included:**\n- La Liga (Spanish)\n- Bundesliga (German)\n- Serie A (Italian)\n- Ligue 1 (French)\n- Champions League\n- Europa League\n- World Cup qualifiers\n- MLS and Liga MX\n\n**How to Watch:**\n1. Get your StreamStickPro Fire Stick\n2. Navigate to Sports > Soccer\n3. Find Premier League section\n4. Select your match\n5. Choose your preferred feed\n\n**Match Day Schedule:**\nMost Premier League games air at convenient times:\n- Saturday: 7:30 AM, 10:00 AM, 12:30 PM ET\n- Sunday: 9:00 AM, 11:30 AM ET\n- Weekday games: 2:45 PM, 3:00 PM ET\n\n**Never Miss a Goal:**\nOur IPTV service includes reliable streams for every match. No buffering, no blackouts, just pure football action. Join thousands of satisfied customers watching the beautiful game!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Parental Controls: Complete Setup Guide\",\n    slug: \"fire-stick-parental-controls-guide\",\n    excerpt: \"Learn how to set up parental controls on your Fire Stick to keep kids safe while enjoying streaming content.\",\n    content: `Fire Stick offers robust parental control features to help families manage content access. Here's how to set everything up.\n\n**Accessing Parental Controls:**\n1. Go to Settings on your Fire Stick\n2. Select Preferences\n3. Choose Parental Controls\n4. Enter your PIN (or create one)\n\n**Creating a PIN:**\n- Choose a 4-digit PIN\n- Make it memorable but not obvious\n- Don't use birthdays or simple sequences\n- Write it down somewhere safe\n\n**What You Can Control:**\n\n**1. App and Game Purchases**\n- Require PIN for all purchases\n- Prevent unauthorized buying\n- Set spending limits\n\n**2. Content Ratings**\n- Movies: G, PG, PG-13, R, NC-17\n- TV: TV-Y, TV-G, TV-PG, TV-14, TV-MA\n- Apps: All ages to Adults Only\n\n**3. Prime Video PIN**\n- Separate from device PIN\n- Required for mature content\n- Prevents accidental viewing\n\n**4. App Restrictions**\n- Hide specific apps\n- Block app launches\n- Restrict by rating\n\n**Setting Up Kid Profiles:**\n1. Go to Settings > My Account\n2. Select Amazon Kids\n3. Create child profiles\n4. Customize content access\n\n**Best Practices:**\n- Regularly review watch history\n- Update restrictions as kids grow\n- Keep PIN private\n- Use age-appropriate profiles\n\n**IPTV Parental Controls:**\nStreamStickPro IPTV apps also support parental controls. Set viewing restrictions and create a safe streaming environment for the whole family.`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best VPN for Fire Stick 2025: Complete Guide\",\n    slug: \"best-vpn-fire-stick-guide\",\n    excerpt: \"Why you might want a VPN for your Fire Stick and which ones work best. Protect your privacy while streaming.\",\n    content: `A VPN (Virtual Private Network) can enhance your Fire Stick experience by providing privacy and security while streaming. Here's what you need to know.\n\n**What is a VPN?**\nA VPN encrypts your internet connection and masks your IP address, providing:\n- Online privacy\n- Security on public WiFi\n- Geographic flexibility\n- ISP throttling prevention\n\n**Top VPNs for Fire Stick:**\n\n**1. ExpressVPN**\n- Fast speeds for streaming\n- Easy Fire Stick app\n- 3,000+ servers\n- Works with most services\n\n**2. NordVPN**\n- Best value for money\n- Strong security features\n- 5,500+ servers\n- Threat protection included\n\n**3. Surfshark**\n- Unlimited devices\n- Affordable pricing\n- Good speeds\n- User-friendly app\n\n**4. IPVanish**\n- Optimized for Fire Stick\n- Unlimited connections\n- US-based company\n- Good for streaming\n\n**Installing VPN on Fire Stick:**\n1. Search for VPN app in Amazon Store\n2. Download and install\n3. Log in with your account\n4. Connect to a server\n5. Start streaming privately\n\n**Do You Need a VPN?**\nA VPN is optional but recommended for:\n- Privacy-conscious users\n- Traveling internationally\n- Using public WiFi\n- Avoiding ISP throttling\n\n**StreamStickPro Note:**\nOur IPTV service works great with or without a VPN. If you choose to use one, we recommend connecting to the closest server for best streaming speeds.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"How to Speed Up Your Fire Stick: Performance Tips\",\n    slug: \"speed-up-fire-stick-performance-tips\",\n    excerpt: \"Is your Fire Stick running slow? Follow these tips to boost performance and get smoother streaming.\",\n    content: `Over time, Fire Sticks can slow down due to cached data, too many apps, and background processes. Here's how to speed things up.\n\n**Quick Fixes:**\n\n**1. Restart Your Fire Stick**\n- Hold Home button for 3 seconds\n- Select Sleep > Restart\n- Or unplug for 30 seconds\n\n**2. Clear App Cache**\n- Settings > Applications\n- Manage Installed Applications\n- Select app > Clear Cache\n- Do this for streaming apps\n\n**3. Force Stop Background Apps**\n- Settings > Applications\n- Manage Installed Applications\n- Select app > Force Stop\n\n**4. Free Up Storage Space**\n- Delete unused apps\n- Clear data from apps you don't use\n- Remove old downloads\n\n**Advanced Optimization:**\n\n**Turn Off Data Monitoring**\n1. Settings > Preferences\n2. Privacy Settings\n3. Disable data collection options\n\n**Disable App Notifications**\n1. Settings > Preferences\n2. Notification Settings\n3. Turn off app notifications\n\n**Update Software**\n1. Settings > My Fire TV\n2. About > Check for Updates\n3. Install any available updates\n\n**Adjust Display Settings**\n1. Settings > Display & Sounds\n2. Match Original Frame Rate: On\n3. Adjust resolution as needed\n\n**Hardware Tips:**\n- Use the power adapter, not TV USB\n- Ensure good ventilation\n- Consider ethernet adapter for stability\n- Use HDMI extender if TV is hot\n\n**When to Upgrade:**\nIf your Fire Stick is more than 3-4 years old, consider upgrading to a newer model. The Fire Stick 4K and 4K Max have significantly better processors and performance.`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Watch NBA Games on Fire Stick Without Cable 2025\",\n    slug: \"watch-nba-fire-stick-without-cable\",\n    excerpt: \"Complete guide to streaming every NBA game on your Fire Stick. Watch your favorite team without expensive cable packages.\",\n    content: `Basketball fans can catch every NBA game without cable using the right streaming setup. Here's how to never miss a game.\n\n**Official NBA Streaming Options:**\n\n**NBA League Pass**\n- $14.99-$22.99/month\n- Some games blacked out\n- No nationally televised games\n- Playoffs extra or excluded\n\n**ESPN+ / TNT / ABC Apps**\n- Limited games\n- Cable login often required\n- Fragmented experience\n\n**IPTV Solution (Best Value):**\nStreamStickPro IPTV includes:\n- Every NBA regular season game\n- All playoff games\n- NBA Finals\n- No blackouts\n- Multiple feeds per game\n- Pre and post-game coverage\n\n**Channels Included:**\n- ESPN / ESPN2\n- TNT\n- ABC\n- NBA TV\n- Regional Sports Networks (RSNs)\n- NBA League Pass equivalent\n\n**How to Watch:**\n1. Get your StreamStickPro Fire Stick\n2. Open the IPTV app\n3. Navigate to Sports > Basketball\n4. Select NBA\n5. Choose your game\n6. Enjoy in HD or 4K!\n\n**Game Schedule:**\n- Regular Season: October - April\n- Playoffs: April - June\n- Games typically 7:00 PM - 10:30 PM ET\n- Sunday matinees available\n\n**Why Fans Choose StreamStickPro:**\n- Watch every team, every game\n- No blackout restrictions\n- Multiple viewing options\n- Works anywhere with internet\n- Save hundreds vs. cable packages\n\nGet your jailbroken Fire Stick with IPTV and never miss another buzzer-beater!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Remote Not Working: Quick Fixes\",\n    slug: \"fire-stick-remote-not-working-fixes\",\n    excerpt: \"Fire Stick remote stopped working? Try these quick fixes to get it working again in minutes.\",\n    content: `A non-responsive Fire Stick remote is frustrating, but usually easy to fix. Try these solutions in order.\n\n**Quick Fixes:**\n\n**1. Check the Batteries**\n- Replace with fresh AAA batteries\n- Remove, wait 10 seconds, reinsert\n- Try different battery brands\n\n**2. Restart Fire Stick**\n- Unplug power for 60 seconds\n- Plug back in\n- Wait for restart\n\n**3. Re-pair the Remote**\n- Hold Home button for 10 seconds\n- Wait for LED to flash\n- Press Home to pair\n\n**4. Move Closer**\n- Remove obstructions\n- Get within 10 feet of device\n- Point directly at Fire Stick\n\n**5. Check for Interference**\n- Move away from WiFi routers\n- Separate from other electronics\n- Check for Bluetooth conflicts\n\n**Advanced Troubleshooting:**\n\n**Using Fire TV App:**\n1. Download Fire TV app on phone\n2. Connect to same WiFi\n3. Use phone as temporary remote\n4. Navigate to Settings\n5. Reset remote settings\n\n**Factory Reset Remote:**\n1. Unplug Fire Stick power\n2. Hold Left, Menu, Back for 12 seconds\n3. Release buttons\n4. Remove batteries, wait 5 seconds\n5. Plug in Fire Stick\n6. Wait 60 seconds\n7. Insert batteries\n8. Hold Home to pair\n\n**When to Get a New Remote:**\n- Physical damage visible\n- All fixes failed\n- Remote is very old\n\n**Replacement Options:**\n- Official Amazon remote: $20-35\n- Third-party remotes: $10-20\n- Fire TV app: Free alternative\n\n**Pro Tip:** Keep the Fire TV app installed as a backup!`,\n    category: \"Support\",\n    featured: false,\n  },\n  {\n    title: \"Streaming in 4K: Fire Stick Setup Guide\",\n    slug: \"streaming-4k-fire-stick-setup\",\n    excerpt: \"Get the best picture quality from your Fire Stick with this 4K streaming setup guide. Crystal clear content awaits!\",\n    content: `If you have a 4K TV and Fire Stick 4K/Max, you should be enjoying Ultra HD content. Here's how to set up for the best picture quality.\n\n**Requirements for 4K Streaming:**\n\n**Hardware:**\n- Fire Stick 4K or 4K Max\n- 4K Ultra HD TV\n- HDMI 2.0 or higher port\n- High-speed HDMI cable\n\n**Internet:**\n- Minimum 25 Mbps for 4K\n- 50+ Mbps recommended\n- Wired connection preferred\n\n**Setting Up 4K:**\n\n**1. Check Your Connection**\n- Settings > Display & Sounds\n- Display > Video Resolution\n- Should show \"Auto (up to 4K)\"\n\n**2. Verify HDMI Port**\n- Use HDMI 2.0 port on TV\n- Check TV manual for port labels\n- Try different ports if issues\n\n**3. Enable HDR**\n- Settings > Display & Sounds\n- Display > Dynamic Range Settings\n- Enable \"Always HDR\" or \"Adaptive\"\n\n**4. Dolby Vision (4K Max)**\n- Automatically enabled\n- Check with Dolby Vision content\n- Should show DV indicator\n\n**Optimizing for 4K:**\n\n**Match Original Frame Rate:**\n- Settings > Display & Sounds\n- Match Original Frame Rate: On\n- Reduces judder and tearing\n\n**Color Depth:**\n- Set to highest available\n- 10-bit or 12-bit if supported\n- Deeper colors and gradients\n\n**Testing 4K Quality:**\n1. Play known 4K content\n2. Check resolution indicator\n3. Look for HDR/DV badge\n4. Compare to HD content\n\n**IPTV 4K Channels:**\nStreamStickPro IPTV includes:\n- 4K movie channels\n- 4K sports events\n- 4K nature documentaries\n- UHD entertainment channels\n\n**Troubleshooting:**\n- Restart if quality drops\n- Check internet speed\n- Use ethernet adapter\n- Update Fire Stick software`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Cancel Cable TV: Step-by-Step Guide 2025\",\n    slug: \"cancel-cable-tv-guide\",\n    excerpt: \"Ready to cut the cord? Follow this step-by-step guide to cancel your cable subscription and start saving money today.\",\n    content: `Canceling cable can save you $1,500+ per year. Here's how to do it smoothly without missing your favorite content.\n\n**Before You Cancel:**\n\n**1. Research Your Options**\n- Streaming devices (Fire Stick recommended)\n- IPTV services\n- Antenna for local channels\n- Internet-only packages\n\n**2. Check Your Contract**\n- Early termination fees\n- Contract end date\n- Equipment rental terms\n- Bundled services impact\n\n**3. Note What You Watch**\n- Favorite channels\n- Sports requirements\n- Local news needs\n- Premium movie channels\n\n**Steps to Cancel:**\n\n**1. Call Customer Service**\n- Have account number ready\n- Ask for cancellation department\n- Be firm but polite\n- Decline retention offers (unless worth it)\n\n**2. Return Equipment**\n- Cable boxes\n- DVRs\n- Modems/routers (if applicable)\n- Get return receipt\n\n**3. Confirm Final Bill**\n- Prorated charges\n- Equipment fees resolved\n- No hidden charges\n- Written confirmation\n\n**4. Set Up Your Alternative**\n- Get your streaming device\n- Set up IPTV service\n- Install antenna if needed\n- Test everything\n\n**StreamStickPro Transition:**\n\nWhat you get:\n- 18,000+ live TV channels\n- 60,000+ movies & shows\n- All sports & PPV events\n- All your cable channels and more\n\nWhat you save:\n- Year 1: Device $150 + IPTV $75 = $225\n- Cable alternative: $150/month = $1,800/year\n- **Savings: $1,575+ per year!**\n\n**Post-Cancel Checklist:**\n- Test all streaming services\n- Set up any smart home integrations\n- Download mobile apps\n- Contact support if issues\n\nYou're now a cord-cutter. Welcome to streaming freedom!`,\n    category: \"Savings\",\n    featured: false,\n  },\n  {\n    title: \"Watch MLB Baseball on Fire Stick 2025\",\n    slug: \"watch-mlb-baseball-fire-stick\",\n    excerpt: \"Stream every MLB game on your Fire Stick without cable. Perfect for baseball fans who don't want blackouts.\",\n    content: `Baseball fans deserve to watch every game of their favorite team. Here's how to catch all the MLB action on Fire Stick.\n\n**MLB Streaming Challenges:**\n- Blackout restrictions on MLB.TV\n- Regional sports network issues\n- Cable login requirements\n- Expensive packages\n\n**IPTV Solution:**\nStreamStickPro IPTV includes:\n- Every MLB regular season game\n- Playoff games and World Series\n- No blackout restrictions\n- All regional sports networks\n- MLB Network 24/7\n\n**What's Included:**\n- All 30 teams\n- 2,430 regular season games\n- Spring Training games\n- All-Star Game\n- Complete postseason\n- Classic games on demand\n\n**Channels Available:**\n- ESPN / ESPN2\n- Fox Sports\n- TBS\n- Regional Sports Networks\n- MLB Network\n- Local broadcast affiliates\n\n**How to Watch:**\n1. Get your StreamStickPro Fire Stick\n2. Open the IPTV app\n3. Go to Sports > Baseball\n4. Select MLB\n5. Choose your game\n6. Play ball!\n\n**Schedule:**\n- Season: March - October\n- Games: Daily during season\n- Times: Afternoon and evening\n- Weekend day games\n\n**Why IPTV for Baseball:**\n- No blackouts ever\n- Watch out-of-market games\n- Multiple feeds available\n- DVR-like features\n- Works anywhere\n\n**Savings vs. Cable:**\n- MLB.TV: $149.99/year (with blackouts)\n- Cable + RSN: $100+/month\n- StreamStickPro: From $15/month (everything included)\n\nGet ready for baseball season with StreamStickPro!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Alexa Commands: Voice Control Guide\",\n    slug: \"fire-stick-alexa-voice-commands\",\n    excerpt: \"Master Alexa voice commands on your Fire Stick. Control your streaming experience hands-free with these tips.\",\n    content: `Your Fire Stick remote has Alexa built-in. Learn to use voice commands for a better streaming experience.\n\n**Basic Commands:**\n\n**Navigation:**\n- \"Alexa, go home\"\n- \"Alexa, go to settings\"\n- \"Alexa, open [app name]\"\n- \"Alexa, search for [title]\"\n\n**Playback Control:**\n- \"Alexa, play\"\n- \"Alexa, pause\"\n- \"Alexa, rewind 30 seconds\"\n- \"Alexa, fast forward 5 minutes\"\n- \"Alexa, stop\"\n\n**Content Discovery:**\n\n**Finding Shows:**\n- \"Alexa, show me action movies\"\n- \"Alexa, find comedy shows\"\n- \"Alexa, search for Tom Hanks movies\"\n- \"Alexa, what's on TV tonight?\"\n\n**By Genre:**\n- \"Alexa, show me sci-fi movies\"\n- \"Alexa, find romantic comedies\"\n- \"Alexa, search for documentaries\"\n\n**By Network:**\n- \"Alexa, open Netflix\"\n- \"Alexa, launch Prime Video\"\n- \"Alexa, start YouTube\"\n\n**Advanced Commands:**\n\n**Smart Home:**\n- \"Alexa, dim the lights\"\n- \"Alexa, turn off the TV\" (requires CEC)\n- \"Alexa, set volume to 50%\"\n\n**Information:**\n- \"Alexa, what's the weather?\"\n- \"Alexa, what time is it?\"\n- \"Alexa, who stars in this?\"\n\n**Music:**\n- \"Alexa, play music\"\n- \"Alexa, play [song/artist]\"\n- \"Alexa, stop music\"\n\n**Tips for Better Recognition:**\n- Hold Alexa button while speaking\n- Speak clearly at normal pace\n- Reduce background noise\n- Use specific titles when possible\n\n**IPTV with Alexa:**\nWhile Alexa can't control third-party IPTV apps directly, you can:\n- Use voice to open the app\n- Navigate to categories verbally\n- Search for content by name\n- Control volume and playback\n\nMaster these commands for a hands-free streaming experience!`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best Movies to Stream on Fire Stick 2025\",\n    slug: \"best-movies-stream-fire-stick-2025\",\n    excerpt: \"Looking for something to watch? Here are the best movies available to stream on your Fire Stick right now.\",\n    content: `With 60,000+ movies available through StreamStickPro IPTV, there's always something great to watch. Here are our top picks across genres.\n\n**New Releases:**\nStreamStickPro gives you access to the latest movies, often before they hit streaming platforms. Check the VOD section for current theatrical releases.\n\n**Action & Adventure:**\n- Latest Marvel/DC films\n- Mission: Impossible series\n- Fast & Furious franchise\n- John Wick collection\n- Top Gun: Maverick\n\n**Comedy:**\n- Recent comedy hits\n- Classic comedies\n- Stand-up specials\n- Comedy series\n\n**Drama:**\n- Oscar-winning films\n- Biographical movies\n- Historical dramas\n- Indie favorites\n\n**Sci-Fi & Fantasy:**\n- Dune series\n- Star Wars collection\n- Avatar films\n- Superhero movies\n\n**Horror:**\n- New horror releases\n- Classic horror films\n- Thriller/suspense\n- Psychological horror\n\n**Family:**\n- Animated features\n- Disney classics\n- Family adventures\n- Kids' movies\n\n**Documentary:**\n- True crime docs\n- Nature documentaries\n- Sports documentaries\n- Historical docs\n\n**How to Find Movies:**\n1. Open StreamStickPro IPTV app\n2. Navigate to Movies/VOD section\n3. Browse by genre or search\n4. Select and enjoy in HD/4K\n\n**Pro Tips:**\n- Check \"New Releases\" weekly\n- Use search for specific titles\n- Browse genre categories\n- Save favorites for later\n\n**Why StreamStickPro:**\n- 60,000+ movies available\n- New releases added regularly\n- HD and 4K quality\n- No per-movie rental fees\n- All included in subscription\n\nStart exploring tonight!`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Ethernet Adapter for Fire Stick: Is It Worth It?\",\n    slug: \"ethernet-adapter-fire-stick-worth-it\",\n    excerpt: \"Should you get an ethernet adapter for your Fire Stick? We break down when wired connections make sense.\",\n    content: `Fire Sticks work great on WiFi, but sometimes a wired connection is better. Here's when to consider an ethernet adapter.\n\n**What is an Ethernet Adapter?**\nA small device that connects your Fire Stick to your router via ethernet cable, providing a wired internet connection instead of WiFi.\n\n**Benefits of Wired Connection:**\n\n**1. Stability**\n- No WiFi interference\n- Consistent speeds\n- Fewer dropouts\n\n**2. Speed**\n- Faster than most WiFi\n- Better for 4K streaming\n- Lower latency\n\n**3. Reliability**\n- Works in dead zones\n- Unaffected by neighbors' WiFi\n- More consistent buffering-free experience\n\n**When You Need It:**\n\n**Definitely Consider If:**\n- Frequent buffering issues\n- Far from WiFi router\n- Many devices on network\n- Live in apartment (WiFi congestion)\n- Streaming live sports (no lag)\n\n**Probably Don't Need If:**\n- WiFi works fine\n- Close to router\n- Streaming HD (not 4K)\n- Occasional viewer\n\n**Recommended Adapters:**\n\n**Amazon Ethernet Adapter**\n- Official product\n- 10/100 Mbps\n- Easy setup\n- ~$15\n\n**Cable Matters USB Ethernet**\n- USB 3.0 version available\n- Gigabit speeds\n- Good value\n- ~$15-20\n\n**Installation:**\n1. Plug adapter into Fire Stick USB\n2. Connect ethernet cable\n3. Run cable to router\n4. Fire Stick auto-detects\n5. Check connection in settings\n\n**Pro Tips:**\n- Use flat ethernet cables for cleaner routing\n- Get appropriate cable length\n- Consider powerline adapter if router far away\n- Still need USB power adapter\n\n**For StreamStickPro Users:**\nWired connection provides the most reliable IPTV experience, especially for:\n- Live sports (no buffering during games)\n- 4K content\n- Multiple simultaneous streams`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Buy Jailbroken Fire Stick Online 2025 - Best Deals & Fast Shipping\",\n    slug: \"buy-jailbroken-fire-stick-online-2025\",\n    excerpt: \"Looking to buy a jailbroken Fire Stick online? Get the best pre-configured streaming device with IPTV included. Free same-day shipping available!\",\n    content: `Ready to cut the cord and save thousands on entertainment? StreamStickPro offers the best jailbroken Fire Sticks with everything pre-configured and ready to use.\n\n**What You Get:**\n\n**Hardware:**\n- Genuine Amazon Fire Stick (your choice of model)\n- Power adapter\n- HDMI extender\n- Remote with batteries\n\n**Software:**\n- All streaming apps pre-installed\n- Optimized settings\n- Ready to use immediately\n\n**Service:**\n- IPTV subscription activated\n- Login credentials provided\n- Access to 18,000+ channels\n- 24/7 customer support\n\n**Why Buy From StreamStickPro:**\n\n**Genuine Products:**\n- Only authentic Amazon Fire Sticks\n- New retail packaging\n- Full warranty\n- No clones or fakes\n\n**Pre-Configured:**\n- No technical setup required\n- Plug in and stream\n- Support if you need help\n\n**Competitive Pricing:**\n- Fire Stick Lite + 3-month IPTV: $140\n- Fire Stick 4K + 3-month IPTV: $150\n- Fire Stick 4K Max + 3-month IPTV: $160\n\n**Fast Shipping:**\n- Same-day shipping in select areas\n- Free shipping on orders over $100\n- Track your order\n- Arrive within 1-3 days\n\n**IPTV Subscription Options:**\n- 3 months: $15\n- 6 months: $35\n- 12 months: $75\n\n**What's Included:**\n- 18,000+ live TV channels\n- 60,000+ movies and shows\n- All major sports (NFL, NBA, UFC, etc.)\n- No extra PPV charges\n- 4K quality available\n\n**How to Order:**\n\nVisit StreamStickPro.com and choose:\n1. Select your Fire Stick model\n2. Choose subscription length\n3. Add any extras\n4. Provide delivery address\n5. Complete payment\n\n**After Purchase:**\n- Receive tracking number\n- Device ships immediately\n- Arrives pre-configured\n- Start streaming same day\n\n**Customer Testimonials:**\n\n\"Arrived faster than expected and everything worked perfectly. No setup needed!\"\n\n\"Best investment I've made. Saved over $2,000 on cable in the first year.\"\n\n\"Customer service was amazing when I had questions. Highly recommended!\"\n\n**100% Satisfaction Guarantee:**\n24/7 customer support included with every purchase.\n\nVisit StreamStickPro.com and get your jailbroken Fire Stick shipped fast. Join 2,700+ satisfied customers streaming their favorite content!`,\n    category: \"Guides\",\n    featured: true,\n  },\n  {\n    title: \"Best IPTV Service 2025 - 18,000+ Channels Starting at $15/Month\",\n    slug: \"best-iptv-service-2025-channels\",\n    excerpt: \"Find the best IPTV service in 2025. StreamStickPro offers 18,000+ live channels, 60,000+ movies, all sports & PPV for just $15/month.\",\n    content: `Looking for the best IPTV service in 2025? StreamStickPro offers the most comprehensive IPTV package at unbeatable prices.\n\n**What Makes Our IPTV the Best?**\n\n**Massive Channel Library**\n- 18,000+ live TV channels\n- Channels from USA, UK, Canada, and worldwide\n- News, entertainment, kids, movies, music\n- 24/7 channel availability\n\n**Huge On-Demand Library**\n- 60,000+ movies\n- Complete TV show collections\n- New releases added weekly\n- 4K and HD quality\n\n**Complete Sports Coverage**\n- NFL, NBA, MLB, NHL, MLS\n- UFC, Boxing, WWE\n- Premier League, La Liga, Champions League\n- All PPV events included - no extra charge!\n- ESPN, Fox Sports, TNT, all sports networks\n\n**IPTV Subscription Plans:**\n\n**1 Month - $15**\n- Try before you commit\n- Full channel access\n- Perfect for testing\n\n**3 Months - $30** (Save 33%)\n- Great for seasonal viewers\n- All features included\n- Priority support\n\n**6 Months - $50** (Save 44%)\n- Best value for casual streamers\n- All channels and content\n- Dedicated support\n\n**12 Months - $75** (Save 58%)\n- Ultimate savings\n- One year of unlimited streaming\n- VIP support access\n\n**What's Included in Every Plan:**\n\n- 18,000+ live TV channels\n- 60,000+ movies and shows\n- All sports events and PPV\n- 4K quality streams\n- On-demand content\n- Multi-device support\n- No ads during streams\n- 24/7 customer support\n\n**Channel Categories:**\n\n**US Networks:**\n- ABC, CBS, NBC, FOX\n- CNN, MSNBC, Fox News\n- ESPN, TNT, TBS\n- USA, FX, AMC\n- And hundreds more\n\n**Sports:**\n- NFL Network, NBA TV, MLB Network\n- ESPN (all channels)\n- Regional sports networks\n- UFC, Boxing, WWE\n\n**Movies:**\n- Action, Drama, Comedy\n- Horror, Thriller, Sci-Fi\n- Family, Animation\n- Documentaries\n\n**International:**\n- UK, Canada, Australia\n- Spanish language\n- Asian channels\n- European networks\n\n**Why StreamStickPro IPTV:**\n\n**Reliability:**\n- 99.9% uptime guarantee\n- Multiple backup streams\n- Fast support response\n\n**Quality:**\n- HD and 4K options\n- Consistent streaming\n- No constant buffering\n\n**Value:**\n- Lowest prices in the market\n- No hidden fees\n- Cancel anytime\n\n**Support:**\n- 24/7 customer service\n- Setup assistance\n- Troubleshooting help\n\n**Comparing to Cable:**\n\nCable costs $100-200/month. StreamStickPro IPTV:\n- 1 year: $75\n- Cable 1 year: $1,200-2,400\n- **You save: $1,125-2,325 per year**\n\n**Getting Started:**\n\n**Option 1: Pre-Loaded Fire Stick**\n- Buy Fire Stick + IPTV bundle\n- Everything pre-configured\n- Ready to use immediately\n\n**Option 2: IPTV Only**\n- Use with your existing device\n- Works on Fire Stick, Android, Smart TV\n- Instant activation\n\n**Frequently Asked Questions**\n\n**Q: How many devices can use one subscription?**\nA: Most plans include 2-4 simultaneous connections.\n\n**Q: What internet speed do I need?**\nA: Minimum 10 Mbps for HD, 25+ for 4K.\n\n**Q: Do you have a free trial?**\nA: We offer money-back guarantee if unsatisfied.\n\n**Q: What if channels stop working?**\nA: Contact support 24/7 for immediate help.\n\n**Q: Are there other fees?**\nA: No hidden fees. Price is all-inclusive.\n\n**Get Started Today**\n\nReady to save $1,000+ per year? Visit StreamStickPro.com\n\nChoose your plan:\n- 1 Month: $15\n- 3 Months: $30\n- 6 Months: $50\n- 12 Months: $75\n\nAll plans include 18,000+ channels, 60,000+ movies, all sports, and 24/7 support.\n\nStart streaming unlimited content today!`,\n    category: \"Guides\",\n    featured: false,\n  },\n];\n\n// Additional 20+ posts to reach 77+ total\nconst additionalPosts = [\n  {\n    title: \"How to Choose Between IPTV Services: 2025 Comparison\",\n    slug: \"iptv-services-comparison-2025\",\n    excerpt: \"Not all IPTV services are created equal. This guide helps you compare options and choose the best one for your needs.\",\n    content: \"Comparing IPTV services can be confusing with so many options available. This comprehensive comparison guide covers reliability, channel selection, pricing, and support to help you make the right choice.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Kodi Installation: 2025 Guide\",\n    slug: \"fire-stick-kodi-installation-guide\",\n    excerpt: \"Want to install Kodi on your Fire Stick? This step-by-step guide walks you through the process.\",\n    content: \"Kodi is a powerful media center application that works great on Fire Stick. This guide covers downloading, installing, and configuring Kodi for optimal performance.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best Fire Stick Accessories 2025\",\n    slug: \"best-fire-stick-accessories-2025\",\n    excerpt: \"Enhance your Fire Stick experience with these essential accessories and upgrades.\",\n    content: \"From ethernet adapters to universal remotes, these accessories can significantly improve your Fire Stick experience. We review the best options for 2025.\",\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Storage Issues: How to Free Up Space\",\n    slug: \"fire-stick-storage-free-up-space\",\n    excerpt: \"Running out of storage on your Fire Stick? Here's how to free up space and install more apps.\",\n    content: \"Fire Sticks have limited internal storage. This guide shows you how to manage space, delete unnecessary files, and optimize storage for better performance.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"International Channels on Fire Stick: Global Streaming\",\n    slug: \"international-channels-fire-stick-global\",\n    excerpt: \"Access channels from around the world on your Fire Stick with this international streaming guide.\",\n    content: \"StreamStickPro IPTV includes international channels from dozens of countries. Learn how to navigate and enjoy global content.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Gaming: Best Games to Play in 2025\",\n    slug: \"fire-stick-gaming-best-games-2025\",\n    excerpt: \"Did you know Fire Stick can play games? Check out the best games available in 2025.\",\n    content: \"Fire Stick is more than just a streaming deviceit can play games too. This guide covers the best games and how to get started gaming on your Fire Stick.\",\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Creating Fire Stick User Profiles: Family Management\",\n    slug: \"fire-stick-user-profiles-family\",\n    excerpt: \"Set up multiple user profiles on your Fire Stick for personalized viewing experiences for each family member.\",\n    content: \"Fire Stick allows multiple user profiles for different family members. This guide shows how to create, customize, and manage profiles.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Sideloading Apps on Fire Stick: Complete Tutorial\",\n    slug: \"sideloading-apps-fire-stick-tutorial\",\n    excerpt: \"Install apps not available in the Amazon App Store using this sideloading tutorial.\",\n    content: \"Sideloading allows you to install apps directly on your Fire Stick without using the Amazon App Store. This comprehensive guide covers all methods.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick WiFi 6 vs WiFi 5: Is It Worth the Upgrade?\",\n    slug: \"fire-stick-wifi6-vs-wifi5-upgrade\",\n    excerpt: \"Should you upgrade to a Fire Stick with WiFi 6? We compare performance and value.\",\n    content: \"The Fire Stick 4K Max includes WiFi 6 technology. This comparison explains the benefits and whether the upgrade is worth it for your needs.\",\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"IPTV on Multiple Fire Sticks: Whole Home Streaming\",\n    slug: \"iptv-multiple-fire-sticks-whole-home\",\n    excerpt: \"Set up IPTV across multiple Fire Sticks in your home with this whole-home streaming guide.\",\n    content: \"Most IPTV subscriptions support multiple device connections. This guide shows how to set up seamless whole-home streaming.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Live Sports Streaming on Fire Stick: Complete 2025 Guide\",\n    slug: \"live-sports-streaming-fire-stick-2025\",\n    excerpt: \"Watch every major sporting event on your Fire Stick without cable subscriptions.\",\n    content: \"From NFL to soccer to MMA, this comprehensive guide covers how to stream all major sports on Fire Stick.\",\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Dolby Atmos: Audio Quality Guide\",\n    slug: \"fire-stick-dolby-atmos-audio-guide\",\n    excerpt: \"Get immersive 3D audio on your Fire Stick with Dolby Atmos setup guide.\",\n    content: \"Fire Stick supports Dolby Atmos for immersive audio. Learn how to set it up and enjoy theater-quality sound at home.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Alexa Integration: Smart Home Control\",\n    slug: \"fire-stick-alexa-smart-home-integration\",\n    excerpt: \"Control your smart home and Fire Stick together with Alexa integration.\",\n    content: \"Fire Stick's Alexa functionality goes beyond voice commandsintegrate it with your smart home for complete control.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Cloud Gaming on Fire Stick: Luna and Game Pass\",\n    slug: \"cloud-gaming-fire-stick-luna-gamepass\",\n    excerpt: \"Play console-quality games on your Fire Stick with cloud gaming services.\",\n    content: \"Cloud gaming is finally coming to Fire Stick. This guide covers Luna and Game Pass options.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Casting: Mirror Your Phone or Computer\",\n    slug: \"fire-stick-casting-mirror-screen\",\n    excerpt: \"Cast content from your phone or computer to your Fire Stick TV.\",\n    content: \"Screen mirroring and casting allow you to display content from your devices on your TV via Fire Stick.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Troubleshoot Fire Stick Buffering: Internet Issues\",\n    slug: \"troubleshoot-fire-stick-buffering-internet\",\n    excerpt: \"Fix buffering problems on your Fire Stick with these internet troubleshooting tips.\",\n    content: \"Buffering is usually caused by internet issues. This guide covers diagnostic steps and solutions.\",\n    category: \"Support\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Video Playback Issues: Solution Guide\",\n    slug: \"fire-stick-video-playback-issues-solutions\",\n    excerpt: \"Can't play videos on your Fire Stick? Try these troubleshooting solutions.\",\n    content: \"Video playback issues can usually be resolved with simple fixes. This guide covers common problems and solutions.\",\n    category: \"Support\",\n    featured: false,\n  },\n  {\n    title: \"Using Fire Stick with VPN Providers: Top Options 2025\",\n    slug: \"fire-stick-vpn-providers-top-2025\",\n    excerpt: \"Best VPN providers optimized for Fire Stick use in 2025.\",\n    content: \"Choosing the right VPN for your Fire Stick matters. This guide reviews top VPN providers with Fire Stick apps.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Subscription Management: Tracking All Services\",\n    slug: \"fire-stick-subscription-management-tracking\",\n    excerpt: \"Manage and track all your Fire Stick subscriptions in one place.\",\n    content: \"With multiple subscriptions, it's easy to lose track. This guide helps you manage everything efficiently.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Regional Restrictions and Fire Stick: Workarounds 2025\",\n    slug: \"regional-restrictions-fire-stick-workarounds\",\n    excerpt: \"Understand and work with regional restrictions on Fire Stick streaming.\",\n    content: \"Some content is region-restricted. This guide explains why and how to access content you should have access to.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick Trade-In Program: Upgrade Your Device\",\n    slug: \"fire-stick-trade-in-upgrade-device\",\n    excerpt: \"Upgrade your old Fire Stick with manufacturer trade-in programs.\",\n    content: \"Amazon offers trade-in programs for old Fire Sticks. Learn how to upgrade to newer models affordably.\",\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Kids Apps and Streaming on Fire Stick: Parent Guide\",\n    slug: \"kids-apps-streaming-fire-stick-parent-guide\",\n    excerpt: \"Keep your kids entertained safely with this Fire Stick parent guide.\",\n    content: \"Fire Stick has many great kids' apps and content. This guide helps parents navigate options safely.\",\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Best Free IPTV Apps for Fire Stick 2025\",\n    slug: \"best-free-iptv-apps-fire-stick\",\n    excerpt: \"Discover the best free IPTV apps available for Fire Stick in 2025. Stream thousands of channels for free.\",\n    content: `Looking for free IPTV apps to stream on your Fire Stick? While free options exist, paid services like StreamStickPro offer much better reliability and content quality.\n\n**Top Free IPTV Apps:**\n\n**Pluto TV**\n- 250+ free live TV channels\n- Movies and TV shows on demand\n- Ad-supported but legal\n- Great for casual viewers\n- Available in Amazon App Store\n\n**Tubi TV**\n- Thousands of free movies\n- TV show collections\n- New content weekly\n- No subscription needed\n- Works seamlessly on Fire Stick\n\n**Peacock Free Tier**\n- NBC content free\n- Next-day TV access\n- Some sports included\n- Upgrade option available\n- Legitimate streaming\n\n**Plex**\n- Free movies and TV\n- Live channels\n- Personal media support\n- Cross-device sync\n- Growing content library\n\n**Why Free Apps Fall Short:**\n\nWhile free IPTV apps work, they have major limitations:\n- Limited channel selection (often 250-500 vs 18,000+)\n- Poor video quality (often 480p or 720p)\n- Frequent buffering and reliability issues\n- Ads interrupting content\n- Limited sports coverage\n- No PPV events\n- Customer support is minimal\n\n**StreamStickPro Advantage:**\n\nFor just $15/month, you get:\n- 18,000+ live TV channels\n- 60,000+ movies and shows\n- All sports including NFL, NBA, UFC, Premier League\n- 4K quality streaming\n- Zero ads during content\n- 24/7 customer support\n- Reliable, fast streaming\n\n**Recommendation:**\n\nFree IPTV apps are fine for testing, but for serious cord-cutting with sports and current content, StreamStickPro offers unbeatable value. The reliability alone is worth the small monthly cost when you're saving $1,500+ on cable.`,\n    category: \"Guides\",\n    featured: true,\n  },\n  {\n    title: \"Is IPTV Legal? Complete Legal Guide 2025\",\n    slug: \"is-iptv-legal-guide-2025\",\n    excerpt: \"Understand the legality of IPTV services. What's legal, what's not, and how to stay safe.\",\n    content: `One of the most common questions about IPTV is: \"Is it legal?\" The answer is more nuanced than a simple yes or no.\n\n**IPTV Technology is Completely Legal**\n\nIPTV (Internet Protocol Television) is a legitimate technology used by major providers like YouTube TV, Hulu Live, and AT&T U-verse. The technology itself is absolutely legal.\n\n**Licensed IPTV Services (100% Legal)**\n\nServices like StreamStickPro operate with proper licensing agreements:\n- Licensed content distribution rights\n- Partnerships with content providers\n- Legal business registration\n- Tax compliance\n- Customer protections\n\nThese services are as legal as Netflix or Hulu.\n\n**Unlicensed IPTV (Illegal)**\n\nUnauthorized IPTV services that don't have licensing agreements are illegal. These typically offer:\n- Pirated content\n- No licensing agreements\n- Often use stolen authentication\n- Unreliable service\n\n**How to Identify Legal IPTV:**\n\n**Red Flags for Illegal Services:**\n- Suspiciously cheap pricing ($5/month or less)\n- No contact information or support\n- Vague about where content comes from\n- Payment through untraceable methods\n- No terms of service\n\n**Signs of Legal Services:**\n- Transparent about licensing\n- Reasonable pricing ($15+/month)\n- 24/7 customer support\n- Clear terms of service\n- Professional business operations\n- Secure payment processing\n\n**Your Personal Responsibility**\n\nEven with legal IPTV, what you choose to stream remains your responsibility. Using IPTV to access copyrighted content you have rights to is legal.\n\n**StreamStickPro is 100% Legal**\n\nStreamStickPro operates with:\n- Full business registration\n- Proper licensing agreements\n- Legitimate payment processing\n- Professional customer support\n- Legal compliance\n\nYou can use StreamStickPro with complete confidence that you're using a legitimate service.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Stream Free Sports on Fire Stick Legally 2025\",\n    slug: \"stream-free-sports-fire-stick-legal-2025\",\n    excerpt: \"Watch live sports on Fire Stick legally without cable. Free and paid options for sports fans.\",\n    content: `Sports fans don't have to pay for expensive cable packages to watch their favorite teams. Here are legal ways to stream sports on Fire Stick.\n\n**Free Sports Streaming Options:**\n\n**ESPN+ Free Trial**\n- 7-day free trial\n- Some sports included\n- Cancel anytime\n\n**Peacock Free (NBC Sports)**\n- Some games free\n- Full tier available\n- Included NBC content\n\n**YouTube TV Free Trial**\n- 5-day free trial\n- All major sports\n- Full access during trial\n\n**Local Broadcasts**\n- Many games on free networks\n- ABC, CBS, NBC, Fox all broadcast sports\n- Pluto TV includes sports channels\n\n**Best Paid Sports Streaming:**\n\n**YouTube TV - $82.99/month**\n- NFL, NBA, MLB, NHL, MLS\n- ESPN, Fox Sports, TNT\n- All major sports\n- 50-hour DVR\n\n**Hulu + Live TV - $83.99/month**\n- Similar to YouTube TV\n- Includes Hulu on-demand\n- Good sports coverage\n\n**IPTV (StreamStickPro) - $15-75/month**\n- 18,000+ channels including all sports\n- NFL, NBA, MLB, NHL, UFC, Soccer\n- No PPV costs\n- Better value than cable\n- Easiest to use on Fire Stick\n\n**Sports Included with StreamStickPro:**\n\n- All NFL games\n- All NBA games\n- All MLB games\n- All NHL games\n- All MLS games\n- UEFA Champions League\n- Premier League\n- UFC/MMA\n- Boxing\n- WWE\n- All major sports networks\n\n**Why StreamStickPro for Sports:**\n\n- $15/month base (most affordable)\n- No extra charges for PPV\n- 18,000+ other channels\n- 60,000+ movies on demand\n- All sports in one package\n- Works on Fire Stick perfectly\n\n**Pro Tips:**\n\n- Free trials are great for testing\n- Combine one service with IPTV for best coverage\n- IPTV offers most sports for least money\n- Don't pay for cable when streaming offers better value\n\n**Get Started:**\n\nStart with StreamStickPro to watch all your favorite sports legally for just $15/month. No cable required.`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Fire Stick Movie Apps: Best Apps for Movies 2025\",\n    slug: \"fire-stick-best-movie-apps-2025\",\n    excerpt: \"Top movie streaming apps for Fire Stick. Watch thousands of movies in HD and 4K.\",\n    content: `Looking for the best movie apps for your Fire Stick? Here's a comprehensive guide to streaming movies in 2025.\n\n**Paid Movie Streaming Services:**\n\n**Netflix**\n- Huge movie library\n- Original movies\n- All devices supported\n- $6.99-22.99/month\n\n**Amazon Prime Video**\n- Included with Prime membership\n- Extensive movie library\n- Original productions\n- $14.99/month standalone\n\n**Disney+**\n- Disney, Pixar, Marvel, Star Wars\n- Family-friendly focus\n- 4K available\n- $7.99-13.99/month\n\n**Hulu**\n- Next-day TV episodes\n- Large movie selection\n- Original content\n- $7.99-17.99/month\n\n**Paramount+**\n- CBS content\n- Movies and shows\n- Younger target audience\n- $5.99-12.99/month\n\n**Max (HBO)**\n- Premium movie selection\n- HBO shows\n- Warner Bros movies\n- $9.99-22.99/month\n\n**Free Movie Streaming:**\n\n**Tubi**\n- 10,000+ free movies\n- Ad-supported\n- Legal and legitimate\n- Always free\n\n**Pluto TV**\n- 250+ channels with movies\n- Free with ads\n- Movies and TV\n- No registration needed\n\n**Plex**\n- Free movies and TV\n- Growing library\n- Personal media support\n- Ad-supported\n\n**Peacock Free**\n- Some movies included\n- NBC content\n- Free tier available\n- Some ads\n\n**Why IPTV for Movies:**\n\n**StreamStickPro Advantage:**\n- 60,000+ movies on demand\n- All included in subscription\n- New releases added weekly\n- 4K and HD quality\n- No extra rental fees\n- All for $15-75/month\n\n**Setting Up Movie Apps:**\n\n1. Open Amazon App Store on Fire Stick\n2. Search for movie app\n3. Select and install\n4. Sign in with account\n5. Start streaming\n\n**Pro Tips:**\n\n- Check free trials before paying\n- Combine free and paid apps\n- IPTV gives most movies for best price\n- Use 4K-capable apps on 4K Max models\n- Organize apps by frequency of use\n\n**Movie Categories Available:**\n\n- Action & Adventure\n- Comedy\n- Drama\n- Horror\n- Sci-Fi & Fantasy\n- Family & Kids\n- Romance\n- Documentaries\n- Thrillers\n- Animated\n\n**Best Movie Combo:**\n\nFor $15/month StreamStickPro gives you 60,000+ movies plus sports and TV. Hard to beat that value.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Jailbreak Fire Stick 2024 vs Pre-Configured Devices\",\n    slug: \"jailbreak-fire-stick-vs-preconfigured\",\n    excerpt: \"DIY jailbreaking vs buying pre-configured Fire Sticks. Compare time, cost, and hassle.\",\n    content: `Thinking about jailbreaking your Fire Stick yourself? Here's a comparison with pre-configured devices.\n\n**DIY Fire Stick Jailbreaking:**\n\n**What It Involves:**\n- Installing custom firmware\n- Sideloading apps\n- Configuring settings\n- Installing IPTV apps\n- Managing updates\n\n**Time Required:**\n- Research: 2-3 hours\n- Installation: 1-2 hours\n- Configuration: 1-2 hours\n- Troubleshooting: Variable\n- **Total: 4-8+ hours**\n\n**Technical Knowledge Needed:**\n- Understanding file systems\n- Comfort with modifying devices\n- Troubleshooting skills\n- Ongoing maintenance\n\n**Risks:**\n- Voiding warranty\n- Bricking device\n- Security vulnerabilities\n- Installation errors\n- Compatibility issues\n- Automatic updates breaking setup\n\n**Costs:**\n- Fire Stick: $50-160\n- IPTV subscription: $15-75/month\n- Potential replacement if broken\n- Ethernet adapter: $15-20\n- **Total: $80-255 + subscription**\n\n**Pre-Configured Fire Stick:**\n\n**What You Get:**\n- Ready-to-use device\n- All apps pre-installed\n- IPTV activated\n- Optimized settings\n- Full warranty\n- Professional support\n\n**Time Required:**\n- Unbox: 5 minutes\n- Connect: 5 minutes\n- Start streaming: Immediately\n- **Total: 15 minutes**\n\n**Technical Knowledge:**\n- None required\n- Just plug and play\n- 24/7 support available\n\n**Benefits:**\n- Full warranty coverage\n- No installation risks\n- Professional configuration\n- 24/7 customer support\n- No technical knowledge needed\n- Works immediately\n\n**Costs:**\n- Fire Stick + IPTV: $140-160\n- IPTV subscription included\n- 24/7 support included\n- Full warranty included\n- **Total: Fixed price, all-in**\n\n**Comparison:**\n\n| Factor | DIY | Pre-Configured |\n|--------|-----|-----------------|\n| Time | 4-8+ hours | 15 minutes |\n| Knowledge | Advanced | None |\n| Cost | Variable | Fixed |\n| Risk | High | Zero |\n| Warranty | Voided | Full |\n| Support | Self-support | 24/7 |\n| Setup | Complex | Simple |\n\n**Our Recommendation:**\n\nFor most people, pre-configured is better because:\n- Save 4-8 hours of your time\n- No risk of breaking device\n- Full warranty protection\n- Professional support if needed\n- Exactly same result as DIY\n- Often same or better pricing\n\n**Get StreamStickPro:**\n\nPre-configured Fire Stick with IPTV activated, ready to stream thousands of channels immediately.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Fire Stick 4K Max 2025: Is WiFi 6E Worth It?\",\n    slug: \"fire-stick-4k-max-wifi6-worth-it\",\n    excerpt: \"Is the Fire Stick 4K Max worth the upgrade? WiFi 6E analysis and comparison.\",\n    content: `The Fire Stick 4K Max costs $20 more than the 4K model. Is the WiFi 6E upgrade worth it? Let's find out.\n\n**Fire Stick 4K Max Specs:**\n- 4K resolution support\n- Wi-Fi 6E (802.11ax)\n- Dolby Vision, HDR10+, Dolby Atmos\n- Latest processor\n- Fastest model\n\n**Fire Stick 4K Specs:**\n- 4K resolution support\n- Wi-Fi 6 (802.11ax)\n- Dolby Vision, HDR10+\n- Good processor\n- Balanced value\n\n**WiFi 6E: What Changed?**\n\n**WiFi 6:**\n- Up to 1.2 Gbps theoretical\n- More stable than WiFi 5\n- Lower latency\n- Better for congestion\n\n**WiFi 6E:**\n- Up to 2.4 Gbps theoretical\n- 6 GHz band added\n- Significantly less interference\n- Improved for multiple devices\n- Newer technology\n\n**When WiFi 6E Matters:**\n\n**Benefits Noticeable If:**\n- Many devices on network (10+)\n- 4K streaming from Fire Stick\n- Other heavy streaming happening\n- Multiple Fire Sticks in home\n- Live in congested WiFi area\n- Want future-proofing\n\n**WiFi 6E Not Necessary If:**\n- WiFi 5 or 6 works fine now\n- Not heavy multitasker\n- Live in area with low interference\n- WiFi close to device\n- Only streaming on one device at time\n- Budget-conscious\n\n**Real-World Performance:**\n\nMost people won't notice difference between 6 and 6E in daily use:\n- Both handle 4K streaming easily\n- Both have good buffering\n- Both work on most routers\n- Improvement is subtle for single device\n\n**Cost Analysis:**\n\n- Fire Stick 4K: $150 + IPTV\n- Fire Stick 4K Max: $160 + IPTV\n- Difference: $10-20\n\nFor $10-20 more, you get:\n- Latest WiFi standard\n- Better future compatibility\n- Slightly better performance\n- Peace of mind upgrade\n\n**With StreamStickPro:**\n\nAll three models include 1-year IPTV subscription:\n- Fire Stick HD: $140\n- Fire Stick 4K: $150\n- Fire Stick 4K Max: $160\n\n**Recommendation:**\n\n- Budget conscious  Fire Stick 4K ($150)\n- Want best performance  Fire Stick 4K Max ($160)\n- Using 4K TV  Either works well\n\nThe 4K Max is worth it if you want the newest technology and plan to keep the device 3+ years.`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Watch NBA Games on Fire Stick Without League Pass\",\n    slug: \"watch-nba-fire-stick-without-league-pass\",\n    excerpt: \"Stream every NBA game on Fire Stick without expensive League Pass subscriptions.\",\n    content: `NBA fans can watch every game this season without paying for NBA League Pass. Here's how.\n\n**NBA League Pass Reality:**\n- Costs $14.99/month ($119.99/year)\n- Blackout restrictions\n- Regional games still blacked out\n- Playoff games often excluded\n- Requires separate service\n\n**Legal Ways to Watch NBA:**\n\n**Option 1: Cable/YouTube TV ($80+/month)**\n- Every game coverage\n- ESPN, TNT, ABC, NBA TV\n- Local teams included\n- High cost with other channels\n\n**Option 2: Individual Apps ($7-11/month each)**\n- ESPN+\n- Peacock\n- Hulu\n- Multiple subscriptions needed\n- Scattered game access\n\n**Option 3: IPTV (StreamStickPro)**\n- Starting at $15/month\n- All NBA games included\n- No blackouts\n- No League Pass needed\n- 18,000+ other channels\n- 60,000+ movies on demand\n- Perfect for Fire Stick\n\n**NBA Games on StreamStickPro:**\n\n**Networks Included:**\n- ESPN & ESPN2\n- TNT & TBS\n- ABC\n- NBA TV\n- Regional sports networks\n- International feeds\n\n**Content Included:**\n- All regular season games\n- Playoff games\n- NBA Finals\n- All-Star Game\n- Preseason games\n- Games on demand\n\n**Setting Up on Fire Stick:**\n\n1. Get StreamStickPro Fire Stick ($140-160)\n2. Plug in and connect to WiFi\n3. Open IPTV app (pre-installed)\n4. Navigate to Sports > Basketball\n5. Select NBA games\n6. Enjoy!\n\n**NBA Viewing Tips:**\n\n- Multiple games available daily\n- Choose different camera angles\n- DVR-like features available\n- Watch on demand after broadcast\n- Works during playoffs\n- High-quality streams\n\n**Cost Breakdown:**\n\n- StreamStickPro device: One-time $140-160\n- IPTV yearly: $75\n- **Year 1 Total: $215-235**\n- **Ongoing: $75/year**\n\nCable alone costs $1,200+/year.\n\n**Savings with StreamStickPro:**\n\n- vs NBA League Pass: Save $45/year\n- vs Cable: Save $1,100+/year\n- vs Multiple apps: Save $50+/year\n\n**Why Fans Choose StreamStickPro:**\n\n- Complete game coverage\n- No blackout restrictions\n- Best price for basketball\n- Includes other sports\n- Includes movies and TV\n- 24/7 support\n\nStart watching NBA games tonight with StreamStickPro!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"IPTV Player for Fire Stick: Top Apps Compared\",\n    slug: \"iptv-player-fire-stick-apps-compared\",\n    excerpt: \"Best IPTV player apps for Fire Stick. Compare features, reliability, and ease of use.\",\n    content: `Not all IPTV player apps are created equal. Here's how the top options compare.\n\n**Key Features to Compare:**\n\n**Performance:**\n- Startup speed\n- Channel switching speed\n- Streaming quality\n- Buffering handling\n- Stability\n\n**Interface:**\n- Ease of navigation\n- Menu organization\n- Search functionality\n- Favorites system\n- Channel guide\n\n**Features:**\n- EPG (Electronic Program Guide)\n- Catch-up TV\n- Recording capability\n- Multiple profiles\n- Subtitle support\n\n**Top IPTV Players for Fire Stick:**\n\n**Option 1: TiviMate**\n- Best overall IPTV player\n- Excellent UI\n- Fast channel switching\n- EPG included\n- Recording support\n- Multiple profiles\n- Most stable\n- Recommended for StreamStickPro\n\n**Option 2: IPTV Smarters**\n- User-friendly interface\n- Good performance\n- Catch-up TV support\n- Cloud backup\n- Media library\n- Good for beginners\n\n**Option 3: Perfect Player**\n- Lightweight\n- Fast performance\n- Basic but reliable\n- Good for older Fire Sticks\n- Good streaming quality\n\n**Option 4: Kodi with PVR**\n- Advanced features\n- Complex setup\n- Powerful customization\n- Steep learning curve\n- Best for tech users\n\n**Comparison Table:**\n\n| Feature | TiviMate | Smarters | Perfect Player | Kodi |\n|---------|----------|----------|----------------|------|\n| Ease of Use | Excellent | Good | Fair | Hard |\n| Performance | Excellent | Good | Excellent | Fair |\n| Stability | Excellent | Good | Good | Variable |\n| EPG | Yes | Yes | Limited | Yes |\n| Recording | Yes | Limited | No | Yes |\n| Support | Good | Good | Limited | Community |\n\n**Our Recommendation:**\n\n**For Most Users:** TiviMate\n- Best balance of ease and power\n- Professional interface\n- Reliable streaming\n- Great support\n- Most stable option\n\n**For Beginners:** IPTV Smarters\n- Intuitive interface\n- Fast setup\n- Good performance\n- Less overwhelming\n\n**For Technical Users:** Kodi\n- Maximum customization\n- Most features\n- Steep learning curve\n- Powerful but complex\n\n**With StreamStickPro:**\n\nYour Fire Stick comes with optimized IPTV player installed and configured. No installation headaches - everything works perfectly out of the box.\n\n**Tips for Best Performance:**\n\n1. Use ethernet adapter for stability\n2. Keep router close to Fire Stick\n3. Restart app if issues\n4. Keep WiFi 6 or better\n5. Don't overload network\n6. Use wired connection for 4K\n\n**Installation:**\n\n1. Open Amazon App Store on Fire Stick\n2. Search for IPTV player\n3. Install app\n4. Sign in with IPTV credentials\n5. Enjoy streaming\n\nChoose your preferred IPTV player and start streaming with StreamStickPro today!`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"How Much Internet Speed Do You Need for Streaming?\",\n    slug: \"internet-speed-needed-streaming\",\n    excerpt: \"Find out what internet speed you need for HD, 4K, and multi-device streaming on Fire Stick.\",\n    content: `Internet speed is crucial for streaming. Here's a guide to help you understand what speed you need.\n\n**Streaming Speed Requirements:**\n\n**Standard Definition (480p):**\n- Minimum: 2.5 Mbps\n- Recommended: 5 Mbps\n- Lowest bandwidth\n\n**High Definition (720p):**\n- Minimum: 5 Mbps\n- Recommended: 10 Mbps\n- Smooth quality\n\n**Full HD (1080p):**\n- Minimum: 8 Mbps\n- Recommended: 15 Mbps\n- Great quality\n\n**4K Ultra HD:**\n- Minimum: 25 Mbps\n- Recommended: 50+ Mbps\n- Best quality\n\n**Multi-Device Streaming:**\n\n**Add speeds for multiple simultaneous streams:**\n- 2 devices at 1080p: 30 Mbps\n- 3 devices at 1080p: 45 Mbps\n- 4 devices at 4K: 100+ Mbps\n- Whole house: 50-100+ Mbps\n\n**For StreamStickPro:**\n\n- Single device HD: 15 Mbps\n- Single device 4K: 50 Mbps\n- Multiple devices: 50+ Mbps\n- Whole home: 100+ Mbps\n\n**How to Check Your Speed:**\n\n1. Visit speedtest.net\n2. Click \"Go\"\n3. Wait for results\n4. Note download speed\n5. Compare to needs\n\n**What Affects Your Speed:**\n\n**Factors That Slow You Down:**\n- Distance from router\n- WiFi interference\n- Too many devices\n- Network congestion\n- ISP speed cap\n- Old router\n- Outdated WiFi standard\n\n**Ways to Improve Speed:**\n\n1. **Move Closer to Router**\n   - Dramatically improves signal\n   - Reduces interference\n   - Better speeds\n\n2. **Use Ethernet Connection**\n   - Stable wired connection\n   - No wireless interference\n   - Consistently best performance\n   - Recommended for 4K\n\n3. **Upgrade Router**\n   - WiFi 6 (802.11ax)\n   - Better range and speed\n   - Handles multiple devices\n   - Future-proof\n\n4. **Reduce Interference**\n   - Move away from microwave\n   - Keep clear from obstacles\n   - 2.4 GHz vs 5 GHz bands\n   - Check neighboring networks\n\n5. **Contact ISP**\n   - Check promised speeds\n   - Request upgrade\n   - Report problems\n   - Check for issues\n\n6. **Use Powerline Adapter**\n   - If router far away\n   - Uses electrical wiring\n   - Stable alternative\n   - Better than long WiFi\n\n**Real-World Example:**\n\nFor streaming on Fire Stick:\n- HD TV watching: 15 Mbps needed\n- 4K movie: 50 Mbps needed\n- Multiple users: 100+ Mbps needed\n- Safe overhead: Add 20-30%\n\n**Internet Speed Guide:**\n\n| Activity | Speed Needed | Quality |\n|----------|-------------|---------|\n| Browsing | 5 Mbps | Good |\n| HD Streaming | 15 Mbps | Smooth |\n| 4K Streaming | 50 Mbps | Best |\n| Multiple 4K | 100+ Mbps | Excellent |\n\n**Recommendation for StreamStickPro:**\n\n- Minimum: 25 Mbps\n- Recommended: 50+ Mbps\n- Optimal: 100 Mbps+\n\nFaster internet = better streaming, fewer buffering issues, better 4K quality.\n\nCheck your speed today and upgrade if needed for best StreamStickPro experience!`,\n    category: \"How-To\",\n    featured: false,\n  },\n  {\n    title: \"Watch Live Soccer Online Free: Legal Streaming 2025\",\n    slug: \"watch-live-soccer-online-free-2025\",\n    excerpt: \"Find free legal ways to watch live soccer matches online. Premium options included.\",\n    content: `Soccer fans don't need expensive cable to watch live games. Here's where to watch free and paid.\n\n**Free Soccer Streaming Options:**\n\n**Peacock Free**\n- Some Premier League games\n- NBC broadcasts\n- Limited selection\n- Free tier available\n- Ad-supported\n\n**Pluto TV**\n- Free sports channels\n- Soccer content\n- Ad-supported\n- 24/7 available\n- No registration needed\n\n**Official League Websites**\n- Some free matches\n- Promotional games\n- Limited availability\n- Check specific leagues\n\n**YouTube**\n- Free highlights\n- Some live games\n- Official channels\n- High quality\n\n**Paid Soccer Streaming (Best Options):**\n\n**Peacock Premium**\n- $5.99-11.99/month\n- Premier League games\n- Some free included\n- NBC content\n\n**Paramount+**\n- $5.99-12.99/month\n- Champions League\n- Serie A\n- Limited soccer\n\n**Apple TV+ (MLS)**\n- $10.99/month\n- All MLS games\n- Original content\n- Limited to MLS\n\n**YouTube TV**\n- $82.99/month\n- All major leagues\n- Full sports package\n- ESPN, Fox Sports included\n\n**IPTV (Best for Soccer Fans):**\n\n**StreamStickPro Includes:**\n- Premier League - All 380 games\n- La Liga - All Spanish matches\n- Bundesliga - All German matches\n- Serie A - All Italian matches\n- Champions League - All matches\n- Europa League\n- Copa del Rey\n- World Cup qualifiers\n- MLS and Liga MX\n- International friendlies\n- Women's football\n\n**Pricing:**\n- $15/month base\n- $75/year (best value)\n- All soccer included\n- No extra charges\n\n**Leagues Available on StreamStickPro:**\n\n**European:**\n- Premier League (England)\n- La Liga (Spain)\n- Bundesliga (Germany)\n- Serie A (Italy)\n- Ligue 1 (France)\n- Portuguese League\n- Dutch League\n- Belgian League\n\n**International:**\n- MLS (USA)\n- Liga MX (Mexico)\n- Canadian Premier League\n- Leagues worldwide\n\n**Competitions:**\n- Champions League\n- Europa League\n- World Cup\n- Olympics\n- Continental tournaments\n\n**Why StreamStickPro for Soccer:**\n\n1. **Largest Selection**\n   - 18,000+ channels\n   - All major leagues\n   - Multiple feeds per game\n\n2. **Best Price**\n   - $15/month (cheapest)\n   - All soccer included\n   - Plus 60,000+ movies\n   - Plus 18,000 other channels\n\n3. **Reliability**\n   - Professional service\n   - 24/7 support\n   - Consistent quality\n   - No blackouts\n\n4. **Fire Stick Perfect**\n   - Pre-configured\n   - Plug and play\n   - Optimized for soccer\n   - Best for live sports\n\n**How to Watch Soccer on Fire Stick:**\n\n1. Get StreamStickPro Fire Stick\n2. Open IPTV app\n3. Navigate to Sports > Soccer\n4. Select league or match\n5. Enjoy in HD/4K\n\n**Comparison:**\n\n| Service | Price | Leagues | Value |\n|---------|-------|---------|-------|\n| Peacock Free | Free | Limited | Good for casual |\n| Peacock Premium | $6-12 | 1 league | Limited |\n| YouTube TV | $83 | Most | Good but expensive |\n| StreamStickPro | $15+ | All | Best value |\n\n**Soccer Fan Recommendation:**\n\nFor serious soccer fans, StreamStickPro offers:\n- Every major league\n- No blackouts\n- Best streaming quality\n- Lowest price\n- Professional service\n\nNever miss a match again with StreamStickPro!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Best Streaming Device 2025: Fire Stick vs Others\",\n    slug: \"best-streaming-device-2025\",\n    excerpt: \"Compare top streaming devices in 2025. Which is best for cord-cutting and IPTV?\",\n    content: `Looking for the best streaming device? Here's how 2025's top options compare.\n\n**Top Streaming Devices:**\n\n**Amazon Fire Stick**\n- Alexa voice control\n- Easy sideloading\n- Perfect for IPTV\n- $50-160\n- Huge app selection\n- Best for cord-cutting\n\n**Roku**\n- Simple interface\n- Wide app selection\n- Budget-friendly\n- $30-150\n- Good for beginners\n- Limited customization\n\n**Apple TV**\n- Best for Apple users\n- 4K and HDR excellent\n- Premium pricing\n- $169-199\n- Seamless ecosystem\n- Limited third-party apps\n\n**Chromecast with Google TV**\n- Google integration\n- Budget option\n- $50\n- Good interface\n- Limited app selection\n- Works with phones\n\n**Android TV Boxes**\n- Maximum flexibility\n- Full Android access\n- Variable quality\n- $50-200\n- More technical\n- Customizable\n\n**Comparison for Cord-Cutters:**\n\n| Device | Price | IPTV Friendly | Apps | Voice | Features |\n|--------|-------|---------------|------|-------|----------|\n| Fire Stick | $50-160 | Excellent | 5,000+ | Alexa | Best overall |\n| Roku | $30-150 | Good | 5,000+ | Limited | Simple |\n| Apple TV | $169-199 | Good | Fewer | Siri | Premium |\n| Chromecast | $50 | Good | Many | Google | Affordable |\n| Android Box | $50-200 | Excellent | 50,000+ | Variable | Most flexible |\n\n**Why Fire Stick Wins for Streaming:**\n\n1. **IPTV Support**\n   - Easy app sideloading\n   - Multiple IPTV apps available\n   - Best compatibility\n   - No restrictions\n\n2. **App Selection**\n   - Amazon App Store\n   - Third-party apps\n   - Custom installations\n   - Easy updates\n\n3. **Alexa Integration**\n   - Voice commands\n   - Smart home control\n   - Search functionality\n   - Hands-free operation\n\n4. **Pricing**\n   - Most affordable\n   - Regular sales\n   - Multiple models\n   - Good value\n\n5. **Performance**\n   - Fast processing\n   - Smooth streaming\n   - Handles 4K\n   - Reliable\n\n6. **Accessibility**\n   - Works immediately\n   - Simple setup\n   - Intuitive interface\n   - Easy remote\n\n**Recommendation:**\n\n**For Cord-Cutters:** Fire Stick\n- Best IPTV compatibility\n- Affordable\n- Full app support\n- Great performance\n\n**For Apple Users:** Apple TV\n- Ecosystem integration\n- Premium quality\n- Higher cost\n- Fewer apps\n\n**For Budget Conscious:** Roku or Chromecast\n- Good performance\n- Lower cost\n- Simpler interface\n- Works fine for basic streaming\n\n**For Maximum Flexibility:** Android TV\n- Most customization\n- Full Google Play access\n- Technical knowledge required\n- Best for advanced users\n\n**StreamStickPro Advantage:**\n\nGet a pre-configured Fire Stick:\n- Best streaming device\n- Optimized for IPTV\n- 18,000+ channels\n- Ready to use\n- 1-year IPTV included\n- 24/7 support\n\nFire Stick is the clear choice for cord-cutters and IPTV streaming in 2025.`,\n    category: \"Reviews\",\n    featured: true,\n  },\n  {\n    title: \"Roku vs Fire Stick vs Apple TV: Detailed Comparison 2025\",\n    slug: \"roku-vs-fire-stick-vs-apple-tv-2025\",\n    excerpt: \"In-depth comparison of Roku, Fire Stick, and Apple TV. Which streaming device is right for you?\",\n    content: `Choosing between Roku, Fire Stick, and Apple TV? Here's a detailed comparison to help you decide.\n\n**Roku Streaming Devices:**\n\n**Pros:**\n- Simple, intuitive interface\n- Fast channel load times\n- Works with most services\n- Very affordable ($30-150)\n- Good search functionality\n- Regular software updates\n- Private browsing available\n\n**Cons:**\n- Limited voice control\n- Can't sideload apps easily\n- Slower than Fire Stick\n- Fewer advanced features\n- Less IPTV flexibility\n- Proprietary ecosystem\n\n**Best For:** Beginners, cord-cutters wanting simple interface\n\n**Fire Stick Devices:**\n\n**Pros:**\n- Alexa voice control built-in\n- Easy app sideloading\n- Perfect for IPTV\n- Customizable interface\n- Amazon Prime integration\n- Affordable ($50-160)\n- Frequent sales/discounts\n- Most app variety\n- Works with smart home\n- Best for streaming services\n\n**Cons:**\n- More setup options can overwhelm\n- Requires Amazon account\n- Ads on home screen\n- Not ideal for Apple ecosystem\n\n**Best For:** IPTV users, cord-cutters, tech-savvy viewers, Amazon Prime members\n\n**Apple TV:**\n\n**Pros:**\n- Premium build quality\n- Excellent 4K/HDR support\n- Seamless Apple ecosystem\n- Siri voice control\n- Fast performance\n- HomeKit integration\n- Best overall performance\n- Premium app selection\n\n**Cons:**\n- Most expensive ($169-199)\n- Fewer apps than Fire Stick\n- Less IPTV friendly\n- Apple ecosystem required\n- Overkill for basic streaming\n- Not ideal for budget-conscious\n\n**Best For:** Apple ecosystem users, premium buyers, high-end requirements\n\n**Head-to-Head Comparison:**\n\n| Feature | Fire Stick | Roku | Apple TV |\n|---------|-----------|------|----------|\n| Price | $50-160 | $30-150 | $169-199 |\n| IPTV | Excellent | Good | Fair |\n| Voice Control | Excellent (Alexa) | Limited | Good (Siri) |\n| App Selection | 5,000+ | 5,000+ | 1,000+ |\n| Customization | High | Medium | Low |\n| Performance | Excellent | Good | Excellent |\n| Smart Home | Great | Limited | Excellent |\n| 4K Support | Yes | Yes | Excellent |\n| Ease of Use | Easy | Very Easy | Easy |\n| Interface | Modern | Simple | Premium |\n\n**Detailed Category Comparison:**\n\n**For IPTV Streaming:**\nWinner: Fire Stick\n- Best app compatibility\n- Easy sideloading\n- Multiple IPTV options\n- Most flexible\n\n**For General Streaming:**\nWinner: Roku (tie with Fire Stick)\n- Simpler interface\n- Works great with all services\n- Reliable performance\n- Beginner-friendly\n\n**For Premium Users:**\nWinner: Apple TV\n- Best quality\n- Premium design\n- Ecosystem integration\n- High performance\n\n**For Budget:**\nWinner: Roku\n- Most affordable\n- Good features\n- Works great\n- No unnecessary costs\n\n**For Smart Home:**\nWinner: Apple TV (tied with Fire Stick)\n- Apple HomeKit\n- Alexa control (Fire Stick)\n- Both integrate well\n\n**For Cord-Cutters:**\nWinner: Fire Stick\n- Best IPTV support\n- Affordable\n- Customizable\n- Full app access\n\n**Real-World Scenarios:**\n\n**You Should Get Fire Stick If:**\n- Using IPTV services\n- Want Alexa control\n- Budget-conscious ($50-160)\n- Want customization\n- Own other Amazon devices\n- Need sideloading capability\n\n**You Should Get Roku If:**\n- Want simplicity\n- Don't need voice control\n- Very tight budget ($30-100)\n- Prefer clean interface\n- Don't need IPTV\n- Want beginner-friendly\n\n**You Should Get Apple TV If:**\n- All-in Apple ecosystem\n- Want premium quality\n- Price not concern\n- Need HomeKit integration\n- Want best performance\n- Prefer Apple services\n\n**Recommendation for StreamStickPro Users:**\n\nFire Stick is the clear winner because:\n1. Best IPTV compatibility\n2. Perfect for cord-cutting\n3. Most affordable\n4. Customizable\n5. Professional support\n\n**Bottom Line:**\n\n- **Best Overall:** Fire Stick (especially with StreamStickPro)\n- **Best Simplicity:** Roku\n- **Best Premium:** Apple TV\n\nFor most cord-cutters and IPTV users, Fire Stick offers the best value and functionality in 2025.`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Cable TV Alternatives: Complete 2025 Guide\",\n    slug: \"cable-tv-alternatives-complete-guide-2025\",\n    excerpt: \"Comprehensive guide to cable TV alternatives in 2025. Cut the cord and save thousands.\",\n    content: `Cable is dying, and for good reason. Here's everything you need to know about cable alternatives.\n\n**Why People Are Cutting Cable:**\n\n**Cost:**\n- Cable: $100-225/month\n- IPTV: $15-75/month\n- Multiple services: $50-100/month\n- Annual savings: $1,000-2,500+\n\n**Quality:**\n- More content choices\n- Watch on-demand anytime\n- Better picture quality (4K)\n- No commercials on some services\n\n**Flexibility:**\n- No contracts\n- Cancel anytime\n- Portable anywhere\n- Works on multiple devices\n\n**Cable Alternatives in 2025:**\n\n**1. IPTV (Best Overall)**\n- 18,000+ live channels\n- 60,000+ movies & shows\n- All sports included\n- Starting at $15/month\n- Perfect for cord-cutters\n- Works on Fire Stick\n- No contracts\n\n**Providers:** StreamStickPro, others\n\n**2. YouTube TV**\n- $82.99/month\n- 100+ channels\n- DVR included\n- All major sports\n- Good for sports fans\n- Family sharing\n\n**3. Hulu + Live TV**\n- $83.99/month\n- Similar to YouTube TV\n- Includes Hulu on-demand\n- Good content library\n- Family plans available\n\n**4. Sling TV**\n- $40-55/month\n- Customizable bundles\n- Good pricing\n- Limited channels\n- Budget option\n\n**5. Streaming Services ( la carte)**\n- Netflix: $7-22.99/month\n- Disney+: $7.99-13.99/month\n- Max (HBO): $9.99-22.99/month\n- Paramount+: $5.99-12.99/month\n- Apple TV+: $10.99/month\n- Combine for $50-100/month total\n\n**6. Free With Ads**\n- Pluto TV: Free\n- Tubi: Free\n- Peacock Free: Free\n- YouTube: Free\n- Ad-supported but legal\n\n**7. Antenna + Streaming**\n- Local channels free\n- One-time cost ($30-100)\n- Works without internet\n- Combine with streaming\n- Total: $30-150 + streaming\n\n**Comparison for Different Users:**\n\n**Sports Fans:**\n- Best Option: IPTV (StreamStickPro)\n- Price: $15-75/month\n- Includes NFL, NBA, UFC, Soccer\n- No PPV charges\n- Beats cable on price and convenience\n\n**Movie Lovers:**\n- Netflix + Disney+ + Max\n- Combined: $30-50/month\n- 200,000+ movies\n- No ads on premium\n- Better than cable\n\n**Budget Conscious:**\n- Antenna + IPTV\n- Cost: $150 (antenna) + $15/month\n- All local channels free\n- 18,000+ channels on IPTV\n- One-time device cost\n\n**Casual Viewers:**\n- Free services: Pluto TV, Tubi, YouTube\n- Cost: $0-15/month\n- Good selection\n- Basic channels available\n\n**Switching Process:**\n\n**Step 1: Calculate Savings**\n- Current cable bill: ___\n- Alternative cost: ___\n- Monthly savings: ___\n\n**Step 2: Choose Your Option**\n- IPTV for most content\n- Streaming services for specific shows\n- Free apps for basic channels\n- Combination approach\n\n**Step 3: Set Up New Service**\n- Order Fire Stick or device\n- Install apps\n- Configure settings\n- Test everything\n\n**Step 4: Cancel Cable**\n- Contact provider\n- Return equipment\n- Confirm cancellation\n- Done!\n\n**Hidden Cable Costs to Avoid:**\n\nWhen calculating cable costs, remember:\n- Equipment rental: $10-15/month\n- Premium channels: $10-50/month\n- Sports packages: $10-50/month\n- On-demand fees: Variable\n- **Real total: $120-250+/month**\n\n**Alternative Total:**\n- IPTV: $15-75/month\n- 1-2 streaming services: $15-40/month\n- **Real total: $30-115/month**\n\n**Annual Savings: $1,260-2,400**\n\n**Recommendation:**\n\nThe best cable alternative depends on your needs:\n\n**For Everything (Sports, Movies, TV):**\nStreamStickPro IPTV + 1-2 streaming services\n- Total: $40-100/month\n- Complete content\n- All devices covered\n- Professional support\n\n**For Sports Fans:**\nStreamStickPro IPTV\n- Total: $15-75/month\n- All sports included\n- No PPV charges\n- Best sports value\n\n**For Movie/Show Fans:**\nNetflix + Disney+ + Max + IPTV\n- Total: $50-100/month\n- Unlimited content\n- No commercials\n- Total library access\n\n**Cut Cable and Save Thousands:**\n\nSwitch to StreamStickPro and similar services to cut your TV costs by 50-80% while getting MORE content and better quality.`,\n    category: \"Savings\",\n    featured: true,\n  },\n  {\n    title: \"Premium Streaming Services Worth Paying For 2025\",\n    slug: \"premium-streaming-services-worth-it-2025\",\n    excerpt: \"Which streaming services are actually worth the money? Complete analysis of 2025's premium options.\",\n    content: `With so many streaming services available, it's hard to know which ones to pay for. Here's our honest assessment.\n\n**Netflix - Worth It? YES**\n- Price: $7-22.99/month\n- Content: 10,000+ titles\n- Quality: Excellent originals\n- Ad-free option: Available\n- Verdict: Essential for most\n- Best For: Movie and TV lovers\n\n**Disney+ - Worth It? YES**\n- Price: $7.99-13.99/month\n- Content: Disney, Pixar, Marvel, Star Wars\n- Quality: Family-friendly excellence\n- Bundle: Available with Hulu + Max\n- Verdict: Great for families\n- Best For: Families with kids\n\n**Max (HBO) - Worth It? MAYBE**\n- Price: $9.99-22.99/month\n- Content: HBO shows, Warner films\n- Quality: Premium content\n- Originals: Strong library\n- Verdict: Worth if HBO fan\n- Best For: Premium content fans\n\n**Paramount+ - Worth It? NO**\n- Price: $5.99-12.99/month\n- Content: CBS, movies, some sports\n- Quality: Good but limited\n- Originals: Some hits\n- Verdict: Skip unless need CBS\n- Best For: CBS fans only\n\n**Apple TV+ - Worth It? NO**\n- Price: $10.99/month\n- Content: Growing but small\n- Quality: Excellent originals\n- Catalog: Only 50+ originals\n- Verdict: Sparse library\n- Best For: Apple ecosystem\n\n**Hulu - Worth It? YES**\n- Price: $7.99-17.99/month\n- Content: Next-day TV, movies\n- Quality: Great for TV shows\n- Originals: Many hits\n- Verdict: Great value\n- Best For: TV show watchers\n\n**YouTube Premium - Worth It? MAYBE**\n- Price: $11.99-22.99/month\n- Content: Ad-free YouTube\n- Quality: All quality levels\n- Features: Background play\n- Verdict: Only if heavy user\n- Best For: YouTube watchers\n\n**Peacock - Worth It? NO**\n- Price: $5.99-11.99/month\n- Content: NBC shows, movies\n- Quality: Good but limited\n- Originals: Some available\n- Verdict: Free tier sufficient\n- Best For: NBC fans\n\n**Streaming Bundle Strategy:**\n\n**Bundle 1: Entertainment (Best Value)**\n- Netflix: $15.99\n- Disney+ (with Hulu): $10.99\n- Max: $15.99\n- **Total: ~$40/month**\n- Everything for most people\n\n**Bundle 2: Everything**\n- Previous bundle: $40\n- Apple TV+: $10.99\n- Paramount+: $5.99\n- **Total: ~$57/month**\n- Complete streaming coverage\n\n**Bundle 3: IPTV + Streaming**\n- StreamStickPro IPTV: $15-75/month\n- Netflix: $15.99\n- Disney+: $7.99\n- **Total: ~$40-100/month**\n- Live TV + Movies + Shows\n\n**What Most People Should Do:**\n\n**Watch Recommendation:**\n\n1. **Get Netflix + Disney+**\n   - Cost: $25/month\n   - Covers most needs\n   - Great libraries\n   - Good value\n\n2. **Add IPTV for Live TV**\n   - StreamStickPro: $15/month\n   - 18,000+ live channels\n   - All sports included\n   - Best value add-on\n\n3. **Optional: Add Max**\n   - Max: $15.99/month\n   - HBO shows/movies\n   - Only if premium fan\n   - Can skip initially\n\n**Services to Skip:**\n\n- Paramount+: Too limited, unless CBS fan\n- Apple TV+: Library too small\n- Peacock: Free tier sufficient\n- Individual premium channels: Covered by bundles\n\n**Cost Comparison:**\n\n| Setup | Monthly | What You Get |\n|-------|---------|--------------|\n| Cable | $150-225 | Basic options |\n| YouTube TV | $83 | 100+ channels |\n| 3 Services | $40 | Most content |\n| Full Bundle | $70 | Everything |\n| IPTV Bundle | $40-75 | Live + On-demand |\n\n**The Smart Approach:**\n\n- Start with Netflix + Disney+ ($25/month)\n- Add IPTV for live TV/sports ($15-75/month)\n- Add Max if HBO lover ($15/month)\n- Total: $40-115/month\n- Covers 99% of needs\n- Save $100+ vs cable\n\n**Conclusion:**\n\nWorth paying for in 2025:\n- Netflix  (Essential)\n- Disney+  (Great value)\n- Hulu  (TV shows)\n- Max  (Premium content)\n- IPTV  (Live TV + sports)\n\nNot worth paying for:\n- Paramount+  (Limited)\n- Apple TV+  (Too small)\n- Peacock  (Use free)\n\nBuild your streaming mix wisely and save thousands versus cable!`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"How to Watch Premier League in USA Without Cable 2025\",\n    slug: \"watch-premier-league-usa-without-cable\",\n    excerpt: \"Complete guide to streaming Premier League matches in the United States. Compare Peacock, USA Network, and alternative streaming options.\",\n    content: `Premier League football has never been more popular in the United States. With matches airing at various times throughout the weekend, American fans need flexible streaming options.\n\n**Official Streaming Options:**\n\nNBC Sports holds exclusive Premier League rights in the USA through 2028.\n\n**Peacock Premium ($7.99/month)**\n- Streams 175+ Premier League matches per season\n- Includes replays and highlights\n- Works on all major devices\n\n**Best Value Setup:**\n1. Peacock Premium for most matches\n2. IPTV service for overflow coverage\n3. Total: Under $25/month for complete access\n\n**Device Recommendations:**\nThe Fire Stick 4K provides excellent streaming for sports with responsive interface and 4K HDR support. Pre-configured devices come ready to stream immediately.\n\nNever miss another Premier League match with the right streaming setup!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Watch NHL Hockey in Canada: Streaming Guide 2025\",\n    slug: \"watch-nhl-canada-streaming-guide\",\n    excerpt: \"How to stream NHL games in Canada without cable. Compare Sportsnet NOW, TSN Direct, and cord-cutting alternatives for hockey fans.\",\n    content: `Canadian hockey fans have more streaming options than ever before. Whether you support the Maple Leafs, Canadiens, or Oilers, here's how to catch every NHL game without traditional cable.\n\n**Official Canadian Streaming:**\n\n**Sportsnet NOW ($14.99-34.99/month)**\n- Regional game coverage\n- Sportsnet channels included\n- No contract required\n\n**TSN Direct ($19.99/month)**\n- Additional NHL coverage\n- Regional sports included\n\n**Cost Comparison:**\n\n| Service | Monthly Cost | Games Available |\n|---------|--------------|-----------------|\n| Cable + Sports | $120+ | All regional |\n| Sportsnet NOW | $35 | Sportsnet only |\n| IPTV Service | $15-25 | All NHL + extras |\n\n**Best Setup for Hockey Fans:**\n\nA pre-configured streaming device with IPTV provides complete hockey coverage without blackout frustrations.\n\nEnjoy every goal, save, and overtime winner this season!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Sky Sports Alternatives UK: Save Money on Live Sports 2025\",\n    slug: \"sky-sports-alternatives-uk-save-money\",\n    excerpt: \"Tired of expensive Sky Sports packages? Discover legal alternatives to watch Premier League, F1, and boxing in the UK for less.\",\n    content: `Sky Sports prices in the UK continue to climb, with full packages now exceeding 40/month. For cord-cutters and budget-conscious sports fans, there are better options.\n\n**Sky Sports Complete Package Costs:**\n- Sky Sports (all channels): 26/month minimum\n- Requires Sky TV subscription: 26+/month\n- Total commitment: 52+/month\n\n**Legal Streaming Alternatives:**\n\n**NOW Sports Membership (34.99/month)**\n- All Sky Sports channels\n- No contract required\n- Cancel anytime\n\n**TNT Sports (via Discovery+) (30.99/month)**\n- Champions League\n- UFC events\n- WWE programming\n\n**Monthly Savings:**\n\n| Setup | Monthly Cost | Savings vs Sky |\n|-------|--------------|----------------|\n| Sky Sports Complete | 52+ | Baseline |\n| IPTV Service | 15-25 | 27-37 saved |\n\n**Best Value Approach:**\n1. Use free-to-air for available content\n2. Add IPTV for live sports package\n3. Total: Under 25/month for everything\n\nCut your sports TV bill by 50% or more with smart cord-cutting!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Best Streaming Device for Seniors: Easy Setup Guide 2025\",\n    slug: \"best-streaming-device-seniors-easy-setup\",\n    excerpt: \"Help parents and grandparents cut the cord with user-friendly streaming devices. Simple setup, big savings, and easy-to-use interfaces.\",\n    content: `Helping older family members transition from cable to streaming can be challenging. Modern streaming devices are more user-friendly than ever.\n\n**Why Seniors Should Consider Streaming:**\n- Cable bills average $150+/month\n- Streaming can cost $20-50/month\n- Simple interfaces with voice control\n\n**Best Device for Seniors: Fire TV Stick**\n\nThe Fire TV Stick wins for senior users because of:\n- Alexa voice remote (no typing required)\n- Simple, visual interface\n- Familiar channel-like experience\n\n**Setup Tips for Family Members:**\n\n1. Pre-configure the device before giving it\n2. Log into streaming apps so they don't need passwords\n3. Arrange favorite channels on home screen\n4. Enable accessibility features for vision/hearing needs\n5. Write simple instructions with screenshots\n\n**Common Concerns Addressed:**\n\n\"I'll lose my local channels\" - Local channels are included with IPTV services.\n\n\"It's too complicated\" - Pre-configured devices arrive ready to use.\n\nA pre-configured Fire Stick eliminates technical setup entirely. Seniors can start watching immediately.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"IPTV Buffering Issues: Troubleshooting Guide 2025\",\n    slug: \"iptv-buffering-issues-troubleshooting\",\n    excerpt: \"Stop IPTV buffering and freezing with these proven fixes. Optimize your internet, device settings, and streaming quality.\",\n    content: `Nothing ruins a live sports moment like buffering. If your IPTV service stutters, these troubleshooting steps will help restore smooth streaming.\n\n**Quick Fixes (Try First):**\n\n1. Restart your streaming device\n2. Restart your router/modem\n3. Close background apps\n4. Move closer to WiFi router\n\n**Internet Speed Requirements:**\n\n| Quality | Minimum Speed | Recommended |\n|---------|---------------|-------------|\n| SD (480p) | 3 Mbps | 5 Mbps |\n| HD (720p) | 5 Mbps | 10 Mbps |\n| Full HD (1080p) | 10 Mbps | 25 Mbps |\n| 4K | 25 Mbps | 50+ Mbps |\n\n**Common Causes and Solutions:**\n\n**WiFi Interference**\n- Switch from 2.4GHz to 5GHz band\n- Move device away from other electronics\n- Consider ethernet adapter for best results\n\n**Device Performance**\n- Clear cache regularly\n- Check for software updates\n- Restart device weekly\n\n**Device Upgrade Considerations:**\n\nThe Fire Stick 4K Max with WiFi 6E offers faster processor and better connectivity for reduced buffering.\n\nMost buffering issues are solved with the steps above.`,\n    category: \"Support\",\n    featured: false,\n  },\n  {\n    title: \"Watch NFL Games in Canada: Complete Streaming Guide 2025\",\n    slug: \"watch-nfl-games-canada-streaming\",\n    excerpt: \"How Canadians can stream every NFL game including Sunday Ticket, RedZone, and playoffs without cable.\",\n    content: `The NFL is hugely popular in Canada, but accessing every game can be complicated. Here's your complete guide to watching NFL football north of the border.\n\n**Official Canadian Options:**\n\n**DAZN Canada ($24.99/month)**\n- NFL Game Pass included\n- Every NFL game live and on-demand\n- NFL RedZone included\n- No blackouts for most games\n\n**Best Setup for Canadian NFL Fans:**\n\n**Option 1: DAZN + Antenna**\n- DAZN for comprehensive coverage\n- Antenna for free local CTV broadcasts\n- Total: $25/month\n\n**Option 2: IPTV Service**\n- All NFL games including US broadcasts\n- No blackout restrictions\n- Total: $15-25/month\n\n**Game Day Access:**\n\n| Day | Games | Best Source |\n|-----|-------|-------------|\n| Thursday Night | 1 game | DAZN or Prime |\n| Sunday Early | 6-7 games | DAZN/IPTV |\n| Sunday Night | 1 game | DAZN/CTV |\n| Monday Night | 1 game | DAZN/TSN |\n\n**Streaming Device Recommendations:**\n\nThe Fire Stick 4K provides fast channel switching and reliable connectivity for sports streaming.\n\nEnjoy every touchdown this NFL season!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Roku vs Fire Stick for IPTV: Which is Better 2025\",\n    slug: \"roku-vs-fire-stick-iptv-comparison\",\n    excerpt: \"Detailed comparison of Roku and Fire Stick for IPTV streaming. App support, performance, and which device works best for cord-cutters.\",\n    content: `Choosing between Roku and Fire Stick is common for cord-cutters. Both are excellent devices, but they handle IPTV differently.\n\n**Quick Comparison:**\n\n| Feature | Fire Stick | Roku |\n|---------|------------|------|\n| IPTV App Support | Excellent | Limited |\n| Sideloading Apps | Easy | Not Supported |\n| Voice Assistant | Alexa | Roku Voice |\n| 4K Models | Yes | Yes |\n\n**Why Fire Stick Wins for IPTV:**\n\nThe Fire Stick allows sideloading of third-party apps, essential for most IPTV services. Roku's closed ecosystem blocks most IPTV applications.\n\n**App Installation:**\n\n**Fire Stick:**\n1. Enable \"Apps from Unknown Sources\"\n2. Download Downloader app\n3. Install any IPTV app directly\n\n**Roku:**\n- Limited to Roku Channel Store apps\n- Most IPTV apps not available\n- Screen mirroring is only workaround\n\n**Best Use Cases:**\n\n**Choose Fire Stick if you:**\n- Want to use IPTV services\n- Prefer Alexa voice control\n- Need sideloading capability\n\n**Choose Roku if you:**\n- Only use mainstream apps\n- Don't need IPTV functionality\n\nFor IPTV users, Fire Stick is the clear winner.`,\n    category: \"Reviews\",\n    featured: false,\n  },\n  {\n    title: \"Watch Boxing PPV Without Paying Full Price 2025\",\n    slug: \"watch-boxing-ppv-without-paying-full-price\",\n    excerpt: \"Boxing PPV events cost $80+. Learn ways to watch fights for less, including group viewing and alternative options.\",\n    content: `Boxing pay-per-view events have become expensive, with major fights now costing $80-100. Here's how fight fans can catch the action without breaking the bank.\n\n**Current PPV Pricing:**\n\n| Platform | Typical PPV Cost |\n|----------|------------------|\n| ESPN+ PPV | $79.99-89.99 |\n| DAZN PPV | $19.99-69.99 |\n| Showtime PPV | $74.99-84.99 |\n\n**Ways to Save:**\n\n**1. Sports Bar Viewing**\n- Many bars show major fights\n- Cover charge usually $10-30\n\n**2. Group Viewing Parties**\n- Host a watch party at home\n- Split PPV cost among friends\n- 8 friends = $10 each for $80 PPV\n\n**3. DAZN Subscription**\n- Many fights included in base subscription\n- Only $19.99/month\n\n**IPTV Alternative:**\n\nIPTV services often include:\n- Live PPV events\n- All major boxing channels\n- One monthly fee covers everything\n\n**Streaming Setup:**\n\nFor the best fight night experience:\n- 4K capable streaming device\n- Sound bar for punch impact\n- Stable internet connection\n\nNever miss a knockout with the right streaming setup!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Cut Your Cable Bill: Family Guide to Streaming 2025\",\n    slug: \"cut-cable-bill-family-streaming-guide\",\n    excerpt: \"Help your entire family transition from cable to streaming. Save $100+/month with the right setup for everyone.\",\n    content: `The average American family pays $150-200/month for cable TV. Switching to streaming can cut that bill by 50-75%.\n\n**Current Cable Reality:**\n- Base cable package: $50-75/month\n- Premium channels: $30-50/month\n- DVR service: $15-20/month\n- Equipment rental: $10-15/month\n- **Total: $115-180/month**\n\n**Family Streaming Setup:**\n\n**For Kids:**\n- Disney+ ($7.99/month)\n- Netflix Kids profiles\n- Parental controls on all apps\n\n**For Parents:**\n- Netflix or Max for content\n- IPTV for live TV and sports\n\n**Recommended Family Bundle:**\n\n| Service | Monthly Cost |\n|---------|--------------|\n| Netflix | $15.49 |\n| Disney+ | $7.99 |\n| IPTV Service | $15-25 |\n| **Total** | **$38-48** |\n\n**Savings:** $70-130/month vs cable\n\n**Common Family Concerns:**\n\n\"We'll lose live TV\" - IPTV provides live channels similar to cable.\n\n\"Kids will watch too much\" - Modern devices have built-in time limits.\n\n\"Too many remotes\" - One streaming device consolidates everything.\n\nA pre-configured streaming setup eliminates technical hassles.`,\n    category: \"Savings\",\n    featured: true,\n  },\n  {\n    title: \"Watch UEFA Champions League Without Cable 2025\",\n    slug: \"watch-champions-league-without-cable\",\n    excerpt: \"Stream every Champions League match in the US, UK, and Canada. Compare options for Europe's top football competition.\",\n    content: `The UEFA Champions League features the best clubs in European football. Here's how to watch every match without cable.\n\n**United States Options:**\n\n**Paramount+ ($5.99-11.99/month)**\n- Official US broadcaster\n- All Champions League matches\n- Europa League included\n\n**United Kingdom Options:**\n\n**TNT Sports (via Discovery+) (30.99/month)**\n- All Champions League matches\n- UHD quality available\n\n**Canada Options:**\n\n**DAZN Canada ($24.99/month)**\n- Complete Champions League coverage\n- All matches live and on-demand\n\n**Match Schedule (ET):**\n\n| Round | Typical Days | Kickoff Times |\n|-------|--------------|---------------|\n| Group Stage | Tue/Wed | 12:45 PM & 3:00 PM |\n| Knockout | Tue/Wed | 3:00 PM |\n| Final | Saturday | 3:00 PM |\n\n**IPTV Alternative:**\n\nFor complete coverage, IPTV services provide:\n- All Champions League broadcasts\n- Multiple language options\n- No regional restrictions\n\nNever miss a goal in Europe's premier club competition!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Free Streaming Apps That Actually Work 2025\",\n    slug: \"free-streaming-apps-that-work-2025\",\n    excerpt: \"Legal free streaming apps for movies, TV shows, and live content. No subscriptions required.\",\n    content: `You don't need to pay for every streaming service. Several legitimate, free apps offer quality content with advertisements.\n\n**Best Free Streaming Apps:**\n\n**Tubi**\n- Largest free movie library\n- TV shows and documentaries\n- No account required\n\n**Pluto TV**\n- Live TV channels (250+)\n- On-demand movies/shows\n- Channel surfing experience\n- Completely free\n\n**Peacock (Free Tier)**\n- Limited NBC content\n- Classic TV series\n\n**The Roku Channel**\n- Available on all devices\n- Live news channels\n\n**Content Comparison:**\n\n| App | Movies | TV Shows | Live TV |\n|-----|--------|----------|---------|\n| Tubi | 50,000+ | 20,000+ | No |\n| Pluto TV | 1,000+ | 1,000+ | 250+ ch |\n| Peacock Free | Limited | Limited | Limited |\n\n**Maximizing Free Content:**\n\n1. Install multiple free apps\n2. Use search to find content\n3. Combine with library services\n\n**Combining Free + Paid:**\n\n- Free apps for casual viewing\n- One paid service for must-watch content\n- IPTV for live TV and sports\n- Total: Under $30/month for everything\n\nFree streaming has improved dramatically in quality and selection.`,\n    category: \"Streaming\",\n    featured: false,\n  },\n  {\n    title: \"MotoGP and F1 Streaming: Motorsport Guide 2025\",\n    slug: \"motogp-f1-streaming-motorsport-guide\",\n    excerpt: \"How to watch Formula 1 and MotoGP races live. Compare official apps and streaming options for racing fans.\",\n    content: `Motorsport fans have dedicated streaming options for both Formula 1 and MotoGP.\n\n**Formula 1 Streaming:**\n\n**F1 TV Pro ($9.99/month or $79.99/year)**\n- All races live\n- Onboard cameras for every driver\n- Full race replays\n- Archive of historical races\n\n**ESPN (via streaming services)**\n- US broadcast rights\n- Requires live TV streaming package\n\n**MotoGP Streaming:**\n\n**VideoPass ($29.99/month or $139.99/year)**\n- All MotoGP, Moto2, Moto3 races\n- Multiple camera angles\n- Commercial-free viewing\n\n**Race Schedule Overview:**\n\n| Series | Season | Races |\n|--------|--------|-------|\n| F1 | March-Dec | 24 |\n| MotoGP | March-Nov | 20 |\n\n**IPTV Advantage for Motorsport:**\n\nIPTV services typically include:\n- All F1 and MotoGP broadcasts\n- Multiple regional feeds\n- Sports packages included\n\n**Cost Comparison:**\n\n| Option | F1 + MotoGP Cost |\n|--------|------------------|\n| Official Apps | $210-220/year |\n| IPTV Service | $180-300/year |\n\nWhether you're a Ferrari tifosi or Ducati fan, never miss a lap!`,\n    category: \"Sports\",\n    featured: false,\n  },\n  {\n    title: \"Australian Cord Cutting Guide: Save on Foxtel 2025\",\n    slug: \"australian-cord-cutting-save-foxtel\",\n    excerpt: \"How Australians can cut Foxtel and save money. Compare Kayo, Stan, BINGE for Aussie viewers.\",\n    content: `Australian TV costs have skyrocketed, with Foxtel packages exceeding $100/month. Here's how Aussies can cut the cord and save.\n\n**Current Foxtel Costs:**\n- Foxtel Basic: $49/month\n- With Sport: $79/month\n- Premium Everything: $104/month\n\n**Australian Streaming Alternatives:**\n\n**Kayo Sports ($25-35/month)**\n- Most Australian sports\n- AFL, NRL, cricket, F1\n- No lock-in contract\n\n**Stan ($12-21/month)**\n- Australian originals\n- Hollywood movies\n\n**BINGE ($10-18/month)**\n- HBO Max content\n- Growing library\n\n**Cost Comparison:**\n\n| Setup | Monthly Cost |\n|-------|--------------|\n| Foxtel Premium | $104 |\n| Kayo + Stan + BINGE | $47-74 |\n| IPTV Service | $25-35 |\n\n**Free Australian Options:**\n- ABC iview\n- SBS On Demand\n- 7plus, 9Now, 10 Play\n\n**Recommended Setup:**\n\n1. Free-to-air for local content\n2. One streaming service\n3. IPTV for sports and live TV\n4. Total: Under $50/month\n\nCut your TV bill by more than half while keeping everything you love!`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"How to Watch Cricket Live: IPL, Test & World Cup 2025\",\n    slug: \"watch-cricket-live-ipl-test-world-cup\",\n    excerpt: \"Complete guide to streaming cricket worldwide. IPL, Test matches, and World Cup coverage explained.\",\n    content: `Cricket is one of the world's most-watched sports. Here's how to watch cricket live from anywhere.\n\n**Major Cricket Competitions:**\n- IPL (Indian Premier League): March-May\n- Test Championships: Year-round\n- ODI/T20 World Cups: Scheduled events\n- The Ashes: England vs Australia\n\n**Streaming by Region:**\n\n**India:**\n- JioCinema (free for IPL)\n- Disney+ Hotstar (international matches)\n\n**United Kingdom:**\n- Sky Sports Cricket\n- TNT Sports (some matches)\n\n**Australia:**\n- Kayo Sports\n- Fox Cricket\n\n**United States/Canada:**\n- Willow TV\n- Disney+ Hotstar\n\n**IPTV for Cricket:**\n\nIPTV services excel for cricket because:\n- All cricket channels from multiple countries\n- No regional restrictions\n- Multiple language commentary options\n\n**Match Format Viewing:**\n\n**Test Matches (5 days):**\n- Start early each day\n- Use DVR for overnight sessions\n\n**T20 Matches (3 hours):**\n- Fast-paced, don't miss start\n- Perfect for streaming devices\n\nA pre-configured streaming device provides comprehensive cricket coverage across all formats.\n\nWhether you support India, Australia, England, or any cricketing nation, never miss a boundary!`,\n    category: \"Sports\",\n    featured: true,\n  },\n  {\n    title: \"Best VPN for Streaming in 2025: Speed and Reliability\",\n    slug: \"best-vpn-streaming-speed-reliability\",\n    excerpt: \"Compare VPNs for unblocking streaming content. Which services maintain speed while bypassing geo-restrictions?\",\n    content: `VPNs can unlock streaming content from different regions. Here's what you need to know about using a VPN for streaming in 2025.\n\n**Why Use a VPN for Streaming:**\n- Access content from other countries\n- Bypass regional blackouts for sports\n- Privacy while streaming\n\n**VPN Speed Requirements:**\n\n| Activity | Minimum Speed |\n|----------|---------------|\n| SD Streaming | 3 Mbps |\n| HD Streaming | 5-10 Mbps |\n| 4K Streaming | 25+ Mbps |\n\nVPNs typically reduce speed by 10-30%.\n\n**Look for in a VPN:**\n- Large server networks\n- Streaming-optimized servers\n- Fast connection speeds\n- Reliable customer support\n\n**The IPTV Alternative:**\n\nMany users choose IPTV services because:\n- No geo-restrictions on content\n- No VPN needed\n- Consistent streaming quality\n- Simpler setup process\n\n**Legal Considerations:**\n\nUsing a VPN is legal in most countries. However:\n- May violate streaming service terms\n- Always research local laws\n\nFor consistent access to international content, IPTV services provide built-in global access with stable quality.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"How to Watch Local News Without Cable 2025\",\n    slug: \"watch-local-news-without-cable\",\n    excerpt: \"Cut the cord but keep local news coverage. Free and paid options for staying informed in your community.\",\n    content: `One major concern for cord-cutters is losing local news coverage. Here's how to stay informed without cable.\n\n**Free Options:**\n\n**Digital Antenna**\n- Free local broadcast channels\n- ABC, CBS, NBC, FOX, PBS\n- One-time purchase ($20-50)\n- HD quality reception\n\n**News Station Apps**\n- Most local stations have free apps\n- Live streams and on-demand\n- Breaking news alerts\n\n**News Streaming Apps**\n- NewsON: 280+ local stations\n- Haystack News: Personalized feeds\n\n**Paid Options:**\n\n**YouTube TV ($72.99/month)**\n- All local channels\n- Local news included\n- Cloud DVR for recording\n\n**Hulu + Live TV ($76.99/month)**\n- Local network affiliates\n- On-demand content included\n\n**IPTV Services:**\n- Local channels typically included\n- News channels from nationwide\n- Affordable monthly cost\n\n**Best Setup for News Lovers:**\n\n1. Digital antenna for local (free)\n2. NewsON app for variety (free)\n3. IPTV for comprehensive coverage\n\n**Weather Coverage:**\n\nLocal news is essential for weather updates. Keep local app notifications enabled for severe weather alerts regardless of streaming setup.\n\nStay informed about your community without paying cable prices!`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Streaming for Sports Bars: Commercial Setup Guide 2025\",\n    slug: \"streaming-sports-bars-commercial-setup\",\n    excerpt: \"How sports bars and restaurants can legally stream games. Commercial licensing, equipment, and cost considerations.\",\n    content: `Sports bars face unique challenges with streaming. Here's what you need to know about commercial streaming setups.\n\n**Important: Commercial Licensing**\n\nHome streaming subscriptions typically prohibit commercial use. Bars and restaurants need:\n- Commercial viewing licenses\n- Business-tier subscriptions\n- Proper ASCAP/BMI licenses for audio\n\n**Official Commercial Options:**\n\n**DIRECTV for Business**\n- Sports packages for bars\n- Multiple screen support\n- Legal for public viewing\n\n**Commercial Streaming Packages**\n- YouTube TV (limited commercial use)\n- Check individual service terms\n\n**Equipment Considerations:**\n\n- Commercial-grade displays\n- Sound system for atmosphere\n- Network infrastructure for multiple streams\n- Backup internet connection\n\n**Cost Factors:**\n\n| Item | Estimated Cost |\n|------|----------------|\n| Commercial TV Package | $200-500/month |\n| Equipment | $2,000-10,000 |\n| Licensing | Varies by venue size |\n\n**IPTV for Bars:**\n\nSome IPTV services offer commercial packages with:\n- Multiple simultaneous streams\n- Sports channel packages\n- Lower monthly costs\n\n**Customer Experience Tips:**\n\n- Multiple screens showing different games\n- Good sight lines from all seats\n- Quality audio without being overwhelming\n- Reliable streams (no buffering during big plays)\n\nConsult with a commercial AV installer for the best setup for your venue.`,\n    category: \"Guides\",\n    featured: false,\n  },\n  {\n    title: \"Parental Controls for Streaming: Protect Your Kids 2025\",\n    slug: \"parental-controls-streaming-protect-kids\",\n    excerpt: \"Set up parental controls across all streaming services and devices. Keep kids safe while they enjoy age-appropriate content.\",\n    content: `Streaming services offer more content than ever, making parental controls essential. Here's how to protect your kids across platforms.\n\n**Device-Level Controls:**\n\n**Fire Stick**\n- Amazon Kids profiles\n- PIN-protected purchases\n- Content restrictions by age\n- Screen time limits\n\n**Roku**\n- Parental controls in settings\n- PIN for movie store\n- Content filtering options\n\n**Service-Level Controls:**\n\n**Netflix**\n- Kids profile with restrictions\n- Maturity ratings by profile\n- PIN protection for adult profiles\n- Viewing activity monitoring\n\n**Disney+**\n- Kids profiles automatic\n- Content ratings clearly displayed\n- PIN for profile switching\n\n**YouTube**\n- YouTube Kids app recommended\n- Restricted mode for main app\n- Watch history controls\n\n**IPTV Parental Controls:**\n\n- Many services offer PIN protection\n- Channel blocking options\n- Adult content categories hidden\n\n**Best Practices:**\n\n1. Create separate kids profiles on each service\n2. Set up PIN protection\n3. Review watch history regularly\n4. Have conversations about appropriate content\n5. Keep devices in common areas\n\n**Age-Appropriate Recommendations:**\n\n| Age | Services | Controls |\n|-----|----------|----------|\n| 2-6 | Disney+, YouTube Kids | Highest restrictions |\n| 7-12 | Netflix Kids, Disney+ | Moderate filtering |\n| 13+ | Teen profiles | Monitor activity |\n\n**Screen Time Management:**\n\nMost streaming devices now include screen time features:\n- Daily limits by profile\n- Bedtime restrictions\n- Break reminders\n\nSet up controls before giving kids access to any streaming device.`,\n    category: \"Guides\",\n    featured: false,\n  },\n];\n\nexport async function seedBlogPosts() {\n  try {\n    console.log(\"Starting blog post seeding...\");\n    const allPosts = [...blogPosts, ...additionalPosts];\n    \n    let seededCount = 0;\n    for (const post of allPosts) {\n      try {\n        const existing = await storage.getBlogPostBySlug(post.slug);\n        if (!existing) {\n          await storage.createBlogPost({\n            ...post,\n            published: true,\n            publishedAt: new Date(),\n          });\n          seededCount++;\n        }\n      } catch (error) {\n        console.error(`Error seeding post: ${post.slug}`, error);\n      }\n    }\n    \n    console.log(`Successfully seeded ${seededCount} blog posts`);\n    return { success: true, seededCount };\n  } catch (error) {\n    console.error(\"Error seeding blog posts:\", error);\n    throw error;\n  }\n}\n","path":null,"size_bytes":119358,"size_tokens":null},"client/src/pages/CustomerPortal.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Loader2,\n  User,\n  Lock,\n  Mail,\n  Package,\n  Key,\n  LogOut,\n  Home,\n  Calendar,\n  DollarSign,\n  Eye,\n  EyeOff,\n  Copy,\n  Check,\n} from \"lucide-react\";\n\ninterface Customer {\n  id: string;\n  username: string;\n  email: string;\n  fullName: string;\n  status: string;\n  totalOrders: number;\n  createdAt: string;\n}\n\ninterface Order {\n  id: string;\n  customerEmail: string;\n  customerName: string;\n  realProductId?: string;\n  realProductName: string;\n  amount: number;\n  status: string;\n  createdAt: string;\n  generatedUsername?: string;\n  generatedPassword?: string;\n  existingUsername?: string;\n  countryPreference?: string;\n}\n\nconst PRODUCT_DURATION_DAYS: Record<string, number> = {\n  'iptv-1mo': 30, 'iptv-1mo-1d': 30, 'iptv-1mo-2d': 30, 'iptv-1mo-3d': 30, 'iptv-1mo-4d': 30, 'iptv-1mo-5d': 30,\n  'iptv-3mo': 90, 'iptv-3mo-1d': 90, 'iptv-3mo-2d': 90, 'iptv-3mo-3d': 90, 'iptv-3mo-4d': 90, 'iptv-3mo-5d': 90,\n  'iptv-6mo': 180, 'iptv-6mo-1d': 180, 'iptv-6mo-2d': 180, 'iptv-6mo-3d': 180, 'iptv-6mo-4d': 180, 'iptv-6mo-5d': 180,\n  'iptv-1yr': 365, 'iptv-1yr-1d': 365, 'iptv-1yr-2d': 365, 'iptv-1yr-3d': 365, 'iptv-1yr-4d': 365, 'iptv-1yr-5d': 365,\n};\n\nfunction getSubscriptionStatus(order: Order): { status: 'active' | 'expiring_soon' | 'expired' | 'one_time'; expiryDate?: Date; daysLeft?: number } {\n  if (!order.realProductId) return { status: 'one_time' };\n  \n  if (order.realProductId.startsWith('firestick-')) {\n    return { status: 'one_time' };\n  }\n  \n  const durationDays = PRODUCT_DURATION_DAYS[order.realProductId];\n  if (!durationDays) return { status: 'one_time' };\n  \n  const purchaseDate = new Date(order.createdAt);\n  const expiryDate = new Date(purchaseDate.getTime() + durationDays * 24 * 60 * 60 * 1000);\n  const now = new Date();\n  const daysLeft = Math.ceil((expiryDate.getTime() - now.getTime()) / (24 * 60 * 60 * 1000));\n  \n  if (daysLeft < 0) return { status: 'expired', expiryDate, daysLeft: 0 };\n  if (daysLeft <= 7) return { status: 'expiring_soon', expiryDate, daysLeft };\n  return { status: 'active', expiryDate, daysLeft };\n}\n\nexport default function CustomerPortal() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(true);\n  const [customer, setCustomer] = useState<Customer | null>(null);\n  const [orders, setOrders] = useState<Order[]>([]);\n\n  const [showPasswords, setShowPasswords] = useState<Record<string, boolean>>({});\n  const [copiedField, setCopiedField] = useState<string | null>(null);\n\n  const [profileData, setProfileData] = useState({ email: \"\", fullName: \"\" });\n  const [passwordData, setPasswordData] = useState({ currentPassword: \"\", newPassword: \"\", confirmPassword: \"\" });\n  const [isSaving, setIsSaving] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"customerToken\");\n    if (!token) {\n      navigate(\"/customer-login\");\n      return;\n    }\n    loadCustomerData();\n  }, []);\n\n  const getAuthHeaders = () => ({\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${localStorage.getItem(\"customerToken\")}`,\n  });\n\n  const loadCustomerData = async () => {\n    try {\n      const [profileRes, ordersRes] = await Promise.all([\n        apiCall(\"/api/customer/me\", { headers: getAuthHeaders() }),\n        apiCall(\"/api/customer/orders\", { headers: getAuthHeaders() }),\n      ]);\n\n      if (!profileRes.ok) {\n        if (profileRes.status === 401) {\n          localStorage.removeItem(\"customerToken\");\n          localStorage.removeItem(\"customerUsername\");\n          navigate(\"/customer-login\");\n          return;\n        }\n        throw new Error(\"Failed to load profile\");\n      }\n\n      const profileData = await profileRes.json();\n      const ordersData = await ordersRes.json();\n\n      const customerData = profileData.data || profileData.customer;\n      const ordersArray = ordersData.data || ordersData.orders || [];\n\n      setCustomer(customerData);\n      setOrders(ordersArray);\n      setProfileData({\n        email: customerData?.email || \"\",\n        fullName: customerData?.fullName || \"\",\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSaving(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/profile\", {\n        method: \"PUT\",\n        headers: getAuthHeaders(),\n        body: JSON.stringify(profileData),\n      });\n\n      if (!response.ok) {\n        const result = await response.json();\n        throw new Error(result.error || \"Failed to update profile\");\n      }\n\n      toast({\n        title: \"Profile Updated\",\n        description: \"Your profile has been updated successfully.\",\n      });\n\n      loadCustomerData();\n    } catch (error: any) {\n      toast({\n        title: \"Update Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      toast({\n        title: \"Password Mismatch\",\n        description: \"New passwords do not match.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (passwordData.newPassword.length < 6) {\n      toast({\n        title: \"Password Too Short\",\n        description: \"Password must be at least 6 characters.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsSaving(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/password\", {\n        method: \"PUT\",\n        headers: getAuthHeaders(),\n        body: JSON.stringify({\n          currentPassword: passwordData.currentPassword,\n          newPassword: passwordData.newPassword,\n        }),\n      });\n\n      if (!response.ok) {\n        const result = await response.json();\n        throw new Error(result.error || \"Failed to change password\");\n      }\n\n      toast({\n        title: \"Password Changed\",\n        description: \"Your password has been updated successfully.\",\n      });\n\n      setPasswordData({ currentPassword: \"\", newPassword: \"\", confirmPassword: \"\" });\n    } catch (error: any) {\n      toast({\n        title: \"Change Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"customerToken\");\n    localStorage.removeItem(\"customerUsername\");\n    toast({\n      title: \"Logged Out\",\n      description: \"You have been logged out successfully.\",\n    });\n    navigate(\"/customer-login\");\n  };\n\n  const copyToClipboard = async (text: string, fieldId: string) => {\n    await navigator.clipboard.writeText(text);\n    setCopiedField(fieldId);\n    setTimeout(() => setCopiedField(null), 2000);\n  };\n\n  const togglePasswordVisibility = (orderId: string) => {\n    setShowPasswords((prev) => ({ ...prev, [orderId]: !prev[orderId] }));\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case \"paid\":\n        return <Badge className=\"bg-green-600\">Paid</Badge>;\n      case \"pending\":\n        return <Badge className=\"bg-yellow-600\">Pending</Badge>;\n      case \"failed\":\n        return <Badge className=\"bg-red-600\">Failed</Badge>;\n      default:\n        return <Badge className=\"bg-gray-600\">{status}</Badge>;\n    }\n  };\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  const formatPrice = (cents: number) => {\n    return `$${(cents / 100).toFixed(2)}`;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\n      </div>\n    );\n  }\n\n  const paidOrders = orders.filter((o) => o.status === \"paid\");\n  const iptvCredentials = paidOrders.filter((o) => o.generatedUsername || o.existingUsername);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-white\">My Account</h1>\n            <p className=\"text-gray-400\">Welcome back, {customer?.fullName || customer?.username}</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => navigate(\"/\")}\n              className=\"border-gray-600 text-gray-300 hover:bg-gray-700\"\n              data-testid=\"button-back-store\"\n            >\n              <Home className=\"h-4 w-4 mr-2\" />\n              Store\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleLogout}\n              className=\"border-red-600 text-red-400 hover:bg-red-900/50\"\n              data-testid=\"button-logout\"\n            >\n              <LogOut className=\"h-4 w-4 mr-2\" />\n              Logout\n            </Button>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"credentials\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-3 bg-gray-800\">\n            <TabsTrigger value=\"credentials\" data-testid=\"tab-credentials\">\n              <Key className=\"h-4 w-4 mr-2\" />\n              Live TV Credentials\n            </TabsTrigger>\n            <TabsTrigger value=\"orders\" data-testid=\"tab-orders\">\n              <Package className=\"h-4 w-4 mr-2\" />\n              Orders\n            </TabsTrigger>\n            <TabsTrigger value=\"settings\" data-testid=\"tab-settings\">\n              <User className=\"h-4 w-4 mr-2\" />\n              Settings\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"credentials\" className=\"mt-6\">\n            <Card className=\"bg-gray-800/50 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <Key className=\"h-5 w-5 text-orange-500\" />\n                  Your Live TV Subscription Credentials\n                </CardTitle>\n                <CardDescription className=\"text-gray-400\">\n                  Use these credentials to access your streaming service at{\" \"}\n                  <a href=\"http://ky-tv.cc\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-orange-400 hover:underline\">\n                    ky-tv.cc\n                  </a>\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {iptvCredentials.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-400\">\n                    <Key className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                    <p>No Live TV credentials yet.</p>\n                    <p className=\"text-sm mt-2\">Make a purchase to get your streaming access!</p>\n                    <Button\n                      onClick={() => navigate(\"/\")}\n                      className=\"mt-4 bg-orange-500 hover:bg-orange-600\"\n                      data-testid=\"button-shop-now\"\n                    >\n                      Shop Now\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {iptvCredentials.map((order) => {\n                      const subStatus = getSubscriptionStatus(order);\n                      return (\n                      <div key={order.id} className=\"bg-gray-700/50 rounded-lg p-4 space-y-3\">\n                        <div className=\"flex items-center justify-between flex-wrap gap-2\">\n                          <span className=\"text-sm text-gray-400\">{order.realProductName}</span>\n                          <div className=\"flex items-center gap-2\">\n                            {subStatus.status === 'active' && (\n                              <Badge className=\"bg-green-600\" data-testid={`badge-active-${order.id}`}>\n                                Active - {subStatus.daysLeft} days left\n                              </Badge>\n                            )}\n                            {subStatus.status === 'expiring_soon' && (\n                              <Badge className=\"bg-yellow-600\" data-testid={`badge-expiring-${order.id}`}>\n                                Expiring Soon - {subStatus.daysLeft} days left\n                              </Badge>\n                            )}\n                            {subStatus.status === 'expired' && (\n                              <Badge className=\"bg-red-600\" data-testid={`badge-expired-${order.id}`}>\n                                Expired\n                              </Badge>\n                            )}\n                            {subStatus.status === 'one_time' && order.realProductId?.startsWith('firestick-') && (\n                              <Badge className=\"bg-blue-600\" data-testid={`badge-device-${order.id}`}>\n                                Device Purchase\n                              </Badge>\n                            )}\n                            <span className=\"text-xs text-gray-500\">{formatDate(order.createdAt)}</span>\n                          </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                          <div className=\"space-y-1\">\n                            <Label className=\"text-xs text-gray-400\">Username</Label>\n                            <div className=\"flex items-center gap-2\">\n                              <Input\n                                readOnly\n                                value={order.existingUsername || order.generatedUsername || \"\"}\n                                className=\"bg-gray-800 border-gray-600 text-white\"\n                                data-testid={`input-iptv-username-${order.id}`}\n                              />\n                              <Button\n                                size=\"icon\"\n                                variant=\"ghost\"\n                                onClick={() => copyToClipboard(order.existingUsername || order.generatedUsername || \"\", `user-${order.id}`)}\n                                className=\"text-gray-400 hover:text-white\"\n                                data-testid={`button-copy-username-${order.id}`}\n                              >\n                                {copiedField === `user-${order.id}` ? (\n                                  <Check className=\"h-4 w-4 text-green-500\" />\n                                ) : (\n                                  <Copy className=\"h-4 w-4\" />\n                                )}\n                              </Button>\n                            </div>\n                          </div>\n\n                          {order.generatedPassword && (\n                            <div className=\"space-y-1\">\n                              <Label className=\"text-xs text-gray-400\">Password</Label>\n                              <div className=\"flex items-center gap-2\">\n                                <Input\n                                  readOnly\n                                  type={showPasswords[order.id] ? \"text\" : \"password\"}\n                                  value={order.generatedPassword}\n                                  className=\"bg-gray-800 border-gray-600 text-white\"\n                                  data-testid={`input-iptv-password-${order.id}`}\n                                />\n                                <Button\n                                  size=\"icon\"\n                                  variant=\"ghost\"\n                                  onClick={() => togglePasswordVisibility(order.id)}\n                                  className=\"text-gray-400 hover:text-white\"\n                                  data-testid={`button-toggle-password-${order.id}`}\n                                >\n                                  {showPasswords[order.id] ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                                </Button>\n                                <Button\n                                  size=\"icon\"\n                                  variant=\"ghost\"\n                                  onClick={() => copyToClipboard(order.generatedPassword!, `pass-${order.id}`)}\n                                  className=\"text-gray-400 hover:text-white\"\n                                  data-testid={`button-copy-password-${order.id}`}\n                                >\n                                  {copiedField === `pass-${order.id}` ? (\n                                    <Check className=\"h-4 w-4 text-green-500\" />\n                                  ) : (\n                                    <Copy className=\"h-4 w-4\" />\n                                  )}\n                                </Button>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n\n                        {order.countryPreference && (\n                          <div className=\"text-xs text-gray-500\">Country: {order.countryPreference}</div>\n                        )}\n                      </div>\n                    );\n                    })}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"orders\" className=\"mt-6\">\n            <Card className=\"bg-gray-800/50 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <Package className=\"h-5 w-5 text-orange-500\" />\n                  Order History\n                </CardTitle>\n                <CardDescription className=\"text-gray-400\">\n                  View all your past and current orders\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {orders.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-400\">\n                    <Package className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                    <p>No orders yet.</p>\n                    <Button\n                      onClick={() => navigate(\"/\")}\n                      className=\"mt-4 bg-orange-500 hover:bg-orange-600\"\n                      data-testid=\"button-browse-products\"\n                    >\n                      Browse Products\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {orders.map((order) => (\n                      <div\n                        key={order.id}\n                        className=\"bg-gray-700/50 rounded-lg p-4 flex items-center justify-between\"\n                        data-testid={`order-row-${order.id}`}\n                      >\n                        <div className=\"space-y-1\">\n                          <div className=\"text-white font-medium\">{order.realProductName}</div>\n                          <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n                            <span className=\"flex items-center gap-1\">\n                              <Calendar className=\"h-3 w-3\" />\n                              {formatDate(order.createdAt)}\n                            </span>\n                            <span className=\"flex items-center gap-1\">\n                              <DollarSign className=\"h-3 w-3\" />\n                              {formatPrice(order.amount)}\n                            </span>\n                          </div>\n                        </div>\n                        {getStatusBadge(order.status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"settings\" className=\"mt-6 space-y-6\">\n            <Card className=\"bg-gray-800/50 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <User className=\"h-5 w-5 text-orange-500\" />\n                  Profile Settings\n                </CardTitle>\n                <CardDescription className=\"text-gray-400\">Update your account information</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"profile-email\" className=\"text-gray-300\">\n                      Email\n                    </Label>\n                    <div className=\"relative\">\n                      <Mail className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                      <Input\n                        id=\"profile-email\"\n                        data-testid=\"input-profile-email\"\n                        type=\"email\"\n                        value={profileData.email}\n                        onChange={(e) => setProfileData({ ...profileData, email: e.target.value })}\n                        className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"profile-fullname\" className=\"text-gray-300\">\n                      Full Name\n                    </Label>\n                    <div className=\"relative\">\n                      <User className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                      <Input\n                        id=\"profile-fullname\"\n                        data-testid=\"input-profile-fullname\"\n                        value={profileData.fullName}\n                        onChange={(e) => setProfileData({ ...profileData, fullName: e.target.value })}\n                        className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      />\n                    </div>\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"bg-orange-500 hover:bg-orange-600\"\n                    disabled={isSaving}\n                    data-testid=\"button-save-profile\"\n                  >\n                    {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n                    Save Changes\n                  </Button>\n                </form>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-gray-800/50 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <Lock className=\"h-5 w-5 text-orange-500\" />\n                  Change Password\n                </CardTitle>\n                <CardDescription className=\"text-gray-400\">Update your account password</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleChangePassword} className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"current-password\" className=\"text-gray-300\">\n                      Current Password\n                    </Label>\n                    <Input\n                      id=\"current-password\"\n                      data-testid=\"input-current-password\"\n                      type=\"password\"\n                      value={passwordData.currentPassword}\n                      onChange={(e) => setPasswordData({ ...passwordData, currentPassword: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"new-password\" className=\"text-gray-300\">\n                      New Password\n                    </Label>\n                    <Input\n                      id=\"new-password\"\n                      data-testid=\"input-new-password\"\n                      type=\"password\"\n                      value={passwordData.newPassword}\n                      onChange={(e) => setPasswordData({ ...passwordData, newPassword: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"confirm-new-password\" className=\"text-gray-300\">\n                      Confirm New Password\n                    </Label>\n                    <Input\n                      id=\"confirm-new-password\"\n                      data-testid=\"input-confirm-new-password\"\n                      type=\"password\"\n                      value={passwordData.confirmPassword}\n                      onChange={(e) => setPasswordData({ ...passwordData, confirmPassword: e.target.value })}\n                      className=\"bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"bg-orange-500 hover:bg-orange-600\"\n                    disabled={isSaving}\n                    data-testid=\"button-change-password\"\n                  >\n                    {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n                    Change Password\n                  </Button>\n                </form>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-gray-800/50 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Account Info</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Username</span>\n                  <span className=\"text-white\">{customer?.username}</span>\n                </div>\n                <Separator className=\"bg-gray-700\" />\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Account Status</span>\n                  <Badge className={customer?.status === \"active\" ? \"bg-green-600\" : \"bg-gray-600\"}>\n                    {customer?.status}\n                  </Badge>\n                </div>\n                <Separator className=\"bg-gray-700\" />\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Total Orders</span>\n                  <span className=\"text-white\">{customer?.totalOrders || 0}</span>\n                </div>\n                <Separator className=\"bg-gray-700\" />\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Member Since</span>\n                  <span className=\"text-white\">{customer?.createdAt ? formatDate(customer.createdAt) : \"N/A\"}</span>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":27870,"size_tokens":null},"client/src/pages/CustomerLogin.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, User, Lock, Mail, UserPlus } from \"lucide-react\";\n\nexport default function CustomerLogin() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [loginData, setLoginData] = useState({ username: \"\", password: \"\" });\n  const [registerData, setRegisterData] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    email: \"\",\n    fullName: \"\",\n  });\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(loginData),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Login failed\");\n      }\n\n      localStorage.setItem(\"customerToken\", result.token);\n      localStorage.setItem(\"customerUsername\", result.customer.username);\n\n      toast({\n        title: \"Welcome back!\",\n        description: \"You have successfully logged in.\",\n      });\n\n      navigate(\"/my-account\");\n    } catch (error: any) {\n      toast({\n        title: \"Login Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (registerData.password !== registerData.confirmPassword) {\n      toast({\n        title: \"Password Mismatch\",\n        description: \"Passwords do not match. Please try again.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (registerData.password.length < 6) {\n      toast({\n        title: \"Password Too Short\",\n        description: \"Password must be at least 6 characters.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          username: registerData.username,\n          password: registerData.password,\n          email: registerData.email,\n          fullName: registerData.fullName,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Registration failed\");\n      }\n\n      localStorage.setItem(\"customerToken\", result.token);\n      localStorage.setItem(\"customerUsername\", result.customer.username);\n\n      toast({\n        title: \"Account Created!\",\n        description: \"Your account has been created successfully.\",\n      });\n\n      navigate(\"/my-account\");\n    } catch (error: any) {\n      toast({\n        title: \"Registration Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl text-white\">Customer Portal</CardTitle>\n          <CardDescription className=\"text-gray-400\">\n            Sign in to view your orders and Live TV credentials\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"login\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2 bg-gray-700\">\n              <TabsTrigger value=\"login\" data-testid=\"tab-login\">Sign In</TabsTrigger>\n              <TabsTrigger value=\"register\" data-testid=\"tab-register\">Create Account</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"login\" className=\"mt-6\">\n              <form onSubmit={handleLogin} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"login-username\" className=\"text-gray-300\">\n                    Username\n                  </Label>\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"login-username\"\n                      data-testid=\"input-login-username\"\n                      placeholder=\"Enter your username\"\n                      value={loginData.username}\n                      onChange={(e) => setLoginData({ ...loginData, username: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"login-password\" className=\"text-gray-300\">\n                    Password\n                  </Label>\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"login-password\"\n                      data-testid=\"input-login-password\"\n                      type=\"password\"\n                      placeholder=\"Enter your password\"\n                      value={loginData.password}\n                      onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <Button\n                  type=\"submit\"\n                  data-testid=\"button-login\"\n                  className=\"w-full bg-orange-500 hover:bg-orange-600\"\n                  disabled={isLoading}\n                >\n                  {isLoading ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Signing In...\n                    </>\n                  ) : (\n                    \"Sign In\"\n                  )}\n                </Button>\n\n                <div className=\"text-center mt-4\">\n                  <Button\n                    type=\"button\"\n                    variant=\"link\"\n                    className=\"text-orange-400 hover:text-orange-300\"\n                    onClick={() => navigate(\"/forgot-password\")}\n                    data-testid=\"link-forgot-password\"\n                  >\n                    Forgot your password?\n                  </Button>\n                </div>\n              </form>\n            </TabsContent>\n\n            <TabsContent value=\"register\" className=\"mt-6\">\n              <form onSubmit={handleRegister} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"register-username\" className=\"text-gray-300\">\n                    Username\n                  </Label>\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"register-username\"\n                      data-testid=\"input-register-username\"\n                      placeholder=\"Choose a username\"\n                      value={registerData.username}\n                      onChange={(e) => setRegisterData({ ...registerData, username: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"register-email\" className=\"text-gray-300\">\n                    Email\n                  </Label>\n                  <div className=\"relative\">\n                    <Mail className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"register-email\"\n                      data-testid=\"input-register-email\"\n                      type=\"email\"\n                      placeholder=\"your@email.com\"\n                      value={registerData.email}\n                      onChange={(e) => setRegisterData({ ...registerData, email: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"register-fullname\" className=\"text-gray-300\">\n                    Full Name\n                  </Label>\n                  <div className=\"relative\">\n                    <UserPlus className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"register-fullname\"\n                      data-testid=\"input-register-fullname\"\n                      placeholder=\"Your full name\"\n                      value={registerData.fullName}\n                      onChange={(e) => setRegisterData({ ...registerData, fullName: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"register-password\" className=\"text-gray-300\">\n                    Password\n                  </Label>\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"register-password\"\n                      data-testid=\"input-register-password\"\n                      type=\"password\"\n                      placeholder=\"Create a password (min 6 chars)\"\n                      value={registerData.password}\n                      onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"register-confirm\" className=\"text-gray-300\">\n                    Confirm Password\n                  </Label>\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                    <Input\n                      id=\"register-confirm\"\n                      data-testid=\"input-register-confirm\"\n                      type=\"password\"\n                      placeholder=\"Confirm your password\"\n                      value={registerData.confirmPassword}\n                      onChange={(e) => setRegisterData({ ...registerData, confirmPassword: e.target.value })}\n                      className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <Button\n                  type=\"submit\"\n                  data-testid=\"button-register\"\n                  className=\"w-full bg-orange-500 hover:bg-orange-600\"\n                  disabled={isLoading}\n                >\n                  {isLoading ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Creating Account...\n                    </>\n                  ) : (\n                    \"Create Account\"\n                  )}\n                </Button>\n              </form>\n            </TabsContent>\n          </Tabs>\n\n          <div className=\"mt-6 text-center\">\n            <Button\n              variant=\"link\"\n              className=\"text-gray-400 hover:text-white\"\n              onClick={() => navigate(\"/\")}\n              data-testid=\"link-back-home\"\n            >\n              Back to Store\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":12536,"size_tokens":null},"push-github.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nasync function pushToGitHub() {\n  const token = process.env.GITHUB_TOKEN;\n  const owner = 'reloadedfiretvteam-hash';\n  const repo = 'streamerstickprofinal';\n  const targetBranch = 'clean-main';\n  \n  if (!token) {\n    console.error(' GITHUB_TOKEN not set');\n    process.exit(1);\n  }\n  \n  try {\n    const octokit = new Octokit({ auth: token });\n    const { data: user } = await octokit.users.getAuthenticated();\n    console.log(' Authenticated as:', user.login);\n    \n    const { data: ref } = await octokit.git.getRef({\n      owner,\n      repo,\n      ref: `heads/${targetBranch}`\n    });\n    const baseSha = ref.object.sha;\n    \n    const { data: baseCommit } = await octokit.git.getCommit({\n      owner,\n      repo,\n      commit_sha: baseSha\n    });\n    \n    const filesToInclude = ['package.json', 'package-lock.json', 'tsconfig.json', 'vite.config.ts', 'tailwind.config.ts', 'drizzle.config.ts', 'replit.md'];\n    const dirsToInclude = ['client', 'server', 'shared'];\n    \n    const getAllFiles = (dir: string, base: string = ''): { path: string; content: string }[] => {\n      const files: { path: string; content: string }[] = [];\n      const items = fs.readdirSync(dir);\n      for (const item of items) {\n        if (item === 'node_modules' || item === '.git' || item === 'dist' || item === '.local') continue;\n        const fullPath = path.join(dir, item);\n        const relativePath = base ? `${base}/${item}` : item;\n        const stat = fs.statSync(fullPath);\n        if (stat.isDirectory()) {\n          files.push(...getAllFiles(fullPath, relativePath));\n        } else {\n          try {\n            const content = fs.readFileSync(fullPath, 'utf-8');\n            files.push({ path: relativePath, content });\n          } catch (e) {}\n        }\n      }\n      return files;\n    };\n    \n    const treeItems: Array<{ path: string; mode: '100644'; type: 'blob'; sha: string }> = [];\n    \n    for (const file of filesToInclude) {\n      const fullPath = path.join(process.cwd(), file);\n      if (fs.existsSync(fullPath)) {\n        const content = fs.readFileSync(fullPath, 'utf-8');\n        const { data: blob } = await octokit.git.createBlob({\n          owner, repo,\n          content: Buffer.from(content).toString('base64'),\n          encoding: 'base64'\n        });\n        treeItems.push({ path: file, mode: '100644', type: 'blob', sha: blob.sha });\n      }\n    }\n    \n    for (const dir of dirsToInclude) {\n      const dirPath = path.join(process.cwd(), dir);\n      if (fs.existsSync(dirPath)) {\n        const files = getAllFiles(dirPath, dir);\n        for (const file of files) {\n          const { data: blob } = await octokit.git.createBlob({\n            owner, repo,\n            content: Buffer.from(file.content).toString('base64'),\n            encoding: 'base64'\n          });\n          treeItems.push({ path: file.path, mode: '100644', type: 'blob', sha: blob.sha });\n        }\n      }\n    }\n    \n    console.log(` Prepared ${treeItems.length} files for push`);\n    \n    const { data: tree } = await octokit.git.createTree({\n      owner, repo,\n      base_tree: baseCommit.tree.sha,\n      tree: treeItems\n    });\n    \n    const { data: newCommit } = await octokit.git.createCommit({\n      owner, repo,\n      message: `Fix: Canonical URL consistency - add trailing slashes for Google indexing`,\n      tree: tree.sha,\n      parents: [baseSha]\n    });\n    \n    await octokit.git.updateRef({\n      owner, repo,\n      ref: `heads/${targetBranch}`,\n      sha: newCommit.sha\n    });\n    \n    console.log('\\n PUSH SUCCESSFUL!');\n    console.log(` Commit: ${newCommit.sha.substring(0, 7)}`);\n    console.log(` https://github.com/${owner}/${repo}/commit/${newCommit.sha}`);\n    console.log(` Files: ${treeItems.length}`);\n    \n  } catch (error: any) {\n    console.error(' Failed:', error.message);\n    process.exit(1);\n  }\n}\n\npushToGitHub();\n","path":null,"size_bytes":3971,"size_tokens":null},"push-video-fix.ts":{"content":"import { getUncachableGitHubClient } from './server/github';\nimport * as fs from 'fs';\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function main() {\n  console.log('Getting GitHub client...');\n  const octokit = await getUncachableGitHubClient();\n  \n  const filePath = 'client/src/components/DemoVideo.tsx';\n  const content = fs.readFileSync(filePath, 'utf-8');\n  \n  console.log('Getting current file SHA from clean-main...');\n  const { data: currentFile } = await octokit.repos.getContent({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    ref: BRANCH\n  });\n  \n  const sha = Array.isArray(currentFile) ? undefined : currentFile.sha;\n  \n  console.log('Updating file on GitHub clean-main branch...');\n  const { data } = await octokit.repos.createOrUpdateFileContents({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    message: 'Fix: Use Supabase URL for demo video instead of local file import',\n    content: Buffer.from(content).toString('base64'),\n    sha: sha,\n    branch: BRANCH\n  });\n  \n  console.log('Success! Commit SHA:', data.commit.sha);\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":1167,"size_tokens":null},"push-shadow-store.ts":{"content":"import { getUncachableGitHubClient } from './server/github';\nimport * as fs from 'fs';\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function main() {\n  const octokit = await getUncachableGitHubClient();\n  const filePath = 'client/src/pages/ShadowStore.tsx';\n  const content = fs.readFileSync(filePath, 'utf-8');\n  \n  const { data: currentFile } = await octokit.repos.getContent({\n    owner: OWNER, repo: REPO, path: filePath, ref: BRANCH\n  });\n  \n  const sha = Array.isArray(currentFile) ? undefined : currentFile.sha;\n  \n  const { data } = await octokit.repos.createOrUpdateFileContents({\n    owner: OWNER, repo: REPO, path: filePath,\n    message: 'Add product images and polish to Shadow Store page',\n    content: Buffer.from(content).toString('base64'),\n    sha, branch: BRANCH\n  });\n  \n  console.log('Pushed ShadowStore.tsx:', data.commit.sha);\n}\nmain().catch(console.error);\n","path":null,"size_bytes":951,"size_tokens":null},"client/src/components/AnimatedCounter.tsx":{"content":"import { useEffect, useState, useRef } from \"react\";\nimport { motion, useInView } from \"framer-motion\";\n\ninterface AnimatedCounterProps {\n  end: number;\n  duration?: number;\n  suffix?: string;\n  prefix?: string;\n  className?: string;\n  decimals?: number;\n}\n\nexport function AnimatedCounter({ \n  end, \n  duration = 2, \n  suffix = \"\", \n  prefix = \"\",\n  className = \"\",\n  decimals = 0\n}: AnimatedCounterProps) {\n  const [count, setCount] = useState(0);\n  const ref = useRef<HTMLSpanElement>(null);\n  const isInView = useInView(ref, { once: true, margin: \"-100px\" });\n  const hasAnimated = useRef(false);\n\n  useEffect(() => {\n    if (isInView && !hasAnimated.current) {\n      hasAnimated.current = true;\n      const startTime = Date.now();\n      const endTime = startTime + duration * 1000;\n\n      const updateCount = () => {\n        const now = Date.now();\n        const progress = Math.min((now - startTime) / (duration * 1000), 1);\n        const easeOutQuart = 1 - Math.pow(1 - progress, 4);\n        const currentCount = decimals > 0 \n          ? parseFloat((easeOutQuart * end).toFixed(decimals))\n          : Math.floor(easeOutQuart * end);\n        \n        setCount(currentCount);\n\n        if (now < endTime) {\n          requestAnimationFrame(updateCount);\n        } else {\n          setCount(end);\n        }\n      };\n\n      requestAnimationFrame(updateCount);\n    }\n  }, [isInView, end, duration, decimals]);\n\n  const displayValue = decimals > 0 \n    ? count.toFixed(decimals) \n    : count.toLocaleString();\n\n  return (\n    <motion.span\n      ref={ref}\n      className={className}\n      initial={{ opacity: 0, scale: 0.5 }}\n      animate={isInView ? { opacity: 1, scale: 1 } : {}}\n      transition={{ duration: 0.5 }}\n    >\n      {prefix}{displayValue}{suffix}\n    </motion.span>\n  );\n}\n\ninterface StatCardProps {\n  value: number;\n  suffix?: string;\n  label: string;\n  icon?: React.ReactNode;\n}\n\nexport function AnimatedStatCard({ value, suffix = \"+\", label, icon }: StatCardProps) {\n  return (\n    <div className=\"text-center p-4\">\n      <div className=\"flex items-center justify-center gap-2 mb-2\">\n        {icon}\n        <AnimatedCounter \n          end={value} \n          suffix={suffix}\n          className=\"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-purple-500\"\n        />\n      </div>\n      <p className=\"text-sm text-gray-300\">{label}</p>\n    </div>\n  );\n}\n","path":null,"size_bytes":2420,"size_tokens":null},"client/src/components/SocialProofPopup.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { CheckCircle } from \"lucide-react\";\n\nconst names = [\n  \"Marcus T.\", \"Jennifer L.\", \"David R.\", \"Michelle K.\", \"Robert J.\", \"Sarah M.\",\n  \"Brandon W.\", \"Nicole P.\", \"Kevin H.\", \"Amanda S.\", \"Jason C.\", \"Stephanie B.\",\n  \"Tyler G.\", \"Melissa R.\", \"Ryan D.\", \"Laura K.\", \"Justin M.\", \"Heather N.\",\n  \"Derek F.\", \"Christina V.\", \"Brian A.\", \"Rebecca H.\", \"Andrew T.\", \"Danielle C.\",\n  \"Scott P.\", \"Kimberly W.\", \"Eric L.\", \"Angela M.\", \"Patrick O.\", \"Natalie S.\",\n  \"Sean R.\", \"Vanessa G.\", \"Kyle B.\", \"Courtney D.\", \"Trevor J.\", \"Shannon K.\",\n  \"Chad M.\", \"Brittany L.\", \"Dustin H.\", \"Amber P.\", \"Corey S.\", \"Monica R.\",\n  \"Craig W.\", \"Tiffany N.\", \"Jesse M.\", \"Crystal L.\", \"Adam B.\", \"Whitney S.\",\n  \"Nathan R.\", \"Lindsey K.\", \"Blake T.\", \"Megan H.\", \"Travis P.\", \"Holly G.\",\n  \"Keith D.\", \"Rachel V.\", \"Derrick J.\", \"Samantha C.\", \"Brett F.\", \"Erica W.\",\n  \"Jordan A.\", \"Cassandra M.\", \"Mitchell L.\", \"Brenda P.\", \"Gregory S.\", \"Jenna R.\",\n  \"Phillip K.\", \"Valerie T.\", \"Rodney H.\", \"Kristen B.\", \"Raymond D.\", \"Alicia N.\",\n  \"Eduardo M.\", \"Veronica L.\", \"Ricardo S.\", \"Diana G.\", \"Carlos P.\", \"Isabella R.\",\n  \"Antonio J.\", \"Carmen V.\", \"Miguel H.\", \"Elena D.\", \"Francisco T.\", \"Sofia K.\",\n  \"Dominic A.\", \"Brianna W.\", \"Marcus L.\", \"Jasmine S.\", \"Vincent R.\", \"Aaliyah P.\",\n  \"Terrence G.\", \"Maya J.\", \"Darnell K.\", \"Destiny M.\", \"Maurice B.\", \"Kiara T.\"\n];\n\nconst cities = [\n  \"Houston, TX\", \"Atlanta, GA\", \"Phoenix, AZ\", \"Chicago, IL\", \"Miami, FL\",\n  \"Denver, CO\", \"Seattle, WA\", \"Dallas, TX\", \"Los Angeles, CA\", \"New York, NY\",\n  \"San Diego, CA\", \"Austin, TX\", \"Charlotte, NC\", \"Tampa, FL\", \"Orlando, FL\",\n  \"Nashville, TN\", \"Indianapolis, IN\", \"Columbus, OH\", \"San Antonio, TX\", \"Portland, OR\",\n  \"Las Vegas, NV\", \"Detroit, MI\", \"Memphis, TN\", \"Boston, MA\", \"Baltimore, MD\",\n  \"Philadelphia, PA\", \"San Jose, CA\", \"Jacksonville, FL\", \"Fort Worth, TX\", \"Oklahoma City, OK\",\n  \"Louisville, KY\", \"Milwaukee, WI\", \"Albuquerque, NM\", \"Tucson, AZ\", \"Fresno, CA\",\n  \"Sacramento, CA\", \"Kansas City, MO\", \"Mesa, AZ\", \"Virginia Beach, VA\", \"Omaha, NE\",\n  \"Colorado Springs, CO\", \"Raleigh, NC\", \"Minneapolis, MN\", \"Cleveland, OH\", \"Pittsburgh, PA\"\n];\n\nconst products = [\n  \"StreamStick 4K Kit\",\n  \"StreamStick Max Kit\", \n  \"1 Year Live TV Plan\",\n  \"6 Month Live TV Plan\",\n  \"3 Month Live TV Plan\",\n  \"StreamStick Starter Kit\"\n];\n\nfunction shuffleArray<T>(arr: T[]): T[] {\n  const shuffled = [...arr];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}\n\nexport function SocialProofPopup() {\n  const [visible, setVisible] = useState(false);\n  const [notification, setNotification] = useState({\n    name: \"\",\n    city: \"\",\n    product: \"\",\n    minutesAgo: 0\n  });\n  const shuffledNamesRef = useRef<string[]>(shuffleArray(names));\n  const nameIndexRef = useRef(0);\n  const showCountRef = useRef(0);\n\n  useEffect(() => {\n    const getNextName = () => {\n      if (nameIndexRef.current >= shuffledNamesRef.current.length) {\n        shuffledNamesRef.current = shuffleArray(names);\n        nameIndexRef.current = 0;\n      }\n      const name = shuffledNamesRef.current[nameIndexRef.current];\n      nameIndexRef.current++;\n      return name;\n    };\n\n    const showNotification = () => {\n      showCountRef.current++;\n      if (showCountRef.current > 2) return;\n      \n      setNotification({\n        name: getNextName(),\n        city: cities[Math.floor(Math.random() * cities.length)],\n        product: products[Math.floor(Math.random() * products.length)],\n        minutesAgo: Math.floor(Math.random() * 30) + 5\n      });\n      setVisible(true);\n      \n      setTimeout(() => setVisible(false), 2000);\n    };\n\n    const initialDelay = setTimeout(() => {\n      showNotification();\n    }, 25000);\n\n    const interval = setInterval(() => {\n      showNotification();\n    }, 90000);\n\n    return () => {\n      clearTimeout(initialDelay);\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (!visible) return null;\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 20 }}\n          transition={{ duration: 0.3 }}\n          className=\"fixed bottom-20 left-4 z-40 max-w-[220px]\"\n          data-testid=\"social-proof-popup\"\n        >\n          <div className=\"bg-gray-800/80 backdrop-blur-sm border border-white/5 rounded-lg px-3 py-2 text-xs\">\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-3 h-3 text-green-400 flex-shrink-0\" />\n              <span className=\"text-gray-300\">\n                {notification.name} purchased {notification.product}\n              </span>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","path":null,"size_bytes":4981,"size_tokens":null},"client/src/components/ComparisonTable.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { Check, X, Tv, DollarSign, Zap } from \"lucide-react\";\n\nconst comparisonData = [\n  { feature: \"Monthly Cost\", streamstick: \"$15/mo\", cable: \"$150+/mo\", netflix: \"$23/mo\" },\n  { feature: \"Live TV Channels\", streamstick: \"Extensive Library\", cable: \"200-300\", netflix: false },\n  { feature: \"Movies & Shows\", streamstick: \"Thousands\", cable: \"Limited\", netflix: \"15,000+\" },\n  { feature: \"Live Sports Coverage\", streamstick: true, cable: \"Extra $$\", netflix: false },\n  { feature: \"No Contracts\", streamstick: true, cable: false, netflix: true },\n  { feature: \"Works Anywhere\", streamstick: true, cable: false, netflix: true },\n  { feature: \"4K Streaming\", streamstick: true, cable: \"Extra $$\", netflix: \"Extra $$\" },\n  { feature: \"Cancel Anytime\", streamstick: true, cable: \"Fees Apply\", netflix: true },\n];\n\nfunction CellValue({ value }: { value: boolean | string }) {\n  if (value === true) {\n    return <Check className=\"w-5 h-5 text-green-400 mx-auto\" />;\n  }\n  if (value === false) {\n    return <X className=\"w-5 h-5 text-red-400 mx-auto\" />;\n  }\n  return <span className={value.includes(\"$\") && !value.includes(\"15\") ? \"text-red-400\" : \"text-gray-300\"}>{value}</span>;\n}\n\nexport function ComparisonTable() {\n  return (\n    <div className=\"py-16 bg-gradient-to-b from-gray-900 to-gray-800\">\n      <div className=\"container mx-auto px-4\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n          className=\"text-center mb-10\"\n        >\n          <div className=\"inline-flex items-center gap-2 bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-full px-6 py-2 mb-6\">\n            <DollarSign className=\"w-5 h-5 text-green-400\" />\n            <span className=\"text-sm font-medium text-green-300\">COMPARE & SAVE</span>\n          </div>\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-cyan-400\">\n              See Why 2,700+ Customers Made The Switch\n            </span>\n          </h2>\n          <p className=\"text-lg text-gray-300 max-w-2xl mx-auto\">\n            Stop overpaying for cable. Get everything you want for a fraction of the price.\n          </p>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          whileInView={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n          viewport={{ once: true }}\n          className=\"max-w-4xl mx-auto overflow-x-auto\"\n        >\n          <table className=\"w-full border-collapse\" data-testid=\"comparison-table\">\n            <thead>\n              <tr>\n                <th className=\"p-4 text-left text-gray-300 font-medium\"></th>\n                <th className=\"p-4 text-center\">\n                  <div className=\"bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl p-4 transform -translate-y-2 shadow-xl shadow-orange-500/20\">\n                    <Zap className=\"w-6 h-6 text-white mx-auto mb-1\" />\n                    <span className=\"text-white font-bold text-lg\">Stream Stick Pro</span>\n                    <div className=\"text-orange-200 text-sm mt-1\">Best Value</div>\n                  </div>\n                </th>\n                <th className=\"p-4 text-center\">\n                  <div className=\"bg-gray-700/50 rounded-xl p-4\">\n                    <Tv className=\"w-6 h-6 text-gray-300 mx-auto mb-1\" />\n                    <span className=\"text-gray-300 font-bold\">Cable TV</span>\n                  </div>\n                </th>\n                <th className=\"p-4 text-center\">\n                  <div className=\"bg-gray-700/50 rounded-xl p-4\">\n                    <Tv className=\"w-6 h-6 text-gray-300 mx-auto mb-1\" />\n                    <span className=\"text-gray-300 font-bold\">Netflix</span>\n                  </div>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {comparisonData.map((row, i) => (\n                <motion.tr \n                  key={row.feature}\n                  initial={{ opacity: 0, x: -20 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ delay: i * 0.05 }}\n                  viewport={{ once: true }}\n                  className=\"border-b border-gray-700/50 hover:bg-gray-800/30 transition-colors\"\n                >\n                  <td className=\"p-4 text-gray-300 font-medium\">{row.feature}</td>\n                  <td className=\"p-4 text-center bg-orange-500/5\">\n                    <CellValue value={row.streamstick} />\n                  </td>\n                  <td className=\"p-4 text-center\">\n                    <CellValue value={row.cable} />\n                  </td>\n                  <td className=\"p-4 text-center\">\n                    <CellValue value={row.netflix} />\n                  </td>\n                </motion.tr>\n              ))}\n            </tbody>\n          </table>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4 }}\n          viewport={{ once: true }}\n          className=\"text-center mt-8\"\n        >\n          <p className=\"text-gray-300 mb-4\">\n            <span className=\"text-green-400 font-bold\">Save $1,500+</span> per year by switching to Stream Stick Pro\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5532,"size_tokens":null},"client/src/components/FloatingCTA.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ShoppingCart, Zap, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface FloatingCTAProps {\n  onBuyNow?: () => void;\n}\n\nexport function FloatingCTA({ onBuyNow }: FloatingCTAProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const showThreshold = 600;\n      \n      if (scrollY > showThreshold && !isDismissed) {\n        setIsVisible(true);\n      } else if (scrollY <= showThreshold) {\n        setIsVisible(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [isDismissed]);\n\n  const handleDismiss = () => {\n    setIsDismissed(true);\n    setIsVisible(false);\n  };\n\n  const scrollToProducts = () => {\n    const shopSection = document.getElementById(\"shop\");\n    if (shopSection) {\n      shopSection.scrollIntoView({ behavior: \"smooth\" });\n    }\n    if (onBuyNow) onBuyNow();\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ opacity: 0, y: 100 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 100 }}\n          transition={{ type: \"spring\", damping: 20, stiffness: 300 }}\n          className=\"fixed bottom-4 right-4 z-40 hidden md:block\"\n          data-testid=\"floating-cta\"\n        >\n          <div className=\"relative\">\n            <button\n              onClick={handleDismiss}\n              className=\"absolute -top-2 -right-2 w-6 h-6 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center text-gray-300 hover:text-white transition-colors z-10\"\n              aria-label=\"Dismiss\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n            \n            <div className=\"bg-gradient-to-r from-orange-600 to-purple-600 p-1 rounded-2xl shadow-2xl shadow-orange-500/30\">\n              <div className=\"bg-gray-900/95 backdrop-blur-lg rounded-xl p-4\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-orange-500 to-purple-500 rounded-xl flex items-center justify-center animate-pulse\">\n                      <Zap className=\"w-6 h-6 text-white\" />\n                    </div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-white font-bold text-sm\">Ready to Cut the Cord?</p>\n                    <p className=\"text-gray-300 text-xs\">18,000+ channels from $15/mo</p>\n                  </div>\n                  <Button\n                    onClick={scrollToProducts}\n                    className=\"bg-gradient-to-r from-orange-500 to-purple-600 hover:from-orange-600 hover:to-purple-700 text-white font-bold px-6 shadow-lg\"\n                    data-testid=\"button-floating-cta\"\n                  >\n                    <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                    Shop Now\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","path":null,"size_bytes":3387,"size_tokens":null},"check-commits.ts":{"content":"import { getUncachableGitHubClient } from './server/github';\n\nasync function main() {\n  const octokit = await getUncachableGitHubClient();\n  \n  const { data: commits } = await octokit.repos.listCommits({\n    owner: 'reloadedfiretvteam-hash',\n    repo: 'streamerstickprofinal',\n    sha: 'clean-main',\n    per_page: 5\n  });\n  \n  console.log('Latest commits on clean-main:');\n  commits.forEach(c => {\n    console.log(`- ${c.sha.slice(0,7)}: ${c.commit.message}`);\n  });\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":499,"size_tokens":null},"push-stripe-fix.ts":{"content":"import { getUncachableGitHubClient } from './server/github';\nimport * as fs from 'fs';\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nasync function pushFile(octokit: any, filePath: string, message: string) {\n  const content = fs.readFileSync(filePath, 'utf-8');\n  \n  const { data: currentFile } = await octokit.repos.getContent({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    ref: BRANCH\n  });\n  \n  const sha = Array.isArray(currentFile) ? undefined : currentFile.sha;\n  \n  const { data } = await octokit.repos.createOrUpdateFileContents({\n    owner: OWNER,\n    repo: REPO,\n    path: filePath,\n    message,\n    content: Buffer.from(content).toString('base64'),\n    sha: sha,\n    branch: BRANCH\n  });\n  \n  return data.commit.sha;\n}\n\nasync function main() {\n  console.log('Getting GitHub client...');\n  const octokit = await getUncachableGitHubClient();\n  \n  console.log('Pushing server/routes.ts...');\n  const sha1 = await pushFile(octokit, 'server/routes.ts', 'Enable dynamic Stripe payment methods (Apple Pay, Google Pay, Link, etc.)');\n  console.log('Success! server/routes.ts pushed:', sha1);\n  \n  console.log('Pushing worker/routes/checkout.ts...');\n  const sha2 = await pushFile(octokit, 'worker/routes/checkout.ts', 'Enable dynamic Stripe payment methods for Cloudflare worker');\n  console.log('Success! worker/routes/checkout.ts pushed:', sha2);\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":1461,"size_tokens":null},"client/src/components/CountdownTimer.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Clock, Flame } from \"lucide-react\";\n\ninterface CountdownTimerProps {\n  endDate?: Date;\n  title?: string;\n  subtitle?: string;\n}\n\nexport function CountdownTimer({ \n  endDate,\n  title = \"Holiday Sale Ends In\",\n  subtitle = \"Don't miss out on these exclusive deals!\"\n}: CountdownTimerProps) {\n  const getEndDate = () => {\n    if (endDate) return endDate;\n    const end = new Date();\n    end.setHours(23, 59, 59, 999);\n    const daysToAdd = 3 - (end.getDay() % 7);\n    end.setDate(end.getDate() + (daysToAdd <= 0 ? 7 + daysToAdd : daysToAdd));\n    return end;\n  };\n\n  const calculateTimeLeft = () => {\n    const difference = getEndDate().getTime() - new Date().getTime();\n    \n    if (difference <= 0) {\n      return { days: 0, hours: 0, minutes: 0, seconds: 0 };\n    }\n\n    return {\n      days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n      hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n      minutes: Math.floor((difference / 1000 / 60) % 60),\n      seconds: Math.floor((difference / 1000) % 60)\n    };\n  };\n\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const TimeBlock = ({ value, label }: { value: number; label: string }) => (\n    <div className=\"flex flex-col items-center\">\n      <motion.div \n        key={value}\n        initial={{ scale: 1.1 }}\n        animate={{ scale: 1 }}\n        className=\"bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-lg w-14 h-14 md:w-16 md:h-16 flex items-center justify-center shadow-lg shadow-orange-500/30\"\n      >\n        <span className=\"text-2xl md:text-3xl font-bold font-mono\">\n          {value.toString().padStart(2, '0')}\n        </span>\n      </motion.div>\n      <span className=\"text-xs text-gray-300 mt-1 uppercase tracking-wider\">{label}</span>\n    </div>\n  );\n\n  return (\n    <div className=\"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 border-y border-orange-500/30 py-6\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex flex-col md:flex-row items-center justify-center gap-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-orange-500/20 rounded-full flex items-center justify-center\">\n              <Flame className=\"w-5 h-5 text-orange-400 animate-pulse\" />\n            </div>\n            <div className=\"text-center md:text-left\">\n              <p className=\"text-lg font-bold text-white\">{title}</p>\n              <p className=\"text-sm text-gray-300\">{subtitle}</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-3\">\n            <TimeBlock value={timeLeft.days} label=\"Days\" />\n            <span className=\"text-2xl text-orange-400 font-bold\">:</span>\n            <TimeBlock value={timeLeft.hours} label=\"Hours\" />\n            <span className=\"text-2xl text-orange-400 font-bold\">:</span>\n            <TimeBlock value={timeLeft.minutes} label=\"Mins\" />\n            <span className=\"text-2xl text-orange-400 font-bold\">:</span>\n            <TimeBlock value={timeLeft.seconds} label=\"Secs\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3354,"size_tokens":null},"client/src/components/seo/SeoToolkit.tsx":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport {\n  Search,\n  Settings,\n  FileText,\n  Link2,\n  AlertTriangle,\n  BarChart3,\n  Image as ImageIcon,\n  Globe,\n  Target,\n  Zap,\n  RefreshCw,\n  Plus,\n  Trash2,\n  Edit,\n  Check,\n  X,\n  ExternalLink,\n  ArrowUp,\n  ArrowDown,\n  Minus,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  TrendingUp,\n  TrendingDown,\n  Upload,\n  Download,\n  Play,\n  Eye,\n  Code,\n  Share2,\n  Hash,\n  Loader2\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogFooter } from \"@/components/ui/dialog\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\n\ninterface SeoStats {\n  totalPages: number;\n  averageScore: number;\n  pagesNeedingImprovement: number;\n  totalRedirects: number;\n  total404s: number;\n  unresolved404s: number;\n  trackedKeywords: number;\n  keywordsInTop10: number;\n  lastAuditScore: number | null;\n  criticalIssues: number;\n}\n\ninterface SeoPage {\n  id: string;\n  pageUrl: string;\n  pageType: string;\n  focusKeyword: string | null;\n  metaTitle: string | null;\n  metaDescription: string | null;\n  overallScore: number;\n  titleScore: number;\n  descriptionScore: number;\n  contentScore: number;\n  keywordScore: number;\n  seoIssues: string | null;\n  updatedAt: string;\n  inSitemap?: boolean;\n  sitemapPriority?: string;\n  sitemapChangefreq?: string;\n}\n\ninterface SitemapEntry {\n  url: string;\n  priority: string | null;\n  changefreq: string | null;\n  lastmod: string | null;\n}\n\ninterface SeoRedirect {\n  id: string;\n  sourceUrl: string;\n  targetUrl: string;\n  redirectType: string;\n  isRegex: boolean;\n  isActive: boolean;\n  hitCount: number;\n  lastHit: string | null;\n  notes: string | null;\n  createdAt: string;\n}\n\ninterface Seo404Log {\n  id: string;\n  url: string;\n  referrer: string | null;\n  hitCount: number;\n  firstHit: string;\n  lastHit: string;\n  resolved: boolean;\n  ignored: boolean;\n}\n\ninterface SeoKeyword {\n  id: string;\n  keyword: string;\n  searchVolume: number | null;\n  difficulty: number | null;\n  trackingEnabled: boolean;\n  targetUrl: string | null;\n  currentPosition: number | null;\n  previousPosition: number | null;\n  positionChange: number | null;\n  bestPosition: number | null;\n  lastChecked: string | null;\n}\n\ninterface SeoAudit {\n  id: string;\n  auditType: string;\n  status: string;\n  overallScore: number;\n  technicalScore: number;\n  contentScore: number;\n  linkScore: number;\n  performanceScore: number;\n  criticalIssues: number;\n  warningIssues: number;\n  passedChecks: number;\n  issues: string | null;\n  recommendations: string | null;\n  pagesAnalyzed: number;\n  completedAt: string | null;\n  createdAt: string;\n}\n\ninterface SeoSetting {\n  id: string;\n  settingKey: string;\n  settingValue: string | null;\n  settingType: string;\n  category: string;\n  description: string | null;\n}\n\ninterface Props {\n  authFetch: (url: string, options?: RequestInit) => Promise<Response>;\n  showToast: (message: string, type: 'success' | 'error') => void;\n}\n\nfunction ScoreIndicator({ score, size = \"md\" }: { score: number; size?: \"sm\" | \"md\" | \"lg\" }) {\n  const getColor = (s: number) => {\n    if (s >= 80) return \"text-green-500\";\n    if (s >= 60) return \"text-yellow-500\";\n    if (s >= 40) return \"text-orange-500\";\n    return \"text-red-500\";\n  };\n  \n  const getBgColor = (s: number) => {\n    if (s >= 80) return \"bg-green-500/20\";\n    if (s >= 60) return \"bg-yellow-500/20\";\n    if (s >= 40) return \"bg-orange-500/20\";\n    return \"bg-red-500/20\";\n  };\n\n  const sizeClasses = {\n    sm: \"w-8 h-8 text-xs\",\n    md: \"w-12 h-12 text-sm\",\n    lg: \"w-16 h-16 text-lg font-bold\"\n  };\n\n  return (\n    <div className={`${sizeClasses[size]} ${getBgColor(score)} ${getColor(score)} rounded-full flex items-center justify-center`}>\n      {score}\n    </div>\n  );\n}\n\nfunction PositionChange({ change }: { change: number | null }) {\n  if (change === null || change === 0) {\n    return <span className=\"text-gray-400\"><Minus className=\"w-4 h-4\" /></span>;\n  }\n  if (change > 0) {\n    return <span className=\"text-green-500 flex items-center gap-1\"><ArrowUp className=\"w-4 h-4\" />{change}</span>;\n  }\n  return <span className=\"text-red-500 flex items-center gap-1\"><ArrowDown className=\"w-4 h-4\" />{Math.abs(change)}</span>;\n}\n\nexport default function SeoToolkit({ authFetch, showToast }: Props) {\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\n  const [loading, setLoading] = useState(true);\n  \n  const [stats, setStats] = useState<SeoStats | null>(null);\n  const [pages, setPages] = useState<SeoPage[]>([]);\n  const [redirects, setRedirects] = useState<SeoRedirect[]>([]);\n  const [logs404, setLogs404] = useState<Seo404Log[]>([]);\n  const [keywords, setKeywords] = useState<SeoKeyword[]>([]);\n  const [audits, setAudits] = useState<SeoAudit[]>([]);\n  const [settings, setSettings] = useState<SeoSetting[]>([]);\n  \n  const [newRedirect, setNewRedirect] = useState({ sourceUrl: \"\", targetUrl: \"\", redirectType: \"301\", isRegex: false });\n  const [newKeyword, setNewKeyword] = useState({ keyword: \"\", targetUrl: \"\", trackingEnabled: false });\n  const [editingPage, setEditingPage] = useState<SeoPage | null>(null);\n  const [showRedirectDialog, setShowRedirectDialog] = useState(false);\n  const [showKeywordDialog, setShowKeywordDialog] = useState(false);\n  const [runningAudit, setRunningAudit] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n  \n  const [sitemapPreview, setSitemapPreview] = useState<string>(\"\");\n  const [sitemapLoading, setSitemapLoading] = useState(false);\n  const [showSitemapPreview, setShowSitemapPreview] = useState(false);\n  const [sitemapExclusions, setSitemapExclusions] = useState<string>(\"\");\n  const [newExclusion, setNewExclusion] = useState(\"\");\n\n  const loadStats = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/stats');\n      const result = await response.json();\n      if (result.data) setStats(result.data);\n    } catch (error) {\n      console.error('Error loading SEO stats:', error);\n    }\n  }, [authFetch]);\n\n  const loadPages = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/pages');\n      const result = await response.json();\n      if (result.data) setPages(result.data);\n    } catch (error) {\n      console.error('Error loading pages:', error);\n    }\n  }, [authFetch]);\n\n  const loadRedirects = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/redirects');\n      const result = await response.json();\n      if (result.data) setRedirects(result.data);\n    } catch (error) {\n      console.error('Error loading redirects:', error);\n    }\n  }, [authFetch]);\n\n  const load404Logs = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/404/unresolved');\n      const result = await response.json();\n      if (result.data) setLogs404(result.data);\n    } catch (error) {\n      console.error('Error loading 404 logs:', error);\n    }\n  }, [authFetch]);\n\n  const loadKeywords = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/keywords');\n      const result = await response.json();\n      if (result.data) setKeywords(result.data);\n    } catch (error) {\n      console.error('Error loading keywords:', error);\n    }\n  }, [authFetch]);\n\n  const loadAudits = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/audits');\n      const result = await response.json();\n      if (result.data) setAudits(result.data);\n    } catch (error) {\n      console.error('Error loading audits:', error);\n    }\n  }, [authFetch]);\n\n  const loadSettings = useCallback(async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/settings');\n      const result = await response.json();\n      if (result.data) setSettings(result.data);\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    }\n  }, [authFetch]);\n\n  useEffect(() => {\n    const loadAll = async () => {\n      setLoading(true);\n      await Promise.all([\n        loadStats(),\n        loadPages(),\n        loadRedirects(),\n        load404Logs(),\n        loadKeywords(),\n        loadAudits(),\n        loadSettings()\n      ]);\n      setLoading(false);\n    };\n    loadAll();\n  }, [loadStats, loadPages, loadRedirects, load404Logs, loadKeywords, loadAudits, loadSettings]);\n\n  const seedSettings = async () => {\n    try {\n      await authFetch('/api/admin/seo/seed-settings', { method: 'POST' });\n      await authFetch('/api/admin/seo/seed-schema-types', { method: 'POST' });\n      showToast('Default settings seeded successfully!', 'success');\n      loadSettings();\n    } catch (error) {\n      showToast('Failed to seed settings', 'error');\n    }\n  };\n\n  const createRedirect = async () => {\n    if (!newRedirect.sourceUrl || !newRedirect.targetUrl) {\n      showToast('Source and target URLs are required', 'error');\n      return;\n    }\n    try {\n      const response = await authFetch('/api/admin/seo/redirects', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newRedirect)\n      });\n      if (response.ok) {\n        showToast('Redirect created successfully!', 'success');\n        setNewRedirect({ sourceUrl: \"\", targetUrl: \"\", redirectType: \"301\", isRegex: false });\n        setShowRedirectDialog(false);\n        loadRedirects();\n        loadStats();\n      } else {\n        const result = await response.json();\n        showToast(result.error || 'Failed to create redirect', 'error');\n      }\n    } catch (error) {\n      showToast('Failed to create redirect', 'error');\n    }\n  };\n\n  const deleteRedirect = async (id: string) => {\n    if (!confirm('Delete this redirect?')) return;\n    try {\n      await authFetch(`/api/admin/seo/redirects/${id}`, { method: 'DELETE' });\n      showToast('Redirect deleted', 'success');\n      loadRedirects();\n      loadStats();\n    } catch (error) {\n      showToast('Failed to delete redirect', 'error');\n    }\n  };\n\n  const resolve404 = async (id: string, targetUrl: string) => {\n    try {\n      await authFetch(`/api/admin/seo/404/${id}/create-redirect`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ targetUrl })\n      });\n      showToast('Redirect created from 404', 'success');\n      load404Logs();\n      loadRedirects();\n      loadStats();\n    } catch (error) {\n      showToast('Failed to create redirect', 'error');\n    }\n  };\n\n  const ignore404 = async (id: string) => {\n    try {\n      await authFetch(`/api/admin/seo/404/${id}/ignore`, { method: 'POST' });\n      showToast('404 ignored', 'success');\n      load404Logs();\n      loadStats();\n    } catch (error) {\n      showToast('Failed to ignore 404', 'error');\n    }\n  };\n\n  const createKeyword = async () => {\n    if (!newKeyword.keyword) {\n      showToast('Keyword is required', 'error');\n      return;\n    }\n    try {\n      const response = await authFetch('/api/admin/seo/keywords', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newKeyword)\n      });\n      if (response.ok) {\n        showToast('Keyword added successfully!', 'success');\n        setNewKeyword({ keyword: \"\", targetUrl: \"\", trackingEnabled: false });\n        setShowKeywordDialog(false);\n        loadKeywords();\n        loadStats();\n      } else {\n        const result = await response.json();\n        showToast(result.error || 'Failed to add keyword', 'error');\n      }\n    } catch (error) {\n      showToast('Failed to add keyword', 'error');\n    }\n  };\n\n  const deleteKeyword = async (id: string) => {\n    if (!confirm('Delete this keyword?')) return;\n    try {\n      await authFetch(`/api/admin/seo/keywords/${id}`, { method: 'DELETE' });\n      showToast('Keyword deleted', 'success');\n      loadKeywords();\n      loadStats();\n    } catch (error) {\n      showToast('Failed to delete keyword', 'error');\n    }\n  };\n\n  const toggleKeywordTracking = async (id: string, enabled: boolean) => {\n    try {\n      await authFetch(`/api/admin/seo/keywords/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ trackingEnabled: enabled })\n      });\n      loadKeywords();\n    } catch (error) {\n      showToast('Failed to update keyword', 'error');\n    }\n  };\n\n  const runAudit = async () => {\n    setRunningAudit(true);\n    try {\n      const response = await authFetch('/api/admin/seo/audits/run', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ auditType: 'full' })\n      });\n      if (response.ok) {\n        showToast('SEO audit started!', 'success');\n        setTimeout(() => {\n          loadAudits();\n          loadStats();\n          setRunningAudit(false);\n        }, 5000);\n      } else {\n        setRunningAudit(false);\n        showToast('Failed to start audit', 'error');\n      }\n    } catch (error) {\n      setRunningAudit(false);\n      showToast('Failed to start audit', 'error');\n    }\n  };\n\n  const submitToIndexNow = async () => {\n    try {\n      const response = await authFetch('/api/admin/seo/indexnow/submit-all', { method: 'POST' });\n      const result = await response.json();\n      showToast(result.message || 'Submitted to IndexNow', result.success ? 'success' : 'error');\n    } catch (error) {\n      showToast('Failed to submit to IndexNow', 'error');\n    }\n  };\n\n  const saveSetting = async (key: string, value: string, type: string, category: string) => {\n    try {\n      await authFetch('/api/admin/seo/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ key, value, type, category })\n      });\n      showToast('Setting saved', 'success');\n      loadSettings();\n    } catch (error) {\n      showToast('Failed to save setting', 'error');\n    }\n  };\n\n  const generateSitemap = async () => {\n    setSitemapLoading(true);\n    try {\n      const response = await authFetch('/api/admin/seo/sitemap/generate', { method: 'POST' });\n      const result = await response.json();\n      if (result.data) {\n        setSitemapPreview(result.data);\n        setShowSitemapPreview(true);\n        showToast(`Sitemap generated with ${result.pagesIncluded} pages`, 'success');\n      }\n    } catch (error) {\n      showToast('Failed to generate sitemap', 'error');\n    } finally {\n      setSitemapLoading(false);\n    }\n  };\n\n  const updatePageSitemapSettings = async (pageId: string, inSitemap: boolean, priority?: string, changefreq?: string) => {\n    try {\n      await authFetch(`/api/admin/seo/pages/${pageId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ inSitemap, sitemapPriority: priority, sitemapChangefreq: changefreq })\n      });\n      loadPages();\n    } catch (error) {\n      showToast('Failed to update page settings', 'error');\n    }\n  };\n\n  const pingSitemap = async () => {\n    try {\n      showToast('Pinging search engines with sitemap URL...', 'success');\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      showToast('Search engines have been notified about your sitemap', 'success');\n    } catch (error) {\n      showToast('Failed to ping search engines', 'error');\n    }\n  };\n\n  const downloadSitemap = () => {\n    if (!sitemapPreview) return;\n    const blob = new Blob([sitemapPreview], { type: 'application/xml' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'sitemap.xml';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"seo-toolkit\">\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid grid-cols-9 lg:grid-cols-9 gap-1 h-auto p-1\" data-testid=\"seo-tabs\">\n          <TabsTrigger value=\"dashboard\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-dashboard\">\n            <BarChart3 className=\"w-4 h-4 mr-1\" />Dashboard\n          </TabsTrigger>\n          <TabsTrigger value=\"pages\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-pages\">\n            <FileText className=\"w-4 h-4 mr-1\" />Pages\n          </TabsTrigger>\n          <TabsTrigger value=\"keywords\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-keywords\">\n            <Target className=\"w-4 h-4 mr-1\" />Keywords\n          </TabsTrigger>\n          <TabsTrigger value=\"redirects\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-redirects\">\n            <Link2 className=\"w-4 h-4 mr-1\" />Redirects\n          </TabsTrigger>\n          <TabsTrigger value=\"404\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-404\">\n            <AlertTriangle className=\"w-4 h-4 mr-1\" />404s\n          </TabsTrigger>\n          <TabsTrigger value=\"audit\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-audit\">\n            <Search className=\"w-4 h-4 mr-1\" />Audit\n          </TabsTrigger>\n          <TabsTrigger value=\"sitemap\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-sitemap\">\n            <Globe className=\"w-4 h-4 mr-1\" />Sitemap\n          </TabsTrigger>\n          <TabsTrigger value=\"indexing\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-indexing\">\n            <Zap className=\"w-4 h-4 mr-1\" />Indexing\n          </TabsTrigger>\n          <TabsTrigger value=\"settings\" className=\"text-xs px-2 py-1.5\" data-testid=\"tab-seo-settings\">\n            <Settings className=\"w-4 h-4 mr-1\" />Settings\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"dashboard\" className=\"space-y-6 mt-6\">\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Overall Score</p>\n                    <p className=\"text-3xl font-bold\">{stats?.averageScore || 0}</p>\n                  </div>\n                  <ScoreIndicator score={stats?.averageScore || 0} size=\"lg\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Pages Analyzed</p>\n                    <p className=\"text-3xl font-bold\">{stats?.totalPages || 0}</p>\n                  </div>\n                  <FileText className=\"w-10 h-10 text-blue-500\" />\n                </div>\n                <p className=\"text-xs text-muted-foreground mt-2\">{stats?.pagesNeedingImprovement || 0} need improvement</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Tracked Keywords</p>\n                    <p className=\"text-3xl font-bold\">{stats?.trackedKeywords || 0}</p>\n                  </div>\n                  <Target className=\"w-10 h-10 text-purple-500\" />\n                </div>\n                <p className=\"text-xs text-green-500 mt-2\">{stats?.keywordsInTop10 || 0} in top 10</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Issues Found</p>\n                    <p className=\"text-3xl font-bold text-red-500\">{stats?.criticalIssues || 0}</p>\n                  </div>\n                  <AlertCircle className=\"w-10 h-10 text-red-500\" />\n                </div>\n                <p className=\"text-xs text-muted-foreground mt-2\">{stats?.unresolved404s || 0} unresolved 404s</p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <Button onClick={runAudit} disabled={runningAudit} className=\"w-full justify-start\" variant=\"outline\" data-testid=\"btn-run-audit\">\n                  {runningAudit ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : <Play className=\"w-4 h-4 mr-2\" />}\n                  Run Full SEO Audit\n                </Button>\n                <Button onClick={submitToIndexNow} className=\"w-full justify-start\" variant=\"outline\" data-testid=\"btn-indexnow\">\n                  <Zap className=\"w-4 h-4 mr-2\" />Submit All Pages to IndexNow\n                </Button>\n                <Button onClick={() => setShowRedirectDialog(true)} className=\"w-full justify-start\" variant=\"outline\" data-testid=\"btn-add-redirect\">\n                  <Plus className=\"w-4 h-4 mr-2\" />Add New Redirect\n                </Button>\n                <Button onClick={() => setShowKeywordDialog(true)} className=\"w-full justify-start\" variant=\"outline\" data-testid=\"btn-add-keyword\">\n                  <Plus className=\"w-4 h-4 mr-2\" />Track New Keyword\n                </Button>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Recent Audits</CardTitle>\n              </CardHeader>\n              <CardContent>\n                {audits.length === 0 ? (\n                  <p className=\"text-sm text-muted-foreground\">No audits yet. Run your first audit!</p>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {audits.slice(0, 3).map((audit) => (\n                      <div key={audit.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div>\n                          <p className=\"font-medium\">{audit.auditType} audit</p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {audit.completedAt ? new Date(audit.completedAt).toLocaleDateString() : 'Running...'}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Badge variant={audit.status === 'completed' ? 'default' : 'secondary'}>{audit.status}</Badge>\n                          {audit.status === 'completed' && <ScoreIndicator score={audit.overallScore} size=\"sm\" />}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          {logs404.length > 0 && (\n            <Card className=\"border-red-500/50\">\n              <CardHeader>\n                <CardTitle className=\"text-lg text-red-500 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  Unresolved 404 Errors ({logs404.length})\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>URL</TableHead>\n                      <TableHead>Hits</TableHead>\n                      <TableHead>Last Hit</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {logs404.slice(0, 5).map((log) => (\n                      <TableRow key={log.id}>\n                        <TableCell className=\"font-mono text-sm\">{log.url}</TableCell>\n                        <TableCell><Badge variant=\"destructive\">{log.hitCount}</Badge></TableCell>\n                        <TableCell className=\"text-sm\">{new Date(log.lastHit).toLocaleDateString()}</TableCell>\n                        <TableCell>\n                          <div className=\"flex gap-2\">\n                            <Button size=\"sm\" variant=\"outline\" onClick={() => resolve404(log.id, '/')} data-testid={`btn-resolve-404-${log.id}`}>\n                              Fix\n                            </Button>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => ignore404(log.id)} data-testid={`btn-ignore-404-${log.id}`}>\n                              Ignore\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"pages\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle>Page SEO Analysis</CardTitle>\n                <Button onClick={loadPages} variant=\"outline\" size=\"sm\" data-testid=\"btn-refresh-pages\">\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />Refresh\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {pages.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <FileText className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No pages analyzed yet.</p>\n                  <p className=\"text-sm text-muted-foreground\">Pages are added automatically when you analyze content.</p>\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Page</TableHead>\n                      <TableHead>Focus Keyword</TableHead>\n                      <TableHead>Title</TableHead>\n                      <TableHead>Description</TableHead>\n                      <TableHead>Content</TableHead>\n                      <TableHead>Overall</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {pages.map((page) => (\n                      <TableRow key={page.id}>\n                        <TableCell className=\"font-mono text-sm max-w-[200px] truncate\">{page.pageUrl}</TableCell>\n                        <TableCell>{page.focusKeyword || <span className=\"text-muted-foreground\">-</span>}</TableCell>\n                        <TableCell><ScoreIndicator score={page.titleScore} size=\"sm\" /></TableCell>\n                        <TableCell><ScoreIndicator score={page.descriptionScore} size=\"sm\" /></TableCell>\n                        <TableCell><ScoreIndicator score={page.contentScore} size=\"sm\" /></TableCell>\n                        <TableCell><ScoreIndicator score={page.overallScore} size=\"md\" /></TableCell>\n                        <TableCell>\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => setEditingPage(page)} data-testid={`btn-edit-page-${page.id}`}>\n                            <Edit className=\"w-4 h-4\" />\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"keywords\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle>Keyword Tracking</CardTitle>\n                <Button onClick={() => setShowKeywordDialog(true)} data-testid=\"btn-add-keyword-main\">\n                  <Plus className=\"w-4 h-4 mr-2\" />Add Keyword\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {keywords.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Target className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No keywords tracked yet.</p>\n                  <Button className=\"mt-4\" onClick={() => setShowKeywordDialog(true)}>Add Your First Keyword</Button>\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Keyword</TableHead>\n                      <TableHead>Position</TableHead>\n                      <TableHead>Change</TableHead>\n                      <TableHead>Best</TableHead>\n                      <TableHead>Target URL</TableHead>\n                      <TableHead>Tracking</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {keywords.map((kw) => (\n                      <TableRow key={kw.id}>\n                        <TableCell className=\"font-medium\">{kw.keyword}</TableCell>\n                        <TableCell>\n                          {kw.currentPosition ? (\n                            <Badge variant={kw.currentPosition <= 10 ? 'default' : 'secondary'}>\n                              #{kw.currentPosition}\n                            </Badge>\n                          ) : (\n                            <span className=\"text-muted-foreground\">-</span>\n                          )}\n                        </TableCell>\n                        <TableCell><PositionChange change={kw.positionChange} /></TableCell>\n                        <TableCell>{kw.bestPosition ? `#${kw.bestPosition}` : '-'}</TableCell>\n                        <TableCell className=\"font-mono text-sm max-w-[150px] truncate\">{kw.targetUrl || '-'}</TableCell>\n                        <TableCell>\n                          <Switch\n                            checked={kw.trackingEnabled}\n                            onCheckedChange={(checked) => toggleKeywordTracking(kw.id, checked)}\n                            data-testid={`switch-tracking-${kw.id}`}\n                          />\n                        </TableCell>\n                        <TableCell>\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => deleteKeyword(kw.id)} data-testid={`btn-delete-keyword-${kw.id}`}>\n                            <Trash2 className=\"w-4 h-4 text-red-500\" />\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"redirects\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle>Redirect Manager</CardTitle>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" size=\"sm\" data-testid=\"btn-export-redirects\">\n                    <Download className=\"w-4 h-4 mr-2\" />Export\n                  </Button>\n                  <Button onClick={() => setShowRedirectDialog(true)} data-testid=\"btn-add-redirect-main\">\n                    <Plus className=\"w-4 h-4 mr-2\" />Add Redirect\n                  </Button>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {redirects.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Link2 className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No redirects configured yet.</p>\n                  <Button className=\"mt-4\" onClick={() => setShowRedirectDialog(true)}>Create First Redirect</Button>\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Source</TableHead>\n                      <TableHead>Target</TableHead>\n                      <TableHead>Type</TableHead>\n                      <TableHead>Hits</TableHead>\n                      <TableHead>Status</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {redirects.map((redirect) => (\n                      <TableRow key={redirect.id}>\n                        <TableCell className=\"font-mono text-sm\">{redirect.sourceUrl}</TableCell>\n                        <TableCell className=\"font-mono text-sm max-w-[200px] truncate\">{redirect.targetUrl}</TableCell>\n                        <TableCell>\n                          <Badge variant=\"outline\">{redirect.redirectType}</Badge>\n                          {redirect.isRegex && <Badge variant=\"secondary\" className=\"ml-1\">Regex</Badge>}\n                        </TableCell>\n                        <TableCell>{redirect.hitCount}</TableCell>\n                        <TableCell>\n                          {redirect.isActive ? (\n                            <Badge variant=\"default\" className=\"bg-green-500\">Active</Badge>\n                          ) : (\n                            <Badge variant=\"secondary\">Disabled</Badge>\n                          )}\n                        </TableCell>\n                        <TableCell>\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => deleteRedirect(redirect.id)} data-testid={`btn-delete-redirect-${redirect.id}`}>\n                            <Trash2 className=\"w-4 h-4 text-red-500\" />\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"404\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle>404 Error Monitor</CardTitle>\n                <Button onClick={load404Logs} variant=\"outline\" size=\"sm\" data-testid=\"btn-refresh-404\">\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />Refresh\n                </Button>\n              </div>\n              <CardDescription>Track and fix broken links on your site</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {logs404.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <CheckCircle className=\"w-12 h-12 mx-auto text-green-500 mb-4\" />\n                  <p className=\"text-green-500 font-medium\">No 404 errors found!</p>\n                  <p className=\"text-sm text-muted-foreground\">Your site is in great shape.</p>\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>URL</TableHead>\n                      <TableHead>Referrer</TableHead>\n                      <TableHead>Hits</TableHead>\n                      <TableHead>First Seen</TableHead>\n                      <TableHead>Last Seen</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {logs404.map((log) => (\n                      <TableRow key={log.id}>\n                        <TableCell className=\"font-mono text-sm max-w-[200px] truncate\">{log.url}</TableCell>\n                        <TableCell className=\"text-sm max-w-[150px] truncate\">{log.referrer || '-'}</TableCell>\n                        <TableCell><Badge variant=\"destructive\">{log.hitCount}</Badge></TableCell>\n                        <TableCell className=\"text-sm\">{new Date(log.firstHit).toLocaleDateString()}</TableCell>\n                        <TableCell className=\"text-sm\">{new Date(log.lastHit).toLocaleDateString()}</TableCell>\n                        <TableCell>\n                          <div className=\"flex gap-2\">\n                            <Dialog>\n                              <DialogTrigger asChild>\n                                <Button size=\"sm\" variant=\"default\" data-testid={`btn-fix-404-${log.id}`}>\n                                  <Link2 className=\"w-4 h-4 mr-1\" />Fix\n                                </Button>\n                              </DialogTrigger>\n                              <DialogContent>\n                                <DialogHeader>\n                                  <DialogTitle>Create Redirect</DialogTitle>\n                                </DialogHeader>\n                                <div className=\"space-y-4 py-4\">\n                                  <div>\n                                    <Label>From (404 URL)</Label>\n                                    <Input value={log.url} disabled />\n                                  </div>\n                                  <div>\n                                    <Label>Redirect To</Label>\n                                    <Input \n                                      placeholder=\"/\" \n                                      id={`redirect-target-${log.id}`}\n                                      defaultValue=\"/\"\n                                    />\n                                  </div>\n                                </div>\n                                <DialogFooter>\n                                  <Button onClick={() => {\n                                    const input = document.getElementById(`redirect-target-${log.id}`) as HTMLInputElement;\n                                    resolve404(log.id, input?.value || '/');\n                                  }}>Create Redirect</Button>\n                                </DialogFooter>\n                              </DialogContent>\n                            </Dialog>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => ignore404(log.id)} data-testid={`btn-ignore-${log.id}`}>\n                              Ignore\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"audit\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>SEO Site Audit</CardTitle>\n                  <CardDescription>Comprehensive analysis of your site's SEO health</CardDescription>\n                </div>\n                <Button onClick={runAudit} disabled={runningAudit} data-testid=\"btn-run-full-audit\">\n                  {runningAudit ? (\n                    <><Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />Running...</>\n                  ) : (\n                    <><Play className=\"w-4 h-4 mr-2\" />Run New Audit</>\n                  )}\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {audits.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Search className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No audits run yet.</p>\n                  <Button className=\"mt-4\" onClick={runAudit} disabled={runningAudit}>Run Your First Audit</Button>\n                </div>\n              ) : (\n                <div className=\"space-y-6\">\n                  {audits.map((audit) => (\n                    <div key={audit.id} className=\"border rounded-lg p-6\">\n                      <div className=\"flex items-center justify-between mb-6\">\n                        <div>\n                          <h3 className=\"font-semibold text-lg\">{audit.auditType} Audit</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {audit.completedAt ? new Date(audit.completedAt).toLocaleString() : 'In progress...'}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                          <Badge variant={audit.status === 'completed' ? 'default' : 'secondary'}>\n                            {audit.status}\n                          </Badge>\n                          {audit.status === 'completed' && <ScoreIndicator score={audit.overallScore} size=\"lg\" />}\n                        </div>\n                      </div>\n\n                      {audit.status === 'completed' && (\n                        <>\n                          <div className=\"grid grid-cols-4 gap-4 mb-6\">\n                            <div className=\"text-center p-4 bg-muted rounded-lg\">\n                              <p className=\"text-sm text-muted-foreground\">Technical</p>\n                              <p className=\"text-2xl font-bold\">{audit.technicalScore}</p>\n                            </div>\n                            <div className=\"text-center p-4 bg-muted rounded-lg\">\n                              <p className=\"text-sm text-muted-foreground\">Content</p>\n                              <p className=\"text-2xl font-bold\">{audit.contentScore}</p>\n                            </div>\n                            <div className=\"text-center p-4 bg-muted rounded-lg\">\n                              <p className=\"text-sm text-muted-foreground\">Links</p>\n                              <p className=\"text-2xl font-bold\">{audit.linkScore}</p>\n                            </div>\n                            <div className=\"text-center p-4 bg-muted rounded-lg\">\n                              <p className=\"text-sm text-muted-foreground\">Performance</p>\n                              <p className=\"text-2xl font-bold\">{audit.performanceScore}</p>\n                            </div>\n                          </div>\n\n                          <div className=\"grid grid-cols-3 gap-4 mb-6\">\n                            <div className=\"flex items-center gap-3 p-3 bg-red-500/10 rounded-lg\">\n                              <XCircle className=\"w-6 h-6 text-red-500\" />\n                              <div>\n                                <p className=\"text-2xl font-bold text-red-500\">{audit.criticalIssues}</p>\n                                <p className=\"text-xs text-muted-foreground\">Critical Issues</p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-3 p-3 bg-yellow-500/10 rounded-lg\">\n                              <AlertCircle className=\"w-6 h-6 text-yellow-500\" />\n                              <div>\n                                <p className=\"text-2xl font-bold text-yellow-500\">{audit.warningIssues}</p>\n                                <p className=\"text-xs text-muted-foreground\">Warnings</p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-3 p-3 bg-green-500/10 rounded-lg\">\n                              <CheckCircle className=\"w-6 h-6 text-green-500\" />\n                              <div>\n                                <p className=\"text-2xl font-bold text-green-500\">{audit.passedChecks}</p>\n                                <p className=\"text-xs text-muted-foreground\">Passed Checks</p>\n                              </div>\n                            </div>\n                          </div>\n\n                          {audit.issues && (\n                            <Accordion type=\"single\" collapsible>\n                              <AccordionItem value=\"issues\">\n                                <AccordionTrigger>View Issues ({audit.criticalIssues + audit.warningIssues})</AccordionTrigger>\n                                <AccordionContent>\n                                  <div className=\"space-y-2\">\n                                    {JSON.parse(audit.issues).map((issue: any, i: number) => (\n                                      <div key={i} className={`p-3 rounded-lg flex items-start gap-3 ${\n                                        issue.severity === 'error' ? 'bg-red-500/10' : \n                                        issue.severity === 'warning' ? 'bg-yellow-500/10' : 'bg-blue-500/10'\n                                      }`}>\n                                        {issue.severity === 'error' ? <XCircle className=\"w-5 h-5 text-red-500 shrink-0\" /> :\n                                         issue.severity === 'warning' ? <AlertCircle className=\"w-5 h-5 text-yellow-500 shrink-0\" /> :\n                                         <AlertCircle className=\"w-5 h-5 text-blue-500 shrink-0\" />}\n                                        <div>\n                                          <p className=\"font-medium\">{issue.message}</p>\n                                          {issue.page && <p className=\"text-xs text-muted-foreground font-mono\">{issue.page}</p>}\n                                          <p className=\"text-sm text-muted-foreground mt-1\">{issue.recommendation}</p>\n                                        </div>\n                                      </div>\n                                    ))}\n                                  </div>\n                                </AccordionContent>\n                              </AccordionItem>\n                            </Accordion>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"sitemap\" className=\"space-y-6 mt-6\">\n          <div className=\"grid md:grid-cols-3 gap-4\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Pages in Sitemap</p>\n                    <p className=\"text-3xl font-bold\">{pages.filter(p => p.inSitemap !== false).length}</p>\n                  </div>\n                  <Globe className=\"w-10 h-10 text-blue-500\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Excluded Pages</p>\n                    <p className=\"text-3xl font-bold\">{pages.filter(p => p.inSitemap === false).length}</p>\n                  </div>\n                  <XCircle className=\"w-10 h-10 text-red-500\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Total Pages</p>\n                    <p className=\"text-3xl font-bold\">{pages.length}</p>\n                  </div>\n                  <FileText className=\"w-10 h-10 text-green-500\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <RefreshCw className=\"w-5 h-5\" />\n                  Sitemap Generation\n                </CardTitle>\n                <CardDescription>Generate and preview your XML sitemap</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex gap-2\">\n                  <Button onClick={generateSitemap} disabled={sitemapLoading} className=\"flex-1\" data-testid=\"btn-generate-sitemap\">\n                    {sitemapLoading ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : <RefreshCw className=\"w-4 h-4 mr-2\" />}\n                    Regenerate Sitemap\n                  </Button>\n                  <Button onClick={pingSitemap} variant=\"outline\" data-testid=\"btn-ping-engines\">\n                    <Zap className=\"w-4 h-4 mr-2\" />Ping Engines\n                  </Button>\n                </div>\n                {sitemapPreview && (\n                  <div className=\"flex gap-2\">\n                    <Button onClick={() => setShowSitemapPreview(true)} variant=\"outline\" className=\"flex-1\" data-testid=\"btn-preview-sitemap\">\n                      <Eye className=\"w-4 h-4 mr-2\" />Preview\n                    </Button>\n                    <Button onClick={downloadSitemap} variant=\"outline\" className=\"flex-1\" data-testid=\"btn-download-sitemap\">\n                      <Download className=\"w-4 h-4 mr-2\" />Download\n                    </Button>\n                  </div>\n                )}\n                <div className=\"p-3 bg-muted rounded-lg\">\n                  <p className=\"text-xs text-muted-foreground\">\n                    Your sitemap is available at: <code className=\"bg-background px-1 rounded\">/sitemap.xml</code>\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Settings className=\"w-5 h-5\" />\n                  Default Settings\n                </CardTitle>\n                <CardDescription>Configure default sitemap settings</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>Default Priority</Label>\n                  <Select defaultValue=\"0.5\">\n                    <SelectTrigger data-testid=\"select-default-priority\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"1.0\">1.0 (Highest)</SelectItem>\n                      <SelectItem value=\"0.9\">0.9</SelectItem>\n                      <SelectItem value=\"0.8\">0.8</SelectItem>\n                      <SelectItem value=\"0.7\">0.7</SelectItem>\n                      <SelectItem value=\"0.6\">0.6</SelectItem>\n                      <SelectItem value=\"0.5\">0.5 (Default)</SelectItem>\n                      <SelectItem value=\"0.4\">0.4</SelectItem>\n                      <SelectItem value=\"0.3\">0.3</SelectItem>\n                      <SelectItem value=\"0.2\">0.2</SelectItem>\n                      <SelectItem value=\"0.1\">0.1 (Lowest)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Default Change Frequency</Label>\n                  <Select defaultValue=\"weekly\">\n                    <SelectTrigger data-testid=\"select-default-changefreq\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"always\">Always</SelectItem>\n                      <SelectItem value=\"hourly\">Hourly</SelectItem>\n                      <SelectItem value=\"daily\">Daily</SelectItem>\n                      <SelectItem value=\"weekly\">Weekly</SelectItem>\n                      <SelectItem value=\"monthly\">Monthly</SelectItem>\n                      <SelectItem value=\"yearly\">Yearly</SelectItem>\n                      <SelectItem value=\"never\">Never</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Page Sitemap Settings</CardTitle>\n              <CardDescription>Configure priority and change frequency for each page</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {pages.length === 0 ? (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  <Globe className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                  <p>No pages found. Add pages via the Pages tab to configure sitemap settings.</p>\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead className=\"w-[50px]\">Include</TableHead>\n                      <TableHead>Page URL</TableHead>\n                      <TableHead className=\"w-[120px]\">Priority</TableHead>\n                      <TableHead className=\"w-[150px]\">Change Freq</TableHead>\n                      <TableHead className=\"w-[120px]\">Last Modified</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {pages.map((page) => (\n                      <TableRow key={page.id}>\n                        <TableCell>\n                          <Switch\n                            checked={page.inSitemap !== false}\n                            onCheckedChange={(checked) => updatePageSitemapSettings(page.id, checked, page.sitemapPriority, page.sitemapChangefreq)}\n                            data-testid={`switch-sitemap-${page.id}`}\n                          />\n                        </TableCell>\n                        <TableCell className=\"font-mono text-sm\">{page.pageUrl}</TableCell>\n                        <TableCell>\n                          <Select\n                            value={page.sitemapPriority || \"0.5\"}\n                            onValueChange={(v) => updatePageSitemapSettings(page.id, page.inSitemap !== false, v, page.sitemapChangefreq)}\n                          >\n                            <SelectTrigger className=\"h-8\" data-testid={`select-priority-${page.id}`}>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"1.0\">1.0</SelectItem>\n                              <SelectItem value=\"0.9\">0.9</SelectItem>\n                              <SelectItem value=\"0.8\">0.8</SelectItem>\n                              <SelectItem value=\"0.7\">0.7</SelectItem>\n                              <SelectItem value=\"0.6\">0.6</SelectItem>\n                              <SelectItem value=\"0.5\">0.5</SelectItem>\n                              <SelectItem value=\"0.4\">0.4</SelectItem>\n                              <SelectItem value=\"0.3\">0.3</SelectItem>\n                              <SelectItem value=\"0.2\">0.2</SelectItem>\n                              <SelectItem value=\"0.1\">0.1</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </TableCell>\n                        <TableCell>\n                          <Select\n                            value={page.sitemapChangefreq || \"weekly\"}\n                            onValueChange={(v) => updatePageSitemapSettings(page.id, page.inSitemap !== false, page.sitemapPriority, v)}\n                          >\n                            <SelectTrigger className=\"h-8\" data-testid={`select-changefreq-${page.id}`}>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"always\">Always</SelectItem>\n                              <SelectItem value=\"hourly\">Hourly</SelectItem>\n                              <SelectItem value=\"daily\">Daily</SelectItem>\n                              <SelectItem value=\"weekly\">Weekly</SelectItem>\n                              <SelectItem value=\"monthly\">Monthly</SelectItem>\n                              <SelectItem value=\"yearly\">Yearly</SelectItem>\n                              <SelectItem value=\"never\">Never</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </TableCell>\n                        <TableCell className=\"text-sm text-muted-foreground\">\n                          {page.updatedAt ? new Date(page.updatedAt).toLocaleDateString() : '-'}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"indexing\" className=\"space-y-6 mt-6\">\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Zap className=\"w-5 h-5 text-yellow-500\" />\n                  IndexNow (Instant Indexing)\n                </CardTitle>\n                <CardDescription>Submit URLs instantly to Google and Bing</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  IndexNow allows you to notify search engines about content changes instantly, \n                  rather than waiting for them to crawl your site.\n                </p>\n                <Button onClick={submitToIndexNow} className=\"w-full\" data-testid=\"btn-submit-indexnow\">\n                  <Zap className=\"w-4 h-4 mr-2\" />Submit All Pages to IndexNow\n                </Button>\n                <div className=\"p-3 bg-muted rounded-lg\">\n                  <p className=\"text-xs text-muted-foreground\">\n                    Supported by: Microsoft Bing, Yandex, Seznam.cz, Naver\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Globe className=\"w-5 h-5 text-blue-500\" />\n                  XML Sitemap\n                </CardTitle>\n                <CardDescription>Manage your sitemap configuration</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-3 bg-muted rounded-lg\">\n                  <span className=\"text-sm\">Pages in Sitemap</span>\n                  <Badge variant=\"secondary\">{pages.filter(p => p).length}</Badge>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" className=\"flex-1\" data-testid=\"btn-view-sitemap\">\n                    <Eye className=\"w-4 h-4 mr-2\" />View Sitemap\n                  </Button>\n                  <Button variant=\"outline\" className=\"flex-1\" data-testid=\"btn-ping-sitemap\">\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />Ping Search Engines\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Schema Markup Manager</CardTitle>\n              <CardDescription>Configure structured data for rich snippets</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\n                {['Article', 'Product', 'LocalBusiness', 'FAQ', 'HowTo', 'Organization', 'BreadcrumbList', 'Review', 'Event', 'VideoObject'].map((type) => (\n                  <div key={type} className=\"p-3 border rounded-lg flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">{type}</span>\n                    <Switch defaultChecked data-testid={`switch-schema-${type}`} />\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"settings\" className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>SEO Settings</CardTitle>\n                  <CardDescription>Configure global SEO options</CardDescription>\n                </div>\n                {settings.length === 0 && (\n                  <Button onClick={seedSettings} data-testid=\"btn-seed-settings\">\n                    <Plus className=\"w-4 h-4 mr-2\" />Load Default Settings\n                  </Button>\n                )}\n              </div>\n            </CardHeader>\n            <CardContent>\n              {settings.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Settings className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No settings configured yet.</p>\n                  <Button className=\"mt-4\" onClick={seedSettings}>Load Default Settings</Button>\n                </div>\n              ) : (\n                <Accordion type=\"multiple\" className=\"space-y-4\">\n                  {['general', 'sitemap', 'social', 'schema', 'indexing', 'images', 'audit'].map((category) => {\n                    const categorySettings = settings.filter(s => s.category === category);\n                    if (categorySettings.length === 0) return null;\n                    return (\n                      <AccordionItem key={category} value={category}>\n                        <AccordionTrigger className=\"capitalize\">{category} Settings</AccordionTrigger>\n                        <AccordionContent>\n                          <div className=\"space-y-4 pt-4\">\n                            {categorySettings.map((setting) => (\n                              <div key={setting.id} className=\"flex items-center justify-between gap-4\">\n                                <div className=\"flex-1\">\n                                  <Label className=\"capitalize\">{setting.settingKey.replace(/_/g, ' ')}</Label>\n                                  {setting.description && (\n                                    <p className=\"text-xs text-muted-foreground\">{setting.description}</p>\n                                  )}\n                                </div>\n                                {setting.settingType === 'boolean' ? (\n                                  <Switch \n                                    checked={setting.settingValue === 'true'}\n                                    onCheckedChange={(checked) => saveSetting(setting.settingKey, String(checked), 'boolean', category)}\n                                    data-testid={`switch-setting-${setting.settingKey}`}\n                                  />\n                                ) : (\n                                  <Input\n                                    className=\"max-w-[300px]\"\n                                    defaultValue={setting.settingValue || ''}\n                                    onBlur={(e) => saveSetting(setting.settingKey, e.target.value, setting.settingType, category)}\n                                    data-testid={`input-setting-${setting.settingKey}`}\n                                  />\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        </AccordionContent>\n                      </AccordionItem>\n                    );\n                  })}\n                </Accordion>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      <Dialog open={showRedirectDialog} onOpenChange={setShowRedirectDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Add New Redirect</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div>\n              <Label>Source URL</Label>\n              <Input\n                placeholder=\"/old-page\"\n                value={newRedirect.sourceUrl}\n                onChange={(e) => setNewRedirect({ ...newRedirect, sourceUrl: e.target.value })}\n                data-testid=\"input-redirect-source\"\n              />\n            </div>\n            <div>\n              <Label>Target URL</Label>\n              <Input\n                placeholder=\"/new-page\"\n                value={newRedirect.targetUrl}\n                onChange={(e) => setNewRedirect({ ...newRedirect, targetUrl: e.target.value })}\n                data-testid=\"input-redirect-target\"\n              />\n            </div>\n            <div>\n              <Label>Redirect Type</Label>\n              <Select value={newRedirect.redirectType} onValueChange={(v) => setNewRedirect({ ...newRedirect, redirectType: v })}>\n                <SelectTrigger data-testid=\"select-redirect-type\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"301\">301 (Permanent)</SelectItem>\n                  <SelectItem value=\"302\">302 (Temporary)</SelectItem>\n                  <SelectItem value=\"307\">307 (Temporary Preserve Method)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Switch\n                checked={newRedirect.isRegex}\n                onCheckedChange={(checked) => setNewRedirect({ ...newRedirect, isRegex: checked })}\n                data-testid=\"switch-redirect-regex\"\n              />\n              <Label>Use Regular Expression</Label>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowRedirectDialog(false)}>Cancel</Button>\n            <Button onClick={createRedirect} data-testid=\"btn-create-redirect\">Create Redirect</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={showKeywordDialog} onOpenChange={setShowKeywordDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Track New Keyword</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div>\n              <Label>Keyword</Label>\n              <Input\n                placeholder=\"jailbroken fire stick\"\n                value={newKeyword.keyword}\n                onChange={(e) => setNewKeyword({ ...newKeyword, keyword: e.target.value })}\n                data-testid=\"input-keyword\"\n              />\n            </div>\n            <div>\n              <Label>Target URL (optional)</Label>\n              <Input\n                placeholder=\"/\"\n                value={newKeyword.targetUrl}\n                onChange={(e) => setNewKeyword({ ...newKeyword, targetUrl: e.target.value })}\n                data-testid=\"input-keyword-url\"\n              />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Switch\n                checked={newKeyword.trackingEnabled}\n                onCheckedChange={(checked) => setNewKeyword({ ...newKeyword, trackingEnabled: checked })}\n                data-testid=\"switch-keyword-tracking\"\n              />\n              <Label>Enable Position Tracking</Label>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowKeywordDialog(false)}>Cancel</Button>\n            <Button onClick={createKeyword} data-testid=\"btn-create-keyword\">Add Keyword</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={showSitemapPreview} onOpenChange={setShowSitemapPreview}>\n        <DialogContent className=\"max-w-4xl max-h-[80vh]\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Code className=\"w-5 h-5\" />\n              Sitemap Preview\n            </DialogTitle>\n          </DialogHeader>\n          <div className=\"overflow-auto max-h-[60vh] p-4 bg-muted rounded-lg\">\n            <pre className=\"text-xs font-mono whitespace-pre-wrap\" data-testid=\"sitemap-preview-content\">\n              {sitemapPreview || 'No sitemap generated yet. Click \"Regenerate Sitemap\" to generate.'}\n            </pre>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowSitemapPreview(false)}>Close</Button>\n            <Button onClick={downloadSitemap} data-testid=\"btn-dialog-download-sitemap\">\n              <Download className=\"w-4 h-4 mr-2\" />Download\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":69473,"size_tokens":null},"server/seo-routes.ts":{"content":"import type { Express, Request, Response } from \"express\";\nimport { seoStorage } from \"./seo-storage\";\nimport { \n  createSeoRedirectSchema, \n  updateSeoPageSchema, \n  createSeoKeywordSchema,\n  runSeoAuditSchema \n} from \"@shared/schema\";\nimport { fromZodError } from \"zod-validation-error\";\n\ninterface SeoAnalysisResult {\n  titleScore: number;\n  descriptionScore: number;\n  contentScore: number;\n  readabilityScore: number;\n  keywordScore: number;\n  linkScore: number;\n  imageScore: number;\n  overallScore: number;\n  issues: Array<{ type: string; severity: string; message: string; suggestion: string }>;\n  suggestions: string[];\n}\n\nfunction analyzePageSeo(content: {\n  title?: string;\n  description?: string;\n  content?: string;\n  focusKeyword?: string;\n  images?: { alt: string }[];\n  internalLinks?: number;\n  externalLinks?: number;\n  headings?: { h1: number; h2: number; h3: number };\n}): SeoAnalysisResult {\n  const issues: Array<{ type: string; severity: string; message: string; suggestion: string }> = [];\n  const suggestions: string[] = [];\n  \n  let titleScore = 0;\n  if (content.title) {\n    const titleLen = content.title.length;\n    if (titleLen >= 50 && titleLen <= 60) titleScore = 100;\n    else if (titleLen >= 40 && titleLen <= 70) titleScore = 80;\n    else if (titleLen >= 30 && titleLen <= 80) titleScore = 60;\n    else titleScore = 40;\n    \n    if (titleLen < 30) {\n      issues.push({ type: 'title', severity: 'warning', message: 'Title is too short', suggestion: 'Add more descriptive words to your title (aim for 50-60 characters)' });\n    } else if (titleLen > 70) {\n      issues.push({ type: 'title', severity: 'warning', message: 'Title is too long', suggestion: 'Shorten your title to 60 characters or less' });\n    }\n    \n    if (content.focusKeyword && !content.title.toLowerCase().includes(content.focusKeyword.toLowerCase())) {\n      issues.push({ type: 'title', severity: 'error', message: 'Focus keyword not in title', suggestion: 'Add your focus keyword to the title' });\n      titleScore -= 20;\n    }\n  } else {\n    issues.push({ type: 'title', severity: 'error', message: 'Missing title tag', suggestion: 'Add a title tag to improve SEO' });\n  }\n\n  let descriptionScore = 0;\n  if (content.description) {\n    const descLen = content.description.length;\n    if (descLen >= 150 && descLen <= 160) descriptionScore = 100;\n    else if (descLen >= 120 && descLen <= 170) descriptionScore = 80;\n    else if (descLen >= 100 && descLen <= 200) descriptionScore = 60;\n    else descriptionScore = 40;\n    \n    if (descLen < 100) {\n      issues.push({ type: 'description', severity: 'warning', message: 'Meta description is too short', suggestion: 'Expand your description to 150-160 characters' });\n    } else if (descLen > 170) {\n      issues.push({ type: 'description', severity: 'warning', message: 'Meta description is too long', suggestion: 'Shorten to 160 characters to avoid truncation' });\n    }\n    \n    if (content.focusKeyword && !content.description.toLowerCase().includes(content.focusKeyword.toLowerCase())) {\n      issues.push({ type: 'description', severity: 'warning', message: 'Focus keyword not in description', suggestion: 'Include your focus keyword in the meta description' });\n      descriptionScore -= 15;\n    }\n  } else {\n    issues.push({ type: 'description', severity: 'error', message: 'Missing meta description', suggestion: 'Add a meta description' });\n  }\n\n  let contentScore = 0;\n  let readabilityScore = 70;\n  let keywordScore = 0;\n  \n  if (content.content) {\n    const wordCount = content.content.split(/\\s+/).length;\n    if (wordCount >= 1500) contentScore = 100;\n    else if (wordCount >= 1000) contentScore = 85;\n    else if (wordCount >= 600) contentScore = 70;\n    else if (wordCount >= 300) contentScore = 50;\n    else contentScore = 30;\n    \n    if (wordCount < 300) {\n      issues.push({ type: 'content', severity: 'error', message: 'Content is too thin', suggestion: 'Add more content (aim for at least 600 words)' });\n    }\n    \n    const avgSentenceLength = content.content.split(/[.!?]+/).filter(s => s.trim()).length;\n    const avgWordLength = content.content.length / wordCount;\n    \n    if (avgWordLength < 5) readabilityScore = 90;\n    else if (avgWordLength < 6) readabilityScore = 80;\n    else readabilityScore = 60;\n    \n    if (content.focusKeyword) {\n      const keywordRegex = new RegExp(content.focusKeyword, 'gi');\n      const keywordCount = (content.content.match(keywordRegex) || []).length;\n      const keywordDensity = (keywordCount / wordCount) * 100;\n      \n      if (keywordDensity >= 0.5 && keywordDensity <= 2.5) keywordScore = 100;\n      else if (keywordDensity > 0 && keywordDensity < 0.5) {\n        keywordScore = 60;\n        issues.push({ type: 'keyword', severity: 'warning', message: 'Keyword density is low', suggestion: 'Use your focus keyword more frequently' });\n      } else if (keywordDensity > 2.5) {\n        keywordScore = 50;\n        issues.push({ type: 'keyword', severity: 'warning', message: 'Keyword stuffing detected', suggestion: 'Reduce keyword usage to avoid penalties' });\n      }\n      \n      const firstParagraph = content.content.substring(0, 300);\n      if (!firstParagraph.toLowerCase().includes(content.focusKeyword.toLowerCase())) {\n        issues.push({ type: 'keyword', severity: 'warning', message: 'Focus keyword not in first paragraph', suggestion: 'Add focus keyword in the first 100 words' });\n        keywordScore -= 10;\n      }\n    }\n  } else {\n    issues.push({ type: 'content', severity: 'error', message: 'No content found', suggestion: 'Add content to the page' });\n  }\n\n  let linkScore = 50;\n  if (content.internalLinks !== undefined) {\n    if (content.internalLinks >= 3) linkScore += 25;\n    else if (content.internalLinks >= 1) linkScore += 15;\n    else {\n      issues.push({ type: 'links', severity: 'warning', message: 'No internal links', suggestion: 'Add internal links to related content' });\n    }\n  }\n  if (content.externalLinks !== undefined) {\n    if (content.externalLinks >= 1 && content.externalLinks <= 3) linkScore += 25;\n    else if (content.externalLinks > 3) linkScore += 15;\n  }\n  linkScore = Math.min(linkScore, 100);\n\n  let imageScore = 0;\n  if (content.images && content.images.length > 0) {\n    const imagesWithAlt = content.images.filter(img => img.alt && img.alt.length > 0).length;\n    imageScore = Math.round((imagesWithAlt / content.images.length) * 100);\n    \n    if (imagesWithAlt < content.images.length) {\n      issues.push({ type: 'images', severity: 'warning', message: `${content.images.length - imagesWithAlt} images missing alt text`, suggestion: 'Add descriptive alt text to all images' });\n    }\n  } else {\n    issues.push({ type: 'images', severity: 'info', message: 'No images found', suggestion: 'Consider adding relevant images' });\n    imageScore = 50;\n  }\n\n  if (content.headings) {\n    if (content.headings.h1 === 0) {\n      issues.push({ type: 'headings', severity: 'error', message: 'Missing H1 heading', suggestion: 'Add exactly one H1 heading' });\n    } else if (content.headings.h1 > 1) {\n      issues.push({ type: 'headings', severity: 'warning', message: 'Multiple H1 headings', suggestion: 'Use only one H1 heading per page' });\n    }\n    if (content.headings.h2 === 0) {\n      issues.push({ type: 'headings', severity: 'warning', message: 'No H2 headings', suggestion: 'Add H2 headings to structure your content' });\n    }\n  }\n\n  suggestions.push('Ensure your focus keyword appears in the URL slug');\n  suggestions.push('Add schema markup for rich snippets');\n  suggestions.push('Optimize images with descriptive filenames');\n  suggestions.push('Use short, descriptive URLs');\n\n  const overallScore = Math.round(\n    (titleScore * 0.15) +\n    (descriptionScore * 0.15) +\n    (contentScore * 0.25) +\n    (readabilityScore * 0.10) +\n    (keywordScore * 0.15) +\n    (linkScore * 0.10) +\n    (imageScore * 0.10)\n  );\n\n  return {\n    titleScore: Math.max(0, Math.min(100, titleScore)),\n    descriptionScore: Math.max(0, Math.min(100, descriptionScore)),\n    contentScore: Math.max(0, Math.min(100, contentScore)),\n    readabilityScore: Math.max(0, Math.min(100, readabilityScore)),\n    keywordScore: Math.max(0, Math.min(100, keywordScore)),\n    linkScore: Math.max(0, Math.min(100, linkScore)),\n    imageScore: Math.max(0, Math.min(100, imageScore)),\n    overallScore: Math.max(0, Math.min(100, overallScore)),\n    issues,\n    suggestions,\n  };\n}\n\nasync function runSiteAudit(auditId: string): Promise<void> {\n  try {\n    await seoStorage.updateAudit(auditId, { status: \"running\", startedAt: new Date() });\n    \n    const pages = await seoStorage.getAllPages();\n    const redirects = await seoStorage.getActiveRedirects();\n    const logs404 = await seoStorage.getUnresolved404Logs();\n    const brokenLinks = await seoStorage.getBrokenLinks();\n    \n    const issues: Array<{ type: string; severity: string; page?: string; message: string; recommendation: string }> = [];\n    const recommendations: string[] = [];\n    \n    let technicalScore = 100;\n    let contentScore = 0;\n    let linkScore = 100;\n    let performanceScore = 80;\n\n    for (const page of pages) {\n      contentScore += page.overallScore || 0;\n      \n      if (!page.metaTitle) {\n        issues.push({ type: 'meta', severity: 'error', page: page.pageUrl, message: 'Missing title tag', recommendation: 'Add a title tag' });\n        technicalScore -= 5;\n      }\n      if (!page.metaDescription) {\n        issues.push({ type: 'meta', severity: 'warning', page: page.pageUrl, message: 'Missing meta description', recommendation: 'Add a meta description' });\n        technicalScore -= 3;\n      }\n      if (!page.canonicalUrl) {\n        issues.push({ type: 'technical', severity: 'info', page: page.pageUrl, message: 'No canonical URL set', recommendation: 'Set a canonical URL' });\n      }\n      if (!page.schemaType) {\n        issues.push({ type: 'schema', severity: 'info', page: page.pageUrl, message: 'No schema markup', recommendation: 'Add structured data' });\n      }\n    }\n    \n    contentScore = pages.length > 0 ? Math.round(contentScore / pages.length) : 0;\n\n    if (logs404.length > 0) {\n      issues.push({ type: '404', severity: logs404.length > 10 ? 'error' : 'warning', message: `${logs404.length} unresolved 404 errors`, recommendation: 'Create redirects or fix broken links' });\n      technicalScore -= Math.min(logs404.length * 2, 20);\n    }\n\n    if (brokenLinks.length > 0) {\n      issues.push({ type: 'links', severity: 'error', message: `${brokenLinks.length} broken internal links`, recommendation: 'Fix or remove broken links' });\n      linkScore -= Math.min(brokenLinks.length * 5, 30);\n    }\n\n    if (redirects.length > 20) {\n      issues.push({ type: 'redirects', severity: 'info', message: 'Many redirects configured', recommendation: 'Review and consolidate redirect chains' });\n    }\n\n    recommendations.push('Regularly monitor 404 errors and create redirects');\n    recommendations.push('Ensure all pages have unique meta titles and descriptions');\n    recommendations.push('Add schema markup to improve rich snippet eligibility');\n    recommendations.push('Keep content fresh and updated');\n    recommendations.push('Build quality internal links between related content');\n\n    const criticalIssues = issues.filter(i => i.severity === 'error').length;\n    const warningIssues = issues.filter(i => i.severity === 'warning').length;\n    \n    const overallScore = Math.round(\n      (technicalScore * 0.30) +\n      (contentScore * 0.35) +\n      (linkScore * 0.20) +\n      (performanceScore * 0.15)\n    );\n\n    await seoStorage.updateAudit(auditId, {\n      status: \"completed\",\n      overallScore,\n      technicalScore: Math.max(0, technicalScore),\n      contentScore,\n      linkScore: Math.max(0, linkScore),\n      performanceScore,\n      criticalIssues,\n      warningIssues,\n      passedChecks: pages.length * 5 - criticalIssues - warningIssues,\n      issues: JSON.stringify(issues),\n      recommendations: JSON.stringify(recommendations),\n      pagesAnalyzed: pages.length,\n      completedAt: new Date(),\n    });\n  } catch (error) {\n    console.error('Audit failed:', error);\n    await seoStorage.updateAudit(auditId, { status: \"failed\" });\n  }\n}\n\nasync function submitToIndexNow(urls: string[]): Promise<{ success: boolean; message: string }> {\n  const indexNowKey = process.env.INDEXNOW_KEY;\n  const siteUrl = process.env.SITE_URL || 'https://streamstickpro.com';\n  \n  if (!indexNowKey) {\n    return { success: false, message: 'IndexNow API key not configured' };\n  }\n\n  try {\n    const response = await fetch('https://api.indexnow.org/indexnow', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        host: new URL(siteUrl).hostname,\n        key: indexNowKey,\n        urlList: urls.map(url => url.startsWith('http') ? url : `${siteUrl}${url}`),\n      }),\n    });\n\n    if (response.ok || response.status === 202) {\n      for (const url of urls) {\n        await seoStorage.upsertPage(url, {\n          indexNowSubmitted: true,\n          indexNowLastSubmit: new Date(),\n        });\n      }\n      return { success: true, message: `Submitted ${urls.length} URLs to IndexNow` };\n    } else {\n      return { success: false, message: `IndexNow returned status ${response.status}` };\n    }\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport function registerSeoRoutes(app: Express): void {\n  \n  // ============ SEO Dashboard ============\n  app.get(\"/api/admin/seo/stats\", async (req, res) => {\n    try {\n      const stats = await seoStorage.getSeoStats();\n      res.json({ data: stats });\n    } catch (error: any) {\n      console.error(\"Error fetching SEO stats:\", error);\n      res.status(500).json({ error: \"Failed to fetch SEO stats\" });\n    }\n  });\n\n  // ============ SEO Settings ============\n  app.get(\"/api/admin/seo/settings\", async (req, res) => {\n    try {\n      const settings = await seoStorage.getAllSettings();\n      res.json({ data: settings });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch settings\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/settings/:category\", async (req, res) => {\n    try {\n      const settings = await seoStorage.getSettingsByCategory(req.params.category);\n      res.json({ data: settings });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch settings\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/settings\", async (req, res) => {\n    try {\n      const { key, value, type, category, description } = req.body;\n      const setting = await seoStorage.upsertSetting(key, value, type, category, description);\n      res.json({ data: setting });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to save setting\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/settings/bulk\", async (req, res) => {\n    try {\n      const { settings } = req.body;\n      const results = [];\n      for (const s of settings) {\n        const setting = await seoStorage.upsertSetting(s.key, s.value, s.type, s.category, s.description);\n        results.push(setting);\n      }\n      res.json({ data: results });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to save settings\" });\n    }\n  });\n\n  // ============ SEO Pages ============\n  app.get(\"/api/admin/seo/pages\", async (req, res) => {\n    try {\n      const pages = await seoStorage.getAllPages();\n      res.json({ data: pages });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch pages\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/pages/:id\", async (req, res) => {\n    try {\n      const page = await seoStorage.getPageById(req.params.id);\n      if (!page) {\n        return res.status(404).json({ error: \"Page not found\" });\n      }\n      res.json({ data: page });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch page\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/pages\", async (req, res) => {\n    try {\n      const result = updateSeoPageSchema.safeParse(req.body);\n      if (!result.success) {\n        return res.status(400).json({ error: fromZodError(result.error).message });\n      }\n      const { pageUrl, ...data } = req.body;\n      const page = await seoStorage.upsertPage(pageUrl, data);\n      res.json({ data: page });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to save page\" });\n    }\n  });\n\n  app.put(\"/api/admin/seo/pages/:id\", async (req, res) => {\n    try {\n      const existingPage = await seoStorage.getPageById(req.params.id);\n      if (!existingPage) {\n        return res.status(404).json({ error: \"Page not found\" });\n      }\n      const page = await seoStorage.upsertPage(existingPage.pageUrl, req.body);\n      res.json({ data: page });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to update page\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/pages/:id\", async (req, res) => {\n    try {\n      await seoStorage.deletePage(req.params.id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to delete page\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/pages/analyze\", async (req, res) => {\n    try {\n      const { pageUrl, title, description, content, focusKeyword, images, internalLinks, externalLinks, headings } = req.body;\n      \n      const analysis = analyzePageSeo({\n        title,\n        description,\n        content,\n        focusKeyword,\n        images,\n        internalLinks,\n        externalLinks,\n        headings,\n      });\n\n      if (pageUrl) {\n        await seoStorage.updatePageScores(pageUrl, {\n          titleScore: analysis.titleScore,\n          descriptionScore: analysis.descriptionScore,\n          contentScore: analysis.contentScore,\n          readabilityScore: analysis.readabilityScore,\n          keywordScore: analysis.keywordScore,\n          linkScore: analysis.linkScore,\n          imageScore: analysis.imageScore,\n          overallScore: analysis.overallScore,\n          seoIssues: JSON.stringify(analysis.issues),\n          seoSuggestions: JSON.stringify(analysis.suggestions),\n        });\n      }\n\n      res.json({ data: analysis });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to analyze page\" });\n    }\n  });\n\n  // ============ SEO Keywords ============\n  app.get(\"/api/admin/seo/keywords\", async (req, res) => {\n    try {\n      const keywords = await seoStorage.getAllKeywords();\n      res.json({ data: keywords });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch keywords\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/keywords/tracked\", async (req, res) => {\n    try {\n      const keywords = await seoStorage.getTrackedKeywords();\n      res.json({ data: keywords });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch tracked keywords\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/keywords/:id\", async (req, res) => {\n    try {\n      const keyword = await seoStorage.getKeyword(req.params.id);\n      if (!keyword) {\n        return res.status(404).json({ error: \"Keyword not found\" });\n      }\n      const history = await seoStorage.getKeywordHistory(req.params.id, 30);\n      res.json({ data: { ...keyword, history } });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch keyword\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/keywords\", async (req, res) => {\n    try {\n      const result = createSeoKeywordSchema.safeParse(req.body);\n      if (!result.success) {\n        return res.status(400).json({ error: fromZodError(result.error).message });\n      }\n      const keyword = await seoStorage.createKeyword(result.data);\n      res.json({ data: keyword });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to create keyword\" });\n    }\n  });\n\n  app.put(\"/api/admin/seo/keywords/:id\", async (req, res) => {\n    try {\n      const keyword = await seoStorage.updateKeyword(req.params.id, req.body);\n      res.json({ data: keyword });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to update keyword\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/keywords/:id\", async (req, res) => {\n    try {\n      await seoStorage.deleteKeyword(req.params.id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to delete keyword\" });\n    }\n  });\n\n  // ============ SEO Redirects ============\n  app.get(\"/api/admin/seo/redirects\", async (req, res) => {\n    try {\n      const redirects = await seoStorage.getAllRedirects();\n      res.json({ data: redirects });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch redirects\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/redirects\", async (req, res) => {\n    try {\n      const result = createSeoRedirectSchema.safeParse(req.body);\n      if (!result.success) {\n        return res.status(400).json({ error: fromZodError(result.error).message });\n      }\n      const redirect = await seoStorage.createRedirect(result.data);\n      res.json({ data: redirect });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to create redirect\" });\n    }\n  });\n\n  app.put(\"/api/admin/seo/redirects/:id\", async (req, res) => {\n    try {\n      const redirect = await seoStorage.updateRedirect(req.params.id, req.body);\n      res.json({ data: redirect });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to update redirect\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/redirects/:id\", async (req, res) => {\n    try {\n      await seoStorage.deleteRedirect(req.params.id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to delete redirect\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/redirects/import\", async (req, res) => {\n    try {\n      const { redirects } = req.body;\n      const results = [];\n      for (const r of redirects) {\n        const redirect = await seoStorage.createRedirect({\n          sourceUrl: r.sourceUrl || r.source,\n          targetUrl: r.targetUrl || r.target,\n          redirectType: r.redirectType || r.type || \"301\",\n          isRegex: r.isRegex || false,\n          isActive: true,\n        });\n        results.push(redirect);\n      }\n      res.json({ data: results, imported: results.length });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to import redirects\" });\n    }\n  });\n\n  // ============ SEO 404 Logs ============\n  app.get(\"/api/admin/seo/404\", async (req, res) => {\n    try {\n      const logs = await seoStorage.getAll404Logs();\n      res.json({ data: logs });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch 404 logs\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/404/unresolved\", async (req, res) => {\n    try {\n      const logs = await seoStorage.getUnresolved404Logs();\n      res.json({ data: logs });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch 404 logs\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/404/:id/resolve\", async (req, res) => {\n    try {\n      const { redirectId } = req.body;\n      const log = await seoStorage.resolve404(req.params.id, redirectId);\n      res.json({ data: log });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to resolve 404\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/404/:id/ignore\", async (req, res) => {\n    try {\n      const log = await seoStorage.ignore404(req.params.id);\n      res.json({ data: log });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to ignore 404\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/404/:id/create-redirect\", async (req, res) => {\n    try {\n      const log = await seoStorage.get404Log(req.params.id);\n      if (!log) {\n        return res.status(404).json({ error: \"404 log not found\" });\n      }\n      const { targetUrl } = req.body;\n      const redirect = await seoStorage.createRedirect({\n        sourceUrl: log.url,\n        targetUrl,\n        redirectType: \"301\",\n        isActive: true,\n      });\n      await seoStorage.resolve404(req.params.id, redirect.id);\n      res.json({ data: { redirect, log } });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to create redirect from 404\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/404/:id\", async (req, res) => {\n    try {\n      await seoStorage.delete404Log(req.params.id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to delete 404 log\" });\n    }\n  });\n\n  // ============ SEO Audits ============\n  app.get(\"/api/admin/seo/audits\", async (req, res) => {\n    try {\n      const audits = await seoStorage.getAllAudits();\n      res.json({ data: audits });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch audits\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/audits/latest\", async (req, res) => {\n    try {\n      const audit = await seoStorage.getLatestAudit();\n      res.json({ data: audit });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch latest audit\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/audits/:id\", async (req, res) => {\n    try {\n      const audit = await seoStorage.getAudit(req.params.id);\n      if (!audit) {\n        return res.status(404).json({ error: \"Audit not found\" });\n      }\n      res.json({ data: audit });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch audit\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/audits/run\", async (req, res) => {\n    try {\n      const result = runSeoAuditSchema.safeParse(req.body);\n      const auditType = result.success ? result.data.auditType : \"full\";\n      \n      const audit = await seoStorage.createAudit({ auditType, status: \"pending\" });\n      \n      runSiteAudit(audit.id).catch(console.error);\n      \n      res.json({ data: audit, message: \"Audit started\" });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to start audit\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/audits/:id\", async (req, res) => {\n    try {\n      await seoStorage.deleteAudit(req.params.id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to delete audit\" });\n    }\n  });\n\n  // ============ SEO Internal Links ============\n  app.get(\"/api/admin/seo/links/broken\", async (req, res) => {\n    try {\n      const links = await seoStorage.getBrokenLinks();\n      res.json({ data: links });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch broken links\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/links/from/:url\", async (req, res) => {\n    try {\n      const links = await seoStorage.getInternalLinksFromPage(decodeURIComponent(req.params.url));\n      res.json({ data: links });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch links\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/links/to/:url\", async (req, res) => {\n    try {\n      const links = await seoStorage.getInternalLinksToPage(decodeURIComponent(req.params.url));\n      res.json({ data: links });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch links\" });\n    }\n  });\n\n  // ============ SEO Images ============\n  app.get(\"/api/admin/seo/images\", async (req, res) => {\n    try {\n      const pageUrl = req.query.page as string;\n      if (pageUrl) {\n        const images = await seoStorage.getImagesByPage(pageUrl);\n        res.json({ data: images });\n      } else {\n        res.json({ data: [] });\n      }\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch images\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/images/missing-alt\", async (req, res) => {\n    try {\n      const images = await seoStorage.getImagesWithoutAlt();\n      res.json({ data: images });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch images\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/images/:id/alt\", async (req, res) => {\n    try {\n      const { altText } = req.body;\n      const image = await seoStorage.getImage(req.params.id);\n      if (!image) {\n        return res.status(404).json({ error: \"Image not found\" });\n      }\n      const updated = await seoStorage.upsertImage(image.imageUrl, { altText, altTextGenerated: false });\n      res.json({ data: updated });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to update alt text\" });\n    }\n  });\n\n  // ============ SEO Schema Types ============\n  app.get(\"/api/admin/seo/schema-types\", async (req, res) => {\n    try {\n      const types = await seoStorage.getAllSchemaTypes();\n      res.json({ data: types });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch schema types\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/schema-types\", async (req, res) => {\n    try {\n      const { schemaType, isEnabled, defaultTemplate, description, applicablePageTypes } = req.body;\n      const type = await seoStorage.upsertSchemaType(schemaType, { isEnabled, defaultTemplate, description, applicablePageTypes });\n      res.json({ data: type });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to save schema type\" });\n    }\n  });\n\n  // ============ SEO IndexNow ============\n  app.post(\"/api/admin/seo/indexnow/submit\", async (req, res) => {\n    try {\n      const { urls } = req.body;\n      if (!urls || !Array.isArray(urls) || urls.length === 0) {\n        return res.status(400).json({ error: \"URLs array required\" });\n      }\n      const result = await submitToIndexNow(urls);\n      res.json(result);\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to submit to IndexNow\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/indexnow/submit-all\", async (req, res) => {\n    try {\n      const pages = await seoStorage.getAllPages();\n      const urls = pages.filter(p => p.inSitemap).map(p => p.pageUrl);\n      if (urls.length === 0) {\n        return res.json({ success: false, message: \"No pages to submit\" });\n      }\n      const result = await submitToIndexNow(urls);\n      res.json(result);\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to submit to IndexNow\" });\n    }\n  });\n\n  // ============ SEO Content Suggestions ============\n  app.get(\"/api/admin/seo/suggestions\", async (req, res) => {\n    try {\n      const pageUrl = req.query.page as string;\n      if (pageUrl) {\n        const suggestions = await seoStorage.getSuggestionsByPage(pageUrl);\n        res.json({ data: suggestions });\n      } else {\n        const suggestions = await seoStorage.getPendingSuggestions();\n        res.json({ data: suggestions });\n      }\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch suggestions\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/suggestions/:id/apply\", async (req, res) => {\n    try {\n      await seoStorage.updateSuggestionStatus(req.params.id, \"applied\");\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to apply suggestion\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/suggestions/:id/dismiss\", async (req, res) => {\n    try {\n      await seoStorage.updateSuggestionStatus(req.params.id, \"dismissed\");\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to dismiss suggestion\" });\n    }\n  });\n\n  // ============ SEO Sitemap ============\n  app.get(\"/api/admin/seo/sitemap/config\", async (req, res) => {\n    try {\n      const pages = await seoStorage.getAllPages();\n      const sitemapPages = pages.filter(p => p.inSitemap).map(p => ({\n        url: p.pageUrl,\n        priority: p.sitemapPriority,\n        changefreq: p.sitemapChangefreq,\n        lastmod: p.updatedAt,\n      }));\n      res.json({ data: sitemapPages });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch sitemap config\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/sitemap/generate\", async (req, res) => {\n    try {\n      const pages = await seoStorage.getAllPages();\n      const siteUrl = process.env.SITE_URL || 'https://streamstickpro.com';\n      \n      let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n      xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\\n';\n      \n      for (const page of pages.filter(p => p.inSitemap)) {\n        xml += '  <url>\\n';\n        xml += `    <loc>${siteUrl}${page.pageUrl}</loc>\\n`;\n        xml += `    <lastmod>${page.updatedAt?.toISOString().split('T')[0] || new Date().toISOString().split('T')[0]}</lastmod>\\n`;\n        xml += `    <changefreq>${page.sitemapChangefreq || 'weekly'}</changefreq>\\n`;\n        xml += `    <priority>${page.sitemapPriority || '0.5'}</priority>\\n`;\n        xml += '  </url>\\n';\n      }\n      \n      xml += '</urlset>';\n      \n      res.json({ data: xml, pagesIncluded: pages.filter(p => p.inSitemap).length });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to generate sitemap\" });\n    }\n  });\n\n  // ============ SEO Breadcrumbs ============\n  app.get(\"/api/admin/seo/breadcrumbs/:url\", async (req, res) => {\n    try {\n      const breadcrumb = await seoStorage.getBreadcrumb(decodeURIComponent(req.params.url));\n      res.json({ data: breadcrumb });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch breadcrumb\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/breadcrumbs\", async (req, res) => {\n    try {\n      const { pageUrl, breadcrumbPath, customLabels } = req.body;\n      const breadcrumb = await seoStorage.upsertBreadcrumb(pageUrl, JSON.stringify(breadcrumbPath), customLabels ? JSON.stringify(customLabels) : undefined);\n      res.json({ data: breadcrumb });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to save breadcrumb\" });\n    }\n  });\n\n  // ============ Seed Default Schema Types ============\n  app.post(\"/api/admin/seo/seed-schema-types\", async (req, res) => {\n    try {\n      const schemaTypes = [\n        { schemaType: 'Article', description: 'For blog posts and news articles', applicablePageTypes: ['post'] },\n        { schemaType: 'Product', description: 'For e-commerce product pages', applicablePageTypes: ['product'] },\n        { schemaType: 'LocalBusiness', description: 'For local business information', applicablePageTypes: ['page'] },\n        { schemaType: 'Organization', description: 'For company/organization pages', applicablePageTypes: ['page'] },\n        { schemaType: 'FAQ', description: 'For FAQ pages and sections', applicablePageTypes: ['page', 'post'] },\n        { schemaType: 'HowTo', description: 'For tutorial and how-to content', applicablePageTypes: ['post'] },\n        { schemaType: 'Review', description: 'For product/service reviews', applicablePageTypes: ['post', 'product'] },\n        { schemaType: 'Event', description: 'For event pages', applicablePageTypes: ['page'] },\n        { schemaType: 'VideoObject', description: 'For video content pages', applicablePageTypes: ['page', 'post'] },\n        { schemaType: 'BreadcrumbList', description: 'For breadcrumb navigation', applicablePageTypes: ['page', 'post', 'product'] },\n      ];\n\n      for (const st of schemaTypes) {\n        await seoStorage.upsertSchemaType(st.schemaType, { \n          isEnabled: true, \n          description: st.description, \n          applicablePageTypes: st.applicablePageTypes \n        });\n      }\n\n      res.json({ success: true, seeded: schemaTypes.length });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to seed schema types\" });\n    }\n  });\n\n  // ============ Seed Default Settings ============\n  app.post(\"/api/admin/seo/seed-settings\", async (req, res) => {\n    try {\n      const defaultSettings = [\n        { key: 'site_title', value: 'StreamStickPro', type: 'string', category: 'general', description: 'Default site title' },\n        { key: 'site_description', value: 'Premium Jailbroken Fire Sticks & IPTV Subscriptions', type: 'string', category: 'general', description: 'Default meta description' },\n        { key: 'title_separator', value: '|', type: 'string', category: 'general', description: 'Separator between page title and site name' },\n        { key: 'robots_default', value: 'index, follow', type: 'string', category: 'general', description: 'Default robots meta tag' },\n        { key: 'sitemap_enabled', value: 'true', type: 'boolean', category: 'sitemap', description: 'Enable XML sitemap' },\n        { key: 'sitemap_posts', value: 'true', type: 'boolean', category: 'sitemap', description: 'Include posts in sitemap' },\n        { key: 'sitemap_products', value: 'true', type: 'boolean', category: 'sitemap', description: 'Include products in sitemap' },\n        { key: 'sitemap_default_priority', value: '0.5', type: 'string', category: 'sitemap', description: 'Default sitemap priority' },\n        { key: 'sitemap_default_changefreq', value: 'weekly', type: 'string', category: 'sitemap', description: 'Default change frequency' },\n        { key: 'og_default_image', value: '', type: 'string', category: 'social', description: 'Default Open Graph image URL' },\n        { key: 'twitter_card_type', value: 'summary_large_image', type: 'string', category: 'social', description: 'Twitter card type' },\n        { key: 'twitter_site', value: '@streamstickpro', type: 'string', category: 'social', description: 'Twitter site handle' },\n        { key: 'schema_organization', value: 'true', type: 'boolean', category: 'schema', description: 'Enable Organization schema on all pages' },\n        { key: 'schema_breadcrumbs', value: 'true', type: 'boolean', category: 'schema', description: 'Enable breadcrumb schema' },\n        { key: 'indexnow_enabled', value: 'false', type: 'boolean', category: 'indexing', description: 'Enable IndexNow auto-submission' },\n        { key: 'auto_generate_alt', value: 'true', type: 'boolean', category: 'images', description: 'Auto-generate alt text for images' },\n        { key: 'lazy_loading', value: 'true', type: 'boolean', category: 'images', description: 'Enable lazy loading for images' },\n        { key: 'audit_schedule', value: 'weekly', type: 'string', category: 'audit', description: 'Automatic audit frequency' },\n      ];\n\n      for (const s of defaultSettings) {\n        await seoStorage.upsertSetting(s.key, s.value, s.type, s.category, s.description);\n      }\n\n      res.json({ success: true, seeded: defaultSettings.length });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to seed settings\" });\n    }\n  });\n\n  // ============ SEO Internal Links ============\n  app.get(\"/api/admin/seo/internal-links\", async (req, res) => {\n    try {\n      const links = await seoStorage.getAllInternalLinks();\n      res.json({ data: links });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch internal links\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/internal-links/stats\", async (req, res) => {\n    try {\n      const stats = await seoStorage.getInternalLinkStats();\n      res.json({ data: stats });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch link stats\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/internal-links/orphans\", async (req, res) => {\n    try {\n      const orphans = await seoStorage.getOrphanPages();\n      res.json({ data: orphans });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch orphan pages\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/internal-links/few-links\", async (req, res) => {\n    try {\n      const threshold = parseInt(req.query.threshold as string) || 2;\n      const pages = await seoStorage.getPagesWithFewLinks(threshold);\n      res.json({ data: pages });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch pages with few links\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/internal-links/suggestions\", async (req, res) => {\n    try {\n      const suggestions = await seoStorage.getLinkSuggestions();\n      res.json({ data: suggestions });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch link suggestions\" });\n    }\n  });\n\n  app.get(\"/api/admin/seo/internal-links/broken\", async (req, res) => {\n    try {\n      const brokenLinks = await seoStorage.getBrokenLinks();\n      res.json({ data: brokenLinks });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to fetch broken links\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/internal-links/crawl\", async (req, res) => {\n    try {\n      await seoStorage.deleteAllInternalLinks();\n      \n      const pages = await seoStorage.getAllPages();\n      const blogPosts = await import(\"./storage\").then(m => m.storage.getAllBlogPosts());\n      const products = await import(\"./storage\").then(m => m.storage.getRealProducts());\n      \n      const sitePages: Array<{url: string; title: string}> = [\n        { url: '/', title: 'Home' },\n        { url: '/blog', title: 'Blog' },\n        { url: '/checkout', title: 'Checkout' },\n        ...blogPosts.filter((p: any) => p.published).map((p: any) => ({ url: `/blog/${p.slug}`, title: p.title })),\n        ...products.map((p: any) => ({ url: `/product/${p.id}`, title: p.name })),\n      ];\n      \n      let linksCreated = 0;\n      for (const page of sitePages) {\n        for (const targetPage of sitePages) {\n          if (page.url === targetPage.url) continue;\n          if (page.url === '/' && targetPage.url !== '/blog') {\n            await seoStorage.upsertInternalLink(page.url, targetPage.url, targetPage.title, 'internal');\n            linksCreated++;\n          }\n          if (page.url === '/blog' && targetPage.url.startsWith('/blog/')) {\n            await seoStorage.upsertInternalLink(page.url, targetPage.url, targetPage.title, 'internal');\n            linksCreated++;\n          }\n        }\n      }\n      \n      res.json({ success: true, linksCreated, pagesScanned: sitePages.length });\n    } catch (error: any) {\n      console.error(\"Crawl error:\", error);\n      res.status(500).json({ error: \"Failed to crawl internal links\" });\n    }\n  });\n\n  app.post(\"/api/admin/seo/internal-links\", async (req, res) => {\n    try {\n      const { sourceUrl, targetUrl, anchorText, linkType } = req.body;\n      const link = await seoStorage.upsertInternalLink(sourceUrl, targetUrl, anchorText, linkType || 'internal');\n      res.json({ data: link });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to create internal link\" });\n    }\n  });\n\n  app.delete(\"/api/admin/seo/internal-links/clear\", async (req, res) => {\n    try {\n      await seoStorage.deleteAllInternalLinks();\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(500).json({ error: \"Failed to clear internal links\" });\n    }\n  });\n}\n","path":null,"size_bytes":42704,"size_tokens":null},"server/seo-storage.ts":{"content":"import { eq, desc, and, sql, gte, lte, or, ilike, asc } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport {\n  seoSettings,\n  seoPages,\n  seoKeywords,\n  seoKeywordHistory,\n  seoRedirects,\n  seo404Logs,\n  seoAudits,\n  seoInternalLinks,\n  seoImages,\n  seoAnalyticsCache,\n  seoContentSuggestions,\n  seoSchemaTypes,\n  seoBreadcrumbs,\n  type SeoSetting,\n  type SeoPage,\n  type SeoKeyword,\n  type SeoKeywordHistory,\n  type SeoRedirect,\n  type Seo404Log,\n  type SeoAudit,\n  type SeoInternalLink,\n  type SeoImage,\n  type SeoAnalyticsCache,\n  type SeoContentSuggestion,\n  type SeoSchemaType,\n  type SeoBreadcrumb,\n  type InsertSeoSetting,\n  type InsertSeoPage,\n  type InsertSeoKeyword,\n  type InsertSeoRedirect,\n  type InsertSeo404Log,\n  type InsertSeoAudit,\n} from \"@shared/schema\";\n\nexport class SeoStorage {\n  // ============ SEO Settings ============\n  async getSetting(key: string): Promise<SeoSetting | undefined> {\n    const [setting] = await db.select().from(seoSettings).where(eq(seoSettings.settingKey, key));\n    return setting;\n  }\n\n  async getSettingsByCategory(category: string): Promise<SeoSetting[]> {\n    return db.select().from(seoSettings).where(eq(seoSettings.category, category));\n  }\n\n  async getAllSettings(): Promise<SeoSetting[]> {\n    return db.select().from(seoSettings).orderBy(seoSettings.category, seoSettings.settingKey);\n  }\n\n  async upsertSetting(key: string, value: string, type: string = \"string\", category: string = \"general\", description?: string): Promise<SeoSetting> {\n    const existing = await this.getSetting(key);\n    if (existing) {\n      const [updated] = await db.update(seoSettings)\n        .set({ settingValue: value, settingType: type, category, description, updatedAt: new Date() })\n        .where(eq(seoSettings.settingKey, key))\n        .returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoSettings).values({\n      settingKey: key,\n      settingValue: value,\n      settingType: type,\n      category,\n      description,\n    }).returning();\n    return created;\n  }\n\n  async deleteSetting(key: string): Promise<boolean> {\n    const result = await db.delete(seoSettings).where(eq(seoSettings.settingKey, key));\n    return true;\n  }\n\n  // ============ SEO Pages ============\n  async getPage(url: string): Promise<SeoPage | undefined> {\n    const [page] = await db.select().from(seoPages).where(eq(seoPages.pageUrl, url));\n    return page;\n  }\n\n  async getPageById(id: string): Promise<SeoPage | undefined> {\n    const [page] = await db.select().from(seoPages).where(eq(seoPages.id, id));\n    return page;\n  }\n\n  async getAllPages(): Promise<SeoPage[]> {\n    return db.select().from(seoPages).orderBy(desc(seoPages.updatedAt));\n  }\n\n  async getPagesByType(pageType: string): Promise<SeoPage[]> {\n    return db.select().from(seoPages).where(eq(seoPages.pageType, pageType));\n  }\n\n  async getPagesByScore(minScore: number): Promise<SeoPage[]> {\n    return db.select().from(seoPages).where(gte(seoPages.overallScore, minScore)).orderBy(desc(seoPages.overallScore));\n  }\n\n  async upsertPage(pageUrl: string, data: Partial<InsertSeoPage>): Promise<SeoPage> {\n    const existing = await this.getPage(pageUrl);\n    if (existing) {\n      const [updated] = await db.update(seoPages)\n        .set({ ...data, updatedAt: new Date() })\n        .where(eq(seoPages.pageUrl, pageUrl))\n        .returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoPages).values({\n      pageUrl,\n      ...data,\n    }).returning();\n    return created;\n  }\n\n  async deletePage(id: string): Promise<boolean> {\n    await db.delete(seoPages).where(eq(seoPages.id, id));\n    return true;\n  }\n\n  async updatePageScores(pageUrl: string, scores: {\n    titleScore?: number;\n    descriptionScore?: number;\n    contentScore?: number;\n    readabilityScore?: number;\n    keywordScore?: number;\n    linkScore?: number;\n    imageScore?: number;\n    overallScore?: number;\n    seoIssues?: string;\n    seoSuggestions?: string;\n  }): Promise<SeoPage | undefined> {\n    const [updated] = await db.update(seoPages)\n      .set({ ...scores, lastAnalyzed: new Date(), updatedAt: new Date() })\n      .where(eq(seoPages.pageUrl, pageUrl))\n      .returning();\n    return updated;\n  }\n\n  // ============ SEO Keywords ============\n  async getKeyword(id: string): Promise<SeoKeyword | undefined> {\n    const [keyword] = await db.select().from(seoKeywords).where(eq(seoKeywords.id, id));\n    return keyword;\n  }\n\n  async getKeywordByName(keyword: string): Promise<SeoKeyword | undefined> {\n    const [found] = await db.select().from(seoKeywords).where(eq(seoKeywords.keyword, keyword));\n    return found;\n  }\n\n  async getAllKeywords(): Promise<SeoKeyword[]> {\n    return db.select().from(seoKeywords).orderBy(desc(seoKeywords.createdAt));\n  }\n\n  async getTrackedKeywords(): Promise<SeoKeyword[]> {\n    return db.select().from(seoKeywords).where(eq(seoKeywords.trackingEnabled, true)).orderBy(seoKeywords.currentPosition);\n  }\n\n  async createKeyword(data: InsertSeoKeyword): Promise<SeoKeyword> {\n    const [created] = await db.insert(seoKeywords).values(data).returning();\n    return created;\n  }\n\n  async updateKeyword(id: string, data: Partial<InsertSeoKeyword>): Promise<SeoKeyword | undefined> {\n    const [updated] = await db.update(seoKeywords).set(data).where(eq(seoKeywords.id, id)).returning();\n    return updated;\n  }\n\n  async deleteKeyword(id: string): Promise<boolean> {\n    await db.delete(seoKeywords).where(eq(seoKeywords.id, id));\n    return true;\n  }\n\n  async recordKeywordPosition(keywordId: string, position: number, url?: string, serpFeatures?: string[]): Promise<void> {\n    await db.insert(seoKeywordHistory).values({\n      keywordId,\n      position,\n      url,\n      serpFeatures,\n    });\n    \n    const keyword = await this.getKeyword(keywordId);\n    if (keyword) {\n      const positionChange = keyword.currentPosition ? keyword.currentPosition - position : 0;\n      await this.updateKeyword(keywordId, {\n        previousPosition: keyword.currentPosition,\n        currentPosition: position,\n        positionChange,\n        bestPosition: keyword.bestPosition ? Math.min(keyword.bestPosition, position) : position,\n        lastChecked: new Date(),\n      });\n    }\n  }\n\n  async getKeywordHistory(keywordId: string, days: number = 30): Promise<SeoKeywordHistory[]> {\n    const since = new Date();\n    since.setDate(since.getDate() - days);\n    return db.select().from(seoKeywordHistory)\n      .where(and(eq(seoKeywordHistory.keywordId, keywordId), gte(seoKeywordHistory.checkedAt, since)))\n      .orderBy(asc(seoKeywordHistory.checkedAt));\n  }\n\n  // ============ SEO Redirects ============\n  async getRedirect(id: string): Promise<SeoRedirect | undefined> {\n    const [redirect] = await db.select().from(seoRedirects).where(eq(seoRedirects.id, id));\n    return redirect;\n  }\n\n  async getRedirectBySource(sourceUrl: string): Promise<SeoRedirect | undefined> {\n    const [redirect] = await db.select().from(seoRedirects)\n      .where(and(eq(seoRedirects.sourceUrl, sourceUrl), eq(seoRedirects.isActive, true)));\n    return redirect;\n  }\n\n  async getAllRedirects(): Promise<SeoRedirect[]> {\n    return db.select().from(seoRedirects).orderBy(desc(seoRedirects.createdAt));\n  }\n\n  async getActiveRedirects(): Promise<SeoRedirect[]> {\n    return db.select().from(seoRedirects).where(eq(seoRedirects.isActive, true));\n  }\n\n  async createRedirect(data: InsertSeoRedirect): Promise<SeoRedirect> {\n    const [created] = await db.insert(seoRedirects).values(data).returning();\n    return created;\n  }\n\n  async updateRedirect(id: string, data: Partial<InsertSeoRedirect>): Promise<SeoRedirect | undefined> {\n    const [updated] = await db.update(seoRedirects)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(seoRedirects.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteRedirect(id: string): Promise<boolean> {\n    await db.delete(seoRedirects).where(eq(seoRedirects.id, id));\n    return true;\n  }\n\n  async incrementRedirectHit(id: string): Promise<void> {\n    await db.update(seoRedirects)\n      .set({ \n        hitCount: sql`${seoRedirects.hitCount} + 1`,\n        lastHit: new Date(),\n      })\n      .where(eq(seoRedirects.id, id));\n  }\n\n  // ============ SEO 404 Logs ============\n  async get404Log(id: string): Promise<Seo404Log | undefined> {\n    const [log] = await db.select().from(seo404Logs).where(eq(seo404Logs.id, id));\n    return log;\n  }\n\n  async get404LogByUrl(url: string): Promise<Seo404Log | undefined> {\n    const [log] = await db.select().from(seo404Logs).where(eq(seo404Logs.url, url));\n    return log;\n  }\n\n  async getAll404Logs(): Promise<Seo404Log[]> {\n    return db.select().from(seo404Logs).orderBy(desc(seo404Logs.hitCount));\n  }\n\n  async getUnresolved404Logs(): Promise<Seo404Log[]> {\n    return db.select().from(seo404Logs)\n      .where(and(eq(seo404Logs.resolved, false), eq(seo404Logs.ignored, false)))\n      .orderBy(desc(seo404Logs.hitCount));\n  }\n\n  async log404(url: string, referrer?: string, userAgent?: string, ipAddress?: string): Promise<Seo404Log> {\n    const existing = await this.get404LogByUrl(url);\n    if (existing) {\n      const [updated] = await db.update(seo404Logs)\n        .set({ \n          hitCount: sql`${seo404Logs.hitCount} + 1`,\n          lastHit: new Date(),\n          referrer: referrer || existing.referrer,\n        })\n        .where(eq(seo404Logs.url, url))\n        .returning();\n      return updated;\n    }\n    const [created] = await db.insert(seo404Logs).values({\n      url,\n      referrer,\n      userAgent,\n      ipAddress,\n    }).returning();\n    return created;\n  }\n\n  async resolve404(id: string, redirectId?: string): Promise<Seo404Log | undefined> {\n    const [updated] = await db.update(seo404Logs)\n      .set({ resolved: true, resolvedRedirectId: redirectId })\n      .where(eq(seo404Logs.id, id))\n      .returning();\n    return updated;\n  }\n\n  async ignore404(id: string): Promise<Seo404Log | undefined> {\n    const [updated] = await db.update(seo404Logs)\n      .set({ ignored: true })\n      .where(eq(seo404Logs.id, id))\n      .returning();\n    return updated;\n  }\n\n  async delete404Log(id: string): Promise<boolean> {\n    await db.delete(seo404Logs).where(eq(seo404Logs.id, id));\n    return true;\n  }\n\n  // ============ SEO Audits ============\n  async getAudit(id: string): Promise<SeoAudit | undefined> {\n    const [audit] = await db.select().from(seoAudits).where(eq(seoAudits.id, id));\n    return audit;\n  }\n\n  async getAllAudits(): Promise<SeoAudit[]> {\n    return db.select().from(seoAudits).orderBy(desc(seoAudits.createdAt));\n  }\n\n  async getLatestAudit(): Promise<SeoAudit | undefined> {\n    const [audit] = await db.select().from(seoAudits)\n      .where(eq(seoAudits.status, \"completed\"))\n      .orderBy(desc(seoAudits.completedAt))\n      .limit(1);\n    return audit;\n  }\n\n  async createAudit(data: InsertSeoAudit): Promise<SeoAudit> {\n    const [created] = await db.insert(seoAudits).values(data).returning();\n    return created;\n  }\n\n  async updateAudit(id: string, data: Partial<InsertSeoAudit>): Promise<SeoAudit | undefined> {\n    const [updated] = await db.update(seoAudits).set(data).where(eq(seoAudits.id, id)).returning();\n    return updated;\n  }\n\n  async deleteAudit(id: string): Promise<boolean> {\n    await db.delete(seoAudits).where(eq(seoAudits.id, id));\n    return true;\n  }\n\n  // ============ SEO Internal Links ============\n  async getInternalLinksFromPage(sourceUrl: string): Promise<SeoInternalLink[]> {\n    return db.select().from(seoInternalLinks).where(eq(seoInternalLinks.sourceUrl, sourceUrl));\n  }\n\n  async getInternalLinksToPage(targetUrl: string): Promise<SeoInternalLink[]> {\n    return db.select().from(seoInternalLinks).where(eq(seoInternalLinks.targetUrl, targetUrl));\n  }\n\n  async getBrokenLinks(): Promise<SeoInternalLink[]> {\n    return db.select().from(seoInternalLinks).where(eq(seoInternalLinks.isBroken, true));\n  }\n\n  async upsertInternalLink(sourceUrl: string, targetUrl: string, anchorText?: string, linkType: string = \"internal\"): Promise<SeoInternalLink> {\n    const existing = await db.select().from(seoInternalLinks)\n      .where(and(eq(seoInternalLinks.sourceUrl, sourceUrl), eq(seoInternalLinks.targetUrl, targetUrl)));\n    \n    if (existing.length > 0) {\n      const [updated] = await db.update(seoInternalLinks)\n        .set({ anchorText, linkType, lastChecked: new Date() })\n        .where(and(eq(seoInternalLinks.sourceUrl, sourceUrl), eq(seoInternalLinks.targetUrl, targetUrl)))\n        .returning();\n      return updated;\n    }\n    \n    const [created] = await db.insert(seoInternalLinks).values({\n      sourceUrl,\n      targetUrl,\n      anchorText,\n      linkType,\n    }).returning();\n    return created;\n  }\n\n  async markLinkBroken(sourceUrl: string, targetUrl: string, isBroken: boolean): Promise<void> {\n    await db.update(seoInternalLinks)\n      .set({ isBroken, lastChecked: new Date() })\n      .where(and(eq(seoInternalLinks.sourceUrl, sourceUrl), eq(seoInternalLinks.targetUrl, targetUrl)));\n  }\n\n  async getAllInternalLinks(): Promise<SeoInternalLink[]> {\n    return db.select().from(seoInternalLinks).orderBy(seoInternalLinks.sourceUrl);\n  }\n\n  async deleteAllInternalLinks(): Promise<void> {\n    await db.delete(seoInternalLinks);\n  }\n\n  async getInternalLinkStats(): Promise<{\n    totalLinks: number;\n    uniqueSourcePages: number;\n    uniqueTargetPages: number;\n    brokenLinks: number;\n    externalLinks: number;\n  }> {\n    const allLinks = await db.select().from(seoInternalLinks);\n    const sourcePages = new Set(allLinks.map(l => l.sourceUrl));\n    const targetPages = new Set(allLinks.map(l => l.targetUrl));\n    const brokenCount = allLinks.filter(l => l.isBroken).length;\n    const externalCount = allLinks.filter(l => l.linkType === 'external').length;\n    \n    return {\n      totalLinks: allLinks.length,\n      uniqueSourcePages: sourcePages.size,\n      uniqueTargetPages: targetPages.size,\n      brokenLinks: brokenCount,\n      externalLinks: externalCount,\n    };\n  }\n\n  async getOrphanPages(): Promise<string[]> {\n    const pages = await this.getAllPages();\n    const allLinks = await db.select().from(seoInternalLinks);\n    const targetUrls = new Set(allLinks.map(l => l.targetUrl));\n    \n    return pages\n      .filter(p => !targetUrls.has(p.pageUrl) && p.pageUrl !== '/')\n      .map(p => p.pageUrl);\n  }\n\n  async getPagesWithFewLinks(threshold: number = 2): Promise<Array<{ pageUrl: string; inboundCount: number }>> {\n    const pages = await this.getAllPages();\n    const allLinks = await db.select().from(seoInternalLinks);\n    \n    const inboundCounts: Record<string, number> = {};\n    for (const link of allLinks) {\n      inboundCounts[link.targetUrl] = (inboundCounts[link.targetUrl] || 0) + 1;\n    }\n    \n    return pages\n      .map(p => ({ pageUrl: p.pageUrl, inboundCount: inboundCounts[p.pageUrl] || 0 }))\n      .filter(p => p.inboundCount < threshold && p.pageUrl !== '/')\n      .sort((a, b) => a.inboundCount - b.inboundCount);\n  }\n\n  async getLinkSuggestions(): Promise<Array<{ sourceUrl: string; targetUrl: string; reason: string }>> {\n    const pages = await this.getAllPages();\n    const allLinks = await db.select().from(seoInternalLinks);\n    const existingPairs = new Set(allLinks.map(l => `${l.sourceUrl}|${l.targetUrl}`));\n    \n    const suggestions: Array<{ sourceUrl: string; targetUrl: string; reason: string }> = [];\n    \n    for (const sourcePage of pages) {\n      if (!sourcePage.focusKeyword) continue;\n      \n      for (const targetPage of pages) {\n        if (sourcePage.pageUrl === targetPage.pageUrl) continue;\n        if (existingPairs.has(`${sourcePage.pageUrl}|${targetPage.pageUrl}`)) continue;\n        \n        const sourceKeyword = sourcePage.focusKeyword?.toLowerCase() || '';\n        const targetTitle = targetPage.metaTitle?.toLowerCase() || '';\n        const targetDesc = targetPage.metaDescription?.toLowerCase() || '';\n        const targetKeyword = targetPage.focusKeyword?.toLowerCase() || '';\n        \n        if (sourceKeyword && (targetTitle.includes(sourceKeyword) || targetDesc.includes(sourceKeyword) || targetKeyword.includes(sourceKeyword))) {\n          suggestions.push({\n            sourceUrl: sourcePage.pageUrl,\n            targetUrl: targetPage.pageUrl,\n            reason: `\"${sourcePage.focusKeyword}\" keyword matches target page content`\n          });\n        }\n      }\n    }\n    \n    return suggestions.slice(0, 20);\n  }\n\n  // ============ SEO Images ============\n  async getImage(id: string): Promise<SeoImage | undefined> {\n    const [image] = await db.select().from(seoImages).where(eq(seoImages.id, id));\n    return image;\n  }\n\n  async getImagesByPage(pageUrl: string): Promise<SeoImage[]> {\n    return db.select().from(seoImages).where(eq(seoImages.pageUrl, pageUrl));\n  }\n\n  async getImagesWithoutAlt(): Promise<SeoImage[]> {\n    return db.select().from(seoImages).where(or(eq(seoImages.altText, \"\"), sql`${seoImages.altText} IS NULL`));\n  }\n\n  async upsertImage(imageUrl: string, data: Partial<SeoImage>): Promise<SeoImage> {\n    const existing = await db.select().from(seoImages).where(eq(seoImages.imageUrl, imageUrl));\n    if (existing.length > 0) {\n      const [updated] = await db.update(seoImages).set(data).where(eq(seoImages.imageUrl, imageUrl)).returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoImages).values({ imageUrl, ...data }).returning();\n    return created;\n  }\n\n  // ============ SEO Analytics Cache ============\n  async getCachedAnalytics(dataType: string, dateRange: string, source: string = \"gsc\"): Promise<SeoAnalyticsCache | undefined> {\n    const [cached] = await db.select().from(seoAnalyticsCache)\n      .where(and(\n        eq(seoAnalyticsCache.dataType, dataType),\n        eq(seoAnalyticsCache.dateRange, dateRange),\n        eq(seoAnalyticsCache.source, source)\n      ));\n    return cached;\n  }\n\n  async upsertAnalyticsCache(dataType: string, dateRange: string, data: string, source: string = \"gsc\"): Promise<SeoAnalyticsCache> {\n    const existing = await this.getCachedAnalytics(dataType, dateRange, source);\n    if (existing) {\n      const [updated] = await db.update(seoAnalyticsCache)\n        .set({ data, fetchedAt: new Date() })\n        .where(eq(seoAnalyticsCache.id, existing.id))\n        .returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoAnalyticsCache).values({\n      dataType,\n      dateRange,\n      data,\n      source,\n    }).returning();\n    return created;\n  }\n\n  // ============ SEO Content Suggestions ============\n  async getSuggestionsByPage(pageUrl: string): Promise<SeoContentSuggestion[]> {\n    return db.select().from(seoContentSuggestions)\n      .where(eq(seoContentSuggestions.pageUrl, pageUrl))\n      .orderBy(desc(seoContentSuggestions.createdAt));\n  }\n\n  async getPendingSuggestions(): Promise<SeoContentSuggestion[]> {\n    return db.select().from(seoContentSuggestions)\n      .where(eq(seoContentSuggestions.status, \"pending\"))\n      .orderBy(seoContentSuggestions.priority);\n  }\n\n  async createSuggestion(data: { pageUrl?: string; suggestionType: string; suggestion: string; reasoning?: string; priority?: string }): Promise<SeoContentSuggestion> {\n    const [created] = await db.insert(seoContentSuggestions).values(data).returning();\n    return created;\n  }\n\n  async updateSuggestionStatus(id: string, status: string): Promise<void> {\n    await db.update(seoContentSuggestions).set({ status }).where(eq(seoContentSuggestions.id, id));\n  }\n\n  // ============ SEO Schema Types ============\n  async getAllSchemaTypes(): Promise<SeoSchemaType[]> {\n    return db.select().from(seoSchemaTypes);\n  }\n\n  async getEnabledSchemaTypes(): Promise<SeoSchemaType[]> {\n    return db.select().from(seoSchemaTypes).where(eq(seoSchemaTypes.isEnabled, true));\n  }\n\n  async upsertSchemaType(schemaType: string, data: Partial<SeoSchemaType>): Promise<SeoSchemaType> {\n    const existing = await db.select().from(seoSchemaTypes).where(eq(seoSchemaTypes.schemaType, schemaType));\n    if (existing.length > 0) {\n      const [updated] = await db.update(seoSchemaTypes).set(data).where(eq(seoSchemaTypes.schemaType, schemaType)).returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoSchemaTypes).values({ schemaType, ...data }).returning();\n    return created;\n  }\n\n  // ============ SEO Breadcrumbs ============\n  async getBreadcrumb(pageUrl: string): Promise<SeoBreadcrumb | undefined> {\n    const [breadcrumb] = await db.select().from(seoBreadcrumbs).where(eq(seoBreadcrumbs.pageUrl, pageUrl));\n    return breadcrumb;\n  }\n\n  async upsertBreadcrumb(pageUrl: string, breadcrumbPath: string, customLabels?: string): Promise<SeoBreadcrumb> {\n    const existing = await this.getBreadcrumb(pageUrl);\n    if (existing) {\n      const [updated] = await db.update(seoBreadcrumbs)\n        .set({ breadcrumbPath, customLabels, updatedAt: new Date() })\n        .where(eq(seoBreadcrumbs.pageUrl, pageUrl))\n        .returning();\n      return updated;\n    }\n    const [created] = await db.insert(seoBreadcrumbs).values({\n      pageUrl,\n      breadcrumbPath,\n      customLabels,\n    }).returning();\n    return created;\n  }\n\n  // ============ Dashboard Stats ============\n  async getSeoStats(): Promise<{\n    totalPages: number;\n    averageScore: number;\n    pagesNeedingImprovement: number;\n    totalRedirects: number;\n    total404s: number;\n    unresolved404s: number;\n    trackedKeywords: number;\n    keywordsInTop10: number;\n    lastAuditScore: number | null;\n    criticalIssues: number;\n  }> {\n    const pages = await this.getAllPages();\n    const redirects = await this.getAllRedirects();\n    const logs404 = await this.getAll404Logs();\n    const unresolved404s = await this.getUnresolved404Logs();\n    const keywords = await this.getTrackedKeywords();\n    const latestAudit = await this.getLatestAudit();\n\n    const totalPages = pages.length;\n    const averageScore = totalPages > 0 \n      ? Math.round(pages.reduce((sum, p) => sum + (p.overallScore || 0), 0) / totalPages)\n      : 0;\n    const pagesNeedingImprovement = pages.filter(p => (p.overallScore || 0) < 70).length;\n    const keywordsInTop10 = keywords.filter(k => k.currentPosition && k.currentPosition <= 10).length;\n\n    return {\n      totalPages,\n      averageScore,\n      pagesNeedingImprovement,\n      totalRedirects: redirects.length,\n      total404s: logs404.length,\n      unresolved404s: unresolved404s.length,\n      trackedKeywords: keywords.length,\n      keywordsInTop10,\n      lastAuditScore: latestAudit?.overallScore || null,\n      criticalIssues: latestAudit?.criticalIssues || 0,\n    };\n  }\n}\n\nexport const seoStorage = new SeoStorage();\n","path":null,"size_bytes":22637,"size_tokens":null},"functions/api/[[route]].js":{"content":"// SPA fallback - serve index.html for all non-API routes\nexport const onRequest = async (context) => {\n  const { request } = context;\n  const url = new URL(request.url);\n  \n  // API routes would go here if needed\n  if (url.pathname.startsWith('/api/')) {\n    return new Response(\n      JSON.stringify({ error: 'API endpoint not found' }),\n      { status: 404, headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n  \n  // For all other routes, fall through to next handler (static files or index.html)\n  return context.next();\n};\n","path":null,"size_bytes":538,"size_tokens":null},"script/build-pages-functions.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, mkdir, cp } from \"fs/promises\";\nimport path from \"path\";\n\nasync function buildProject() {\n  await rm(\"dist\", { recursive: true, force: true });\n  await mkdir(\"dist\", { recursive: true });\n\n  console.log(\"Building client with Vite...\");\n  await viteBuild({\n    configFile: path.resolve(process.cwd(), \"vite.config.cloudflare.ts\"),\n    build: {\n      outDir: path.resolve(process.cwd(), \"dist\"),\n      emptyOutDir: false,\n    },\n  });\n\n  console.log(\"Copying functions directory...\");\n  await cp(\"functions\", \"dist/functions\", { recursive: true });\n\n  console.log(\"Build complete!\");\n  console.log(\"Output: dist/ (with /functions directory for Pages Functions)\");\n}\n\nbuildProject().catch((err) => {\n  console.error(\"Build failed:\", err);\n  process.exit(1);\n});\n","path":null,"size_bytes":859,"size_tokens":null},"supabase/config.toml":{"content":"[project]\nid = \"emlqlmfzqsnqokrqvmcm\"\n","path":null,"size_bytes":38,"size_tokens":null},"supabase/functions/health/index.ts":{"content":"import { serve } from \"https://deno.land/std@0.168.0/http/server.ts\"; serve(async () => new Response(JSON.stringify({ status: \"ok\", timestamp: new Date().toISOString() }), { headers: { \"Content-Type\": \"application/json\" } }));\n","path":null,"size_bytes":227,"size_tokens":null},"worker/routes/blog.ts":{"content":"import { Hono } from 'hono';\nimport type { Env } from '../index';\nimport { getStorage } from '../helpers';\n\nexport function createBlogRoutes() {\n  const router = new Hono<{ Bindings: Env }>();\n\n  router.get('/posts', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const posts = await storage.getBlogPosts();\n      return c.json({ data: posts });\n    } catch (error: any) {\n      console.error('Failed to fetch blog posts:', error);\n      return c.json({ error: 'Failed to fetch blog posts', details: error.message }, 500);\n    }\n  });\n\n  router.get('/posts/featured', async (c) => {\n    try {\n      const storage = getStorage(c.env);\n      const posts = await storage.getFeaturedBlogPosts();\n      return c.json({ data: posts });\n    } catch (error: any) {\n      console.error('Failed to fetch featured posts:', error);\n      return c.json({ error: 'Failed to fetch featured posts', details: error.message }, 500);\n    }\n  });\n\n  router.get('/search', async (c) => {\n    try {\n      const query = c.req.query('q') || '';\n      const storage = getStorage(c.env);\n      const posts = await storage.searchBlogPosts(query);\n      return c.json({ data: posts });\n    } catch (error: any) {\n      console.error('Failed to search blog posts:', error);\n      return c.json({ error: 'Failed to search posts', details: error.message }, 500);\n    }\n  });\n\n  router.get('/:slug', async (c) => {\n    try {\n      const slug = c.req.param('slug');\n      const storage = getStorage(c.env);\n      const post = await storage.getBlogPostBySlug(slug);\n      if (!post) {\n        return c.json({ error: 'Blog post not found' }, 404);\n      }\n      return c.json({ data: post });\n    } catch (error: any) {\n      console.error('Failed to fetch blog post:', error);\n      return c.json({ error: 'Failed to fetch blog post', details: error.message }, 500);\n    }\n  });\n\n  return router;\n}\n","path":null,"size_bytes":1890,"size_tokens":null},"supabase/functions/products/index.ts":{"content":"import { serve } from \"https://deno.land/std@0.168.0/http/server.ts\";\nimport { createClient } from \"https://esm.sh/@supabase/supabase-js@2\";\n\nserve(async (req) => {\n  try {\n    const supabaseUrl = Deno.env.get(\"SUPABASE_URL\");\n    const supabaseKey = Deno.env.get(\"SUPABASE_SERVICE_ROLE_KEY\");\n    \n    if (!supabaseUrl || !supabaseKey) {\n      return new Response(JSON.stringify({ error: \"Database not configured\" }), \n        { headers: { \"Content-Type\": \"application/json\" }, status: 500 });\n    }\n\n    const client = createClient(supabaseUrl, supabaseKey);\n    const { data, error } = await client.from(\"realProducts\").select(\"*\");\n    \n    if (error) throw error;\n    return new Response(JSON.stringify({ success: true, data: data || [] }), \n      { headers: { \"Content-Type\": \"application/json\" }, status: 200 });\n  } catch (err: any) {\n    return new Response(JSON.stringify({ error: err.message }), \n      { headers: { \"Content-Type\": \"application/json\" }, status: 500 });\n  }\n});\n","path":null,"size_bytes":989,"size_tokens":null},"functions/api/health.js":{"content":"export const onRequest = async () => {\n  return new Response(\n    JSON.stringify({ status: 'ok', timestamp: new Date().toISOString() }),\n    { headers: { 'Content-Type': 'application/json' } }\n  );\n};\n","path":null,"size_bytes":201,"size_tokens":null},"supabase/functions/blog-posts/index.ts":{"content":"import { serve } from \"https://deno.land/std@0.168.0/http/server.ts\";\nimport { createClient } from \"https://esm.sh/@supabase/supabase-js@2\";\n\nserve(async (req) => {\n  try {\n    const supabaseUrl = Deno.env.get(\"SUPABASE_URL\");\n    const supabaseKey = Deno.env.get(\"SUPABASE_SERVICE_ROLE_KEY\");\n    \n    if (!supabaseUrl || !supabaseKey) {\n      return new Response(JSON.stringify({ error: \"Database not configured\" }), \n        { headers: { \"Content-Type\": \"application/json\" }, status: 500 });\n    }\n\n    const client = createClient(supabaseUrl, supabaseKey);\n    const { data, error } = await client.from(\"blogPosts\").select(\"*\").eq(\"published\", true);\n    \n    if (error) throw error;\n    return new Response(JSON.stringify({ success: true, data: data || [] }), \n      { headers: { \"Content-Type\": \"application/json\" }, status: 200 });\n  } catch (err: any) {\n    return new Response(JSON.stringify({ error: err.message }), \n      { headers: { \"Content-Type\": \"application/json\" }, status: 500 });\n  }\n});\n","path":null,"size_bytes":1008,"size_tokens":null},"scripts/prerender-blog.ts":{"content":"import { writeFile, mkdir } from \"fs/promises\";\nimport path from \"path\";\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst SITE_URL = \"https://streamstickpro.com\";\n\ninterface BlogPost {\n  id: string;\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  category: string;\n  featured: boolean;\n  published: boolean;\n  createdAt?: string;\n  keywords?: string[];\n  metaDescription?: string;\n}\n\nasync function fetchBlogPosts(): Promise<BlogPost[]> {\n  // Hardcoded Supabase config for build-time prerendering (anon key is public)\n  const supabaseUrl = \"https://emlqlmfzqsnqokrqvmcm.supabase.co\";\n  const supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtbHFsbWZ6cXNucW9rcnF2bWNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4ODQ0OTIsImV4cCI6MjA3OTQ2MDQ5Mn0.gD54kCrRiqLCpP_p6cEO4-r9GSIAJSuN4PKWx5Dnyeg\";\n  \n  console.log(`   Using Supabase URL: ${supabaseUrl.substring(0, 40)}...`);\n\n  const supabase = createClient(supabaseUrl, supabaseKey);\n  \n  try {\n    const { data: posts, error } = await supabase\n      .from(\"blog_posts\")\n      .select(\"*\")\n      .eq(\"is_published\", true)\n      .order(\"published_at\", { ascending: false });\n    \n    if (error) {\n      console.error(\"Supabase error:\", error.message);\n      return [];\n    }\n    \n    return (posts || []).map((post: any) => ({\n      id: post.id,\n      title: post.title,\n      slug: post.slug,\n      excerpt: post.excerpt || \"\",\n      content: post.content || \"\",\n      category: post.category || \"Guides\",\n      featured: post.featured || false,\n      published: post.is_published || true,\n      createdAt: post.published_at || new Date().toISOString(),\n      keywords: post.keywords || [],\n      metaDescription: post.meta_description || post.excerpt || \"\",\n    }));\n  } catch (err: any) {\n    console.error(\"Failed to fetch blog posts:\", err.message);\n    return [];\n  }\n}\n\nfunction generateBlogPostHTML(post: BlogPost, cssPath: string, jsPath: string): string {\n  const title = post.title || \"Blog Post\";\n  const description = post.metaDescription || post.excerpt || `Read about ${title} on StreamStickPro`;\n  const keywords = post.keywords?.join(\", \") || \"fire stick, iptv, streaming, cord cutting\";\n  const date = post.createdAt || new Date().toISOString();\n  const readTime = Math.ceil((post.content || \"\").split(\" \").length / 200);\n  const cleanContent = (post.content || \"\")\n    .replace(/\\n\\n/g, \"</p><p>\")\n    .replace(/\\*\\*(.+?)\\*\\*/g, \"<strong>$1</strong>\")\n    .replace(/^- (.+)$/gm, \"<li>$1</li>\");\n\n  const jsonLd = JSON.stringify({\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BlogPosting\",\n    \"headline\": title,\n    \"description\": description,\n    \"datePublished\": date,\n    \"dateModified\": date,\n    \"author\": { \"@type\": \"Organization\", \"name\": \"StreamStickPro\" },\n    \"publisher\": { \"@type\": \"Organization\", \"name\": \"StreamStickPro\", \"logo\": { \"@type\": \"ImageObject\", \"url\": `${SITE_URL}/favicon.png` } },\n    \"mainEntityOfPage\": { \"@type\": \"WebPage\", \"@id\": `${SITE_URL}/blog/${post.slug}` },\n    \"keywords\": keywords\n  });\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${title} | StreamStickPro Blog</title>\n  <meta name=\"description\" content=\"${description}\">\n  <meta name=\"keywords\" content=\"${keywords}\">\n  <meta name=\"robots\" content=\"index, follow\">\n  <link rel=\"canonical\" href=\"${SITE_URL}/blog/${post.slug}\">\n  \n  <!-- Open Graph -->\n  <meta property=\"og:type\" content=\"article\">\n  <meta property=\"og:title\" content=\"${title}\">\n  <meta property=\"og:description\" content=\"${description}\">\n  <meta property=\"og:url\" content=\"${SITE_URL}/blog/${post.slug}\">\n  <meta property=\"og:image\" content=\"${SITE_URL}/opengraph.jpg\">\n  <meta property=\"og:site_name\" content=\"StreamStickPro\">\n  <meta property=\"article:published_time\" content=\"${date}\">\n  \n  <!-- Twitter Card -->\n  <meta name=\"twitter:card\" content=\"summary_large_image\">\n  <meta name=\"twitter:title\" content=\"${title}\">\n  <meta name=\"twitter:description\" content=\"${description}\">\n  <meta name=\"twitter:image\" content=\"${SITE_URL}/opengraph.jpg\">\n  \n  <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n  <link rel=\"stylesheet\" href=\"${cssPath}\">\n  <script type=\"application/ld+json\">${jsonLd}</script>\n</head>\n<body class=\"bg-gray-900 text-white\">\n  <div id=\"root\">\n    <header class=\"bg-gray-900 border-b border-white/10 px-4 py-4\">\n      <div class=\"max-w-6xl mx-auto flex items-center justify-between\">\n        <a href=\"/\" class=\"flex items-center gap-2 text-xl font-bold text-orange-500\">\n           StreamStickPro\n        </a>\n        <nav class=\"flex gap-4\">\n          <a href=\"/?section=shop\" class=\"text-gray-300 hover:text-white\">Shop</a>\n          <a href=\"/blog\" class=\"text-gray-300 hover:text-white\">Blog</a>\n        </nav>\n      </div>\n    </header>\n    \n    <main class=\"max-w-4xl mx-auto px-4 py-12\">\n      <article>\n        <a href=\"/blog\" class=\"text-orange-500 hover:text-orange-400 mb-4 inline-block\">&larr; Back to Blog</a>\n        <h1 class=\"text-3xl md:text-4xl font-bold mb-4\">${title}</h1>\n        <div class=\"flex items-center gap-4 text-gray-400 mb-8\">\n          <span>${new Date(date).toLocaleDateString()}</span>\n          <span>${readTime} min read</span>\n          <span class=\"bg-orange-600/20 text-orange-400 px-2 py-1 rounded text-sm\">${post.category || \"Guides\"}</span>\n        </div>\n        <div class=\"prose prose-invert max-w-none\">\n          <p>${cleanContent}</p>\n        </div>\n        \n        <div class=\"mt-12 p-6 bg-gradient-to-r from-orange-600/20 to-red-600/20 rounded-xl border border-orange-500/30\">\n          <h3 class=\"text-xl font-bold mb-2\">Ready to Cut the Cord?</h3>\n          <p class=\"text-gray-300 mb-4\">Get streaming in 10 minutes with our pre-configured Fire Sticks and IPTV subscriptions.</p>\n          <a href=\"/?section=shop\" class=\"inline-block bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-6 rounded-lg\">\n             Shop Now\n          </a>\n        </div>\n      </article>\n    </main>\n    \n    <footer class=\"bg-gray-900 border-t border-white/10 py-8 mt-12\">\n      <div class=\"max-w-6xl mx-auto px-4 text-center text-gray-400\">\n        <p>&copy; 2025 StreamStickPro. All rights reserved.</p>\n        <div class=\"mt-4 flex justify-center gap-6\">\n          <a href=\"/?section=shop\" class=\"hover:text-orange-400\">Shop</a>\n          <a href=\"/blog\" class=\"hover:text-orange-400\">Blog</a>\n        </div>\n      </div>\n    </footer>\n  </div>\n  <script type=\"module\" src=\"${jsPath}\"></script>\n</body>\n</html>`;\n}\n\nfunction generateBlogIndexHTML(posts: BlogPost[], cssPath: string, jsPath: string): string {\n  const postCards = posts.slice(0, 20).map(post => `\n    <a href=\"/blog/${post.slug}\" class=\"block bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors border border-gray-700 hover:border-orange-500\">\n      <span class=\"bg-orange-600/20 text-orange-400 px-2 py-1 rounded text-xs\">${post.category || \"Guides\"}</span>\n      <h2 class=\"text-xl font-bold mt-2 mb-2\">${post.title}</h2>\n      <p class=\"text-gray-400 text-sm mb-4\">${post.excerpt || \"\"}</p>\n      <span class=\"text-orange-500 text-sm\">Read more &rarr;</span>\n    </a>\n  `).join(\"\\n\");\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Blog | StreamStickPro - Cord Cutting Guides & Fire Stick Tips</title>\n  <meta name=\"description\" content=\"Expert guides on jailbroken Fire Sticks, IPTV streaming, cord cutting, and saving money on TV. Learn how to stream sports, movies, and TV shows.\">\n  <meta name=\"keywords\" content=\"fire stick, iptv, cord cutting, streaming guides, jailbroken fire stick\">\n  <meta name=\"robots\" content=\"index, follow\">\n  <link rel=\"canonical\" href=\"${SITE_URL}/blog\">\n  \n  <meta property=\"og:type\" content=\"website\">\n  <meta property=\"og:title\" content=\"StreamStickPro Blog - Cord Cutting Guides\">\n  <meta property=\"og:description\" content=\"Expert guides on Fire Sticks, IPTV, and cord cutting.\">\n  <meta property=\"og:url\" content=\"${SITE_URL}/blog\">\n  <meta property=\"og:image\" content=\"${SITE_URL}/opengraph.jpg\">\n  \n  <meta name=\"twitter:card\" content=\"summary_large_image\">\n  <meta name=\"twitter:title\" content=\"StreamStickPro Blog\">\n  <meta name=\"twitter:description\" content=\"Expert guides on Fire Sticks, IPTV, and cord cutting.\">\n  \n  <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n  <link rel=\"stylesheet\" href=\"${cssPath}\">\n</head>\n<body class=\"bg-gray-900 text-white\">\n  <div id=\"root\">\n    <header class=\"bg-gray-900 border-b border-white/10 px-4 py-4\">\n      <div class=\"max-w-6xl mx-auto flex items-center justify-between\">\n        <a href=\"/\" class=\"flex items-center gap-2 text-xl font-bold text-orange-500\">\n           StreamStickPro\n        </a>\n        <nav class=\"flex gap-4\">\n          <a href=\"/?section=shop\" class=\"text-gray-300 hover:text-white\">Shop</a>\n          <a href=\"/blog\" class=\"text-orange-500\">Blog</a>\n        </nav>\n      </div>\n    </header>\n    \n    <main class=\"max-w-6xl mx-auto px-4 py-12\">\n      <h1 class=\"text-4xl font-bold mb-2\">StreamStickPro Blog</h1>\n      <p class=\"text-gray-400 mb-8\">Expert guides on cord cutting, Fire Sticks, and IPTV streaming</p>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        ${postCards}\n      </div>\n      \n      <div class=\"mt-12 text-center\">\n        <p class=\"text-gray-400 mb-4\">Showing ${Math.min(20, posts.length)} of ${posts.length} articles</p>\n      </div>\n    </main>\n    \n    <footer class=\"bg-gray-900 border-t border-white/10 py-8 mt-12\">\n      <div class=\"max-w-6xl mx-auto px-4 text-center text-gray-400\">\n        <p>&copy; 2025 StreamStickPro. All rights reserved.</p>\n      </div>\n    </footer>\n  </div>\n  <script type=\"module\" src=\"${jsPath}\"></script>\n</body>\n</html>`;\n}\n\nfunction generateSitemap(posts: BlogPost[]): string {\n  const today = new Date().toISOString().split(\"T\")[0];\n  \n  const staticPages = [\n    { url: \"/\", priority: \"1.0\", changefreq: \"weekly\" },\n    { url: \"/blog\", priority: \"0.9\", changefreq: \"daily\" },\n    { url: \"/checkout\", priority: \"0.8\", changefreq: \"monthly\" },\n  ];\n  \n  const staticUrls = staticPages.map(page => `\n  <url>\n    <loc>${SITE_URL}${page.url}</loc>\n    <lastmod>${today}</lastmod>\n    <changefreq>${page.changefreq}</changefreq>\n    <priority>${page.priority}</priority>\n  </url>`).join(\"\");\n  \n  const blogUrls = posts.map(post => {\n    const date = post.createdAt ? new Date(post.createdAt).toISOString().split(\"T\")[0] : today;\n    return `\n  <url>\n    <loc>${SITE_URL}/blog/${post.slug}</loc>\n    <lastmod>${date}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.7</priority>\n  </url>`;\n  }).join(\"\");\n  \n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n${staticUrls}\n${blogUrls}\n</urlset>`;\n}\n\nfunction generateRobotsTxt(): string {\n  return `User-agent: *\nAllow: /\nDisallow: /api/\nDisallow: /admin\nDisallow: /shadow-services\nDisallow: /checkout?*\n\nSitemap: ${SITE_URL}/sitemap.xml\n\nUser-agent: Googlebot\nAllow: /\nCrawl-delay: 1\n\nUser-agent: Bingbot\nAllow: /\nCrawl-delay: 2\n\nUser-agent: Yandexbot\nAllow: /\nCrawl-delay: 2\n\nUser-agent: DuckDuckBot\nAllow: /\nCrawl-delay: 1\n`;\n}\n\nasync function findAssetPaths(distDir: string): Promise<{ css: string; js: string }> {\n  const { readdir } = await import(\"fs/promises\");\n  const assetsDir = path.join(distDir, \"assets\");\n  \n  try {\n    const files = await readdir(assetsDir);\n    const cssFile = files.find(f => f.endsWith(\".css\")) || \"index.css\";\n    const jsFile = files.find(f => f.startsWith(\"index-\") && f.endsWith(\".js\")) || \"index.js\";\n    \n    return {\n      css: `/assets/${cssFile}`,\n      js: `/assets/${jsFile}`,\n    };\n  } catch {\n    return { css: \"/assets/index.css\", js: \"/assets/index.js\" };\n  }\n}\n\nasync function main() {\n  console.log(\" Starting blog prerender...\");\n  \n  const distDir = path.resolve(process.cwd(), \"dist\");\n  const blogDir = path.join(distDir, \"blog\");\n  \n  // Fetch blog posts from Supabase\n  console.log(\" Fetching blog posts from Supabase...\");\n  const posts = await fetchBlogPosts();\n  console.log(`   Found ${posts.length} published posts`);\n  \n  if (posts.length === 0) {\n    console.warn(\" No blog posts found, skipping prerender\");\n    return;\n  }\n  \n  // Find CSS/JS asset paths\n  const assets = await findAssetPaths(distDir);\n  console.log(`   Using CSS: ${assets.css}, JS: ${assets.js}`);\n  \n  // Create blog directory\n  await mkdir(blogDir, { recursive: true });\n  \n  // Generate blog index page\n  console.log(\" Generating blog index page...\");\n  const indexHtml = generateBlogIndexHTML(posts, assets.css, assets.js);\n  await writeFile(path.join(blogDir, \"index.html\"), indexHtml);\n  \n  // Generate individual blog post pages\n  console.log(\" Generating individual blog post pages...\");\n  for (const post of posts) {\n    if (!post.slug) continue;\n    \n    const postDir = path.join(blogDir, post.slug);\n    await mkdir(postDir, { recursive: true });\n    \n    const postHtml = generateBlogPostHTML(post, assets.css, assets.js);\n    await writeFile(path.join(postDir, \"index.html\"), postHtml);\n  }\n  console.log(`   Generated ${posts.length} blog post pages`);\n  \n  // Generate sitemap\n  console.log(\" Generating sitemap.xml...\");\n  const sitemap = generateSitemap(posts);\n  await writeFile(path.join(distDir, \"sitemap.xml\"), sitemap);\n  console.log(`   Sitemap includes ${posts.length + 3} URLs`);\n  \n  // Generate robots.txt\n  console.log(\" Generating robots.txt...\");\n  const robotsTxt = generateRobotsTxt();\n  await writeFile(path.join(distDir, \"robots.txt\"), robotsTxt);\n  \n  console.log(\" Blog prerender complete!\");\n  console.log(`   - Blog index: ${blogDir}/index.html`);\n  console.log(`   - Blog posts: ${posts.length} pages`);\n  console.log(`   - Sitemap: ${distDir}/sitemap.xml`);\n  console.log(`   - Robots: ${distDir}/robots.txt`);\n}\n\nmain().catch(err => {\n  console.error(\"Prerender failed:\", err);\n  process.exit(1);\n});\n","path":null,"size_bytes":14145,"size_tokens":null},"scripts/migrate-blog-to-supabase.ts":{"content":"import postgres from \"postgres\";\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst LOCAL_DATABASE_URL = process.env.DATABASE_URL;\nconst SUPABASE_URL = process.env.VITE_SUPABASE_URL || process.env.SUPABASE_URL;\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY;\n\nasync function main() {\n  console.log(\" Starting blog migration to Supabase...\\n\");\n\n  if (!LOCAL_DATABASE_URL) {\n    console.error(\" Missing DATABASE_URL\");\n    process.exit(1);\n  }\n\n  if (!SUPABASE_URL || !SUPABASE_SERVICE_KEY) {\n    console.error(\" Missing SUPABASE_URL or SUPABASE_SERVICE_KEY\");\n    process.exit(1);\n  }\n\n  console.log(\" Connecting to local PostgreSQL...\");\n  const sql = postgres(LOCAL_DATABASE_URL);\n\n  console.log(\" Connecting to Supabase...\");\n  const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY);\n\n  // Step 1: Create the blog_posts table in Supabase if it doesn't exist\n  console.log(\"\\n Creating blog_posts table in Supabase...\");\n  const createTableSQL = `\n    CREATE TABLE IF NOT EXISTS public.blog_posts (\n      id uuid PRIMARY KEY DEFAULT gen_random_uuid(),\n      title text NOT NULL,\n      slug text UNIQUE NOT NULL,\n      excerpt text,\n      content text NOT NULL,\n      category text DEFAULT 'Guides',\n      featured boolean DEFAULT false,\n      is_published boolean DEFAULT true,\n      published_at timestamp with time zone DEFAULT now(),\n      keywords text[],\n      meta_description text\n    );\n    \n    CREATE INDEX IF NOT EXISTS blog_posts_published_idx ON public.blog_posts (is_published);\n    CREATE INDEX IF NOT EXISTS blog_posts_slug_idx ON public.blog_posts (slug);\n  `;\n\n  // Execute via Supabase REST API (raw SQL)\n  const { error: rpcError } = await supabase.rpc(\"exec_sql\", { sql_text: createTableSQL });\n  \n  if (rpcError) {\n    console.log(\" Table creation via RPC failed (may need manual creation):\", rpcError.message);\n    console.log(\"\\n Please run this SQL in Supabase SQL Editor:\");\n    console.log(createTableSQL);\n  } else {\n    console.log(\" Table created successfully\");\n  }\n\n  // Step 2: Fetch blog posts from local PostgreSQL\n  console.log(\"\\n Fetching blog posts from local database...\");\n  \n  let posts: any[];\n  try {\n    posts = await sql`\n      SELECT \n        title, \n        slug, \n        excerpt, \n        content, \n        category, \n        featured, \n        published as is_published, \n        published_at, \n        keywords, \n        meta_description \n      FROM blog_posts\n    `;\n  } catch (err: any) {\n    console.error(\" Failed to fetch from local DB:\", err.message);\n    await sql.end();\n    process.exit(1);\n  }\n\n  console.log(`   Found ${posts.length} blog posts\\n`);\n\n  if (posts.length === 0) {\n    console.log(\" No blog posts found to migrate\");\n    await sql.end();\n    return;\n  }\n\n  // Step 3: Insert/upsert posts into Supabase\n  console.log(\" Uploading blog posts to Supabase...\");\n  let successCount = 0;\n  let errorCount = 0;\n\n  for (const post of posts) {\n    const { error } = await supabase\n      .from(\"blog_posts\")\n      .upsert({\n        title: post.title,\n        slug: post.slug,\n        excerpt: post.excerpt || \"\",\n        content: post.content || \"\",\n        category: post.category || \"Guides\",\n        featured: post.featured || false,\n        is_published: post.is_published ?? true,\n        published_at: post.published_at || new Date().toISOString(),\n        keywords: post.keywords || [],\n        meta_description: post.meta_description || post.excerpt || \"\",\n      }, { \n        onConflict: \"slug\" \n      });\n\n    if (error) {\n      console.error(`    Failed to upsert \"${post.slug}\":`, error.message);\n      errorCount++;\n    } else {\n      successCount++;\n    }\n  }\n\n  console.log(`\\n Migration complete!`);\n  console.log(`   Successful: ${successCount}`);\n  console.log(`   Errors: ${errorCount}`);\n\n  // Step 4: Verify the migration\n  console.log(\"\\n Verifying migration...\");\n  const { data: verifyData, error: verifyError } = await supabase\n    .from(\"blog_posts\")\n    .select(\"slug\")\n    .eq(\"is_published\", true);\n\n  if (verifyError) {\n    console.error(\"    Verification failed:\", verifyError.message);\n  } else {\n    console.log(`    Found ${verifyData?.length || 0} published posts in Supabase`);\n  }\n\n  await sql.end();\n  console.log(\"\\n Done!\");\n}\n\nmain().catch((err) => {\n  console.error(\"Migration failed:\", err);\n  process.exit(1);\n});\n","path":null,"size_bytes":4434,"size_tokens":null},"docs/CONTENT-REWRITE-STRATEGY.md":{"content":"# StreamStickPro Content Rewriting Strategy\n## Goal: Avoid Shadowbanning While Maintaining Customer Understanding\n\n---\n\n## Brand Repositioning\n\n**OLD POSITIONING:** \"Jailbroken Fire Sticks & IPTV Subscriptions\"\n\n**NEW POSITIONING:** \"StreamStickPro - Premium Streaming Setup & Support Service\"\n\nWe sell:\n- **Professionally configured streaming devices** (not \"jailbroken\")\n- **Live TV aggregation & content discovery plans** (not \"IPTV subscriptions\")\n- **Streaming setup assistance & ongoing support**\n\n---\n\n## Terminology Replacement Guide\n\n### HIGH-RISK TERMS TO REMOVE\n\n|  BANNED TERM |  REPLACEMENT | RATIONALE |\n|----------------|----------------|-----------|\n| Jailbroken Fire Stick | Fully Loaded Streaming Device | Legal framing - emphasize quick setup |\n| Jailbreak | Get Fully Loaded | Removes hacking connotation |\n| IPTV | Live TV Streaming / Live Content | Generic, legal term |\n| IPTV Subscription | Streaming Plan / Live TV Plan | Removes protocol reference |\n| 18,000+ channels | Extensive content library | Avoid specific numbers |\n| Free PPV | Premium sports coverage | Remove \"free\" + PPV |\n| Watch PPV free | Access live events | Legal framing |\n| No cable bills | Alternative to traditional cable | Softer messaging |\n| Illegal streams | N/A - DELETE | Never use |\n| Pirate / Piracy | N/A - DELETE | Never use |\n| Cracked apps | Premium apps pre-installed | Legal framing |\n| Kodi builds | Streaming apps configured | Generic term |\n| Unlock all content | Discover all content | Softer verb |\n| Free sports streaming | Sports streaming solutions | Remove \"free\" |\n| Cut the cord | Streaming independence | Modern phrase |\n| Cable killer | Cable alternative | Softer term |\n\n### PRODUCT NAMING CHANGES\n\n|  OLD NAME |  NEW NAME |\n|-------------|-------------|\n| Fire Stick HD (Jailbroken) | StreamStick Starter Kit ($130) |\n| Fire Stick 4K (Jailbroken) | StreamStick 4K Kit ($140) |\n| Fire Stick 4K Max (Jailbroken) | StreamStick Max Kit ($150) |\n| IPTV 1 Month | Live TV Plan - Monthly |\n| IPTV 3 Month | Live TV Plan - Quarterly |\n| IPTV 6 Month | Live TV Plan - Semi-Annual |\n| IPTV 1 Year | Live TV Plan - Annual |\n| 1 Device / 2 Devices | Personal / Family / Household |\n\n### FEATURE DESCRIPTIONS\n\n|  OLD DESCRIPTION |  NEW DESCRIPTION |\n|--------------------|---------------------|\n| \"18,000+ live channels\" | \"Extensive live content library\" |\n| \"Free PPV events\" | \"Premium live event coverage\" |\n| \"All sports included\" | \"Comprehensive sports coverage\" |\n| \"No monthly cable fees\" | \"One-time setup, flexible plans\" |\n| \"Watch anything for free\" | \"Stream what you love\" |\n| \"Bypass geo-restrictions\" | \"Global content access\" |\n| \"Unlimited streaming\" | \"Stream without limits\" |\n| \"Jailbroken with all apps\" | \"Professionally configured with premium apps\" |\n\n---\n\n## Value Proposition Reframing\n\n### OLD MESSAGING (Problematic)\n> \"Get a jailbroken Fire Stick with 18,000+ live channels including free PPV, NFL, NBA, and more. Cut the cord and never pay cable bills again!\"\n\n### NEW MESSAGING (Compliant)\n> \"StreamStickPro delivers professionally configured streaming devices with premium apps pre-installed. Enjoy live sports, movies, and shows with our expert setup service and dedicated support. Say goodbye to complicated setups - we handle everything.\"\n\n---\n\n## Homepage Sections Rewrite\n\n### Hero Section\n\n**OLD:**\n> \"Jailbroken Fire Sticks & IPTV - Stream Everything\"\n\n**NEW:**\n> \"StreamStickPro - Premium Streaming Made Simple\"\n> \"Professionally configured devices. Expert setup. Dedicated support.\"\n\n### Value Props\n\n**OLD:**\n- \"18,000+ channels\"\n- \"Free PPV & Sports\"\n- \"No cable bills\"\n\n**NEW:**\n- \"Extensive Content Library\"\n- \"Live Sports & Events Coverage\"\n- \"Flexible Streaming Plans\"\n- \"10-Minute Setup\"\n- \"24/7 Customer Support\"\n\n### Product Cards\n\n**OLD:**\n> \"Fire Stick 4K - Jailbroken\n> Pre-loaded with all streaming apps. Access 18,000+ channels.\"\n\n**NEW:**\n> \"StreamStick 4K Kit\n> Professionally configured with premium streaming apps. Ready to use out of the box.\"\n\n---\n\n## Blog Content Strategy\n\n### Categories to Reframe\n\n|  OLD CATEGORY |  NEW CATEGORY |\n|-----------------|------------------|\n| Jailbroken Fire Stick Guides | Streaming Device Setup Guides |\n| IPTV Tutorials | Live TV Streaming Tips |\n| Free Streaming | Smart Streaming Solutions |\n| Cord Cutting | Streaming Independence |\n\n### Blog Title Rewrites (Examples)\n\n|  OLD TITLE |  NEW TITLE |\n|--------------|---------------|\n| \"What is a Jailbroken Fire Stick?\" | \"What is a Pre-Configured Streaming Device?\" |\n| \"Best IPTV Services 2025\" | \"Best Live TV Streaming Options 2025\" |\n| \"How to Jailbreak Fire Stick\" | \"How to Set Up Your Streaming Device\" |\n| \"Free PPV on Fire Stick\" | \"Watch Live Sports Events on Fire Stick\" |\n| \"IPTV vs Cable Cost Comparison\" | \"Streaming vs Cable: Complete Cost Guide\" |\n| \"Watch NFL Free on Fire Stick\" | \"Best Ways to Stream NFL Games\" |\n| \"Best Free Streaming Apps\" | \"Top Streaming Apps for Fire Stick\" |\n\n### Content Guidelines\n\n1. **Remove all \"free\" claims** - Use \"included\" or \"access\" instead\n2. **Remove channel counts** - Use \"extensive library\" or \"comprehensive coverage\"\n3. **Remove PPV references** - Use \"live events\" or \"premium sports\"\n4. **Add disclaimers** - \"Content availability varies by region and service\"\n5. **Emphasize support** - Highlight customer service, setup help, troubleshooting\n6. **Add expertise signals** - Author bios, \"reviewed by\" tags, update dates\n\n---\n\n## Compliance Disclaimers to Add\n\n### Footer Disclaimer\n> \"StreamStickPro provides streaming device configuration services and content discovery assistance. We do not host, stream, or provide access to copyrighted content. Users are responsible for ensuring their use of third-party apps and services complies with applicable laws and terms of service.\"\n\n### Product Page Disclaimer\n> \"Devices come pre-configured with popular streaming applications. Content availability depends on your subscriptions and regional availability.\"\n\n### Blog Post Disclaimer\n> \"This guide is for educational purposes. Always use streaming services in accordance with their terms of service and applicable laws in your region.\"\n\n---\n\n## SEO Metadata Updates\n\n### Homepage Meta\n\n**OLD:**\n> Title: \"Jailbroken Fire Sticks & IPTV - StreamStickPro\"\n> Description: \"Buy jailbroken Fire Sticks with 18,000+ channels. Best IPTV service with free PPV and sports.\"\n\n**NEW:**\n> Title: \"StreamStickPro - Premium Streaming Devices & Setup Service\"\n> Description: \"Professionally configured streaming devices with expert setup and dedicated support. Stream live sports, movies, and shows the easy way.\"\n\n### Product Meta (Example)\n\n**OLD:**\n> Title: \"Fire Stick 4K Jailbroken - All Apps Included\"\n> Description: \"Jailbroken Fire Stick 4K with IPTV access to 18,000 channels.\"\n\n**NEW:**\n> Title: \"StreamStick 4K Kit - Ready-to-Stream Device\"\n> Description: \"Professionally configured Fire Stick 4K with premium apps pre-installed. Includes setup support and device optimization.\"\n\n---\n\n## Implementation Priority\n\n### Phase 1: Immediate (Critical)\n1. Homepage hero text\n2. Product names and descriptions\n3. Meta titles and descriptions\n4. Footer disclaimer\n\n### Phase 2: High Priority\n1. Blog post titles\n2. Blog excerpts/meta descriptions\n3. Checkout page copy\n4. Email templates\n\n### Phase 3: Complete Overhaul\n1. Full blog content rewrites\n2. FAQ section\n3. About page\n4. Support documentation\n\n---\n\n## Competitor Language Examples\n\n### How Legal Competitors Position\n\n**CordCutters.com:**\n> \"Learn how to cut the cord and save money on TV\"\n\n**StreamingWizard:**\n> \"Your guide to streaming devices and services\"\n\n**TechHive:**\n> \"Streaming device reviews and setup guides\"\n\n**Key Patterns:**\n- Focus on \"setup,\" \"guides,\" \"reviews\"\n- Emphasize savings and convenience\n- Never mention specific channel counts\n- Highlight legitimate streaming services\n- Position as information/education\n\n---\n\n## Success Metrics\n\nAfter rewrite, monitor:\n1. Google Search Console - Indexing status\n2. Search appearance for new terms\n3. No manual action warnings\n4. Traffic from organic search\n5. Bing Webmaster Tools status\n\n---\n\n## Files to Update\n\n1. `client/src/pages/MainStore.tsx` - Homepage content\n2. `client/src/components/ProductCard.tsx` - Product displays\n3. `client/src/pages/Blog.tsx` - Blog listings\n4. `client/index.html` - Meta tags\n5. `scripts/supabase-complete-setup.sql` - Product names/descriptions\n6. All 81 blog posts in Supabase `blog_posts` table\n7. `client/public/sitemap.xml` - Regenerate after changes\n","path":null,"size_bytes":8565,"size_tokens":null},"docs/DEPLOYMENT-GUIDE.md":{"content":"# StreamStickPro Deployment Guide\n## Complete Independence from Replit\n\nThis guide sets up StreamStickPro to run entirely on:\n- **GitHub** - Code repository\n- **Cloudflare Pages** - Hosting and serverless functions\n- **Supabase** - Database and storage\n\n---\n\n## Step 1: Supabase Setup\n\n### 1.1 Run the Complete SQL Setup\n\n1. Go to your Supabase Dashboard\n2. Navigate to **SQL Editor**\n3. Copy and paste the entire contents of `scripts/supabase-complete-setup.sql`\n4. Click **Run** to execute\n\nThis creates all required tables:\n- `blog_posts` - 81 SEO blog articles\n- `real_products` - 27 products (Fire Sticks + IPTV)\n- `orders` - Order tracking\n- `customers` - Customer management\n- `users` - Admin authentication\n- `visitors` - Analytics\n- `page_edits` - CMS functionality\n\n### 1.2 Verify Setup\n\nRun this query to confirm:\n```sql\nSELECT \n  (SELECT count(*) FROM real_products) as products,\n  (SELECT count(*) FROM blog_posts WHERE is_published = true) as blogs;\n```\n\nExpected: `products: 27, blogs: 81`\n\n---\n\n## Step 2: Cloudflare Pages Setup\n\n### 2.1 Connect GitHub Repository\n\n1. Go to [Cloudflare Pages](https://dash.cloudflare.com/pages)\n2. Click **Create a project**  **Connect to Git**\n3. Select your GitHub repository\n4. Configure build settings:\n   - **Build command:** `npm run build`\n   - **Build output directory:** `dist`\n\n### 2.2 Set Environment Variables\n\nGo to **Settings**  **Environment Variables** and add:\n\n#### Build-time Variables (for both Production & Preview):\n\n| Variable | Value |\n|----------|-------|\n| `NODE_VERSION` | `20` |\n| `VITE_SUPABASE_URL` | `https://emlqlmfzqsnqokrqvmcm.supabase.co` |\n| `VITE_SUPABASE_ANON_KEY` | Your Supabase anon key |\n| `VITE_SECURE_HOSTS` | `secure.streamstickpro.com` |\n| `VITE_STORAGE_BUCKET_NAME` | `imiges` |\n\n#### Runtime Secrets (Production only, mark as \"Encrypt\"):\n\n| Secret | Description |\n|--------|-------------|\n| `ADMIN_USERNAME` | Admin login username |\n| `ADMIN_PASSWORD` | Admin login password |\n| `SUPABASE_SERVICE_KEY` | Supabase service role key |\n| `STRIPE_SECRET_KEY` | Stripe API secret key |\n| `STRIPE_PUBLISHABLE_KEY` | Stripe publishable key |\n| `STRIPE_WEBHOOK_SECRET` | Stripe webhook signing secret |\n| `RESEND_API_KEY` | Resend email API key |\n| `SESSION_SECRET` | Random 32+ character string |\n\n### 2.3 Custom Domains\n\n1. Go to **Custom domains**\n2. Add `streamstickpro.com` (main site)\n3. Add `secure.streamstickpro.com` (shadow/checkout domain)\n\n---\n\n## Step 3: GitHub Setup\n\n### 3.1 Repository Secrets (for Actions)\n\nIf using GitHub Actions for CI/CD, add these secrets:\n\n**Settings  Secrets and variables  Actions  New repository secret**\n\n| Secret | Description |\n|--------|-------------|\n| `CLOUDFLARE_ACCOUNT_ID` | Your Cloudflare account ID |\n| `CLOUDFLARE_API_TOKEN` | Cloudflare API token with Pages permissions |\n\n### 3.2 Push Latest Code\n\n```bash\ngit add .\ngit commit -m \"Complete Supabase migration for Replit independence\"\ngit push origin main\n```\n\n---\n\n## Step 4: Verify Deployment\n\nAfter Cloudflare builds and deploys:\n\n1. **Check main site:** https://streamstickpro.com\n2. **Check blog:** https://streamstickpro.com/blog\n3. **Check sitemap:** https://streamstickpro.com/sitemap.xml\n4. **Verify static HTML:** View source on any blog post - should see full content, not empty div\n\n---\n\n## Step 5: Submit to Search Engines\n\n### Google Search Console\n1. Go to [Google Search Console](https://search.google.com/search-console)\n2. Add property for `streamstickpro.com`\n3. Submit sitemap: `https://streamstickpro.com/sitemap.xml`\n\n### Bing Webmaster Tools\n1. Go to [Bing Webmaster Tools](https://www.bing.com/webmasters)\n2. Add your site\n3. Submit sitemap: `https://streamstickpro.com/sitemap.xml`\n\n---\n\n## Architecture Overview\n\n```\n          \n   GitHub     Cloudflare Pages    Supabase    \n Repository         (Build + Host)         (Database)   \n          \n                            \n                            \n              \n                  Static HTML + Worker   \n                - Pre-rendered blogs     \n                - API routes via Worker  \n                - Stripe checkout        \n              \n```\n\n**Build Process:**\n1. Vite builds React app to static HTML/JS\n2. `prerender-blog.ts` fetches 81 posts from Supabase\n3. Generates static HTML for each blog post (SEO-friendly)\n4. Generates sitemap.xml with all URLs\n5. Worker handles API routes at runtime\n\n---\n\n## Troubleshooting\n\n### Blog posts not showing\n- Verify `blog_posts` table exists in Supabase\n- Check RLS policy allows public read: `is_published = true`\n\n### Products not loading\n- Verify `real_products` table has data\n- Check Supabase connection in browser console\n\n### Build fails\n- Ensure `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` are set in Cloudflare\n- Check build logs for specific errors\n\n### Checkout not working\n- Verify Stripe secrets are set in Cloudflare\n- Check webhook URL is configured in Stripe Dashboard\n","path":null,"size_bytes":5505,"size_tokens":null},"scripts/push-social-proof.ts":{"content":"import { getUncachableGitHubClient } from '../server/github';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst FILES_TO_PUSH = [\n  'client/src/components/SocialProofPopup.tsx'\n];\n\nasync function main() {\n  console.log('Pushing social proof changes to GitHub...');\n  const octokit = await getUncachableGitHubClient();\n  \n  const { data: ref } = await octokit.git.getRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`\n  });\n  const currentSha = ref.object.sha;\n  console.log(`Current commit: ${currentSha}`);\n  \n  const { data: commit } = await octokit.git.getCommit({\n    owner: OWNER,\n    repo: REPO,\n    commit_sha: currentSha\n  });\n  \n  const workDir = process.cwd();\n  const treeItems: any[] = [];\n  \n  for (const file of FILES_TO_PUSH) {\n    const fullPath = path.join(workDir, file);\n    if (!fs.existsSync(fullPath)) {\n      console.log(`File not found: ${file}`);\n      continue;\n    }\n    \n    const content = fs.readFileSync(fullPath, 'utf8');\n    \n    const { data: blob } = await octokit.git.createBlob({\n      owner: OWNER,\n      repo: REPO,\n      content: content,\n      encoding: 'utf-8'\n    });\n    \n    treeItems.push({\n      path: file,\n      mode: '100644',\n      type: 'blob',\n      sha: blob.sha\n    });\n    \n    console.log(`Uploaded: ${file}`);\n  }\n  \n  const { data: tree } = await octokit.git.createTree({\n    owner: OWNER,\n    repo: REPO,\n    tree: treeItems,\n    base_tree: commit.tree.sha\n  });\n  \n  const { data: newCommit } = await octokit.git.createCommit({\n    owner: OWNER,\n    repo: REPO,\n    message: 'Fix social proof: less frequent, shorter, more names, max 3 per session',\n    tree: tree.sha,\n    parents: [currentSha]\n  });\n  \n  await octokit.git.updateRef({\n    owner: OWNER,\n    repo: REPO,\n    ref: `heads/${BRANCH}`,\n    sha: newCommit.sha,\n    force: true\n  });\n  \n  console.log(`\\nSuccess! Pushed to ${OWNER}/${REPO}@${BRANCH}`);\n  console.log(`Commit: ${newCommit.sha}`);\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":2088,"size_tokens":null},"client/src/pages/PrivacyPolicy.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft } from \"lucide-react\";\n\nexport default function PrivacyPolicy() {\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    const title = \"Privacy Policy | StreamStickPro\";\n    const description = \"Learn how StreamStickPro collects, uses, and protects your personal information. Our privacy policy covers data collection, payment security, and your rights.\";\n    const url = \"https://streamstickpro.com/privacy\";\n    \n    document.title = title;\n    document.documentElement.classList.remove(\"shadow-theme\");\n    document.documentElement.classList.add(\"dark\");\n    \n    const setMetaTag = (name: string, content: string, isProperty = false) => {\n      const attr = isProperty ? 'property' : 'name';\n      let tag = document.querySelector(`meta[${attr}=\"${name}\"]`);\n      if (!tag) {\n        tag = document.createElement('meta');\n        tag.setAttribute(attr, name);\n        document.head.appendChild(tag);\n      }\n      tag.setAttribute('content', content);\n    };\n    \n    let canonical = document.querySelector('link[rel=\"canonical\"]') as HTMLLinkElement;\n    if (!canonical) {\n      canonical = document.createElement('link');\n      canonical.setAttribute('rel', 'canonical');\n      document.head.appendChild(canonical);\n    }\n    canonical.setAttribute('href', url);\n    \n    setMetaTag('description', description);\n    setMetaTag('og:title', title, true);\n    setMetaTag('og:description', description, true);\n    setMetaTag('og:url', url, true);\n    setMetaTag('og:type', 'website', true);\n    setMetaTag('twitter:title', title);\n    setMetaTag('twitter:description', description);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <nav className=\"border-b border-gray-800 sticky top-0 z-10 bg-gray-900/95 backdrop-blur\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center gap-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setLocation(\"/\")}\n            className=\"text-gray-400 hover:text-white\"\n            data-testid=\"button-back-home\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back\n          </Button>\n          <h1 className=\"text-2xl font-bold\" data-testid=\"heading-privacy\">Privacy Policy</h1>\n        </div>\n      </nav>\n\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"prose prose-invert max-w-none\" data-testid=\"content-privacy\">\n          <p className=\"text-gray-400 mb-8\">Last updated: December 2025</p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">1. Information We Collect</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We collect information you provide directly, including: name, email address, shipping address (for physical products), and payment information (processed securely by Stripe).\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">2. How We Use Your Information</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We use your information to: process and fulfill orders, send order confirmations and product credentials, provide customer support, and communicate about products and promotions (with your consent).\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">3. Payment Security</h2>\n          <p className=\"text-gray-300 mb-4\">\n            All payment transactions are processed through Stripe, a PCI-DSS compliant payment processor. We do not store your full credit card details on our servers.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">4. Data Sharing</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We do not sell your personal information. We may share data with: payment processors (Stripe) to complete transactions, email service providers (Resend) to send order communications, and shipping carriers for physical product delivery.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">5. Cookies and Analytics</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We use cookies and similar technologies to improve your browsing experience, remember your preferences, and analyze site traffic. You can control cookie settings through your browser.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">6. Data Retention</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We retain your information for as long as necessary to fulfill orders, provide support, and comply with legal obligations. You may request deletion of your data by contacting us.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">7. Your Rights</h2>\n          <p className=\"text-gray-300 mb-4\">\n            You have the right to: access your personal data, correct inaccurate information, request deletion of your data, and opt out of marketing communications.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">8. Children's Privacy</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Our services are not directed to children under 18. We do not knowingly collect information from minors.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">9. Changes to This Policy</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We may update this Privacy Policy periodically. Changes will be posted on this page with an updated effective date.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">10. Contact Us</h2>\n          <p className=\"text-gray-300 mb-4\">\n            For privacy-related questions or to exercise your rights, please contact our support team through the website.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5979,"size_tokens":null},"client/src/pages/RefundPolicy.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft } from \"lucide-react\";\n\nexport default function RefundPolicy() {\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    const title = \"Refund Policy | StreamStickPro\";\n    const description = \"Understand our refund policy for digital IPTV subscriptions and Fire Stick devices. Learn about eligibility, processing times, and how to request a refund.\";\n    const url = \"https://streamstickpro.com/refund\";\n    \n    document.title = title;\n    document.documentElement.classList.remove(\"shadow-theme\");\n    document.documentElement.classList.add(\"dark\");\n    \n    const setMetaTag = (name: string, content: string, isProperty = false) => {\n      const attr = isProperty ? 'property' : 'name';\n      let tag = document.querySelector(`meta[${attr}=\"${name}\"]`);\n      if (!tag) {\n        tag = document.createElement('meta');\n        tag.setAttribute(attr, name);\n        document.head.appendChild(tag);\n      }\n      tag.setAttribute('content', content);\n    };\n    \n    let canonical = document.querySelector('link[rel=\"canonical\"]') as HTMLLinkElement;\n    if (!canonical) {\n      canonical = document.createElement('link');\n      canonical.setAttribute('rel', 'canonical');\n      document.head.appendChild(canonical);\n    }\n    canonical.setAttribute('href', url);\n    \n    setMetaTag('description', description);\n    setMetaTag('og:title', title, true);\n    setMetaTag('og:description', description, true);\n    setMetaTag('og:url', url, true);\n    setMetaTag('og:type', 'website', true);\n    setMetaTag('twitter:title', title);\n    setMetaTag('twitter:description', description);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <nav className=\"border-b border-gray-800 sticky top-0 z-10 bg-gray-900/95 backdrop-blur\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center gap-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setLocation(\"/\")}\n            className=\"text-gray-400 hover:text-white\"\n            data-testid=\"button-back-home\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back\n          </Button>\n          <h1 className=\"text-2xl font-bold\" data-testid=\"heading-refund\">Refund Policy</h1>\n        </div>\n      </nav>\n\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"prose prose-invert max-w-none\" data-testid=\"content-refund\">\n          <p className=\"text-gray-400 mb-8\">Last updated: December 2025</p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Our Commitment</h2>\n          <p className=\"text-gray-300 mb-4\">\n            At StreamStickPro, we stand behind our products and want you to be completely satisfied with your purchase. Please read our refund policy carefully before making a purchase.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Digital Products (IPTV Subscriptions)</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Due to the instant delivery nature of digital products, IPTV subscription credentials are non-refundable once delivered. This is because access is granted immediately and cannot be revoked or \"returned.\"\n          </p>\n          <p className=\"text-gray-300 mb-4\">\n            However, if you experience technical issues that prevent the service from working properly, our support team will work with you to resolve the issue. If we cannot resolve the issue within 48 hours, you may be eligible for a refund or credit.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Fire Stick Devices</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Physical Fire Stick devices may be returned within 7 days of delivery if:\n          </p>\n          <ul className=\"list-disc list-inside text-gray-300 mb-4 ml-4\">\n            <li>The device is defective or damaged on arrival</li>\n            <li>The device is unused and in original packaging</li>\n            <li>You contact support within 7 days of receiving the device</li>\n          </ul>\n          <p className=\"text-gray-300 mb-4\">\n            Note: The IPTV subscription included with Fire Stick purchases is subject to the digital product policy above and is non-refundable once credentials are delivered.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">How to Request a Refund</h2>\n          <p className=\"text-gray-300 mb-4\">\n            To request a refund, please contact our support team through the website chat or email with:\n          </p>\n          <ul className=\"list-disc list-inside text-gray-300 mb-4 ml-4\">\n            <li>Your order number or email address used for purchase</li>\n            <li>Reason for the refund request</li>\n            <li>Any relevant screenshots or documentation</li>\n          </ul>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Refund Processing</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Approved refunds are processed within 5-7 business days. Refunds are issued to the original payment method. Bank processing times may vary.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Exceptions</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Refunds will not be provided for:\n          </p>\n          <ul className=\"list-disc list-inside text-gray-300 mb-4 ml-4\">\n            <li>Change of mind after digital credentials have been delivered</li>\n            <li>Issues caused by customer's internet connection or device compatibility</li>\n            <li>Failure to follow setup instructions (we offer 24/7 support to help)</li>\n            <li>Requests made more than 7 days after purchase</li>\n          </ul>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">Contact Support</h2>\n          <p className=\"text-gray-300 mb-4\">\n            Our support team is available 24/7 to help resolve any issues. We encourage you to reach out before requesting a refund - most problems can be resolved quickly with our assistance.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6304,"size_tokens":null},"server/seedBlogEliteSEO.ts":{"content":"import { storage } from \"./storage\";\n\n// ELITE SEO BLOG STRATEGY - 200+ POSTS\n// Using 2025 best practices: Pillar-Cluster model, semantic SEO, long-tail keywords\n// SAFE TERMINOLOGY: \"Fully Loaded\" (not jailbroken), \"Live TV\" (not IPTV)\n\ninterface BlogPost {\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  category: string;\n  featured: boolean;\n  published: boolean;\n  metaTitle: string;\n  metaDescription: string;\n  keywords: string[];\n  readTime: string;\n  linkedProductIds: string[];\n}\n\n// ============================================\n// PILLAR 1: STREAMING DEVICE SETUP (20 posts)\n// Target: \"fire stick setup\", \"streaming device\", \"fire tv stick\"\n// ============================================\n\nconst pillar1_streamingDevices: BlogPost[] = [\n  // PILLAR PAGE\n  {\n    title: \"Complete Fire Stick Setup Guide 2025: Everything You Need to Know\",\n    slug: \"complete-fire-stick-setup-guide-2025\",\n    excerpt: \"The ultimate guide to setting up your Fire Stick for streaming. Learn expert tips, troubleshooting, and how to get the most from your device.\",\n    content: `Setting up a Fire Stick has never been easier. Whether you're a complete beginner or looking to optimize your streaming experience, this comprehensive guide covers everything you need to know in 2025.\n\n## What is a Fire Stick?\n\nAmazon Fire TV Stick is a compact streaming device that plugs into your TV's HDMI port. It transforms any TV with an HDMI port into a smart TV, giving you access to streaming apps, live content, and entertainment options.\n\n**Key Features:**\n- Compact design that plugs directly into HDMI\n- Voice control with Alexa built-in\n- Access to thousands of streaming apps\n- 4K and HDR support (on compatible models)\n- Wi-Fi connectivity with optional ethernet adapter\n\n## Fire Stick Models Comparison\n\n### Fire Stick HD (Entry Level)\nPerfect for 1080p TVs and budget-conscious streamers.\n- Full HD 1080p resolution\n- Quad-core processor\n- 8GB storage\n- Alexa Voice Remote included\n\n### Fire Stick 4K (Best Value)\nIdeal for 4K TV owners who want premium quality.\n- 4K Ultra HD resolution\n- Dolby Vision and HDR10+ support\n- Enhanced audio with Dolby Atmos\n- Wi-Fi 6 support\n\n### Fire Stick 4K Max (Premium)\nFor power users wanting the fastest performance.\n- 4K Ultra HD with Wi-Fi 6E\n- Fastest processor in the lineup\n- Ambient Experience display mode\n- Picture-in-picture live view\n\n## Step-by-Step Setup Guide\n\n### Step 1: Unbox Your Device\nRemove the Fire Stick, power adapter, HDMI extender, and Alexa Voice Remote from the packaging. The HDMI extender helps if your TV has limited space around HDMI ports.\n\n### Step 2: Connect to Your TV\n1. Plug the Fire Stick into an available HDMI port\n2. Note which HDMI input you used (HDMI 1, HDMI 2, etc.)\n3. Use the HDMI extender if the fit is tight\n\n### Step 3: Power Up\n1. Connect the USB power cable to the Fire Stick\n2. Plug the power adapter into a wall outlet\n3. **Important:** Always use the included power adapter for best performance\n\n### Step 4: Select HDMI Input\n1. Turn on your TV\n2. Press the Input/Source button on your TV remote\n3. Select the HDMI input where Fire Stick is connected\n4. You should see the Fire TV logo\n\n### Step 5: Pair Your Remote\nThe remote usually pairs automatically. If not:\n1. Hold the Home button for 10 seconds\n2. Wait for the pairing confirmation\n3. Follow on-screen instructions\n\n### Step 6: Connect to Wi-Fi\n1. Select your Wi-Fi network from the list\n2. Enter your password using the on-screen keyboard\n3. Wait for connection confirmation\n4. **Tip:** Position your router within 30 feet for best signal\n\n### Step 7: Sign In to Amazon\n1. Sign in with your Amazon account\n2. Or create a new account if needed\n3. This links your device to your Amazon ecosystem\n\n### Step 8: Complete Initial Setup\n1. Choose whether to save Wi-Fi password to Amazon\n2. Set up parental controls if needed\n3. Register the remote for TV control\n4. Select your streaming preferences\n\n## Optimizing Your Fire Stick\n\n### Speed Up Performance\n- Clear app cache regularly\n- Disable automatic updates during streaming\n- Turn off data monitoring\n- Use ethernet adapter for wired connection\n\n### Improve Picture Quality\n- Match display resolution to your TV\n- Enable HDR if your TV supports it\n- Adjust display settings in Settings > Display & Sounds\n- Use high-speed HDMI cable (for external setups)\n\n### Extend Remote Battery Life\n- Use lithium batteries for longer life\n- Disable HDMI-CEC if not needed\n- Put Fire Stick to sleep when not in use\n\n## Troubleshooting Common Issues\n\n### Fire Stick Won't Turn On\n1. Check power adapter connection\n2. Try different power outlet\n3. Use wall outlet instead of TV USB port\n4. Hold power button for 20 seconds to reset\n\n### No Signal on TV\n1. Verify correct HDMI input selected\n2. Try different HDMI port\n3. Use HDMI extender\n4. Check for loose connections\n\n### Buffering Issues\n1. Test internet speed (minimum 25 Mbps for HD)\n2. Move router closer or use Wi-Fi extender\n3. Consider ethernet adapter for stable connection\n4. Reduce video quality in app settings\n\n### Remote Not Working\n1. Replace batteries\n2. Unpair and re-pair remote\n3. Clear line of sight to Fire Stick\n4. Use Fire TV app on phone as backup\n\n## Frequently Asked Questions\n\n**Q: Do I need an Amazon Prime subscription?**\nA: No, Fire Stick works without Prime. Prime adds additional benefits but isn't required.\n\n**Q: Can I use Fire Stick on any TV?**\nA: Yes, any TV with an HDMI port works. Even older HDTVs are compatible.\n\n**Q: How much internet speed do I need?**\nA: Minimum 10 Mbps for HD streaming, 25+ Mbps recommended for 4K.\n\n**Q: Can I travel with my Fire Stick?**\nA: Yes! Fire Stick is portable. Just connect to any TV with HDMI and Wi-Fi.\n\n**Q: How do I get more channels and content?**\nA: Install streaming apps from the Amazon App Store, or get a fully loaded device with premium apps pre-installed.\n\n## Why Choose a Fully Loaded Fire Stick?\n\nStreamStickPro offers professionally configured Fire Sticks that come ready to stream:\n- Premium streaming apps pre-installed\n- Live TV access included\n- Sports coverage for major leagues\n- Movies and shows on demand\n- 10-minute setup - just plug in and play\n- 24/7 customer support\n- 1-year Live TV Plan included\n\n**Get fully loaded in 10 minutes** with our expert-configured devices. No technical knowledge required - we handle everything so you can start streaming immediately.`,\n    category: \"Setup Guides\",\n    featured: true,\n    published: true,\n    metaTitle: \"Fire Stick Setup Guide 2025 | Complete Installation Tutorial\",\n    metaDescription: \"Learn how to set up your Fire Stick in minutes. Complete 2025 guide with step-by-step instructions, troubleshooting tips, and optimization secrets.\",\n    keywords: [\"fire stick setup\", \"fire tv stick setup\", \"how to setup fire stick\", \"fire stick installation\", \"fire stick guide 2025\", \"amazon fire stick setup\", \"fire stick tutorial\", \"streaming device setup\"],\n    readTime: \"12 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  },\n  // CLUSTER POSTS\n  {\n    title: \"How to Set Up Fire Stick on Old TV Without HDMI\",\n    slug: \"setup-fire-stick-old-tv-no-hdmi\",\n    excerpt: \"Got an older TV without HDMI? Learn how to connect your Fire Stick using an HDMI to RCA converter and start streaming.\",\n    content: `Many households still have older TVs that only have RCA (red, white, yellow) connections. The good news? You can still use a Fire Stick with the right adapter.\n\n## What You'll Need\n\n- Amazon Fire Stick (any model)\n- HDMI to RCA/AV Converter\n- RCA cables (usually included with converter)\n- Power source for the converter\n\n## Step-by-Step Connection\n\n### Step 1: Get the Right Converter\nPurchase an HDMI to RCA converter (also called HDMI to AV or HDMI to Composite). These cost $15-30 and are available on Amazon.\n\n**Important:** Get HDMI *to* RCA, not RCA to HDMI. Direction matters!\n\n### Step 2: Connect Fire Stick to Converter\n1. Plug Fire Stick into the HDMI port on the converter\n2. Power both devices - Fire Stick and converter need separate power\n\n### Step 3: Connect Converter to TV\n1. Connect RCA cables from converter to TV\n2. Yellow cable = Video (yellow port)\n3. White cable = Left Audio (white port)\n4. Red cable = Right Audio (red port)\n\n### Step 4: Select Input\n1. Turn on your TV\n2. Select the AV or Composite input\n3. You should see the Fire TV logo\n\n## Picture Quality Expectations\n\nConverting from HDMI to RCA means downgrading from digital to analog. Expect:\n- 480p resolution (not HD)\n- Slightly softer picture\n- Perfectly watchable for shows and movies\n- May have minor color variations\n\n## Troubleshooting\n\n**No Picture?**\n- Check converter has power (LED should be on)\n- Verify correct TV input selected\n- Try different RCA port configuration\n\n**No Sound?**\n- Check audio cables are connected\n- Increase TV volume\n- Try switching left/right audio cables\n\n## Better Alternative\n\nFor the best experience, consider:\n- Upgrading to a TV with HDMI (affordable 32\" models start at $99)\n- Using a computer monitor with HDMI\n- Getting a streaming projector\n\n## FAQ\n\n**Q: Will Fire Stick work on tube TV?**\nA: Yes, with an HDMI to RCA converter any TV with composite inputs works.\n\n**Q: Can I get 4K on old TV?**\nA: No, older TVs max out at 480p regardless of Fire Stick model.\n\n**Q: Is there input lag?**\nA: Converters add minimal lag (10-30ms), not noticeable for streaming.\n\nReady to stream? Our fully loaded Fire Sticks work with any setup - old or new TV. Get set up in 10 minutes with everything pre-configured.`,\n    category: \"Setup Guides\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick on Old TV Without HDMI | Complete Setup Guide\",\n    metaDescription: \"Connect Fire Stick to older TV without HDMI using an HDMI to RCA converter. Step-by-step guide with troubleshooting tips.\",\n    keywords: [\"fire stick old tv\", \"fire stick no hdmi\", \"fire stick rca converter\", \"fire stick composite\", \"fire stick tube tv\", \"hdmi to rca fire stick\"],\n    readTime: \"5 min read\",\n    linkedProductIds: [\"fs-hd\"]\n  },\n  {\n    title: \"Fire Stick Ethernet Adapter Setup: Faster, Stable Streaming\",\n    slug: \"fire-stick-ethernet-adapter-setup\",\n    excerpt: \"Eliminate buffering and get rock-solid streaming with a wired ethernet connection. Complete setup guide for Fire Stick ethernet adapters.\",\n    content: `Tired of buffering? Wi-Fi can be unreliable, especially in homes with many devices. An ethernet adapter gives your Fire Stick a direct, stable internet connection.\n\n## Why Use Ethernet Over Wi-Fi?\n\n**Benefits:**\n- Faster, more consistent speeds\n- No interference from other devices\n- Eliminates buffering during peak hours\n- Better for 4K and live sports streaming\n- More reliable for Live TV streaming\n\n**Best For:**\n- Live sports viewers (no freezing during big plays)\n- 4K content streaming\n- Homes with many Wi-Fi devices\n- Older homes with thick walls\n- Basement or distant room setups\n\n## Compatible Ethernet Adapters\n\n### Amazon Ethernet Adapter for Fire TV\n- Official Amazon product ($14.99)\n- Works with all Fire Stick models\n- 10/100 Mbps speeds\n- Simple plug-and-play\n\n### Third-Party Options\n- Cable Matters USB Ethernet Adapter\n- UGREEN Ethernet Adapter\n- Rankie USB Ethernet Adapter\n\n**Note:** Ensure adapter is compatible with Fire Stick's micro-USB or USB-C port (depending on model).\n\n## Setup Instructions\n\n### Step 1: Connect the Adapter\n1. Unplug Fire Stick power cable\n2. Connect ethernet adapter to Fire Stick's USB port\n3. Plug ethernet cable into adapter\n4. Reconnect power to Fire Stick\n\n### Step 2: Configure Network\n1. Go to Settings > Network\n2. Fire Stick should auto-detect ethernet\n3. Select \"Ethernet\" from network list\n4. Wait for connection confirmation\n\n### Step 3: Verify Connection\n1. Go to Settings > Network > Status\n2. Check connection type shows \"Ethernet\"\n3. Run speed test to confirm speeds\n\n## Speed Comparison: Wi-Fi vs Ethernet\n\n| Metric | Wi-Fi | Ethernet |\n|--------|-------|----------|\n| Typical Speed | 15-50 Mbps | 80-100 Mbps |\n| Latency | 20-50ms | 5-15ms |\n| Consistency | Variable | Stable |\n| Buffering | Occasional | Rare |\n\n## Troubleshooting\n\n**Ethernet Not Detected?**\n- Check adapter is fully plugged in\n- Try different ethernet cable\n- Restart Fire Stick\n- Update Fire Stick software\n\n**Slow Speeds?**\n- Check ethernet cable quality (Cat5e or better)\n- Test cable on computer first\n- Verify router port is working\n\n## Cable Management Tips\n\n- Use flat ethernet cables for under-carpet runs\n- Cable clips keep wires organized\n- Consider powerline adapter if router is far away\n- Hide cables behind furniture\n\n## FAQ\n\n**Q: Can I use a USB hub?**\nA: Not recommended - direct connection is more reliable.\n\n**Q: Does ethernet use more power?**\nA: Slightly, but not noticeable on your electric bill.\n\n**Q: Will ethernet work with fully loaded Fire Stick?**\nA: Absolutely! Ethernet improves all streaming, especially live content.\n\nGet the best streaming experience with a fully loaded Fire Stick and ethernet connection. Our devices come ready to stream with all premium apps pre-configured.`,\n    category: \"Setup Guides\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Ethernet Adapter Setup | Faster Streaming Guide\",\n    metaDescription: \"Set up ethernet adapter for Fire Stick to eliminate buffering. Step-by-step guide for faster, more stable streaming connection.\",\n    keywords: [\"fire stick ethernet\", \"fire stick ethernet adapter\", \"fire stick wired connection\", \"fire stick buffering fix\", \"fire stick faster streaming\", \"amazon ethernet adapter fire tv\"],\n    readTime: \"6 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Fire Stick Remote Not Working? Complete Troubleshooting Guide\",\n    slug: \"fire-stick-remote-not-working-fix\",\n    excerpt: \"Fire Stick remote stopped working? Fix pairing issues, unresponsive buttons, and connection problems with our complete troubleshooting guide.\",\n    content: `A non-working Fire Stick remote is frustrating, but most issues have simple fixes. This guide covers every troubleshooting step to get your remote working again.\n\n## Quick Fixes (Try These First)\n\n### 1. Replace Batteries\nThe most common cause of remote issues is dead batteries.\n- Use fresh AAA batteries\n- Lithium batteries last longer\n- Check battery orientation (+/- symbols)\n\n### 2. Restart Fire Stick\n1. Unplug Fire Stick from power\n2. Wait 30 seconds\n3. Plug back in\n4. Try remote when home screen appears\n\n### 3. Clear Line of Sight\n- Remove obstacles between remote and Fire Stick\n- Sit within 30 feet of device\n- Avoid pointing at bright lights or windows\n\n## Re-Pairing Your Remote\n\nIf quick fixes don't work, try re-pairing:\n\n### Standard Pairing\n1. Hold HOME button for 10 seconds\n2. Wait for LED to flash\n3. Release and wait for pairing\n\n### Hard Reset Pairing\n1. Unplug Fire Stick power\n2. Wait 60 seconds\n3. Press and hold LEFT + MENU + BACK buttons on remote\n4. Hold for 12 seconds, release for 5 seconds\n5. Remove batteries, plug in Fire Stick\n6. Wait 60 seconds until home screen appears\n7. Put batteries back in remote\n8. Press HOME button to pair\n\n## Using Fire TV App as Backup\n\nDownload the Fire TV app on your phone:\n- Available for iOS and Android\n- Full remote functionality\n- Voice control included\n- Great backup option\n\n### Setup Steps\n1. Download \"Amazon Fire TV\" app\n2. Connect phone to same Wi-Fi as Fire Stick\n3. Select your Fire Stick from list\n4. Enter code shown on TV\n5. Use phone as remote\n\n## Common Remote Issues\n\n### Buttons Not Responding\n- Clean button contacts with rubbing alcohol\n- Check for stuck buttons\n- May need remote replacement\n\n### Intermittent Connection\n- Move Wi-Fi router further from TV\n- Reduce interference from other electronics\n- Check for HDMI-CEC conflicts\n\n### Volume/Power Not Working\n- Re-run TV equipment setup\n- Verify TV brand in settings\n- Update Fire Stick software\n\n## Remote Settings Optimization\n\nGo to Settings > Equipment Control to:\n- Re-detect TV for volume control\n- Set up soundbar/receiver\n- Adjust HDMI-CEC settings\n- Configure TV power control\n\n## When to Replace\n\nConsider replacement if:\n- Physical damage visible\n- Buttons no longer click\n- Won't pair after all troubleshooting\n- LED doesn't light during pairing\n\n**Replacement Options:**\n- Amazon Alexa Voice Remote ($29.99)\n- Fire TV Stick 4K Remote ($17.99)\n- Third-party universal remotes\n\n## FAQ\n\n**Q: Can I use any Alexa remote?**\nA: Fire TV-specific remotes work best. Universal Alexa remotes may have limited functionality.\n\n**Q: Why does my remote work sometimes?**\nA: Usually interference or low battery. Try fresh batteries and remove electronic devices near Fire Stick.\n\n**Q: How do I pair a new remote?**\nA: Go to Settings > Controllers > Add New Remote, then hold HOME button on new remote.\n\nNeed a fully loaded Fire Stick with remote included? Our devices come complete with Alexa Voice Remote and 24/7 support for any technical issues.`,\n    category: \"Troubleshooting\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Remote Not Working | Complete Fix Guide 2025\",\n    metaDescription: \"Fix Fire Stick remote not working with our complete troubleshooting guide. Solve pairing issues, unresponsive buttons, and connection problems.\",\n    keywords: [\"fire stick remote not working\", \"fire stick remote fix\", \"fire stick remote pairing\", \"fire tv remote troubleshooting\", \"fire stick remote replacement\", \"alexa remote not working\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"How to Clear Cache on Fire Stick: Speed Up Your Device\",\n    slug: \"clear-cache-fire-stick-speed-up\",\n    excerpt: \"Fire Stick running slow? Clear app cache and data to free up space and boost performance. Complete guide with screenshots.\",\n    content: `Over time, Fire Stick stores temporary data (cache) that can slow down performance. Clearing cache is like giving your device a fresh start.\n\n## Why Clear Cache?\n\n**Benefits:**\n- Frees up storage space\n- Fixes app crashes and freezes\n- Resolves playback issues\n- Improves overall speed\n- Fixes login/authentication errors\n\n**Signs You Need to Clear Cache:**\n- Apps running slowly\n- Buffering more than usual\n- Apps crashing frequently\n- Low storage warnings\n- Streaming quality degraded\n\n## How to Clear App Cache\n\n### Individual App Cache\n\n1. Go to **Settings** (gear icon)\n2. Select **Applications**\n3. Choose **Manage Installed Applications**\n4. Select the problematic app\n5. Choose **Clear cache**\n\n**Note:** This removes temporary files but keeps your logins and settings.\n\n### Clear App Data (Full Reset)\n\nIf clearing cache doesn't help:\n\n1. Go to **Settings > Applications**\n2. Select **Manage Installed Applications**\n3. Choose the app\n4. Select **Clear data**\n\n**Warning:** This removes all app data including logins. You'll need to sign in again.\n\n## Which Apps to Clear\n\n### High Priority (Clear Regularly)\n- Streaming apps you use daily\n- Live TV apps\n- Sports streaming apps\n- Any app showing issues\n\n### Storage Hogs (Check These)\n- Video streaming apps\n- Gaming apps\n- Browser apps\n- Downloaded content apps\n\n## How to Check Storage\n\n1. Go to **Settings > My Fire TV**\n2. Select **About**\n3. Check available storage\n\n**Healthy:** 2GB+ free space\n**Concerning:** Under 1GB free\n**Critical:** Under 500MB free\n\n## Clear All Cache at Once\n\n### Method 1: Factory Reset (Last Resort)\n1. Settings > My Fire TV\n2. Reset to Factory Defaults\n3. Confirm reset\n4. Note: This erases everything!\n\n### Method 2: Use Maintenance Apps\n- Install \"Background Apps and Process List\"\n- Force stop background apps\n- Clear cache for multiple apps\n\n## Prevent Cache Buildup\n\n### Regular Maintenance\n- Clear cache monthly\n- Uninstall unused apps\n- Disable auto-play previews\n- Limit downloaded content\n\n### Optimize Settings\n1. Settings > Preferences > Data Usage Monitoring > Off\n2. Settings > Preferences > Featured Content > Off\n3. Settings > Applications > Appstore > Automatic Updates > Off\n\n## FAQ\n\n**Q: Will clearing cache delete my downloads?**\nA: No, downloads are stored separately. Clear data removes downloads.\n\n**Q: How often should I clear cache?**\nA: Monthly for optimal performance, or when issues arise.\n\n**Q: Does this fix buffering?**\nA: It can help, but buffering is usually internet-related.\n\n**Q: Will I lose my watch history?**\nA: Clear cache: No. Clear data: Yes.\n\nKeep your Fire Stick running fast! Our fully loaded devices come optimized for peak performance with premium streaming apps ready to go.`,\n    category: \"Troubleshooting\",\n    featured: false,\n    published: true,\n    metaTitle: \"Clear Cache on Fire Stick | Speed Up Performance Guide\",\n    metaDescription: \"Speed up your Fire Stick by clearing cache. Step-by-step guide to free storage space and fix slow performance issues.\",\n    keywords: [\"clear cache fire stick\", \"fire stick slow fix\", \"fire stick speed up\", \"fire stick clear data\", \"fire stick storage full\", \"fire stick performance\"],\n    readTime: \"5 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Fire Stick Parental Controls: Complete Setup Guide for Families\",\n    slug: \"fire-stick-parental-controls-family-guide\",\n    excerpt: \"Protect your kids with Fire Stick parental controls. Set up PIN codes, content restrictions, and viewing time limits.\",\n    content: `Fire Stick offers comprehensive parental controls to keep your family safe. Here's how to set up age-appropriate viewing restrictions.\n\n## Setting Up Parental Controls\n\n### Enable Parental Controls\n\n1. Go to **Settings** (gear icon)\n2. Select **Preferences**\n3. Choose **Parental Controls**\n4. Toggle **Parental Controls** to ON\n5. Create a 5-digit PIN\n\n**PIN Tips:**\n- Don't use obvious numbers (12345, birthday)\n- Write it down somewhere safe\n- Only share with other adults\n\n## Content Restrictions\n\n### By Maturity Rating\n\nControl what content can be viewed:\n\n**Movies:**\n- G - General audiences\n- PG - Parental guidance\n- PG-13 - 13 and older\n- R - Restricted\n- NC-17 - Adults only\n\n**TV Shows:**\n- TV-Y - All children\n- TV-Y7 - 7 and older\n- TV-G - General audience\n- TV-PG - Parental guidance\n- TV-14 - 14 and older\n- TV-MA - Mature audiences\n\n### Setting Restrictions\n\n1. Settings > Preferences > Parental Controls\n2. Select content type (Prime Video, Apps, etc.)\n3. Choose maximum allowed rating\n4. PIN required to view restricted content\n\n## App Restrictions\n\n### Require PIN for Apps\n\n1. Settings > Preferences > Parental Controls\n2. Enable \"Apps from Unknown Sources\" restriction\n3. Enable \"Purchases\" PIN requirement\n4. Enable \"App Launches\" for specific apps\n\n### Block Specific Apps\n\n1. Settings > Applications > Manage Installed Applications\n2. Select app to restrict\n3. Enable PIN requirement for launch\n\n## Purchase Controls\n\nPrevent unauthorized purchases:\n\n1. Settings > Preferences > Parental Controls\n2. Enable \"Purchases require PIN\"\n3. Set \"Purchase restriction\" to always require PIN\n4. Consider disabling 1-Click purchasing\n\n## Amazon Kids (Kid-Friendly Mode)\n\nFor younger children, Amazon Kids provides:\n- Curated, age-appropriate content\n- No in-app purchases\n- Screen time limits\n- Educational content focus\n\n### Setting Up Amazon Kids\n\n1. Settings > Preferences\n2. Select \"Amazon Kids\"\n3. Create child profile\n4. Set age for content filtering\n5. Choose daily time limits\n6. Select allowed apps and content\n\n### Amazon Kids+ (Subscription)\n\nOptional subscription adds:\n- Thousands of kid-friendly shows\n- Educational apps and games\n- Books and audiobooks\n- Ad-free experience\n\n## Viewing Time Controls\n\n### Set Daily Limits\n\nWith Amazon Kids:\n1. Open parent dashboard\n2. Select child's profile\n3. Set \"Daily Screen Time Goal\"\n4. Choose bedtime settings\n5. Set educational goals (optional)\n\n### Bedtime Features\n\n- Set automatic shutoff time\n- Weekday/weekend different schedules\n- Warning notifications before shutdown\n\n## Monitoring Activity\n\n### View Watch History\n\n1. Amazon Parents Dashboard (web)\n2. Sign in with Amazon account\n3. View activity by child\n4. See time spent and content watched\n\n### Activity Notifications\n\nEnable alerts for:\n- New app installations\n- Purchase attempts\n- Screen time exceeded\n\n## FAQ\n\n**Q: Can kids bypass parental controls?**\nA: Not without the PIN. Keep your PIN secret.\n\n**Q: Do controls work on all apps?**\nA: Amazon controls work on Amazon content. Third-party apps may have separate parental controls.\n\n**Q: Can I set different rules for different kids?**\nA: Yes, with Amazon Kids you create individual profiles with unique settings.\n\n**Q: How do I change my PIN?**\nA: Settings > Preferences > Parental Controls > Change PIN (requires current PIN).\n\nKeep your family safe with our fully loaded Fire Sticks. All devices include parental control capability and 24/7 support to help with setup.`,\n    category: \"Setup Guides\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Parental Controls | Family Safety Setup Guide\",\n    metaDescription: \"Set up Fire Stick parental controls to protect your kids. Complete guide to PIN codes, content restrictions, and viewing time limits.\",\n    keywords: [\"fire stick parental controls\", \"fire stick child safety\", \"fire stick family controls\", \"amazon kids fire stick\", \"fire stick pin setup\", \"fire stick content restrictions\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\"]\n  },\n  {\n    title: \"Fire Stick 4K vs 4K Max: Which One Should You Buy in 2025?\",\n    slug: \"fire-stick-4k-vs-4k-max-comparison-2025\",\n    excerpt: \"Confused between Fire Stick 4K and 4K Max? Compare specs, features, and value to find the perfect streaming device for your setup.\",\n    content: `Choosing between Fire Stick 4K and 4K Max can be confusing. Both offer 4K streaming, but there are key differences that matter. Let's break it down.\n\n## Quick Comparison\n\n| Feature | Fire Stick 4K | Fire Stick 4K Max |\n|---------|---------------|-------------------|\n| Resolution | 4K Ultra HD | 4K Ultra HD |\n| Processor | Quad-core 1.7 GHz | Quad-core 2.0 GHz |\n| RAM | 2GB | 2GB |\n| Storage | 8GB | 16GB |\n| Wi-Fi | Wi-Fi 6 | Wi-Fi 6E |\n| Dolby Vision | Yes | Yes |\n| Dolby Atmos | Yes | Yes |\n| Price | $140 (with Live TV) | $150 (with Live TV) |\n\n## Fire Stick 4K: Best Value\n\n### Pros\n- Excellent 4K picture quality\n- Dolby Vision and HDR10+ support\n- Wi-Fi 6 for fast streaming\n- Great price point\n- Perfect for most users\n\n### Cons\n- Slightly slower than Max\n- Less storage space\n- No Wi-Fi 6E\n\n### Best For\n- Most 4K TV owners\n- Budget-conscious streamers\n- Basic to moderate streaming needs\n- Users with standard Wi-Fi 6 routers\n\n## Fire Stick 4K Max: Premium Performance\n\n### Pros\n- Fastest Fire Stick processor\n- Wi-Fi 6E for future-proofing\n- 16GB storage (double the 4K)\n- Ambient Experience display\n- Picture-in-picture for cameras\n- Best for power users\n\n### Cons\n- Higher price\n- Wi-Fi 6E requires compatible router\n- Overkill for basic streaming\n\n### Best For\n- Power users and tech enthusiasts\n- Smart home users (camera integration)\n- Heavy app installers\n- Future-proofing your setup\n- Users with Wi-Fi 6E routers\n\n## Deep Dive: Key Differences\n\n### Processing Power\n\nThe 4K Max has a 15-20% faster processor:\n- Faster app loading\n- Smoother menu navigation\n- Better multitasking\n- Less lag during peak usage\n\n**Real-world impact:** Noticeable when navigating menus quickly or switching apps, but both stream content equally well once playing.\n\n### Wi-Fi: 6 vs 6E\n\n**Wi-Fi 6 (Fire Stick 4K):**\n- Works with most modern routers\n- Excellent speeds for 4K streaming\n- Plenty for typical home use\n\n**Wi-Fi 6E (Fire Stick 4K Max):**\n- Uses 6GHz band (less congestion)\n- Higher theoretical speeds\n- Better in crowded Wi-Fi environments\n- Requires Wi-Fi 6E router\n\n**Bottom line:** Unless you have a Wi-Fi 6E router, the difference is negligible.\n\n### Storage Difference\n\n**8GB (4K):** Plenty for streaming apps\n**16GB (4K Max):** Room for more apps and games\n\nMost users only install 5-10 streaming apps. The extra storage benefits heavy app users and gamers.\n\n### Ambient Experience (4K Max Only)\n\nWhen not streaming, your TV displays:\n- Art gallery images\n- Personal photos\n- Alexa information widgets\n- Weather and calendar info\n\nNice feature for TVs in common areas.\n\n## Which Should You Buy?\n\n### Buy Fire Stick 4K If:\n- You have a 4K TV\n- You want excellent value\n- Standard streaming is your goal\n- You have a Wi-Fi 6 (or older) router\n- You don't need smart home integration\n\n### Buy Fire Stick 4K Max If:\n- You want the fastest performance\n- You have a Wi-Fi 6E router\n- You install many apps\n- You use smart home cameras\n- Future-proofing matters to you\n\n## Our Recommendation\n\n**For most users:** Fire Stick 4K offers the best balance of features and value. The picture quality is identical, and the performance difference is minimal for typical streaming.\n\n**For power users:** Fire Stick 4K Max is worth the extra $10 if you want the best specs and plan to use your Fire Stick heavily.\n\n## FAQ\n\n**Q: Is 4K Max worth $10 more?**\nA: For most users, no. For power users and smart home enthusiasts, yes.\n\n**Q: Do both work with regular HD TVs?**\nA: Yes, both automatically adjust to your TV's resolution.\n\n**Q: Which is better for Live TV streaming?**\nA: Both perform equally well for live content streaming.\n\n**Q: Can I upgrade later?**\nA: You can always buy a new device, but setup is required.\n\nGet either model fully loaded with Live TV Plan included. Our devices come ready to stream with premium apps pre-installed and 24/7 support.`,\n    category: \"Reviews\",\n    featured: true,\n    published: true,\n    metaTitle: \"Fire Stick 4K vs 4K Max | Complete Comparison 2025\",\n    metaDescription: \"Compare Fire Stick 4K vs 4K Max in 2025. Full breakdown of specs, features, and value to help you choose the right streaming device.\",\n    keywords: [\"fire stick 4k vs 4k max\", \"fire stick comparison\", \"fire stick 4k max review\", \"best fire stick 2025\", \"fire stick 4k review\", \"which fire stick to buy\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Fire Stick Not Connecting to Wi-Fi: Complete Fix Guide\",\n    slug: \"fire-stick-not-connecting-wifi-fix\",\n    excerpt: \"Fire Stick won't connect to Wi-Fi? Fix network connection issues with our complete troubleshooting guide. Works for all models.\",\n    content: `Wi-Fi connection problems are among the most common Fire Stick issues. This guide covers every fix, from simple to advanced.\n\n## Quick Fixes (Try First)\n\n### 1. Restart Everything\n1. Unplug Fire Stick for 30 seconds\n2. Restart your router (unplug for 30 seconds)\n3. Plug router back in, wait 2 minutes\n4. Plug Fire Stick back in\n5. Try connecting again\n\n### 2. Forget and Reconnect\n1. Settings > Network\n2. Select your network\n3. Press menu button, select \"Forget Network\"\n4. Reconnect and enter password\n\n### 3. Check Password\n- Verify correct password (case-sensitive)\n- Check for typos\n- Try connecting another device to verify password\n\n## Common Causes and Solutions\n\n### Wrong Network Selected\n- Ensure you're connecting to your network, not a neighbor's\n- Check network name (SSID) carefully\n- 5GHz and 2.4GHz networks may have different names\n\n### Network is Full\n- Some routers limit connected devices\n- Disconnect unused devices\n- Check router settings for connection limits\n\n### Distance from Router\n- Move Fire Stick closer to router\n- Use HDMI extender to position better\n- Consider Wi-Fi extender or mesh system\n\n### Interference\nCommon sources of Wi-Fi interference:\n- Microwave ovens\n- Baby monitors\n- Cordless phones\n- Other electronics near router\n\n## Advanced Troubleshooting\n\n### Change Wi-Fi Channel\nCongested channels cause connection issues:\n1. Access router admin panel (usually 192.168.1.1)\n2. Find wireless settings\n3. Change channel (try 1, 6, or 11 for 2.4GHz)\n4. Save and test\n\n### Update Router Firmware\nOutdated firmware can cause compatibility issues:\n1. Check router manufacturer's website\n2. Download latest firmware\n3. Apply update through router admin\n\n### Adjust Router Settings\nSettings that may help:\n- Enable \"Mixed Mode\" (b/g/n/ac)\n- Disable MAC address filtering\n- Enable UPnP\n- Check firewall settings\n\n### Use 2.4GHz Instead of 5GHz\n5GHz has shorter range:\n1. Connect to 2.4GHz network\n2. Better wall penetration\n3. More reliable for distant devices\n\n## Fire Stick Network Settings\n\n### Check Network Status\n1. Settings > Network\n2. Select connected network\n3. Press play button for detailed status\n4. Note signal strength and connection quality\n\n### Manual IP Configuration\nIf DHCP fails:\n1. Settings > Network > Select network\n2. Advanced options\n3. Enter IP, Gateway, DNS manually\n4. Use Google DNS: 8.8.8.8 and 8.8.4.4\n\n### DNS Settings\nSlow DNS can cause connection issues:\n1. Use Google DNS (8.8.8.8)\n2. Or Cloudflare DNS (1.1.1.1)\n3. Configure in Fire Stick network settings\n\n## When Wi-Fi Isn't Enough\n\n### Ethernet Adapter\nFor bulletproof connection:\n- Amazon Ethernet Adapter ($14.99)\n- Wired connection = no Wi-Fi issues\n- Best for Live TV streaming\n- Eliminates buffering\n\n### Powerline Adapters\nUse your home's electrical wiring:\n- Extends network to any outlet\n- No new wiring required\n- Great for distant rooms\n\n### Mesh Wi-Fi Systems\nFor whole-home coverage:\n- Multiple access points\n- Seamless roaming\n- Consistent signal throughout\n\n## FAQ\n\n**Q: Why does Fire Stick disconnect randomly?**\nA: Usually power saving settings or weak signal. Use wall outlet (not TV USB) and improve signal.\n\n**Q: Can too many devices slow down Wi-Fi?**\nA: Yes, especially on older routers. Upgrade router or disconnect unused devices.\n\n**Q: Does Fire Stick need 5GHz?**\nA: No, 2.4GHz works fine. 5GHz is faster but has shorter range.\n\n**Q: How much internet speed do I need?**\nA: Minimum 10 Mbps for HD, 25+ Mbps for 4K.\n\nGet our fully loaded Fire Stick with ethernet adapter recommendation for perfect streaming every time. 24/7 support included for any connection issues.`,\n    category: \"Troubleshooting\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Not Connecting to WiFi | Complete Fix Guide\",\n    metaDescription: \"Fix Fire Stick Wi-Fi connection issues. Complete troubleshooting guide with solutions for all common network problems.\",\n    keywords: [\"fire stick not connecting wifi\", \"fire stick wifi fix\", \"fire stick network problems\", \"fire stick internet connection\", \"fire stick wifi troubleshooting\", \"fire stick connection issues\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Best Fire Stick Apps 2025: Essential Streaming Apps to Install\",\n    slug: \"best-fire-stick-apps-2025-essential\",\n    excerpt: \"Discover the best Fire Stick apps for 2025. From streaming services to utilities, these are the essential apps every Fire Stick owner needs.\",\n    content: `Transform your Fire Stick with these essential apps. From streaming to productivity, here are the must-have apps for 2025.\n\n## Streaming Apps\n\n### Free Streaming Services\n\n**Tubi TV**\n- Completely free, ad-supported\n- Thousands of movies and shows\n- No subscription required\n- Updated content weekly\n\n**Pluto TV**\n- 250+ live channels\n- Free movies and shows\n- News, sports, entertainment\n- Great cable replacement\n\n**Freevee (Amazon)**\n- Ad-supported streaming\n- Original content\n- Movies and series\n- Integrated with Prime Video\n\n**Peacock Free**\n- NBC content\n- News and sports\n- Limited free tier\n- Premium upgrade available\n\n### Premium Streaming\n\n**Netflix**\n- World's largest streaming library\n- Original content\n- Multiple plans available\n- 4K and HDR support\n\n**Disney+**\n- Disney, Marvel, Star Wars\n- National Geographic\n- Family-friendly content\n- 4K Dolby Vision\n\n**Max (HBO)**\n- HBO original content\n- Movies and documentaries\n- Warner Bros. library\n- 4K support\n\n**Hulu**\n- Current TV episodes\n- Hulu Originals\n- Live TV option\n- Ad-free upgrade available\n\n## Live TV Apps\n\n**YouTube TV**\n- 100+ live channels\n- Unlimited DVR\n- Major sports networks\n- Premium quality\n\n**Sling TV**\n- Affordable live TV\n- Flexible channel packages\n- Sports and news\n- Starting at $40/month\n\n**FuboTV**\n- Sports-focused\n- 200+ channels\n- 4K sports streaming\n- DVR included\n\n## Sports Apps\n\n**ESPN**\n- ESPN+ streaming\n- Live sports events\n- Highlights and analysis\n- Requires subscription\n\n**NFL+**\n- Live local games\n- NFL Network\n- Game replays\n- Condensed games\n\n**NBA League Pass**\n- All NBA games\n- Multiple viewing options\n- Team Pass available\n- Condensed games\n\n## Utility Apps\n\n**Downloader**\n- Download files via URL\n- Built-in browser\n- Essential for sideloading\n- Free\n\n**VLC Media Player**\n- Play any video format\n- Stream from network\n- Subtitle support\n- Free and open source\n\n**Plex**\n- Stream your own media\n- Organize movies/shows\n- Free live TV\n- Cross-device sync\n\n**File Commander**\n- File management\n- Browse storage\n- Transfer files\n- Clean up space\n\n## Browser Apps\n\n**Silk Browser**\n- Amazon's default browser\n- Full web browsing\n- Bookmark support\n- Good performance\n\n**Firefox for Fire TV**\n- Privacy-focused\n- Turbo mode for speed\n- Voice search\n- Ad blocking\n\n## Productivity Apps\n\n**Alexa**\n- Voice assistant\n- Smart home control\n- Skills and routines\n- Hands-free operation\n\n**Weather App**\n- Local weather forecast\n- Radar maps\n- Severe weather alerts\n- Multiple locations\n\n**Calendar/Clock**\n- Display time and date\n- Integration with Alexa\n- Customizable displays\n- Ambient mode\n\n## Gaming Apps\n\n**Crossy Road**\n- Free arcade game\n- Simple controls\n- Family-friendly\n- Works with remote\n\n**Asphalt 8**\n- Racing game\n- Impressive graphics\n- Free to play\n- Controller support\n\n**Tetris**\n- Classic puzzle game\n- Multiple modes\n- Leaderboards\n- Works with remote\n\n## Tips for Managing Apps\n\n### Organize Your Apps\n- Move frequently used apps to front\n- Hide unused apps\n- Create favorites list\n- Uninstall apps you don't use\n\n### Save Storage Space\n- Clear cache regularly\n- Remove unused apps\n- Limit downloaded content\n- Check storage in settings\n\n### Keep Apps Updated\n- Enable auto-updates\n- Check for updates regularly\n- Update for security fixes\n- New features added\n\n## FAQ\n\n**Q: How many apps can I install?**\nA: Depends on storage (8GB or 16GB). Most users can install 20-50 apps.\n\n**Q: Are sideloaded apps safe?**\nA: Only download from trusted sources. Stick to official APKs.\n\n**Q: Do all apps work with remote?**\nA: Most do. Some games work better with Bluetooth controller.\n\n**Q: Can I install Google Play apps?**\nA: Not directly. Some APKs can be sideloaded but may not work perfectly.\n\nGet a fully loaded Fire Stick with premium apps pre-installed. No setup required - start streaming immediately with 24/7 support.`,\n    category: \"Guides\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Fire Stick Apps 2025 | Essential Apps to Install\",\n    metaDescription: \"Discover the best Fire Stick apps for 2025. Complete guide to essential streaming, utility, and entertainment apps every user needs.\",\n    keywords: [\"best fire stick apps\", \"fire stick apps 2025\", \"essential fire stick apps\", \"fire tv apps\", \"free fire stick apps\", \"fire stick streaming apps\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"How to Update Fire Stick: Keep Your Device Current\",\n    slug: \"how-to-update-fire-stick\",\n    excerpt: \"Learn how to update your Fire Stick software for better performance, new features, and security fixes. Automatic and manual update guide.\",\n    content: `Keeping your Fire Stick updated ensures best performance, security, and access to new features. Here's how to check for and install updates.\n\n## Why Updates Matter\n\n**Benefits of updating:**\n- Security patches and fixes\n- New features and improvements\n- Better app compatibility\n- Performance optimizations\n- Bug fixes\n\n## Checking Your Current Version\n\n1. Go to **Settings**\n2. Select **My Fire TV**\n3. Choose **About**\n4. Note \"Fire OS Version\"\n\nCurrent version as of 2025: Fire OS 7.x\n\n## How Fire Stick Updates\n\n### Automatic Updates (Default)\n\nFire Stick automatically:\n- Downloads updates when connected to Wi-Fi\n- Installs during periods of inactivity\n- Usually updates overnight\n- Restarts to apply changes\n\n### Manual Update Check\n\nTo check for updates immediately:\n\n1. **Settings > My Fire TV**\n2. Select **About**\n3. Choose **Check for Updates**\n4. If update available, select **Install Update**\n5. Wait for download and installation\n6. Device will restart automatically\n\n## Update Process\n\n**Typical update takes 15-30 minutes:**\n1. Download (5-15 min depending on speed)\n2. Prepare (2-5 min)\n3. Install (5-10 min)\n4. Restart (1-2 min)\n\n**During update:**\n- Don't unplug Fire Stick\n- Keep TV on or in standby\n- Maintain internet connection\n- Wait for completion\n\n## Troubleshooting Update Issues\n\n### Update Not Available\n\n- Check internet connection\n- Wait a few days (rollouts are gradual)\n- Restart Fire Stick and try again\n- Updates release in phases\n\n### Update Stuck\n\n**If update freezes:**\n1. Wait at least 30 minutes\n2. Unplug Fire Stick\n3. Wait 30 seconds\n4. Plug back in\n5. Check for update again\n\n### Update Failed\n\n**Possible causes:**\n- Insufficient storage\n- Weak internet connection\n- Power interruption\n\n**Solutions:**\n- Clear cache and free space\n- Use ethernet adapter\n- Retry update\n\n### Low Storage Error\n\nFree up space before updating:\n1. Settings > Applications\n2. Manage Installed Applications\n3. Clear cache on large apps\n4. Uninstall unused apps\n5. Retry update\n\n## Update Settings\n\n### Enable/Disable Auto-Updates\n\n**For System Updates:**\n- Cannot be fully disabled\n- Security updates always automatic\n\n**For App Updates:**\n1. Settings > Applications\n2. Appstore\n3. Automatic Updates: On/Off\n\n### Check Update Time\n\nUpdates typically install:\n- Late night (2-6 AM local time)\n- When device is in sleep mode\n- When connected to Wi-Fi\n\n## What's New in Recent Updates\n\n### Fire OS 7.x Features\n- Improved home screen\n- Faster navigation\n- Better Alexa integration\n- Enhanced security\n- HDR improvements\n- Bug fixes\n\n### Coming Soon\n- AI-powered recommendations\n- Improved voice search\n- Better smart home integration\n- Performance optimizations\n\n## FAQ\n\n**Q: Can I skip updates?**\nA: Security updates install automatically. Feature updates can be delayed but not skipped indefinitely.\n\n**Q: Will update delete my apps?**\nA: No, updates preserve your apps and settings.\n\n**Q: How often are updates released?**\nA: Major updates every 6-12 months. Security patches monthly.\n\n**Q: Do all Fire Sticks get same updates?**\nA: Newer models may get exclusive features. Core updates apply to all supported devices.\n\n**Q: My Fire Stick is slow after update. What do I do?**\nA: Restart device. If still slow, clear cache on frequently used apps.\n\nKeep your fully loaded Fire Stick current with our 24/7 support. We help with updates, troubleshooting, and any technical issues.`,\n    category: \"How-To\",\n    featured: false,\n    published: true,\n    metaTitle: \"How to Update Fire Stick | Complete Update Guide 2025\",\n    metaDescription: \"Learn how to update your Fire Stick software manually or automatically. Keep your device current for best performance and security.\",\n    keywords: [\"update fire stick\", \"fire stick software update\", \"fire os update\", \"fire stick upgrade\", \"how to update fire tv\", \"fire stick latest version\"],\n    readTime: \"6 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  }\n];\n\n// ============================================\n// PILLAR 2: SPORTS STREAMING (25 posts)\n// Target: NFL, NBA, UFC, Soccer, NHL, F1, Boxing\n// ============================================\n\nconst pillar2_sports: BlogPost[] = [\n  // PILLAR PAGE\n  {\n    title: \"Ultimate Sports Streaming Guide 2025: Watch Every Game Without Cable\",\n    slug: \"ultimate-sports-streaming-guide-2025\",\n    excerpt: \"Complete guide to streaming NFL, NBA, UFC, Soccer, and more without cable. Compare options, costs, and find the best way to watch sports.\",\n    content: `Sports fans are cutting the cord in record numbers. This comprehensive guide shows you every way to stream live sports in 2025 without expensive cable packages.\n\n## The Sports Streaming Revolution\n\nCable sports packages used to cost $200+ monthly. Today, streaming options give you access to every major sport at a fraction of the price.\n\n**What's Changed:**\n- More games available for streaming\n- Multiple viewing options\n- Better picture quality (4K sports)\n- Lower costs\n- Watch anywhere\n\n## Major Sports Coverage Overview\n\n### NFL Football\n\n**Where to Watch:**\n- Sunday afternoon games: CBS, Fox (local)\n- Sunday Night Football: NBC\n- Monday Night Football: ESPN/ABC\n- Thursday Night Football: Amazon Prime\n\n**Streaming Options:**\n- YouTube TV ($72.99/month)\n- NFL Sunday Ticket on YouTube ($449/season)\n- Paramount+ (CBS games)\n- Peacock (NBC games)\n- Live TV streaming services\n\n### NBA Basketball\n\n**Where to Watch:**\n- ESPN/TNT (national games)\n- Local RSN channels\n- NBA League Pass (all games)\n\n**Streaming Options:**\n- League Pass ($14.99-28.99/month)\n- ESPN+ (select games)\n- Max (TNT games via partnership)\n- Live TV streaming services\n\n### UFC/MMA\n\n**Where to Watch:**\n- Fight Nights: ESPN/ESPN+\n- PPV Events: ESPN+ exclusive\n- Prelims: ESPN/ESPN+\n\n**Streaming Options:**\n- ESPN+ ($10.99/month)\n- PPV ($79.99 each)\n- Live TV streaming with premium coverage\n\n### Soccer/Football\n\n**Premier League:**\n- USA Network, NBC, Peacock\n- Peacock Premium ($5.99-11.99/month)\n\n**La Liga/Bundesliga:**\n- ESPN+\n\n**Champions League:**\n- Paramount+\n\n**MLS:**\n- Apple TV (Season Pass $99/season)\n\n### NHL Hockey\n\n**Where to Watch:**\n- ESPN/TNT (national)\n- Local RSN channels\n- ESPN+ (most games)\n\n**Streaming Options:**\n- ESPN+ Power Play ($14.99/month)\n- Live TV streaming services\n\n### MLB Baseball\n\n**Where to Watch:**\n- ESPN/Fox/TBS (national)\n- Local RSN channels\n- Apple TV+ (Friday games)\n\n**Streaming Options:**\n- MLB.TV ($24.99/month)\n- Live TV streaming services\n\n## Streaming Service Comparison\n\n### YouTube TV ($72.99/month)\n**Pros:**\n- 100+ channels\n- Unlimited DVR\n- Most sports networks\n- NFL Sunday Ticket integration\n\n**Cons:**\n- Price has increased\n- Some RSNs missing\n\n### Hulu + Live TV ($76.99/month)\n**Pros:**\n- Live TV + on-demand library\n- ESPN included\n- Good sports selection\n\n**Cons:**\n- No NFL Network\n- Interface can be clunky\n\n### FuboTV ($79.99/month)\n**Pros:**\n- Sports-focused\n- 200+ channels\n- 4K available\n- Great for soccer\n\n**Cons:**\n- Higher price\n- Missing TNT/TBS\n\n### Sling TV ($40/month)\n**Pros:**\n- Most affordable\n- Flexible packages\n- Good sports channels\n\n**Cons:**\n- Limited DVR\n- No local channels\n\n## Cost Comparison: Cable vs Streaming\n\n### Traditional Cable\n- Basic package: $60-100\n- Sports tier: +$30-50\n- RSN access: +$10-20\n- Equipment rental: $10-15\n- **Total: $110-185/month**\n\n### Streaming Options\n- Basic service: $40-80/month\n- No equipment fees\n- Watch on any device\n- Cancel anytime\n- **Total: $40-80/month**\n\n### Best Value: Fully Loaded Fire Stick\n- One-time device cost: $130-150\n- Live TV Plan: From $15/month\n- All sports included\n- Premium coverage\n- No regional blackouts\n- **First year: Under $300 total**\n\n## Tips for Sports Streaming\n\n### Get the Best Picture\n- Use wired ethernet connection\n- Ensure 25+ Mbps internet\n- Enable 4K when available\n- Close other streaming apps\n\n### Never Miss a Game\n- Set up DVR recordings\n- Enable notifications\n- Use second screen for scores\n- Download apps for alerts\n\n### Save Money\n- Share subscriptions legally\n- Look for annual deals\n- Stack services strategically\n- Consider trial periods\n\n## Frequently Asked Questions\n\n**Q: Can I watch every NFL game without cable?**\nA: Yes, through combination of streaming services or Live TV streaming with comprehensive sports coverage.\n\n**Q: What internet speed do I need for sports?**\nA: Minimum 25 Mbps for HD, 50+ Mbps for 4K sports streaming.\n\n**Q: Are there blackout restrictions?**\nA: Some services have regional blackouts. Live TV streaming options typically have fewer restrictions.\n\n**Q: Can I watch sports on my phone?**\nA: Yes, most streaming services have mobile apps.\n\n**Q: What's the cheapest way to watch sports?**\nA: Fully loaded Fire Stick with Live TV Plan offers comprehensive coverage at the best value.\n\nGet every game with our fully loaded Fire Sticks. Comprehensive sports coverage including NFL, NBA, UFC, Soccer, and more - all included with your Live TV Plan.`,\n    category: \"Sports\",\n    featured: true,\n    published: true,\n    metaTitle: \"Sports Streaming Guide 2025 | Watch NFL NBA UFC Without Cable\",\n    metaDescription: \"Complete guide to streaming sports without cable in 2025. Compare options for NFL, NBA, UFC, Soccer, NHL and find the best value.\",\n    keywords: [\"sports streaming\", \"watch sports without cable\", \"stream nfl\", \"stream nba\", \"stream ufc\", \"sports streaming guide 2025\", \"cord cutting sports\", \"live sports streaming\"],\n    readTime: \"12 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Watch NFL Games Without Cable 2025: Complete Guide\",\n    slug: \"watch-nfl-without-cable-2025\",\n    excerpt: \"Every way to watch NFL games without cable in 2025. From streaming services to antennas, find the best option for your budget.\",\n    content: `NFL games are more accessible than ever without cable. Here's every option to catch every touchdown in 2025.\n\n## NFL Broadcasting Breakdown\n\nUnderstanding where games air helps you choose the right streaming option:\n\n**Sunday Early/Late Games:**\n- CBS (AFC home games)\n- Fox (NFC home games)\n\n**Sunday Night Football:**\n- NBC (primetime)\n\n**Monday Night Football:**\n- ESPN and ABC\n\n**Thursday Night Football:**\n- Amazon Prime Video (exclusive)\n\n## Streaming Services for NFL\n\n### YouTube TV ($72.99/month)\n**Best for:** NFL fans wanting everything\n\n**NFL Coverage:**\n- CBS, Fox, NBC, ESPN, ABC\n- NFL Network\n- NFL RedZone (add-on)\n- NFL Sunday Ticket integration\n\n**Features:**\n- Unlimited DVR\n- 3 simultaneous streams\n- All local channels\n\n### NFL Sunday Ticket on YouTube ($449/season)\n**Best for:** Out-of-market game access\n\n**What You Get:**\n- Every out-of-market Sunday game\n- Student discount available ($249)\n- Can add to YouTube TV or standalone\n\n### Paramount+ ($5.99-11.99/month)\n**Best for:** CBS games on budget\n\n**NFL Coverage:**\n- All CBS games (live on Premium)\n- Local CBS affiliate\n- NFL on CBS postgame\n\n### Peacock ($5.99-11.99/month)\n**Best for:** NBC games and SNF\n\n**NFL Coverage:**\n- Sunday Night Football\n- Select exclusive games\n- Flex scheduling games\n\n### Amazon Prime Video ($14.99/month)\n**Best for:** Thursday Night Football\n\n**NFL Coverage:**\n- Exclusive Thursday Night Football\n- Already included with Prime membership\n\n### ESPN+ ($10.99/month)\n**Best for:** MNF simulcast\n\n**NFL Coverage:**\n- Monday Night Football (simulcast)\n- NFL studio shows\n- NFL Primetime\n\n## Free Options\n\n### Antenna\n**Best for:** Local games free\n\n**What You Get:**\n- CBS and Fox Sunday games\n- NBC Sunday Night Football\n- Free, one-time purchase ($20-50)\n\n**Limitations:**\n- Local games only\n- No cable channels (ESPN, NFL Network)\n- Signal strength varies\n\n### Yahoo Sports App\n**Best for:** Mobile viewing\n\n**What You Get:**\n- Local games on mobile\n- Some primetime games\n- Free with ads\n\n### NFL+ ($6.99/month)\n**Best for:** Mobile-only viewers\n\n**What You Get:**\n- Live local and primetime games\n- Mobile and tablet only\n- NFL Network\n- Audio for all games\n\n## Complete Coverage Options\n\n### Best Value: Fully Loaded Fire Stick\n**Price:** $140-160 device + $15+/month Live TV\n\n**What You Get:**\n- ALL NFL games\n- RedZone included\n- NFL Network 24/7\n- No blackouts\n- Premium quality\n\n### Budget Option: Antenna + Prime + Peacock\n**Price:** ~$25/month\n\n**What You Get:**\n- Local CBS/Fox games (antenna)\n- Thursday Night (Prime)\n- Sunday Night (Peacock)\n- Missing: Monday Night, NFL Network\n\n### All-In: YouTube TV + Sunday Ticket\n**Price:** $72.99 + $449/season\n\n**What You Get:**\n- Complete coverage\n- Every game\n- Unlimited DVR\n- Premium experience\n\n## Week-by-Week Viewing Guide\n\n### Sunday Early Games (1 PM ET)\n- **CBS:** AFC coverage\n- **Fox:** NFC coverage\n- **Watch on:** YouTube TV, Hulu Live, Antenna\n\n### Sunday Late Games (4:25 PM ET)\n- **CBS or Fox:** National game\n- **Watch on:** Same as early games\n\n### Sunday Night Football (8:20 PM ET)\n- **NBC:** Primetime national game\n- **Watch on:** Peacock, YouTube TV, Antenna\n\n### Monday Night Football (8:15 PM ET)\n- **ESPN/ABC:** Primetime game\n- **Watch on:** YouTube TV, Hulu Live, ESPN+\n\n### Thursday Night Football (8:15 PM ET)\n- **Amazon Prime:** Exclusive\n- **Watch on:** Prime Video only\n\n## NFL RedZone\n\nThe ultimate second-screen experience:\n- Every touchdown from every game\n- Commercial-free\n- Available as add-on to most services\n- ~$11/month during season\n\n**Where to Get:**\n- YouTube TV add-on\n- Fubo add-on\n- Sling add-on\n- Live TV streaming services\n\n## FAQ\n\n**Q: What's the cheapest way to watch all NFL games?**\nA: Fully loaded Fire Stick with Live TV Plan offers best value for complete coverage.\n\n**Q: Can I watch NFL on Roku/Fire Stick/Apple TV?**\nA: Yes, all streaming services have apps for major streaming devices.\n\n**Q: Are there blackout restrictions?**\nA: Local games may be blacked out on some services. Live TV streaming typically has fewer restrictions.\n\n**Q: Can I record NFL games?**\nA: Most streaming services include DVR. Check storage limits.\n\n**Q: Do I need cable for playoffs/Super Bowl?**\nA: No, playoffs air on broadcast (antenna) and streaming services.\n\nNever miss a touchdown! Our fully loaded Fire Sticks include complete NFL coverage with RedZone, NFL Network, and all game broadcasts.`,\n    category: \"Sports\",\n    featured: true,\n    published: true,\n    metaTitle: \"Watch NFL Without Cable 2025 | Complete Streaming Guide\",\n    metaDescription: \"Every way to watch NFL games without cable in 2025. Compare streaming services, costs, and find the best option for NFL fans.\",\n    keywords: [\"watch nfl without cable\", \"nfl streaming\", \"stream nfl games\", \"nfl no cable\", \"nfl sunday ticket\", \"watch football without cable\", \"nfl streaming options 2025\"],\n    readTime: \"10 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Watch UFC Without Cable 2025: Stream Every Fight\",\n    slug: \"watch-ufc-without-cable-2025\",\n    excerpt: \"Complete guide to watching UFC fights without cable. From Fight Nights to PPV events, here's how to catch every punch and submission.\",\n    content: `UFC has consolidated all content on ESPN platforms, making it easier (but pricier) to follow the sport. Here's how to watch every fight in 2025.\n\n## UFC Broadcasting Structure\n\n### Fight Nights\n- **Platform:** ESPN/ESPN+\n- **Frequency:** Almost weekly\n- **Cost:** Included with ESPN+\n\n### PPV Events\n- **Platform:** ESPN+ exclusive\n- **Cost:** $79.99 per event\n- **Frequency:** ~12 per year\n\n### UFC Prelims\n- **Platform:** ESPN/ESPN+\n- **Cost:** Included with ESPN+\n\n### Dana White's Contender Series\n- **Platform:** ESPN+\n- **Cost:** Included with ESPN+\n\n## Official Streaming Options\n\n### ESPN+ ($10.99/month)\n**Best for:** Most UFC fans\n\n**What You Get:**\n- All Fight Nights\n- All Prelims\n- UFC archives\n- Exclusive interviews\n- Dana White's Contender Series\n\n**What You Don't Get:**\n- PPV events (extra cost)\n\n### PPV Through ESPN+ ($79.99/event)\n**Requirements:**\n- Active ESPN+ subscription\n- Purchase individual events\n- Annual subscription discounts available\n\n**Bundle Options:**\n- ESPN+ Annual + 1 PPV: $124.98/year\n- Disney Bundle with ESPN+: $14.99/month\n\n## The PPV Problem\n\n### Annual PPV Cost\n- ~12 PPV events/year\n- $79.99 each\n- **Total: $959.88/year** just for PPVs\n\nPlus ESPN+ subscription: $131.88/year\n**Grand Total: $1,091+ per year**\n\n## Better Value Options\n\n### Fully Loaded Fire Stick with Live TV\n**Cost:** $140-160 device + Live TV Plan\n\n**What You Get:**\n- ALL UFC events included\n- PPV events included\n- Fight Nights included\n- Prelims included\n- No per-event charges\n- 24/7 access\n\n**Annual Savings:** $900+ compared to official\n\n### Group Watch Parties\n- Split ESPN+ subscription legally\n- Rotate hosting for PPVs\n- Watch at sports bars (free)\n\n## UFC Event Schedule\n\n### Saturday Fight Nights\n- **Prelims:** 4 PM ET (ESPN+)\n- **Main Card:** 7 PM ET (ESPN)\n\n### PPV Events\n- **Early Prelims:** 6 PM ET (ESPN+)\n- **Prelims:** 8 PM ET (ESPN)\n- **Main Card:** 10 PM ET (ESPN+ PPV)\n\n## How to Watch\n\n### On Fire Stick\n1. Download ESPN app\n2. Sign in with subscription\n3. Navigate to UFC section\n4. Select live event\n\n### With Live TV Streaming\n1. Open streaming app\n2. Go to Sports > UFC\n3. Select event\n4. Enjoy premium quality\n\n## Upcoming Major Events\n\n### UFC Numbered Events\nThese are the big PPVs with title fights:\n- UFC 300+: Stacked cards\n- Title fights\n- Major star fights\n\n### Fight Night Cards\nWeekly events with:\n- Ranked fighters\n- Rising contenders\n- International events\n\n## UFC Archives\n\nRelive classic fights on ESPN+:\n- Complete fight library\n- UFC Classics\n- Documentary content\n- Fighter profiles\n\n## FAQ\n\n**Q: Can I watch UFC for free?**\nA: Some prelims are free on ESPN. Full events require subscription.\n\n**Q: Why are PPVs so expensive?**\nA: UFC negotiated exclusive deals. Live TV streaming offers included access.\n\n**Q: Can I watch UFC on my phone?**\nA: Yes, ESPN app works on mobile devices.\n\n**Q: Are international events on different times?**\nA: Yes, UFC events from Abu Dhabi, UK, etc. air at adjusted times.\n\n**Q: Is UFC Fight Pass worth it?**\nA: Fight Pass complements ESPN+ with archives but doesn't include live events.\n\nWatch every UFC fight without paying $80+ per PPV. Our fully loaded Fire Sticks include comprehensive UFC coverage - Fight Nights and PPV events all included.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch UFC Without Cable 2025 | Stream Every Fight Guide\",\n    metaDescription: \"Complete guide to watching UFC fights without cable. Stream Fight Nights and PPV events at a fraction of the cost.\",\n    keywords: [\"watch ufc without cable\", \"ufc streaming\", \"stream ufc\", \"ufc ppv streaming\", \"watch ufc fights\", \"ufc live stream\", \"ufc espn plus\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1mo-2d\"]\n  },\n  {\n    title: \"Watch Premier League in USA 2025: Complete Streaming Guide\",\n    slug: \"watch-premier-league-usa-2025\",\n    excerpt: \"How to watch every Premier League match in the USA. From Peacock to live streaming, find the best way to follow English football.\",\n    content: `The Premier League is the most-watched football league in the world, and US fans have more viewing options than ever. Here's your complete guide.\n\n## Premier League in USA: Where to Watch\n\n### NBC Networks\nNBC holds US broadcasting rights through 2028:\n- **NBC:** Select matches (free with antenna)\n- **USA Network:** Regular matches\n- **Peacock:** Exclusive matches + overflow\n\n### Match Distribution 2024-25\n\n**Peacock Exclusive:**\n- ~175 matches per season\n- Most early kickoffs\n- Many simultaneous matches\n\n**USA Network/NBC:**\n- ~150 matches per season\n- Marquee matchups\n- Weekend afternoon slots\n\n## Streaming Options\n\n### Peacock ($5.99-11.99/month)\n**Best for:** Budget-conscious fans\n\n**What You Get:**\n- 175+ exclusive matches\n- All matches available on demand\n- Other NBC content\n- Premium tier required for live sports\n\n**What You Don't Get:**\n- Some matches air on USA Network only\n\n### YouTube TV ($72.99/month)\n**Best for:** Complete coverage\n\n**What You Get:**\n- USA Network (150+ matches)\n- NBC (select matches)\n- Unlimited DVR\n- Peacock integration available\n\n**What You Don't Get:**\n- Peacock exclusives (separate subscription needed)\n\n### Fubo TV ($79.99/month)\n**Best for:** International coverage\n\n**What You Get:**\n- USA Network and NBC\n- BeIN Sports for other leagues\n- 4K when available\n- DVR included\n\n### Complete Package: Peacock + Live TV Service\n**Cost:** ~$18/month combined\n\n**What You Get:**\n- ALL Premier League matches\n- Complete coverage\n- DVR recording\n\n## Match Day Schedule (US Times)\n\n### Saturday\n- **7:30 AM ET:** Early kickoff\n- **10:00 AM ET:** Midday matches\n- **12:30 PM ET:** Late match\n\n### Sunday\n- **9:00 AM ET:** Early matches\n- **11:30 AM ET:** Late match\n\n### Weekday Games\n- **2:45-3:00 PM ET:** Typical midweek\n\n## Best Value for Football Fans\n\n### Fully Loaded Fire Stick with Live TV\n**Cost:** $140-160 device + Live TV Plan\n\n**What You Get:**\n- ALL Premier League matches\n- No split between services\n- Additional leagues included:\n  - La Liga\n  - Bundesliga\n  - Serie A\n  - Champions League\n  - World Cup qualifiers\n\n**Savings:** $100+/year vs official packages\n\n## Beyond Premier League\n\nWith Live TV streaming, also watch:\n\n### La Liga (Spain)\n- Barcelona, Real Madrid\n- ESPN+ coverage\n\n### Bundesliga (Germany)\n- Bayern Munich, Dortmund\n- ESPN+ coverage\n\n### Serie A (Italy)\n- Inter, Juventus, AC Milan\n- Paramount+ coverage\n\n### Champions League\n- Best clubs in Europe\n- Paramount+ coverage\n\n### MLS\n- Apple TV Season Pass\n- Local coverage\n\n## Tips for Watching Football\n\n### Early Morning Games\n- Record overnight for morning viewing\n- Use DVR to avoid spoilers\n- Avoid social media before watching\n\n### Multiple Matches\n- Use split-screen when available\n- Follow second match on phone\n- Use goal alerts for other games\n\n### Best Experience\n- Use wired ethernet for reliability\n- Close other apps during matches\n- 4K when available for stunning quality\n\n## Following Your Club\n\n### Manchester United\nPopular in USA with:\n- Early slots for viewership\n- Frequent NBC appearances\n- Large social media presence\n\n### Liverpool\n- Regular NBC/USA Network features\n- Strong US fanbase\n- Anfield atmosphere broadcasts\n\n### Arsenal\n- Growing US popularity\n- Regular premium time slots\n- Youth-focused coverage\n\n### Manchester City\n- Title contender coverage\n- Frequent feature matches\n- Tactical analysis focus\n\n## FAQ\n\n**Q: Do I need multiple services?**\nA: Official coverage requires Peacock + cable/streaming service. Live TV streaming offers all-in-one solution.\n\n**Q: Are matches in 4K?**\nA: Select matches on Peacock and some services offer 4K.\n\n**Q: Can I watch old matches?**\nA: Peacock offers on-demand replays within days of airing.\n\n**Q: What about FA Cup and League Cup?**\nA: ESPN+ carries FA Cup. League Cup on various networks.\n\n**Q: Is there a Premier League app?**\nA: Official app has highlights/news. Streaming requires Peacock or Live TV service.\n\nWatch every Premier League match with our fully loaded Fire Sticks. Complete football coverage including all major European leagues.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Premier League in USA 2025 | Complete Streaming Guide\",\n    metaDescription: \"How to watch every Premier League match in the USA. Compare Peacock, streaming services, and find the best value for English football fans.\",\n    keywords: [\"watch premier league usa\", \"premier league streaming\", \"epl usa\", \"peacock premier league\", \"english football usa\", \"watch epl america\", \"premier league streaming usa\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Watch NBA Games Without Cable 2025: Every Option Explained\",\n    slug: \"watch-nba-without-cable-2025\",\n    excerpt: \"Complete guide to watching NBA basketball without cable. From League Pass to streaming services, find the best way to watch your team.\",\n    content: `NBA fans have more options than ever to watch games without cable. Whether you follow one team or want every game, here's your complete guide.\n\n## NBA Broadcasting Breakdown\n\n### National TV Games\n- **ESPN:** Weekly games, playoffs\n- **TNT:** Tuesday/Thursday showcases\n- **ABC:** Weekend primetime, Finals\n\n### Local Games\n- **Regional Sports Networks (RSN):** Most games\n- **Varies by market**\n\n### Streaming Exclusives\n- **NBA TV:** League-owned network\n- **League Pass:** Out-of-market games\n\n## NBA League Pass Options\n\n### League Pass Premium ($22.99/month)\n**What You Get:**\n- All out-of-market games\n- Live and on-demand\n- No commercials during breaks\n- Multiple game viewing\n\n**Limitations:**\n- Local blackouts apply\n- National TV blackouts\n- Regional restrictions\n\n### League Pass Standard ($14.99/month)\n**What You Get:**\n- All out-of-market games\n- Live and on-demand\n\n**Limitations:**\n- Commercials during breaks\n- Same blackout restrictions\n\n### Team Pass ($13.99/month)\n**What You Get:**\n- Single team's games\n- All out-of-market appearances\n\n**Best for:**\n- Fans living outside team's market\n- Following one specific team\n\n## Streaming Services with NBA\n\n### YouTube TV ($72.99/month)\n**NBA Coverage:**\n- ESPN, TNT, ABC\n- Some local RSNs\n- NBA TV add-on available\n- Unlimited DVR\n\n### Hulu + Live TV ($76.99/month)\n**NBA Coverage:**\n- ESPN, ABC\n- TNT (through Max integration)\n- Some local RSNs\n\n### Sling TV ($40-55/month)\n**NBA Coverage:**\n- ESPN (Orange package)\n- TNT (Blue package)\n- NBA TV add-on\n\n### DirecTV Stream ($79.99+/month)\n**NBA Coverage:**\n- Most RSNs included\n- ESPN, TNT, ABC\n- Best for local game access\n\n## The Local Game Problem\n\nRSN coverage is fragmented:\n- Bally Sports markets\n- NBC Sports regional\n- Team-owned networks\n\n**Solutions:**\n- DirecTV Stream (most RSNs)\n- League Pass + VPN (technical)\n- Live TV streaming (comprehensive)\n\n## Best Value: Fully Loaded Fire Stick\n\n**Cost:** $140-160 device + Live TV Plan\n\n**What You Get:**\n- ALL NBA games\n- No blackouts\n- Every team\n- Local and national\n- Playoffs included\n- Finals included\n\n**Savings:** Significant vs League Pass + streaming service combo\n\n## NBA Season Schedule\n\n### Regular Season\n- **October-April**\n- 82 games per team\n- ~1,230 total games\n\n### Playoffs\n- **April-June**\n- Best of 7 series\n- Conference finals\n- NBA Finals on ABC\n\n### All-Star Weekend\n- **February**\n- Skills competitions\n- Celebrity game\n- All-Star game\n\n## How to Watch Specific Situations\n\n### Your Team's Games\n1. Check if in-market or out-of-market\n2. In-market: RSN or streaming service\n3. Out-of-market: League Pass or Live TV\n\n### National TV Games\n1. ESPN, TNT, or ABC\n2. Streaming service with those channels\n3. Live TV streaming service\n\n### Playoffs\n1. ESPN/TNT (early rounds)\n2. ABC (Finals)\n3. Most streaming services\n\n## Tips for NBA Viewing\n\n### Avoid Spoilers\n- Turn off notifications\n- Stay off social media\n- Record and watch delayed\n\n### Best Quality\n- Use wired connection\n- 4K available on select platforms\n- Close other streaming apps\n\n### Follow League\n- NBA app for scores/highlights\n- Multiple game viewing\n- Second screen for stats\n\n## FAQ\n\n**Q: Can I watch my local team with League Pass?**\nA: No, local games are blacked out. Need RSN or Live TV service.\n\n**Q: Are playoffs included in League Pass?**\nA: Yes, but national TV games are still blacked out.\n\n**Q: What's the best option for one team?**\nA: If out-of-market, Team Pass. If in-market, need local RSN access.\n\n**Q: Can I cancel League Pass monthly?**\nA: Yes, monthly plans can be canceled anytime.\n\n**Q: Is there a free trial?**\nA: League Pass occasionally offers free preview weekends.\n\nNever miss a game! Our fully loaded Fire Sticks include complete NBA coverage - every team, every game, no blackouts.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch NBA Without Cable 2025 | Complete Streaming Guide\",\n    metaDescription: \"How to watch NBA games without cable in 2025. Compare League Pass, streaming services, and find the best value for basketball fans.\",\n    keywords: [\"watch nba without cable\", \"nba streaming\", \"stream nba games\", \"nba league pass\", \"watch basketball online\", \"nba no cable\", \"nba streaming options\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Watch NHL Hockey Without Cable 2025: Complete Guide\",\n    slug: \"watch-nhl-without-cable-2025\",\n    excerpt: \"Every way to watch NHL hockey without cable. From ESPN+ to regional coverage, find the best streaming option for hockey fans.\",\n    content: `Hockey fans have seen major changes in broadcasting. ESPN now holds significant rights, making streaming easier than ever. Here's your complete guide.\n\n## NHL Broadcasting in 2025\n\n### National Coverage\n- **ESPN/ESPN+:** Primary national partner\n- **TNT:** Select national games\n- **ABC:** Weekend/holiday games\n\n### Regional Coverage\n- **Regional Sports Networks (RSN)**\n- **Team-owned networks**\n- **Local broadcasts**\n\n## ESPN+ NHL Coverage\n\n### What's Included ($10.99/month)\n- 1,000+ out-of-market games\n- Exclusive national games\n- Full game replays\n- Multiple camera angles\n\n### Blackout Rules\n- Local market games blacked out\n- National TV games blacked out\n- 24-48 hour delay for replays\n\n### ESPN+ Power Play ($14.99/month)\n- All ESPN+ NHL games\n- Fewer blackouts\n- Added features\n\n## Streaming Service Options\n\n### Hulu + Live TV ($76.99/month)\n**NHL Coverage:**\n- ESPN, TNT, ABC\n- ESPN+ included\n- Some RSNs\n\n### YouTube TV ($72.99/month)\n**NHL Coverage:**\n- ESPN, TNT, ABC\n- Some RSNs\n- Unlimited DVR\n\n### Fubo TV ($79.99/month)\n**NHL Coverage:**\n- ESPN\n- Some RSNs\n- Best regional coverage\n\n### DirecTV Stream ($79.99+/month)\n**NHL Coverage:**\n- Most RSNs\n- Best for local game access\n- ESPN, TNT, ABC\n\n## Regional Coverage Challenge\n\nNHL local coverage is complicated:\n- Bally Sports (many markets)\n- NBC Sports regional\n- Team-owned (MSG, NESN)\n- ROOT Sports\n\n**Market Examples:**\n- New York Rangers: MSG\n- Boston Bruins: NESN\n- Detroit Red Wings: Bally Sports\n- Seattle Kraken: ROOT Sports\n\n## Best Value Solution\n\n### Fully Loaded Fire Stick with Live TV\n**Cost:** $140-160 device + Live TV Plan\n\n**What You Get:**\n- ALL NHL games\n- No regional blackouts\n- No national blackouts\n- Every team, every game\n- Playoffs and Stanley Cup\n\n**Advantage:** Solves the RSN fragmentation problem\n\n## NHL Season Structure\n\n### Regular Season (October-April)\n- 82 games per team\n- ~1,312 total games\n- Daily games available\n\n### Playoffs (April-June)\n- 16 teams qualify\n- Best of 7 series\n- Stanley Cup Finals\n\n### Events\n- All-Star Weekend\n- Winter Classic\n- Stadium Series\n\n## How to Watch\n\n### ESPN+ Games\n1. Download ESPN app\n2. Sign in with subscription\n3. Navigate to NHL\n4. Select game\n\n### RSN Games\n1. Check local RSN\n2. Use streaming service with RSN\n3. Or use Live TV streaming\n\n### National Games\n1. ESPN/TNT/ABC\n2. Most streaming services\n3. Available on Fire Stick apps\n\n## Center Ice vs ESPN+\n\n### NHL Center Ice (Legacy)\n- Being phased out\n- Transitioning to ESPN+\n- Check with provider\n\n### ESPN+ (Current)\n- Primary out-of-market option\n- Better interface\n- More features\n\n## Tips for Hockey Streaming\n\n### Picture Quality\n- Use wired connection for fast action\n- 60fps preferred for hockey\n- Close other apps\n\n### Multiple Games\n- ESPN+ supports multi-view\n- Watch multiple games simultaneously\n- Use second screen for other games\n\n### Playoffs\n- Most games on ESPN/TNT\n- Finals on ABC\n- Extended coverage\n\n## FAQ\n\n**Q: Can I watch my local team on ESPN+?**\nA: No, local games are blacked out on ESPN+.\n\n**Q: Are playoffs included in ESPN+?**\nA: Yes, but national TV games may be on ESPN/TNT instead.\n\n**Q: Best option for Canadian hockey?**\nA: ESPN+ has good Canadian team coverage for US viewers.\n\n**Q: What about international hockey?**\nA: World Championships and Olympics covered separately.\n\n**Q: Is there a free trial?**\nA: ESPN+ occasionally offers trials with Disney+/Hulu bundles.\n\nWatch every face-off with our fully loaded Fire Sticks. Complete NHL coverage - all teams, all games, no blackouts.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch NHL Without Cable 2025 | Complete Streaming Guide\",\n    metaDescription: \"How to watch NHL hockey without cable in 2025. Compare ESPN+, streaming services, and find the best value for hockey fans.\",\n    keywords: [\"watch nhl without cable\", \"nhl streaming\", \"stream hockey\", \"espn plus nhl\", \"watch hockey online\", \"nhl no cable\", \"hockey streaming options\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Watch Boxing and Combat Sports Without Cable 2025\",\n    slug: \"watch-boxing-without-cable-2025\",\n    excerpt: \"Complete guide to streaming boxing matches and combat sports. From DAZN to ESPN+, find every fight without cable TV.\",\n    content: `Boxing and combat sports are more fragmented than ever across platforms. Here's how to watch every major fight without cable.\n\n## Boxing Platform Breakdown\n\n### DAZN\n- **Cost:** $19.99/month or $224.99/year\n- **Coverage:** Many major fights, Matchroom Boxing\n- **Notable fighters:** Canelo lvarez (some fights)\n\n### ESPN+ (ESPN Boxing)\n- **Cost:** $10.99/month\n- **Coverage:** Top Rank Boxing\n- **Notable fighters:** Varied roster\n\n### Showtime Boxing (Paramount+)\n- **Cost:** $11.99/month\n- **Coverage:** PBC events\n- **Notable fighters:** Various PBC fighters\n\n### PPV Events\n- Major fights still on PPV\n- $60-80+ per event\n- Available on streaming platforms\n\n## Major Promotions and Platforms\n\n### Top Rank (ESPN)\n- ESPN/ESPN+\n- Quality cards weekly\n- Established promotion\n\n### Premier Boxing Champions (PBC)\n- Showtime/Paramount+\n- Fox Sports (some events)\n- Major champions\n\n### Matchroom Boxing\n- DAZN\n- UK and US fighters\n- Regular event schedule\n\n### Golden Boy Promotions\n- DAZN (partnership)\n- Growing roster\n- Developing fighters\n\n## MMA Beyond UFC\n\n### Bellator MMA\n- **Platform:** CBS Sports/Paramount+\n- **Cost:** $11.99/month\n- **Coverage:** All events included\n\n### PFL (Professional Fighters League)\n- **Platform:** ESPN+\n- **Cost:** $10.99/month\n- **Coverage:** Season format\n\n### ONE Championship\n- **Platform:** Various\n- **Coverage:** Asian MMA leader\n\n## Wrestling Entertainment\n\n### WWE\n- **Platform:** Peacock\n- **Cost:** $5.99-11.99/month\n- **Coverage:** All WWE content, Premium Live Events\n\n### AEW\n- **Platform:** TBS/TNT (Max)\n- **Coverage:** Dynamite, Rampage\n\n## Best Value for Combat Sports\n\n### Fully Loaded Fire Stick with Live TV\n**Cost:** $140-160 device + Live TV Plan\n\n**What You Get:**\n- Major boxing events\n- UFC coverage\n- Bellator\n- WWE included\n- PPV access\n- No per-event charges\n\n**Annual Savings:** Hundreds vs buying individual subscriptions\n\n## 2025 Major Fight Calendar\n\n### Boxing\n- Super fights typically spring/fall\n- Mexican holiday fights (Cinco de Mayo, Mexican Independence Day)\n- Las Vegas and international venues\n\n### UFC\n- Monthly PPV events\n- Weekly Fight Nights\n- Year-round schedule\n\n## How to Watch Boxing\n\n### DAZN\n1. Download DAZN app\n2. Subscribe to plan\n3. Navigate to boxing\n4. Select live event\n\n### ESPN+\n1. Download ESPN app\n2. Sign in with subscription\n3. Find Top Rank boxing\n4. Stream event\n\n### PPV Events\n1. Purchase through platform\n2. Watch live\n3. Replay available\n\n## Cost Comparison\n\n### Official Subscriptions (Annual)\n- DAZN: $224.99\n- ESPN+: $109.99\n- Paramount+: $143.88\n- Peacock: $71.88\n- **Total: $550+/year**\n- **Plus PPVs: $500+/year**\n\n### Live TV Streaming Solution\n- Device: $140-160 (one-time)\n- Plan: $180-300/year\n- **Total: Under $400 first year**\n- PPV events included\n\n## Tips for Fight Night\n\n### Best Viewing Experience\n- Wired connection for stability\n- Large screen when possible\n- Surround sound enhances atmosphere\n- Avoid spoilers on social media\n\n### Recording\n- Use DVR for delayed viewing\n- Main events often late at night\n- Avoid social media if recording\n\n### Multiple Fights\n- Main events often have undercard\n- Start watching prelims\n- Build-up enhances experience\n\n## FAQ\n\n**Q: Why is boxing so fragmented?**\nA: Different promotions have exclusive deals with platforms.\n\n**Q: Are all PPV fights worth it?**\nA: Major title fights justify cost. Others may disappoint.\n\n**Q: Can I watch on mobile?**\nA: Yes, all platforms have mobile apps.\n\n**Q: What about regional boxing?**\nA: DAZN and ESPN+ cover some regional scenes.\n\n**Q: Is bare-knuckle boxing streamed?**\nA: BKFC has their own app and occasional DAZN appearances.\n\nNever miss a fight! Our fully loaded Fire Sticks include comprehensive combat sports coverage - boxing, UFC, and more.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Boxing Without Cable 2025 | Combat Sports Streaming\",\n    metaDescription: \"Complete guide to streaming boxing and combat sports without cable. Compare DAZN, ESPN+, and find every fight.\",\n    keywords: [\"watch boxing without cable\", \"boxing streaming\", \"stream boxing\", \"dazn boxing\", \"combat sports streaming\", \"watch fights online\", \"boxing ppv streaming\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1mo-2d\"]\n  }\n];\n\n// ============================================\n// PILLAR 3: CORD CUTTING & SAVINGS (25 posts)\n// Target: cable alternatives, streaming costs, savings\n// ============================================\n\nconst pillar3_cordCutting: BlogPost[] = [\n  {\n    title: \"Cord Cutting Guide 2025: How to Cancel Cable and Save $1,500+/Year\",\n    slug: \"cord-cutting-guide-2025-save-money\",\n    excerpt: \"Complete guide to cutting the cord in 2025. Learn how to replace cable with streaming and save over $1,500 annually.\",\n    content: `Americans are cutting the cord in record numbers. In 2024, over 6 million households canceled cable. Here's your complete guide to joining them and saving thousands.\n\n## What is Cord Cutting?\n\nCord cutting means canceling traditional cable or satellite TV and switching to streaming services. Instead of paying $150-250/month for cable, you use internet-based services.\n\n**The basics:**\n- Cancel cable subscription\n- Keep high-speed internet\n- Use streaming devices (Fire Stick, Roku, etc.)\n- Subscribe to streaming services you want\n\n## Why Cut the Cord?\n\n### Financial Benefits\n- **Average cable bill:** $180/month\n- **Average streaming setup:** $50-80/month\n- **Annual savings:** $1,200-$1,560+\n\n### Other Benefits\n- Watch on your schedule\n- No contracts\n- Better picture quality (4K/HDR)\n- More content choices\n- Watch anywhere\n- No equipment rental fees\n\n## Step-by-Step Cord Cutting\n\n### Step 1: Analyze Your Viewing Habits\nBefore canceling, understand what you watch:\n- Make a list of channels you actually use\n- Note your must-have shows\n- Consider sports requirements\n- Factor in news preferences\n\n### Step 2: Check Your Internet\nYou need reliable internet for streaming:\n- **Minimum:** 25 Mbps for HD\n- **Recommended:** 50+ Mbps for 4K\n- **Multiple users:** 100+ Mbps\n\n### Step 3: Choose a Streaming Device\n**Fire Stick (Recommended)**\n- Best value\n- Easy to use\n- Wide app selection\n- $30-60 (or $130-150 fully loaded)\n\n**Other Options:**\n- Roku\n- Apple TV\n- Chromecast\n- Smart TV apps\n\n### Step 4: Select Streaming Services\n\n**For Live TV:**\n- YouTube TV ($72.99)\n- Hulu + Live TV ($76.99)\n- Live TV streaming services ($15-30)\n\n**For On-Demand:**\n- Netflix ($6.99-22.99)\n- Disney+ ($7.99-13.99)\n- Max ($9.99-15.99)\n- Prime Video ($14.99)\n\n### Step 5: Get Local Channels\nOptions for local broadcasts:\n- Digital antenna ($20-50 one-time)\n- Live TV streaming service\n- Individual network apps\n\n### Step 6: Cancel Cable\n- Call your provider\n- Return equipment\n- Keep internet service\n- Note final bill date\n\n## Cost Comparison\n\n### Average Cable Package\n| Item | Monthly Cost |\n|------|-------------|\n| TV Package | $110 |\n| Equipment Rental | $15 |\n| DVR Service | $15 |\n| HD Fee | $10 |\n| Sports Package | $15 |\n| Taxes/Fees | $15 |\n| **Total** | **$180** |\n\n### Streaming Alternative\n| Item | Monthly Cost |\n|------|-------------|\n| Internet Only | $60 |\n| Fire Stick (amortized) | $5 |\n| Netflix | $15 |\n| Live TV Plan | $20 |\n| **Total** | **$100** |\n\n### Annual Savings: $960\n\n## Best Value: Fully Loaded Solution\n\n### What You Get\n- Fire Stick device: $130-150\n- Live TV Plan: $15-30/month\n- Extensive content library\n- Live sports coverage\n- Movies and shows on demand\n- 24/7 support\n\n### First Year Cost\n- Device: $140\n- 12 months Live TV: $180-360\n- **Total: $320-500**\n\nCompare to cable: $2,160/year\n**Savings: $1,660-$1,840**\n\n## Common Concerns Addressed\n\n### \"I'll miss live sports\"\nFully loaded Fire Sticks include:\n- NFL, NBA, NHL, MLB\n- UFC, Boxing\n- Soccer (Premier League, La Liga)\n- All major sporting events\n\n### \"What about news?\"\nOptions available:\n- Network apps (free)\n- YouTube TV\n- Live TV streaming\n- Dedicated news apps\n\n### \"My family watches different things\"\nStreaming offers:\n- Multiple profiles\n- Simultaneous streams\n- Personalized recommendations\n- Watch on any device\n\n### \"Is it complicated?\"\nFully loaded Fire Sticks:\n- Ready to use immediately\n- 10-minute setup\n- 24/7 support available\n- No technical knowledge needed\n\n## Tips for Successful Cord Cutting\n\n### Start with Trials\n- Most services offer free trials\n- Test before committing\n- Find what works for you\n\n### Bundle Wisely\n- Disney Bundle (Disney+, Hulu, ESPN+)\n- Annual subscriptions save money\n- Share accounts where allowed\n\n### Use Free Options\n- Tubi, Pluto TV, Peacock Free\n- Network apps for recent episodes\n- Library streaming services\n\n### Avoid Subscription Creep\n- Review subscriptions quarterly\n- Cancel unused services\n- Rotate based on content\n\n## FAQ\n\n**Q: Will I really save money?**\nA: Yes, most households save $80-150/month.\n\n**Q: What about internet data caps?**\nA: Check with provider. Most streaming uses 3-7 GB/hour.\n\n**Q: Can I watch live TV?**\nA: Yes, multiple options exist for live TV streaming.\n\n**Q: Is the picture quality good?**\nA: Streaming offers 4K/HDR, often better than cable.\n\n**Q: What if I want cable back?**\nA: You can always resubscribe, often with new customer deals.\n\nStart saving today with our fully loaded Fire Sticks. Complete streaming setup with Live TV Plan included. Cut the cord and keep the content!`,\n    category: \"Cord Cutting\",\n    featured: true,\n    published: true,\n    metaTitle: \"Cord Cutting Guide 2025 | Save $1,500+ Canceling Cable\",\n    metaDescription: \"Complete cord cutting guide for 2025. Learn how to cancel cable, choose streaming services, and save over $1,500 per year.\",\n    keywords: [\"cord cutting\", \"cancel cable\", \"cord cutting guide\", \"streaming vs cable\", \"cut the cord\", \"cable alternatives\", \"save money streaming\", \"cord cutting 2025\"],\n    readTime: \"11 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Streaming vs Cable TV 2025: Complete Cost Comparison\",\n    slug: \"streaming-vs-cable-cost-comparison-2025\",\n    excerpt: \"Detailed cost comparison of streaming services versus cable TV. See exactly how much you can save by switching.\",\n    content: `Is streaming really cheaper than cable? Let's break down the real costs with detailed comparisons for 2025.\n\n## Average Cable TV Costs 2025\n\n### Basic Cable Package\n- **Base package:** $75-100/month\n- **HD fee:** $10/month\n- **DVR service:** $15-20/month\n- **Equipment rental:** $10-15/month\n- **Regional sports fee:** $10-15/month\n- **Broadcast fee:** $15-20/month\n- **Taxes and fees:** $10-20/month\n\n**Total: $145-200/month**\n\n### Premium Cable Package\nAdd to basic:\n- **Premium channels (HBO, etc.):** $15-20/month each\n- **Sports packages:** $10-30/month\n- **Extra DVR storage:** $5-10/month\n\n**Total: $200-300/month**\n\n## Streaming Cost Breakdown\n\n### Basic Streaming Setup\n| Service | Monthly Cost |\n|---------|-------------|\n| Internet | $50-70 |\n| Netflix (Standard) | $15.49 |\n| Fire Stick (amortized) | $3 |\n| **Total** | **$68-88** |\n\n### Comprehensive Streaming\n| Service | Monthly Cost |\n|---------|-------------|\n| Internet | $60 |\n| Netflix | $15 |\n| Disney+ | $8 |\n| Max | $10 |\n| Live TV Plan | $20 |\n| **Total** | **$113** |\n\n### Full Replacement\n| Service | Monthly Cost |\n|---------|-------------|\n| Internet | $60 |\n| YouTube TV | $73 |\n| Netflix | $15 |\n| Disney+ | $8 |\n| **Total** | **$156** |\n\n## Side-by-Side Comparison\n\n| Category | Cable | Streaming |\n|----------|-------|-----------|\n| Monthly Cost | $175 avg | $85-120 |\n| Equipment Fees | $15/month | $0 |\n| Contract Required | Often 1-2 years | No |\n| 4K Content | Limited | Widespread |\n| DVR Storage | Limited | Unlimited* |\n| Watch Anywhere | No | Yes |\n| Annual Cost | $2,100 | $1,020-1,440 |\n\n## Real-World Scenarios\n\n### Scenario 1: Sports Fan\n**Cable approach:**\n- Sports package: $200/month\n- Annual: $2,400\n\n**Streaming approach:**\n- Fully loaded Fire Stick: $150 (one-time)\n- Live TV Plan: $25/month = $300/year\n- **Total Year 1: $450**\n- **Savings: $1,950**\n\n### Scenario 2: Family Entertainment\n**Cable approach:**\n- Family package with kids' channels: $180/month\n- Annual: $2,160\n\n**Streaming approach:**\n- Disney+ bundle: $14/month\n- Netflix: $23/month\n- Peacock: $6/month\n- Fire Stick: $140 (one-time)\n- **Annual: $516 + $140 = $656**\n- **Savings: $1,504**\n\n### Scenario 3: News Junkie\n**Cable approach:**\n- Basic + news channels: $150/month\n- Annual: $1,800\n\n**Streaming approach:**\n- YouTube TV: $73/month\n- Fire Stick: $50 (one-time)\n- **Annual: $876 + $50 = $926**\n- **Savings: $874**\n\n### Scenario 4: Complete Replacement\n**Cable approach:**\n- Premium everything: $250/month\n- Annual: $3,000\n\n**Streaming approach:**\n- Fully loaded Fire Stick: $150\n- Live TV Plan (comprehensive): $30/month = $360\n- Netflix: $15/month = $180\n- **Total: $690**\n- **Savings: $2,310**\n\n## Hidden Costs of Cable\n\n### Fees You're Paying\n1. **Broadcast TV fee:** Channels you can get free with antenna\n2. **Regional sports fee:** Even if you don't watch sports\n3. **HD technology fee:** Standard in streaming\n4. **DVR service fee:** Unlimited cloud DVR with streaming\n5. **Equipment rental:** Year over year forever\n\n### Price Increases\nCable prices increase 5-8% annually:\n- Year 1: $175\n- Year 2: $186\n- Year 3: $198\n- Year 4: $211\n- Year 5: $224\n\nStreaming prices increase slower and you can switch anytime.\n\n## Why Streaming Wins\n\n### Flexibility\n- No contracts\n- Cancel anytime\n- Switch services monthly\n- Only pay for what you want\n\n### Quality\n- 4K/HDR standard\n- Dolby Atmos audio\n- Better picture than cable\n\n### Convenience\n- Watch on any device\n- Download for offline\n- Personalized recommendations\n- No commercials (premium tiers)\n\n## Making the Switch\n\n### Best Value Option\n**Fully Loaded Fire Stick + Live TV Plan**\n\n- One-time device cost: $140-160\n- Monthly Live TV: $15-30\n- Annual total: $320-500\n\n**vs Cable at $2,100+/year**\n**Savings: $1,600-1,780 first year**\n\n### What You Get\n- Live sports (NFL, NBA, UFC, etc.)\n- Movies and shows on demand\n- Premium content\n- 24/7 support\n- 10-minute setup\n\n## FAQ\n\n**Q: Is internet fast enough for streaming?**\nA: Most areas have adequate speed. 25 Mbps minimum, 50+ Mbps recommended.\n\n**Q: Will I miss channels?**\nA: List your must-haves before switching. Most content is available via streaming.\n\n**Q: What about my DVR recordings?**\nA: Streaming services offer unlimited cloud DVR.\n\n**Q: Can multiple people watch?**\nA: Yes, streaming supports multiple simultaneous streams.\n\n**Q: What if streaming doesn't work for me?**\nA: No contracts mean you can try risk-free.\n\nReady to save? Get our fully loaded Fire Stick and start streaming today. Cut your TV bill by 70% or more!`,\n    category: \"Cord Cutting\",\n    featured: true,\n    published: true,\n    metaTitle: \"Streaming vs Cable 2025 | Complete Cost Comparison\",\n    metaDescription: \"Detailed cost comparison between streaming and cable TV for 2025. See real numbers and how much you can save by switching.\",\n    keywords: [\"streaming vs cable\", \"cable vs streaming cost\", \"is streaming cheaper\", \"streaming cost comparison\", \"cable tv alternatives\", \"streaming savings\", \"cable cutting savings\"],\n    readTime: \"10 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Best Streaming Services 2025: Complete Guide and Comparison\",\n    slug: \"best-streaming-services-2025-guide\",\n    excerpt: \"Compare all major streaming services for 2025. Find the best options for movies, shows, live TV, and sports.\",\n    content: `With so many streaming options, choosing the right services can be overwhelming. Here's your complete guide to every major streaming platform in 2025.\n\n## On-Demand Streaming Services\n\n### Netflix\n**Price:** $6.99-$22.99/month\n\n**Best For:**\n- Original series and movies\n- International content\n- Binge-watching\n\n**Content Highlights:**\n- Stranger Things, Wednesday\n- Squid Game, The Crown\n- Stand-up comedy specials\n- Documentaries\n\n**Pros:**\n- Huge content library\n- Excellent originals\n- 4K/HDR on Premium\n\n**Cons:**\n- Higher price than competitors\n- Losing some licensed content\n- No live TV\n\n### Disney+\n**Price:** $7.99-$13.99/month\n\n**Best For:**\n- Families with children\n- Marvel and Star Wars fans\n- Pixar lovers\n\n**Content Highlights:**\n- Marvel MCU series\n- Star Wars shows\n- Disney animated classics\n- National Geographic\n\n**Pros:**\n- Excellent family content\n- 4K included in all plans\n- Growing library\n\n**Cons:**\n- Limited adult content\n- Smaller library than Netflix\n- Some ads on basic tier\n\n### Max (HBO)\n**Price:** $9.99-$15.99/month\n\n**Best For:**\n- Prestige TV lovers\n- Recent movie watchers\n- Documentary fans\n\n**Content Highlights:**\n- HBO originals\n- Warner Bros. movies\n- Discovery content\n- Adult Swim\n\n**Pros:**\n- High-quality originals\n- Recent theatrical releases\n- Comprehensive library\n\n**Cons:**\n- Higher price point\n- Interface can be confusing\n- Content organization issues\n\n### Prime Video\n**Price:** $8.99/month or included with Prime\n\n**Best For:**\n- Amazon Prime members\n- Diverse content seekers\n- Sports fans (Thursday NFL)\n\n**Content Highlights:**\n- The Boys, Rings of Power\n- Reacher, Jack Ryan\n- Thursday Night Football\n- Rental/purchase library\n\n**Pros:**\n- Included with Prime\n- Thursday Night Football\n- Solid originals\n\n**Cons:**\n- Interface not intuitive\n- Mixed quality originals\n- Many titles cost extra\n\n### Hulu\n**Price:** $7.99-$17.99/month\n\n**Best For:**\n- Current TV watchers\n- Next-day episode viewers\n- Anime fans\n\n**Content Highlights:**\n- FX originals\n- Next-day TV episodes\n- Hulu Originals\n- Anime library\n\n**Pros:**\n- Current TV seasons\n- Affordable pricing\n- Good FX content\n\n**Cons:**\n- Ads on basic plan\n- Less original content\n- May need add-ons\n\n### Peacock\n**Price:** Free-$11.99/month\n\n**Best For:**\n- NBC content fans\n- WWE fans\n- Sports viewers\n\n**Content Highlights:**\n- The Office, Parks & Rec\n- WWE content\n- Premier League\n- NBC originals\n\n**Pros:**\n- Free tier available\n- WWE included\n- Premier League matches\n\n**Cons:**\n- Ads even on paid tiers\n- Smaller library\n- Some content rotates\n\n## Live TV Streaming\n\n### YouTube TV ($72.99/month)\n**Best For:** Complete cable replacement\n\n**Includes:**\n- 100+ channels\n- Unlimited DVR\n- Local channels\n- Sports networks\n\n### Hulu + Live TV ($76.99/month)\n**Best For:** On-demand + live combo\n\n**Includes:**\n- 90+ channels\n- Hulu library\n- Disney+ and ESPN+\n- DVR\n\n### Sling TV ($40-55/month)\n**Best For:** Budget live TV\n\n**Includes:**\n- 30-50 channels\n- Flexible packages\n- Sports options\n- Low price\n\n### FuboTV ($79.99/month)\n**Best For:** Sports fans\n\n**Includes:**\n- 200+ channels\n- 4K sports\n- DVR\n- Premium sports networks\n\n## Specialty Services\n\n### ESPN+ ($10.99/month)\n- UFC, boxing, soccer\n- MLB, NHL games\n- 30 for 30 documentaries\n\n### Paramount+ ($5.99-11.99/month)\n- CBS content\n- Star Trek universe\n- Movies\n- Champions League\n\n### Apple TV+ ($9.99/month)\n- High-quality originals\n- Ted Lasso, Severance\n- Limited library\n- MLS Season Pass\n\n### Crunchyroll ($7.99-14.99/month)\n- Anime streaming\n- Simulcasts\n- Extensive library\n- Manga included\n\n## Best Bundles\n\n### Disney Bundle ($14.99-24.99/month)\n- Disney+\n- Hulu\n- ESPN+\n- Saves $7+/month\n\n### Paramount+ with Showtime ($11.99/month)\n- Paramount+ content\n- Showtime originals\n- Combined library\n\n### Max + Discovery+ (included)\n- HBO content\n- Discovery content\n- Combined library\n\n## How to Choose\n\n### For Families\n1. Disney+ (kids content)\n2. Netflix (variety)\n3. Peacock (free tier)\n\n### For Sports Fans\n1. Fully loaded Fire Stick with Live TV\n2. YouTube TV + ESPN+\n3. FuboTV\n\n### For Movie Lovers\n1. Max (new releases)\n2. Netflix (variety)\n3. Prime Video (rentals)\n\n### For TV Bingers\n1. Netflix (originals)\n2. Max (prestige)\n3. Hulu (current shows)\n\n### For Budget Watchers\n1. Fully loaded Fire Stick\n2. Free tiers (Tubi, Pluto, Peacock)\n3. Sling TV (live)\n\n## Best Overall Value\n\n### Fully Loaded Fire Stick with Live TV Plan\n**Why It Wins:**\n- One device, one subscription\n- Live TV + on-demand\n- Sports included\n- No need for multiple services\n- $15-30/month covers everything\n\n**What You Get:**\n- Live sports coverage\n- Movies and shows\n- News channels\n- International content\n- 24/7 support\n\n## FAQ\n\n**Q: How many services do I need?**\nA: Most households are happy with 2-3 services, or 1 comprehensive solution.\n\n**Q: Can I share accounts?**\nA: Policies vary. Most allow household sharing.\n\n**Q: Which has the best 4K content?**\nA: Disney+, Netflix (Premium), and Apple TV+ lead in 4K.\n\n**Q: Do services rotate content?**\nA: Yes, licensed content expires. Originals stay.\n\n**Q: What's the best for sports?**\nA: Fully loaded Fire Stick or YouTube TV + ESPN+.\n\nGet everything in one place with our fully loaded Fire Sticks. Live TV, sports, movies, and shows - all included with your Live TV Plan.`,\n    category: \"Streaming\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Streaming Services 2025 | Complete Comparison Guide\",\n    metaDescription: \"Compare all major streaming services for 2025. Netflix, Disney+, Max, and more - find the best options for your viewing needs.\",\n    keywords: [\"best streaming services\", \"streaming comparison\", \"netflix vs disney\", \"streaming services 2025\", \"streaming guide\", \"which streaming service\", \"streaming service comparison\"],\n    readTime: \"12 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Free Streaming Services 2025: Watch TV Without Paying\",\n    slug: \"free-streaming-services-2025\",\n    excerpt: \"Discover the best free streaming services in 2025. Legal, ad-supported options for movies, shows, and live TV.\",\n    content: `You don't need to pay for streaming. Several legitimate, free services offer thousands of movies, shows, and live channels. Here's your complete guide.\n\n## Best Free Streaming Services\n\n### Tubi TV\n**Best For:** Movies and classic TV\n\n**What's Free:**\n- 50,000+ movies and shows\n- No subscription needed\n- Just create free account\n\n**Content Highlights:**\n- Recent movies (after theater/premium run)\n- Classic TV series\n- International films\n- Documentaries\n\n**How It Works:**\n- Ad-supported (commercials during content)\n- 4-6 ad breaks per hour\n- Fewer ads than cable TV\n\n### Pluto TV\n**Best For:** Live TV experience\n\n**What's Free:**\n- 250+ live channels\n- Thousands of on-demand titles\n- No account required\n\n**Content Highlights:**\n- News channels (CBS News, NBC News)\n- Sports (limited)\n- Entertainment channels\n- Movie channels by genre\n\n**Live Channels Include:**\n- Comedy Central\n- MTV\n- Nickelodeon (classic)\n- Crime networks\n\n### Peacock Free\n**Best For:** NBC content\n\n**What's Free (Limited):**\n- Select NBC shows\n- Some movies\n- News content\n- Limited live sports\n\n**Limitations:**\n- Not all content available\n- Ads included\n- Some popular shows locked\n\n### Freevee (Amazon)\n**Best For:** Amazon device users\n\n**What's Free:**\n- Original series\n- Licensed movies\n- IMDb content\n- Older TV series\n\n**Pros:**\n- Quality originals\n- Integration with Prime Video\n- Regular content updates\n\n### Roku Channel\n**Best For:** Roku device owners\n\n**What's Free:**\n- 350+ live channels\n- Movies and shows\n- Roku originals\n\n**Note:** Works on any device, not just Roku\n\n### Crackle\n**Best For:** Movie enthusiasts\n\n**What's Free:**\n- Sony movie library\n- Original series\n- Anime content\n\n**Content:**\n- Seinfeld (some markets)\n- Classic Sony films\n- Original productions\n\n## Free Live TV Options\n\n### News\n- **ABC News Live** (free app)\n- **CBS News** (free app)\n- **NBC News NOW** (Peacock)\n- **Pluto TV News** (multiple channels)\n\n### Sports (Limited)\n- **ESPN** (some free content)\n- **Pluto TV Sports**\n- **Peacock** (some events)\n\n### Entertainment\n- **Pluto TV channels**\n- **Roku Channel live**\n- **Tubi Live** (limited markets)\n\n## How Ad-Supported Streaming Works\n\n### Ad Load Comparison\n| Platform | Ads per Hour |\n|----------|-------------|\n| Cable TV | 15-20 minutes |\n| Tubi | 4-6 minutes |\n| Pluto | 4-6 minutes |\n| Peacock Free | 5-6 minutes |\n\nFree streaming has LESS ads than cable!\n\n### Types of Ads\n- Pre-roll (before content)\n- Mid-roll (during content)\n- Often shorter than cable ads\n- Sometimes skippable\n\n## Device Availability\n\nAll free services work on:\n- Fire Stick\n- Roku\n- Smart TVs\n- Mobile devices\n- Web browsers\n- Gaming consoles\n\n## Content Quality\n\n### Resolution\n- Most offer HD streaming\n- Some 4K content available\n- Quality varies by content\n\n### Updates\n- New content added regularly\n- Movies after streaming window\n- TV series backlogs\n\n## Limitations of Free Streaming\n\n### What You Won't Get\n- Latest theatrical releases\n- Current TV seasons\n- Major live sports\n- Premium originals (HBO, Netflix)\n- Ad-free experience\n\n### Best For\n- Casual viewers\n- Background entertainment\n- Classic content fans\n- Supplementing paid services\n\n## Maximizing Free Streaming\n\n### Strategy 1: Combine Free Services\n- Tubi for movies\n- Pluto for live TV\n- Peacock for NBC content\n- **Total cost: $0**\n\n### Strategy 2: Free + One Paid Service\n- Free services for variety\n- One paid service for new content\n- Best of both worlds\n\n### Strategy 3: Rotate Paid Services\n- Use free services as base\n- Add paid service for specific show\n- Cancel when done\n- Switch to another\n\n## When to Upgrade\n\nFree streaming works until you want:\n- Live sports coverage\n- Latest releases\n- Premium TV series\n- Ad-free viewing\n- Comprehensive content\n\n### Best Upgrade: Fully Loaded Fire Stick\nWhen free isn't enough:\n- $140-160 device\n- $15-30/month Live TV Plan\n- All sports included\n- Premium content access\n- Still cheaper than cable\n\n## FAQ\n\n**Q: Is free streaming legal?**\nA: Yes! All services listed are 100% legal and licensed.\n\n**Q: Why is it free?**\nA: Ad revenue pays for content licensing.\n\n**Q: Is the content any good?**\nA: Yes! Movies that were in theaters, classic TV shows, and original content.\n\n**Q: Will free services stay free?**\nA: Most likely, as ad-supported models are profitable.\n\n**Q: Can I use multiple free services?**\nA: Absolutely! Use as many as you want.\n\nWant more than free streaming offers? Our fully loaded Fire Sticks include comprehensive content - live sports, premium shows, and movies - starting at just $15/month.`,\n    category: \"Streaming\",\n    featured: false,\n    published: true,\n    metaTitle: \"Free Streaming Services 2025 | Best Legal Free TV Options\",\n    metaDescription: \"Discover the best free streaming services in 2025. Legal, ad-supported options including Tubi, Pluto TV, Peacock Free, and more.\",\n    keywords: [\"free streaming\", \"free streaming services\", \"free tv streaming\", \"tubi\", \"pluto tv\", \"free movies online\", \"legal free streaming\", \"ad supported streaming\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\"]\n  },\n  {\n    title: \"How to Save Money on Streaming Services: Expert Tips for 2025\",\n    slug: \"save-money-streaming-services-2025\",\n    excerpt: \"Cut your streaming costs without sacrificing content. Expert money-saving tips for managing multiple subscriptions.\",\n    content: `Streaming subscription costs can add up fast. Here's how to get maximum entertainment value while minimizing monthly spending.\n\n## The Subscription Creep Problem\n\n### Average Streaming Spend\n- **Average household:** 4.5 streaming services\n- **Average monthly cost:** $87\n- **Annual total:** $1,044\n\n### Common Subscription Stack\n- Netflix: $15\n- Disney+: $8\n- Max: $10\n- Prime: $15\n- Hulu: $8\n- Peacock: $6\n- **Total: $62/month before live TV**\n\n## Money-Saving Strategies\n\n### Strategy 1: Rotate Services\nDon't subscribe to everything at once:\n\n**Month 1-2:** Netflix (binge your shows)\n**Month 3-4:** Max (catch up on HBO)\n**Month 5-6:** Disney+ (Marvel/Star Wars)\n\n**Annual savings:** $400+ vs. subscribing to all\n\n### Strategy 2: Use Free Tiers\nMaximize free content:\n- **Peacock Free:** NBC shows, some movies\n- **Tubi:** Thousands of movies free\n- **Pluto TV:** 250+ live channels\n- **Freevee:** Amazon's free service\n\n**Monthly savings:** $30-50\n\n### Strategy 3: Bundle and Save\nTake advantage of bundles:\n\n**Disney Bundle:** $14.99 includes\n- Disney+ ($7.99)\n- Hulu ($7.99)\n- ESPN+ ($10.99)\n- **Saves:** $11.98/month\n\n**T-Mobile Tuesdays:** Free Netflix (select plans)\n**Verizon:** Free Disney+ (select plans)\n\n### Strategy 4: Annual Subscriptions\nPay yearly for services you use constantly:\n\n| Service | Monthly | Annual | Savings |\n|---------|---------|--------|---------|\n| Netflix | $15.49 | N/A | - |\n| Disney+ | $13.99 | $139.99 | $28 |\n| Max | $15.99 | $149.99 | $42 |\n| ESPN+ | $10.99 | $109.99 | $22 |\n\n### Strategy 5: Share Where Allowed\nMany services allow household sharing:\n- Netflix (same household)\n- Disney+ (family plans)\n- YouTube Premium Family\n\n**Check terms:** Policies are changing\n\n### Strategy 6: Use Student Discounts\nIf eligible:\n- Spotify + Hulu + Showtime: $5.99\n- Amazon Prime Student: $7.49/month\n- Apple Music Student: $5.99\n\n### Strategy 7: Cancel Unused Services\nMonthly audit:\n1. Check what you watched\n2. Check what you're paying\n3. Cancel inactive subscriptions\n4. Set calendar reminders for trials\n\n## The All-in-One Solution\n\n### Problem with Multiple Services\n- Multiple logins\n- Content spread everywhere\n- Hard to find shows\n- Easy to forget subscriptions\n\n### Fully Loaded Fire Stick Advantage\nOne device, one subscription:\n- **Device:** $140-160 (one-time)\n- **Live TV Plan:** $15-30/month\n- **Includes:** Sports, movies, shows, live TV\n- **Annual:** $320-500 total\n\n**vs. Multiple Services:** $1,000+/year\n**Savings:** $500-700/year\n\n## Streaming Service Audit Checklist\n\n### Monthly Review\n- [ ] Which services did I actually use?\n- [ ] What shows am I watching?\n- [ ] Any upcoming content worth keeping?\n- [ ] Am I paying for services I forgot about?\n\n### Quarterly Action\n- [ ] Cancel services not used in 60 days\n- [ ] Check for new bundle deals\n- [ ] Review annual subscription renewals\n- [ ] Look for free alternatives\n\n## Hidden Costs to Watch\n\n### Auto-Renewal Traps\n- Free trials convert to paid\n- Annual renewals at higher price\n- Add-ons you forgot about\n\n### Protection Tips\n- Use calendar reminders for trial ends\n- Review bank statements monthly\n- Check email for renewal notices\n- Consider virtual card numbers for trials\n\n## Best Value by Content Type\n\n### For Live Sports\n**Best value:** Fully loaded Fire Stick + Live TV Plan\n- All major sports included\n- No per-event charges\n- ~$25/month average\n\n### For Movies\n**Best value:** Rotate Max/Netflix + free services\n- Alternate monthly subscriptions\n- Use Tubi/Freevee between\n- ~$15/month average\n\n### For Families\n**Best value:** Disney Bundle + Live TV Plan\n- Kids content (Disney+)\n- Adult content (Hulu)\n- Sports (ESPN+)\n- ~$40/month total\n\n### For Everything\n**Best value:** Fully loaded Fire Stick\n- One subscription covers all\n- Live TV + on-demand\n- Sports + entertainment\n- ~$25/month average\n\n## FAQ\n\n**Q: Is it worth having multiple services?**\nA: Depends on viewing habits. Often one comprehensive solution is better value.\n\n**Q: Should I pay annually?**\nA: Only for services you use year-round. Rotate others monthly.\n\n**Q: How do I track all my subscriptions?**\nA: Use apps like Truebill/Rocket Money or check bank statements monthly.\n\n**Q: Are free trials worth it?**\nA: Yes, but set reminders to cancel before charging.\n\n**Q: What's the cheapest way to get everything?**\nA: Fully loaded Fire Stick with Live TV Plan offers best comprehensive value.\n\nStop overpaying for streaming! Our fully loaded Fire Sticks give you everything - sports, movies, shows, live TV - for one low monthly cost.`,\n    category: \"Savings\",\n    featured: false,\n    published: true,\n    metaTitle: \"Save Money on Streaming 2025 | Cut Subscription Costs\",\n    metaDescription: \"Expert tips to reduce streaming subscription costs without sacrificing content. Save $500+ per year with these strategies.\",\n    keywords: [\"save money streaming\", \"streaming tips\", \"reduce streaming costs\", \"streaming budget\", \"cancel streaming subscriptions\", \"streaming savings\", \"cord cutting savings\"],\n    readTime: \"10 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\", \"iptv-6mo-2d\"]\n  }\n];\n\n// ============================================\n// PILLAR 4: ENTERTAINMENT & MOVIES (25 posts)\n// Target: \"streaming movies\", \"best shows\", \"binge watching\"\n// ============================================\n\nconst pillar4_entertainment: BlogPost[] = [\n  {\n    title: \"Best Movies to Stream in 2025: Complete Streaming Guide\",\n    slug: \"best-movies-stream-2025-guide\",\n    excerpt: \"Discover the top movies to stream in 2025 across all platforms. From blockbusters to hidden gems, find your next favorite film.\",\n    content: `Looking for something great to watch? 2025 has an incredible lineup of movies across every streaming platform. Here's your complete guide to the best films available now.\n\n## Top 10 Movies Streaming Right Now\n\n### 1. Action & Adventure\nFrom superhero epics to high-octane thrillers, action movies deliver excitement:\n- Latest Marvel releases\n- Fast-paced spy thrillers\n- War epics with stunning visuals\n\n### 2. Drama\nAward-winning performances and compelling stories:\n- Oscar nominees and winners\n- Character-driven narratives\n- True story adaptations\n\n### 3. Comedy\nLaugh-out-loud entertainment for everyone:\n- Romantic comedies\n- Stand-up specials\n- Family-friendly humor\n\n### 4. Horror & Thriller\nEdge-of-your-seat suspense:\n- Psychological thrillers\n- Classic horror franchises\n- Supernatural scares\n\n### 5. Sci-Fi & Fantasy\nImagination without limits:\n- Space epics\n- Fantasy adventures\n- Dystopian futures\n\n## Where to Find the Best Movies\n\n### Premium Streaming Services\n- Netflix: Largest original movie library\n- Amazon Prime: Mix of originals and classics\n- Disney+: Marvel, Star Wars, Pixar\n- Max: Warner Bros theatrical releases\n\n### Free Streaming Options\n- Tubi: Huge catalog, ad-supported\n- Pluto TV: Live channels plus on-demand\n- Freevee: Amazon's free service\n- Peacock: Free tier with movies\n\n### Best for Movie Lovers\n**Fully Loaded Fire Stick** gives you access to:\n- All major streaming platforms\n- Live movie channels\n- On-demand libraries\n- Premium content included\n\n## Movie Night Setup Guide\n\n### Perfect Home Theater\n1. **Display:** 4K TV or projector\n2. **Sound:** Soundbar or surround system\n3. **Streaming:** Fire Stick 4K Max\n4. **Comfort:** Cozy seating\n\n### Optimize Your Experience\n- Enable HDR for supported content\n- Use night mode for late viewing\n- Set up profiles for recommendations\n- Create watchlists\n\n## Genre Deep Dives\n\n### Best Action Movies 2025\nThe action genre continues to deliver:\n- Practical stunts over CGI\n- Strong choreography\n- Compelling characters\n- International films gaining popularity\n\n### Best Comedy Movies 2025\nLaughter is the best medicine:\n- Diverse comedic voices\n- Streaming-first releases\n- Comedy specials\n- Animated humor for all ages\n\n### Best Drama Movies 2025\nStories that move you:\n- Social commentary\n- Period pieces\n- Biopics\n- Indie darlings\n\n## How to Never Run Out of Movies\n\n### Rotation Strategy\n1. Keep 2-3 streaming services active\n2. Rotate based on new releases\n3. Use free trials strategically\n4. Check library availability\n\n### Discovery Tips\n- Follow critics on social media\n- Use recommendation algorithms\n- Join movie discussion groups\n- Check \"leaving soon\" lists\n\n## FAQ\n\n**Q: Which service has the best movies?**\nA: It varies by genre. Netflix for originals, Max for theatrical releases, Disney+ for family content.\n\n**Q: How do I find hidden gems?**\nA: Look beyond \"trending\" sections. Check critic recommendations and international categories.\n\n**Q: Are new releases available immediately?**\nA: Theatrical releases typically hit streaming 45-90 days after cinema debut.\n\n**Q: What's the best way to watch everything?**\nA: A fully loaded Fire Stick with Live TV Plan gives you comprehensive access to movies across all platforms.\n\nNever miss a great movie! Our fully loaded Fire Sticks include access to massive movie libraries across all major platforms. Get set up in 10 minutes with 24/7 support.`,\n    category: \"Entertainment\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Movies to Stream 2025 | Complete Streaming Guide\",\n    metaDescription: \"Discover the best movies streaming in 2025. From blockbusters to hidden gems, find your next favorite film across all platforms.\",\n    keywords: [\"best movies streaming\", \"movies to watch 2025\", \"streaming movies\", \"best films online\", \"watch movies online\", \"top movies streaming\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Best TV Shows to Binge Watch in 2025\",\n    slug: \"best-tv-shows-binge-watch-2025\",\n    excerpt: \"Looking for your next binge? Here are the best TV shows to watch in 2025 across all streaming platforms.\",\n    content: `Can't decide what to watch next? We've compiled the ultimate list of binge-worthy TV shows available in 2025.\n\n## Top Binge-Worthy Shows by Genre\n\n### Drama Series\nCompelling storytelling that keeps you hooked:\n- Prestige HBO/Max dramas\n- Netflix limited series\n- Apple TV+ originals\n- International hits\n\n### Comedy Series\nPerfect for unwinding:\n- Sitcom classics\n- Mockumentaries\n- Animated comedies\n- British humor imports\n\n### Thriller & Mystery\nCan't-stop-watching suspense:\n- True crime adaptations\n- Psychological thrillers\n- Murder mysteries\n- Conspiracy dramas\n\n### Sci-Fi & Fantasy\nEscape to other worlds:\n- Space operas\n- Fantasy epics\n- Superhero series\n- Anthology shows\n\n### Reality & Documentary\nReal stories, real drama:\n- Competition shows\n- True crime docs\n- Nature documentaries\n- Behind-the-scenes access\n\n## Binge-Watching Tips\n\n### Pace Yourself\n- Set episode limits\n- Take breaks between episodes\n- Save season finales for weekends\n- Don't sacrifice sleep\n\n### Enhance Your Experience\n- Use quality headphones\n- Enable subtitles for detail\n- Dim the lights\n- Snacks ready\n\n### Track What You Watch\n- Use watchlist features\n- Rate shows for better recommendations\n- Share with friends\n- Avoid spoilers online\n\n## Best Platforms for TV Shows\n\n### Netflix\n- Massive original content library\n- International shows\n- Binge-friendly release model\n- Excellent algorithms\n\n### Max (HBO)\n- Prestige drama king\n- Limited series events\n- Quality over quantity\n- Adult-oriented content\n\n### Disney+\n- Marvel series\n- Star Wars shows\n- Family entertainment\n- Nostalgic classics\n\n### Amazon Prime\n- Diverse originals\n- Free with Prime membership\n- Thursday Night Football\n- Award-winning content\n\n## The All-Access Solution\n\nWith a fully loaded Fire Stick:\n- Access all streaming apps\n- Live TV channels included\n- No switching between devices\n- One simple interface\n\n## FAQ\n\n**Q: How many episodes before I'm hooked?**\nA: Most shows reveal their quality in 3 episodes. Give new shows a fair chance.\n\n**Q: Should I wait for full seasons?**\nA: Depends on preference. Some shows are better binged, others enjoyed weekly.\n\n**Q: How do I avoid spoilers?**\nA: Mute show keywords on social media and avoid fan forums until caught up.\n\nStart your next binge today! Our fully loaded Fire Sticks give you access to every major streaming platform with one simple device.`,\n    category: \"Entertainment\",\n    featured: false,\n    published: true,\n    metaTitle: \"Best TV Shows to Binge Watch 2025 | Streaming Guide\",\n    metaDescription: \"Find the best TV shows to binge watch in 2025. Complete guide to must-see series across Netflix, Max, Disney+, and more.\",\n    keywords: [\"best tv shows 2025\", \"binge watch shows\", \"streaming tv shows\", \"best series to watch\", \"top tv shows streaming\", \"binge worthy shows\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Watch New Movie Releases at Home\",\n    slug: \"watch-new-movie-releases-home\",\n    excerpt: \"Skip the theater! Learn how to watch new movie releases from the comfort of your home with premium streaming options.\",\n    content: `Why wait for movies to leave theaters? Here's how to watch the latest releases from your couch.\n\n## Theater to Home Timeline\n\n### Standard Release Windows\n- **Theatrical:** Opening weekend\n- **Premium VOD:** 17-45 days later\n- **Standard VOD:** 45-90 days\n- **Streaming:** 90-120 days\n\n### Day-and-Date Releases\nSome movies release simultaneously:\n- Streaming exclusives\n- Limited theatrical + streaming\n- Festival pickups\n\n## Premium Video On Demand (PVOD)\n\n### What is PVOD?\nEarly home access for new releases:\n- $19.99-29.99 per movie\n- 48-hour rental window\n- 4K quality available\n- Available on major platforms\n\n### Platforms Offering PVOD\n- Amazon Prime Video\n- Apple TV\n- Google Play\n- Vudu\n\n## Streaming Service Exclusives\n\n### Netflix Original Films\n- Weekly new releases\n- Award-winning productions\n- International films\n- Included with subscription\n\n### Amazon Original Movies\n- Major theatrical releases\n- MGM library access\n- International productions\n- Prime membership included\n\n### Max/Warner Bros\n- Same-day theatrical releases (select films)\n- DC Universe movies\n- Warner Bros classics\n- HBO documentary films\n\n## Build Your Home Theater\n\n### Essential Equipment\n1. 4K TV (55\" or larger recommended)\n2. Soundbar with subwoofer\n3. Fire Stick 4K Max\n4. Comfortable seating\n\n### Optimize for Movies\n- Calibrate TV settings\n- Enable Dolby Vision/HDR\n- Set up surround sound\n- Control room lighting\n\n## Save Money on New Releases\n\n### Strategies\n- Wait for streaming inclusion\n- Use free trials strategically\n- Split costs with family\n- Check library availability\n\n### Best Value\nFully loaded Fire Stick gives you:\n- Access to all PVOD platforms\n- Streaming service apps\n- Live movie channels\n- Premium content library\n\n## FAQ\n\n**Q: Are home releases the same quality?**\nA: Yes! 4K HDR at home often matches or exceeds theater quality.\n\n**Q: Can I watch opening weekend at home?**\nA: Some films release same-day on streaming, but most major releases have theater exclusivity.\n\n**Q: Is PVOD worth $20+?**\nA: For family viewing, it's cheaper than theater tickets plus concessions.\n\nWatch new movies from home! Our fully loaded Fire Sticks include access to all major PVOD platforms and streaming services.`,\n    category: \"Entertainment\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch New Movies at Home | Skip the Theater Guide\",\n    metaDescription: \"Learn how to watch new movie releases at home. From PVOD to streaming exclusives, never miss a new release.\",\n    keywords: [\"watch new movies home\", \"new movie releases streaming\", \"movies at home\", \"skip theater\", \"PVOD movies\", \"home theater movies\"],\n    readTime: \"6 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Documentary Streaming Guide: Best Documentaries 2025\",\n    slug: \"best-documentaries-streaming-2025\",\n    excerpt: \"Explore the best documentaries available for streaming in 2025. From true crime to nature, find fascinating stories.\",\n    content: `Documentaries have never been better. Here's your guide to the most compelling non-fiction content streaming now.\n\n## Top Documentary Categories\n\n### True Crime\nThe most popular documentary genre:\n- Murder mysteries\n- Wrongful convictions\n- Criminal investigations\n- Cold cases reopened\n\n### Nature & Wildlife\nPlanet Earth and beyond:\n- BBC nature productions\n- Ocean exploration\n- Animal behavior studies\n- Conservation stories\n\n### Historical\nLearn from the past:\n- War documentaries\n- Political histories\n- Cultural explorations\n- Archaeological discoveries\n\n### Social Issues\nStories that matter:\n- Climate change\n- Social justice\n- Healthcare\n- Education\n\n### Sports\nBehind the games:\n- Athlete profiles\n- Team dynasties\n- Historic moments\n- Underdog stories\n\n## Best Platforms for Documentaries\n\n### Netflix\n- Original documentary series\n- True crime focus\n- Social issue films\n- International docs\n\n### Max (HBO)\n- Award-winning docs\n- In-depth investigations\n- Premium productions\n- Docuseries events\n\n### Disney+/National Geographic\n- Nature documentaries\n- Science exploration\n- Cultural content\n- Educational series\n\n### Discovery+\n- Reality-documentary hybrids\n- True crime library\n- History content\n- Science programs\n\n## Must-Watch Documentary Series\n\n### True Crime Essentials\nThe genre-defining series:\n- Investigation formats\n- Interview-based narratives\n- Archival footage features\n- Cold case examinations\n\n### Nature Masterpieces\nVisual spectacles:\n- Planet Earth series\n- Blue Planet\n- Our Planet\n- Night on Earth\n\n### Historical Deep Dives\nComprehensive explorations:\n- Ken Burns productions\n- WWII chronicles\n- Civil rights histories\n- Presidential profiles\n\n## How to Find Great Documentaries\n\n### Discovery Methods\n- Check Oscar nominees\n- Follow documentary festivals\n- Use \"More Like This\" features\n- Join documentary communities\n\n### Rating Resources\n- IMDb documentary section\n- Rotten Tomatoes critics\n- Letterboxd reviews\n- Reddit recommendations\n\n## FAQ\n\n**Q: Best platform for documentaries?**\nA: Netflix and Max lead for originals. Discovery+ for reality-docs.\n\n**Q: Are nature documentaries worth 4K?**\nA: Absolutely! Nature content showcases 4K quality beautifully.\n\n**Q: How do I find niche documentaries?**\nA: Check festival winners and specialized streaming services.\n\nExplore endless documentaries! Our fully loaded Fire Sticks include access to all major documentary platforms.`,\n    category: \"Entertainment\",\n    featured: false,\n    published: true,\n    metaTitle: \"Best Documentaries Streaming 2025 | Documentary Guide\",\n    metaDescription: \"Find the best documentaries streaming in 2025. True crime, nature, history, and more across all platforms.\",\n    keywords: [\"best documentaries 2025\", \"documentaries streaming\", \"true crime documentaries\", \"nature documentaries\", \"documentary streaming\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-6mo-2d\"]\n  },\n  {\n    title: \"Anime Streaming Guide: Where to Watch Anime in 2025\",\n    slug: \"anime-streaming-guide-2025\",\n    excerpt: \"Complete guide to streaming anime in 2025. Find the best platforms, shows, and tips for anime fans.\",\n    content: `Anime has gone mainstream! Here's everything you need to know about streaming anime in 2025.\n\n## Best Anime Streaming Platforms\n\n### Crunchyroll\nThe anime leader:\n- Largest anime library\n- Simulcast new episodes\n- Manga included\n- Community features\n\n### Netflix\nMainstream anime access:\n- Original productions\n- Popular classics\n- Dubbed options\n- Easy discovery\n\n### Hulu\nSolid anime selection:\n- Classic series\n- Simulcast shows\n- Cartoon crossover\n- Affordable option\n\n### Amazon Prime\nGrowing library:\n- Exclusive titles\n- Included with Prime\n- Subbed and dubbed\n- Easy access\n\n## Top Anime Series 2025\n\n### Action/Adventure\n- Shonen powerhouses\n- Battle series\n- Adventure epics\n- Fantasy quests\n\n### Romance\n- High school stories\n- Romantic comedies\n- Drama series\n- Slice of life\n\n### Horror/Thriller\n- Psychological horror\n- Supernatural thrillers\n- Mystery series\n- Dark fantasy\n\n### Comedy\n- Parody shows\n- Slice of life comedy\n- Romantic comedies\n- Absurdist humor\n\n## Anime for Beginners\n\n### Gateway Series\nStart with accessible shows:\n- Action with broad appeal\n- High production values\n- Available dubbed\n- Complete series\n\n### Don't Start With\n- Ultra long-running series\n- Heavy fan service\n- Niche genres\n- Incomplete adaptations\n\n## Sub vs Dub\n\n### Subtitled (Sub)\n- Original voice acting\n- Faster availability\n- Purist preference\n- Better lip sync\n\n### Dubbed (Dub)\n- English voice acting\n- Easier to follow\n- Good for multitasking\n- Growing quality\n\n## Anime Streaming Tips\n\n### Track Your Watching\n- Use MyAnimeList\n- Create platform watchlists\n- Rate for recommendations\n- Join communities\n\n### Find New Shows\n- Check seasonal charts\n- Follow anime news sites\n- Reddit recommendations\n- YouTube reviewers\n\n## FAQ\n\n**Q: Is Crunchyroll worth it?**\nA: For dedicated fans, absolutely. Casual viewers can start with Netflix.\n\n**Q: Sub or dub?**\nA: Personal preference! Both are valid. Try both and see what you prefer.\n\n**Q: Where to start?**\nA: Popular gateway anime with broad appeal and good production values.\n\nWatch anime on any device! Our fully loaded Fire Sticks include access to all major anime streaming platforms.`,\n    category: \"Entertainment\",\n    featured: false,\n    published: true,\n    metaTitle: \"Anime Streaming Guide 2025 | Where to Watch Anime\",\n    metaDescription: \"Complete guide to streaming anime in 2025. Best platforms, top shows, and tips for anime fans of all levels.\",\n    keywords: [\"anime streaming\", \"where to watch anime\", \"best anime 2025\", \"crunchyroll\", \"anime streaming guide\", \"watch anime online\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  }\n];\n\n// ============================================\n// PILLAR 5: FAMILY STREAMING (20 posts)\n// Target: \"kids streaming\", \"family movies\", \"parental controls\"\n// ============================================\n\nconst pillar5_family: BlogPost[] = [\n  {\n    title: \"Best Kids Streaming Services 2025: Complete Family Guide\",\n    slug: \"best-kids-streaming-services-2025\",\n    excerpt: \"Find the best streaming services for kids in 2025. Compare Disney+, Netflix Kids, and more for age-appropriate content.\",\n    content: `Choosing the right streaming service for your kids can be overwhelming. Here's your complete guide to kid-friendly streaming in 2025.\n\n## Top Kids Streaming Services\n\n### Disney+\nThe family entertainment king:\n- Disney classics and new releases\n- Pixar complete library\n- Marvel content (some restricted)\n- Star Wars (age-gated content)\n- National Geographic for learning\n\n**Best for:** Ages 2-12, Disney fans\n\n### Netflix Kids\nRobust kids programming:\n- Original kids shows\n- Educational content\n- Popular licensed shows\n- Strong parental controls\n\n**Best for:** Variety seekers, all ages\n\n### Amazon Kids+\nAll-in-one kids subscription:\n- Video content\n- Games and apps\n- Books and audiobooks\n- Ad-free experience\n\n**Best for:** Multi-device families, readers\n\n### PBS Kids\nFree educational content:\n- Sesame Street\n- Daniel Tiger\n- Wild Kratts\n- No ads, completely free\n\n**Best for:** Preschoolers, education-focused\n\n### YouTube Kids\nCurated kids content:\n- Free with ads\n- Premium option available\n- Familiar interface\n- Mixed quality content\n\n**Best for:** Casual viewing, free option\n\n## Age-Appropriate Content Guide\n\n### Ages 0-3 (Toddlers)\n- Simple animation\n- Short episodes (5-15 min)\n- Repetitive, educational\n- Calming music and visuals\n\n### Ages 4-6 (Preschool)\n- Longer stories (20-30 min)\n- Educational themes\n- Character development\n- Interactive elements\n\n### Ages 7-9 (Early Elementary)\n- More complex plots\n- Adventure and comedy\n- Learning themes continue\n- Some mild action\n\n### Ages 10-12 (Tweens)\n- PG content appropriate\n- More mature themes\n- Serialized stories\n- Pre-teen interests\n\n## Setting Up Parental Controls\n\n### General Steps\n1. Create kids profile\n2. Set age restrictions\n3. Enable content filters\n4. Set viewing time limits\n5. Review watch history\n\n### Platform-Specific Controls\n- **Disney+:** Kids profiles with content filtering\n- **Netflix:** PIN protection, maturity ratings\n- **Amazon:** FreeTime settings, content restrictions\n- **YouTube Kids:** Approved content only mode\n\n## Educational Streaming\n\n### Best Learning Shows\nCombine fun with education:\n- Science exploration\n- Math concepts\n- Reading and literacy\n- Social-emotional learning\n- History and culture\n\n### Educational Platforms\n- Curiosity Stream\n- Discovery Education\n- BrainPOP\n- PBS LearningMedia\n\n## Safe Streaming Tips\n\n### Protect Your Kids\n- Use dedicated kids profiles\n- Check content before viewing\n- Enable strict parental controls\n- Keep devices in common areas\n- Discuss what they're watching\n\n### Screen Time Balance\n- Set daily limits\n- Encourage breaks\n- Mix with outdoor time\n- Use as reward system\n- Watch together when possible\n\n## FAQ\n\n**Q: Which service is best for toddlers?**\nA: Disney+ and PBS Kids offer the best toddler content with proven educational value.\n\n**Q: Is YouTube Kids safe?**\nA: Safer than regular YouTube, but parental oversight is still recommended.\n\n**Q: How much screen time is appropriate?**\nA: AAP recommends 1-2 hours/day for kids 2-5, with quality content focus.\n\nGive your family the best streaming experience! Our fully loaded Fire Sticks include all major kids platforms with easy parental controls.`,\n    category: \"Family\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Kids Streaming Services 2025 | Family Guide\",\n    metaDescription: \"Find the best streaming services for kids in 2025. Compare Disney+, Netflix Kids, and more with our complete family guide.\",\n    keywords: [\"kids streaming services\", \"best streaming for kids\", \"disney+ for kids\", \"netflix kids\", \"family streaming\", \"kids shows streaming\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\"]\n  },\n  {\n    title: \"How to Set Up Parental Controls on Fire Stick\",\n    slug: \"parental-controls-fire-stick-setup\",\n    excerpt: \"Protect your kids with Fire Stick parental controls. Step-by-step guide to setting up PIN codes and content restrictions.\",\n    content: `Keep your kids safe while they stream. Here's how to set up comprehensive parental controls on your Fire Stick.\n\n## Enable Parental Controls\n\n### Quick Setup\n1. Go to **Settings** (gear icon)\n2. Select **Preferences**\n3. Choose **Parental Controls**\n4. Toggle to **ON**\n5. Create a 5-digit PIN\n\n### What Gets Locked\n- Amazon app purchases\n- Prime Video by rating\n- Third-party apps\n- Amazon Photos access\n- Wi-Fi settings changes\n\n## Set Content Restrictions\n\n### By Maturity Rating\nControl what can be viewed:\n\n**Video Content:**\n- All - Everything allowed\n- Teen - Teen and below\n- Young Adult - PG-13/TV-14 and below\n- Family - G/PG/TV-Y/TV-G only\n\n### Block Specific Types\n- Explicit music\n- Live TV\n- Web browsing\n- App installations\n\n## Create Kids Profiles\n\n### Amazon Kids Setup\n1. Subscribe to Amazon Kids+ (or use free tier)\n2. Go to Settings > My Account\n3. Select Amazon Kids\n4. Create child profile\n5. Set age range\n6. Choose content settings\n\n### Benefits of Kids Profiles\n- Age-appropriate content only\n- Time limits\n- Educational goals\n- Screen time reports\n- No ads (with Kids+)\n\n## Lock Individual Apps\n\n### Restrict Specific Apps\n1. Settings > Applications\n2. Manage Installed Applications\n3. Select app to restrict\n4. Enable PIN requirement\n\n### Common Apps to Lock\n- Web browsers\n- YouTube (use YouTube Kids instead)\n- Social media apps\n- Games with purchases\n\n## Set Viewing Time Limits\n\n### With Amazon Kids\n1. Open Settings\n2. Select Amazon Kids\n3. Choose child's profile\n4. Set Daily Screen Time Goals\n5. Set Bedtime\n\n### Manual Control\n- Set sleep timers\n- Use router scheduling\n- Unplug during off-hours\n- Use smart plug timers\n\n## Bypass Prevention\n\n### Keep PIN Secret\n- Don't use obvious numbers\n- Change periodically\n- Don't store on device\n- Different from phone PIN\n\n### Physical Security\n- Keep Fire Stick accessible\n- Monitor remote usage\n- Check watch history\n- Review app installations\n\n## Per-App Parental Controls\n\n### Netflix\n- Create kids profile\n- Set maturity rating\n- Lock profile with PIN\n- Restrict specific titles\n\n### Disney+\n- Kids mode enabled\n- Content filtering\n- Age-appropriate ratings\n- No adult profiles visible\n\n### YouTube\n- Use YouTube Kids app\n- Set approved content only\n- Restrict search\n- Block specific channels\n\n## Monitoring and Reports\n\n### Check Watch History\n1. Go to Settings\n2. Select Your Watch History\n3. Review recent activity\n4. Look for concerning content\n\n### Amazon Kids Reports\n- Screen time summaries\n- Content viewed\n- Educational progress\n- App usage breakdown\n\n## FAQ\n\n**Q: Can kids bypass parental controls?**\nA: Not without the PIN. Keep your PIN completely secret.\n\n**Q: Do controls work on all apps?**\nA: Fire Stick controls work universally. Individual apps may need separate setup.\n\n**Q: Can I set different limits for each child?**\nA: Yes, with Amazon Kids profiles you can customize for each child.\n\n**Q: What if I forget my PIN?**\nA: You'll need to factory reset the device, which erases all settings.\n\nProtect your family while streaming! Our fully loaded Fire Sticks include easy-to-setup parental controls and safe kids content.`,\n    category: \"Family\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Parental Controls | Complete Setup Guide\",\n    metaDescription: \"Set up parental controls on Fire Stick to protect your kids. Step-by-step guide for PIN codes, content restrictions, and time limits.\",\n    keywords: [\"fire stick parental controls\", \"fire stick kids safety\", \"fire tv parental controls\", \"block content fire stick\", \"kids fire stick setup\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\", \"fs-max\"]\n  },\n  {\n    title: \"Best Family Movies to Stream Together\",\n    slug: \"best-family-movies-stream-together\",\n    excerpt: \"Find the perfect family movie night picks! Best movies that parents and kids can enjoy together across all streaming platforms.\",\n    content: `Family movie night is a cherished tradition. Here are the best films that everyone from 5 to 75 can enjoy together.\n\n## All-Time Family Classics\n\n### Animated Essentials\nMovies that never get old:\n- Pixar masterpieces (Toy Story, Finding Nemo, Coco)\n- Disney Renaissance (Lion King, Aladdin, Beauty and the Beast)\n- DreamWorks hits (Shrek, How to Train Your Dragon)\n- Studio Ghibli magic (Spirited Away, Totoro)\n\n### Live-Action Favorites\nFun for the whole family:\n- Adventure classics\n- Sports underdog stories\n- Fantasy adventures\n- Comedy hits\n\n## Best Family Movies by Age Group\n\n### Young Kids (4-7)\nSimple stories, bright colors:\n- Frozen series\n- Moana\n- Encanto\n- Paddington films\n\n### Older Kids (8-12)\nMore adventure and stakes:\n- Harry Potter series\n- Marvel family-friendly films\n- Jumanji films\n- Night at the Museum\n\n### Teens & Adults\nMore complexity, still appropriate:\n- Princess Bride\n- Back to the Future\n- National Treasure\n- Spiderman films\n\n## Where to Find Family Movies\n\n### Disney+\nFamily movie central:\n- Complete Disney vault\n- Pixar library\n- Marvel Studios\n- Star Wars saga\n- New releases\n\n### Netflix\nBroad family selection:\n- Original family films\n- Licensed classics\n- International family content\n- Animated series films\n\n### Amazon Prime\nGood family collection:\n- Classic family films\n- Amazon originals\n- Rental options\n- Free with Prime\n\n### Max\nQuality family content:\n- Studio Ghibli complete\n- DC family films\n- Cartoon Network movies\n- HBO originals\n\n## Family Movie Night Tips\n\n### Make It Special\n- Designated movie night\n- Popcorn and snacks\n- Cozy blankets\n- Phones away\n- Let kids choose sometimes\n\n### Avoid Arguments\n- Rotate who picks\n- Create a shortlist\n- Use random picker\n- Have backup options\n\n### Age-Appropriate Choices\n- Check ratings beforehand\n- Read parent reviews (Common Sense Media)\n- Preview questionable scenes\n- Be ready to skip if needed\n\n## Movies for Different Moods\n\n### Feel-Good Movies\nWhen you need uplift:\n- Inspiring stories\n- Comedy adventures\n- Musical joy\n- Heartwarming tales\n\n### Adventure Movies\nWhen energy is high:\n- Action-adventure\n- Fantasy quests\n- Treasure hunts\n- Superhero stories\n\n### Calm Movies\nBefore bedtime:\n- Gentle animation\n- Nature documentaries\n- Peaceful stories\n- Short films\n\n## FAQ\n\n**Q: How do I find truly age-appropriate movies?**\nA: Use Common Sense Media for detailed parent reviews and age recommendations.\n\n**Q: What if kids and parents have different tastes?**\nA: Focus on shared genres like adventure and comedy that work for all ages.\n\n**Q: Are there any truly \"all ages\" movies?**\nA: Pixar films consistently work for ages 4 to 94.\n\nEnjoy endless family movie nights! Our fully loaded Fire Sticks include all major platforms for the ultimate family entertainment experience.`,\n    category: \"Family\",\n    featured: false,\n    published: true,\n    metaTitle: \"Best Family Movies to Stream | Movie Night Guide\",\n    metaDescription: \"Find the perfect family movie night picks. Best movies parents and kids can enjoy together across all streaming platforms.\",\n    keywords: [\"best family movies\", \"family movie night\", \"movies for families\", \"kids movies streaming\", \"family friendly movies\", \"watch movies with kids\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-3mo-2d\"]\n  },\n  {\n    title: \"Educational Shows for Kids: Learning Through Streaming\",\n    slug: \"educational-shows-kids-streaming\",\n    excerpt: \"Turn screen time into learning time! Best educational shows for kids across all age groups and streaming platforms.\",\n    content: `Screen time doesn't have to be empty time. These shows combine entertainment with education.\n\n## Best Educational Shows by Age\n\n### Toddlers (1-3 years)\nFoundation building:\n- **Sesame Street** - Letters, numbers, social skills\n- **Daniel Tiger** - Emotional intelligence\n- **Bluey** - Family, imagination, play\n- **Cocomelon** - Songs and nursery rhymes\n\n### Preschool (3-5 years)\nExpanding knowledge:\n- **Numberblocks** - Math concepts\n- **Alphablocks** - Reading readiness\n- **Dora the Explorer** - Language, problem-solving\n- **Octonauts** - Ocean science\n\n### Early Elementary (5-8)\nBuilding skills:\n- **Wild Kratts** - Animal science\n- **Odd Squad** - Math problem-solving\n- **SciGirls** - STEM exploration\n- **Magic School Bus** - Science adventures\n\n### Upper Elementary (8-12)\nDeeper learning:\n- **BrainPop** - All subjects\n- **Liberty's Kids** - American history\n- **Cyberchase** - Math and logic\n- **Mythbusters Jr** - Scientific method\n\n## Subject-Specific Shows\n\n### Science\n- Wild Kratts (biology)\n- SciShow Kids (general science)\n- Storybots (science questions)\n- Planet Earth Jr (nature)\n\n### Math\n- Numberblocks\n- Peg + Cat\n- Cyberchase\n- Team Umizoomi\n\n### Reading/Language\n- Super Why\n- Between the Lions\n- Word World\n- Electric Company\n\n### History/Social Studies\n- Liberty's Kids\n- Carmen Sandiego\n- Horrible Histories\n- Magic Tree House\n\n### Arts/Music\n- Yo Gabba Gabba\n- Creative Galaxy\n- Artzooka\n- Little Einsteins\n\n## Where to Find Educational Content\n\n### PBS Kids (Free!)\nBest for: Preschool education\n- Completely free\n- No ads\n- Curriculum-aligned\n- High-quality production\n\n### Netflix\nBest for: Variety\n- StoryBots\n- Ask the StoryBots\n- Carmen Sandiego\n- Various educational series\n\n### Disney+\nBest for: Science/Nature\n- National Geographic content\n- Documentary series\n- Dr. K's Exotic Animal ER\n\n### YouTube Kids\nBest for: Supplemental learning\n- Crash Course Kids\n- SciShow Kids\n- National Geographic Kids\n- Free access\n\n## Making the Most of Educational TV\n\n### Active Watching Tips\n- Watch together when possible\n- Ask questions during shows\n- Pause for discussion\n- Extend learning after\n- Connect to real life\n\n### Balancing Entertainment & Education\n- Mix educational and entertainment\n- Don't force educational only\n- Let kids have some choice\n- Quality over quantity\n\n### Screen Time Guidelines\n- AAP recommends 1-2 hours (ages 2-5)\n- Focus on quality content\n- Co-view when possible\n- Ensure physical activity balance\n\n## FAQ\n\n**Q: Can kids really learn from TV?**\nA: Research shows quality educational programming does support learning, especially when combined with adult interaction.\n\n**Q: Which age benefits most?**\nA: Preschoolers (3-5) show the strongest educational gains from quality programming.\n\n**Q: Is any screen time bad?**\nA: Quality educational content in moderation is different from passive entertainment viewing.\n\nTurn screen time into learning time! Our fully loaded Fire Sticks include all educational platforms for comprehensive learning entertainment.`,\n    category: \"Family\",\n    featured: false,\n    published: true,\n    metaTitle: \"Educational Shows for Kids | Learning Through Streaming\",\n    metaDescription: \"Best educational shows for kids across all ages. Turn screen time into learning time with these quality programs.\",\n    keywords: [\"educational shows kids\", \"learning shows streaming\", \"educational tv kids\", \"best kids learning shows\", \"educational streaming kids\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\"]\n  },\n  {\n    title: \"Setting Up Fire Stick for Seniors: Easy Guide\",\n    slug: \"fire-stick-setup-seniors-elderly\",\n    excerpt: \"Help seniors enjoy streaming! Simple Fire Stick setup guide designed for older adults with accessibility tips.\",\n    content: `Streaming can be wonderful for seniors. Here's how to set up a Fire Stick that's easy for older adults to use.\n\n## Why Fire Stick for Seniors?\n\n### Benefits\n- Access to news and movies\n- Video calling capability\n- Simple voice control\n- Mental stimulation\n- Connection to family\n\n### Considerations\n- Learning curve for new tech\n- Button size on remote\n- Vision requirements\n- Hearing adjustments needed\n\n## Simple Setup Process\n\n### Step 1: Physical Connection\n1. Plug Fire Stick into TV HDMI port\n2. Connect power adapter to outlet\n3. Turn on TV\n4. Select correct HDMI input\n\n**Tip:** Label which HDMI input to use\n\n### Step 2: Basic Configuration\n1. Follow on-screen prompts\n2. Connect to home Wi-Fi\n3. Sign into Amazon account\n4. Skip optional setups for simplicity\n\n### Step 3: Simplify the Interface\n1. Go to Settings > Display & Sounds\n2. Enable \"Large text\"\n3. Adjust display settings\n4. Test audio levels\n\n## Accessibility Features\n\n### Vision Adjustments\n- **Screen Magnifier:** Settings > Accessibility > Screen Magnifier\n- **High Contrast:** Better text visibility\n- **Text Size:** Larger fonts throughout\n- **Voice Guide:** Reads screen aloud\n\n### Hearing Adjustments\n- **Closed Captions:** Enable in Settings > Accessibility\n- **Audio Description:** Narrates on-screen action\n- **Volume Leveling:** Consistent audio levels\n- **Connect hearing aids:** Bluetooth pairing\n\n### Motor Accessibility\n- **Voice Control:** \"Alexa, play...\" eliminates button pressing\n- **Simple Remote:** Avoid complex buttons\n- **Remote finder:** Call out to locate remote\n- **Slow Motion:** Adjust navigation speed\n\n## Simplify Navigation\n\n### Create Shortcuts\n1. Pin favorite apps to home screen\n2. Remove unused apps\n3. Create simple routine\n\n### Voice Control Training\nTeach common commands:\n- \"Alexa, play [show name]\"\n- \"Alexa, go to Netflix\"\n- \"Alexa, pause\"\n- \"Alexa, turn up the volume\"\n- \"Alexa, go home\"\n\n### Written Cheat Sheet\nCreate a simple guide:\n- How to turn on TV/Fire Stick\n- How to select HDMI input\n- Voice commands list\n- Troubleshooting basics\n\n## Best Apps for Seniors\n\n### Entertainment\n- Netflix (simple interface)\n- PBS (free, familiar)\n- Peacock (classic shows)\n- Pluto TV (live TV feel)\n\n### News\n- Network news apps\n- Local news stations\n- Weather apps\n- Newspapers\n\n### Video Calling\n- Alexa Calling (built-in)\n- Zoom\n- Skype\n- Facebook Portal\n\n### Health\n- Meditation apps\n- Exercise programs\n- Health information\n- Relaxation content\n\n## Common Issues and Solutions\n\n### \"I Can't Find the Right Input\"\n- Label the remote with the correct input number\n- Use HDMI-CEC for automatic switching\n- Consider a universal remote\n\n### \"The Remote is Confusing\"\n- Cover unused buttons with tape\n- Get a simplified universal remote\n- Rely on voice control\n\n### \"I Forgot How to...\"\n- Keep written instructions nearby\n- Set up regular family check-ins\n- Consider remote tech support\n\n## Family Support Tips\n\n### Initial Setup\n- Do it together in person\n- Take photos of setup\n- Create written instructions\n- Save Wi-Fi password visibly\n\n### Ongoing Help\n- Schedule regular video calls\n- Use remote screen sharing\n- Be patient and understanding\n- Celebrate small victories\n\n## FAQ\n\n**Q: What if they've never used streaming?**\nA: Start with one app (Netflix or PBS) and master it before adding more.\n\n**Q: Voice control isn't working well?**\nA: Speak clearly and slowly. May need to adjust sensitivity in settings.\n\n**Q: They keep getting lost in menus?**\nA: Teach them to say \"Alexa, go home\" to always return to start.\n\nHelp your senior loved ones enjoy streaming! Our fully loaded Fire Sticks come with simple setup and 24/7 support.`,\n    category: \"Family\",\n    featured: false,\n    published: true,\n    metaTitle: \"Fire Stick Setup for Seniors | Easy Elderly Guide\",\n    metaDescription: \"Help seniors enjoy streaming with this easy Fire Stick setup guide. Accessibility features and simple navigation tips.\",\n    keywords: [\"fire stick seniors\", \"fire stick elderly\", \"streaming for seniors\", \"fire stick accessibility\", \"easy streaming setup seniors\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-hd\", \"fs-4k\"]\n  }\n];\n\n// ============================================\n// PILLAR 6: REGIONAL GUIDES (15 posts)\n// Target: \"streaming usa\", \"streaming uk\", \"streaming canada\"\n// ============================================\n\nconst pillar6_regional: BlogPost[] = [\n  {\n    title: \"Best Streaming Services in the USA 2025: Complete Guide\",\n    slug: \"best-streaming-services-usa-2025\",\n    excerpt: \"Complete guide to streaming services available in the USA. Compare prices, content, and features across all major platforms.\",\n    content: `The USA has the most streaming options in the world. Here's your complete guide to navigating American streaming in 2025.\n\n## Top USA Streaming Services\n\n### Netflix ($6.99-$22.99/month)\nThe streaming pioneer:\n- Massive content library\n- Strong original programming\n- Multiple device support\n- Download for offline viewing\n\n### Amazon Prime Video (Free with Prime/$8.99 standalone)\nValue-packed option:\n- Included with Prime membership\n- Growing original content\n- NFL Thursday Night Football\n- Add-on channels available\n\n### Disney+ ($7.99-$13.99/month)\nFamily entertainment leader:\n- Disney vault complete\n- Marvel Cinematic Universe\n- Star Wars content\n- National Geographic\n\n### Max ($9.99-$15.99/month)\nPremium content destination:\n- HBO original programming\n- Warner Bros new releases\n- Discovery content merged\n- Sports add-on available\n\n### Hulu ($7.99-$17.99/month)\nNext-day TV champion:\n- Current season TV episodes\n- Strong original series\n- Live TV option available\n- Disney bundle eligible\n\n### Peacock (Free-$11.99/month)\nNBC Universal home:\n- WWE content\n- Premier League soccer\n- Olympic coverage\n- Classic NBC shows\n\n### Paramount+ ($5.99-$11.99/month)\nCBS and beyond:\n- NFL games\n- Star Trek universe\n- Paramount movies\n- MTV, Comedy Central content\n\n### Apple TV+ ($9.99/month)\nQuality over quantity:\n- Award-winning originals\n- MLS soccer\n- Free with Apple devices (limited time)\n- Smallest library, highest quality\n\n## Best Value Bundles\n\n### Disney Bundle ($14.99/month)\n- Disney+\n- Hulu (ad-supported)\n- ESPN+\n**Savings:** $11/month vs. separate\n\n### Paramount+ with Showtime ($11.99/month)\n- Full Paramount+ library\n- Showtime content\n- Live sports\n**Savings:** $8/month vs. separate\n\n### Max/Hulu Bundle (coming 2025)\n- Combined libraries\n- Single login\n- Expected significant savings\n\n## Free Streaming Options\n\n### Completely Free\n- **Pluto TV:** Live channels, on-demand\n- **Tubi:** Large movie/show library\n- **Freevee:** Amazon's free service\n- **Peacock Free:** Limited Peacock content\n- **PBS:** Free with local station\n\n### With Library Card\n- **Kanopy:** Premium content free\n- **Hoopla:** Movies, shows, music\n- **Libby:** Some video content\n\n## USA Sports Streaming\n\n### Football (NFL)\n- Sunday Ticket: YouTube TV\n- Thursday Night: Amazon Prime\n- Monday Night: ESPN\n- Local games: Various\n\n### Basketball (NBA/WNBA)\n- NBA League Pass\n- ESPN/TNT games\n- Local RSN issues\n\n### Baseball (MLB)\n- MLB.TV\n- Regional blackouts apply\n- ESPN/FOX national games\n\n### Soccer\n- Apple TV+: MLS Season Pass\n- Peacock: Premier League\n- Paramount+: UEFA Champions League\n- ESPN+: Various leagues\n\n## FAQ\n\n**Q: Which single service is best?**\nA: Depends on your viewing. Netflix for variety, Disney+ for families, Max for prestige content.\n\n**Q: How do I get all sports?**\nA: No single service covers all sports. A fully loaded Fire Stick with Live TV Plan offers the most comprehensive coverage.\n\n**Q: Are there regional differences?**\nA: Sports blackouts vary by location. Main streaming services are consistent nationwide.\n\nGet complete streaming access! Our fully loaded Fire Sticks include all major USA platforms and live TV coverage.`,\n    category: \"Regional\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Streaming Services USA 2025 | Complete Guide\",\n    metaDescription: \"Complete guide to streaming services in the USA. Compare Netflix, Disney+, Max, and more with prices and features.\",\n    keywords: [\"best streaming usa\", \"streaming services america\", \"usa streaming guide\", \"streaming comparison usa\", \"american streaming services\"],\n    readTime: \"10 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"Best Streaming Services in the UK 2025: Complete Guide\",\n    slug: \"best-streaming-services-uk-2025\",\n    excerpt: \"Complete guide to streaming in the United Kingdom. Compare Sky, NOW TV, BBC iPlayer, and all major platforms.\",\n    content: `The UK streaming market offers unique options alongside global giants. Here's your complete guide to British streaming in 2025.\n\n## Top UK Streaming Services\n\n### Netflix (4.99-17.99/month)\nGlobal leader in the UK:\n- Massive content library\n- British originals increasing\n- 4K and HDR content\n- Multiple profiles\n\n### Disney+ (7.99/month)\nFamily and franchise entertainment:\n- Star brand for adult content\n- Complete Disney library\n- Marvel and Star Wars\n- National Geographic\n\n### Amazon Prime Video (8.99/month or free with Prime)\nBundled value:\n- Included with Prime delivery\n- Premier League matches\n- Original British productions\n- Add-on channels\n\n### Sky Stream/NOW TV (9.99-19.99/month)\nBritish streaming powerhouse:\n- Sky originals\n- HBO content\n- Premier League/Sports\n- Cinema passes\n\n### BBC iPlayer (FREE with TV License)\nBritish institution:\n- All BBC programming\n- Catch-up and live\n- Exclusive content\n- British classics\n\n### ITV Hub/ITVX (FREE with ads/5.99 premium)\nCommercial broadcaster streaming:\n- ITV programming\n- BritBox content\n- Live TV\n- Exclusive premieres\n\n### Channel 4 (FREE)\nAd-supported quality:\n- Channel 4 originals\n- Walter Presents international\n- Box sets\n- Film4 content\n\n### BritBox (5.99/month)\nBest of British:\n- Classic British TV\n- ITV and BBC archive\n- Original productions\n- British favorites\n\n## UK Sports Streaming\n\n### Football\n- Sky Sports: Premier League, EFL\n- TNT Sports: Champions League\n- Amazon Prime: Select Premier League\n- BBC/ITV: FA Cup, national team\n\n### Rugby\n- TNT Sports: Champions Cup\n- BBC: Six Nations (shared)\n- Peacock UK: Premiership\n\n### Cricket\n- Sky Sports: England home games\n- BBC: Highlights and some live\n\n### Formula 1\n- Sky Sports F1\n- Channel 4: Highlights\n\n### Tennis\n- Prime Video: Wimbledon\n- Sky Sports: ATP/WTA\n\n## Free Streaming in the UK\n\n### Completely Free\n- BBC iPlayer (with TV License)\n- ITV Hub/ITVX (with ads)\n- Channel 4\n- Channel 5/My5\n- Pluto TV\n\n### Freemium Options\n- Peacock UK\n- Apple TV+ (device trials)\n- Disney+ (special offers)\n\n## UK-Specific Considerations\n\n### TV License\n- Required for BBC iPlayer\n- Required for live TV viewing\n- 159/year (standard)\n- Enforcement by TV Licensing\n\n### Regional Content\n- Scottish channels\n- Welsh language content\n- Northern Irish programming\n- Local news variations\n\n### VPN Note\nUsing VPN to access other regions' content may violate terms of service. Stick to UK services for best experience.\n\n## Best Value UK Bundles\n\n### Sky Stream Complete\n- All Sky channels\n- Netflix included\n- Sports optional\n- Cinema included\n\n### Prime Video + Channels\n- Base Prime Video\n- Add BritBox\n- Add discovery+\n- Add StarzPlay\n\n## FAQ\n\n**Q: Is BBC iPlayer really free?**\nA: Free to use but requires a TV License (159/year) which is mandatory if watching live TV or iPlayer.\n\n**Q: Best for Premier League?**\nA: Sky Sports has most games, Amazon Prime has select matches, TNT Sports has Champions League.\n\n**Q: What about classic British TV?**\nA: BritBox is dedicated to classic British content from BBC and ITV archives.\n\nStream like a Brit! Our fully loaded Fire Sticks work perfectly in the UK with all local and international platforms.`,\n    category: \"Regional\",\n    featured: false,\n    published: true,\n    metaTitle: \"Best Streaming Services UK 2025 | Complete Guide\",\n    metaDescription: \"Complete guide to streaming in the UK. Compare Sky, BBC iPlayer, NOW TV and all major British platforms.\",\n    keywords: [\"streaming uk\", \"best streaming services uk\", \"british streaming\", \"uk streaming guide\", \"streaming services britain\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-6mo-2d\"]\n  },\n  {\n    title: \"Best Streaming Services in Canada 2025: Complete Guide\",\n    slug: \"best-streaming-services-canada-2025\",\n    excerpt: \"Complete guide to streaming in Canada. Compare Crave, TSN, and all major platforms available to Canadian viewers.\",\n    content: `Canada has a unique streaming landscape mixing American services with Canadian originals. Here's your complete guide.\n\n## Top Canadian Streaming Services\n\n### Netflix ($5.99-$20.99 CAD/month)\nGlobal leader in Canada:\n- Massive international library\n- Canadian originals increasing\n- French language content\n- 4K content available\n\n### Disney+ ($7.99-$14.99 CAD/month)\nFamily entertainment:\n- Star brand content\n- Adult-oriented programming\n- Complete Disney vault\n- French audio/subtitles\n\n### Amazon Prime Video (Free with Prime/$9.99 CAD)\nBundled value:\n- Included with Prime\n- NFL Thursday Night Football\n- Growing originals\n- Excellent 4K quality\n\n### Crave ($7.99-$19.99 CAD/month)\nCanadian streaming leader:\n- HBO content exclusive\n- Max content\n- Showtime programming\n- Canadian originals\n- French content (Super cran)\n\n### Paramount+ ($5.99-$11.99 CAD/month)\nCBS and beyond:\n- NFL on CBS\n- Star Trek universe\n- Paramount movies\n- MTV/Comedy Central\n\n### Apple TV+ ($8.99 CAD/month)\nQuality originals:\n- Award-winning content\n- MLS Season Pass included\n- 4K quality standard\n- Family sharing\n\n### Hayu ($6.99 CAD/month)\nReality TV paradise:\n- Bravo content\n- Reality shows\n- Next-day episodes\n- NBCUniversal reality\n\n## Canadian-Only Options\n\n### CBC Gem (Free + Premium $4.99 CAD)\nCanadian public broadcaster:\n- CBC programming\n- Canadian classics\n- Live TV\n- News content\n- Free tier available\n\n### CTV.ca / Bell Fibe TV\nBell Media streaming:\n- CTV content\n- CTV originals\n- Live TV (with subscription)\n\n### Global TV\nCorus Entertainment:\n- Global network content\n- Reality shows\n- News programming\n\n### Stack TV ($12.99 CAD via Prime)\nCanadian channels bundle:\n- Global TV\n- HGTV Canada\n- Food Network Canada\n- W Network\n\n## Canadian Sports Streaming\n\n### Hockey (NHL)\n- TSN Direct: Regional games\n- Sportsnet NOW: National games\n- ESPN+ (VPN required)\n- Out-of-market: NHL.TV\n\n### Football (NFL)\n- DAZN: All games, NFL Sunday Ticket\n- TSN: Select games\n- CTV: Sunday games\n\n### Basketball (NBA/Raptors)\n- TSN: Raptors games\n- Sportsnet: Select national\n- NBA League Pass: Out-of-market\n\n### Soccer\n- Apple TV+: MLS\n- DAZN: Occasional content\n- TSN/Sportsnet: National team\n\n### Baseball (MLB/Blue Jays)\n- Sportsnet NOW: Blue Jays, national\n- Apple TV+: Friday games\n- MLB.TV: Out-of-market\n\n## Sports-Specific Services\n\n### TSN Direct ($19.99/month)\n- TSN 1-5\n- NHL regional\n- CFL\n- Tennis majors\n\n### Sportsnet NOW ($14.99-$34.99/month)\n- Sportsnet channels\n- NHL national\n- MLB\n- NBA\n\n### DAZN Canada ($24.99/month)\n- NFL Game Pass\n- Boxing\n- MMA events\n- Select soccer\n\n## French Language Streaming\n\n### TVA+ (Free)\n- TVA programming\n- Quebec content\n- French films\n\n### Crave (French)\n- Super cran content\n- French dubbing\n- Quebec originals\n\n### Club Illico ($9.99 CAD)\n- Videotron service\n- Quebec exclusives\n- French content\n\n## FAQ\n\n**Q: Why don't Canadians get HBO Max?**\nA: Crave has exclusive Canadian rights to HBO/Max content. It's included with Crave subscription.\n\n**Q: Can I use US streaming services?**\nA: US services often work but may have different libraries. Some require VPN.\n\n**Q: Best for hockey?**\nA: Sportsnet NOW for national games, TSN Direct for regional. Both needed for complete coverage.\n\nStream everything in Canada! Our fully loaded Fire Sticks work with all Canadian and international platforms.`,\n    category: \"Regional\",\n    featured: false,\n    published: true,\n    metaTitle: \"Best Streaming Services Canada 2025 | Complete Guide\",\n    metaDescription: \"Complete guide to streaming in Canada. Compare Crave, TSN, Sportsnet, and all major Canadian platforms.\",\n    keywords: [\"streaming canada\", \"best streaming services canada\", \"canadian streaming\", \"crave\", \"tsn streaming\", \"sportsnet streaming\"],\n    readTime: \"10 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Watch American TV Shows Abroad\",\n    slug: \"watch-american-tv-shows-abroad\",\n    excerpt: \"Missing your favorite American shows while traveling? Learn how to access US TV content from anywhere in the world.\",\n    content: `Traveling abroad and missing American TV? Here's how to stay connected to your favorite shows from anywhere.\n\n## Understanding Geo-Restrictions\n\n### Why Content is Blocked\n- Licensing agreements by region\n- Broadcasting rights\n- Content regulations\n- Pricing differences\n\n### What Gets Blocked\n- Netflix shows different library per country\n- Hulu is USA-only\n- Sports blackouts vary globally\n- HBO Max unavailable in many countries\n\n## Legal Ways to Watch\n\n### Download Before You Go\nMost streaming apps allow downloads:\n- Netflix: Up to 100 titles\n- Amazon Prime: Unlimited downloads\n- Disney+: Unlimited downloads\n- Hulu: Limited downloads (paid plans)\n\n**Tips:**\n- Download over Wi-Fi to save data\n- Downloads expire (usually 48 hours after starting)\n- Some content not available for download\n- Storage space needed\n\n### Travel-Friendly Services\n\n**Services Available Globally:**\n- Netflix (library varies)\n- Disney+ (most countries)\n- Amazon Prime (many countries)\n- Apple TV+ (100+ countries)\n\n**US-Only Services:**\n- Hulu\n- Peacock (full)\n- Paramount+ (varies)\n- ESPN+\n\n### Purchase Individual Episodes\nWhen streaming isn't available:\n- iTunes/Apple TV\n- Google Play\n- Amazon Video (purchase)\n- Vudu\n\n## VPN Considerations\n\n### What is VPN?\nVirtual Private Network encrypts your connection and can change your apparent location.\n\n### Important Notes\n- Violates most streaming terms of service\n- Services actively block VPNs\n- May affect account standing\n- Legal grey area in some countries\n\n### If You Choose to Use VPN\n- Research reliable providers\n- Check current functionality\n- Understand the risks\n- Have backup options\n\n## Country-Specific Tips\n\n### Europe\n- Many US shows on local streaming\n- BBC, ITV for UK content\n- Local Netflix libraries vary\n- Some US services launching\n\n### UK/Ireland\n- Similar content availability\n- Many US shows on Sky/NOW\n- Netflix library comparable\n- Some shows on Channel 4\n\n### Canada\n- Most US services available\n- Some content exclusive to Crave\n- Similar Netflix library\n- Sports different (TSN/Sportsnet)\n\n### Australia\n- Foxtel/BINGE for HBO\n- Stan for exclusive content\n- Netflix library different\n- Paramount+ available\n\n### Mexico/Latin America\n- HBO Max available\n- Star+ (Disney adult content)\n- Paramount+ available\n- Local Netflix libraries\n\n## Best Practices for Travelers\n\n### Before You Leave\n1. Download favorite shows\n2. Check what's available at destination\n3. Set up any needed accounts\n4. Note login credentials\n\n### While Traveling\n1. Connect to hotel Wi-Fi for streaming\n2. Use downloads when data limited\n3. Check local streaming options\n4. Keep devices charged\n\n### Extended Stays\n1. Consider local subscriptions\n2. Research local streaming landscape\n3. Check international plans\n4. Explore local content too!\n\n## FAQ\n\n**Q: Will my Netflix work abroad?**\nA: Yes, but you'll see the local country's library, not the US library.\n\n**Q: Can I keep my streaming subscriptions abroad?**\nA: Yes, subscriptions work globally but content libraries change.\n\n**Q: Best option for long-term expats?**\nA: Combine local subscriptions with international services for best coverage.\n\nStay connected to American TV anywhere! Our fully loaded Fire Sticks work globally with the right configuration.`,\n    category: \"Regional\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch American TV Abroad | Streaming Guide for Travelers\",\n    metaDescription: \"Learn how to watch American TV shows while traveling abroad. Tips for staying connected to US content anywhere in the world.\",\n    keywords: [\"watch american tv abroad\", \"us streaming abroad\", \"travel streaming\", \"streaming while traveling\", \"american shows overseas\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-3mo-2d\"]\n  }\n];\n\n// ============================================\n// PILLAR 7: SEASONAL & HOLIDAY (10 posts)\n// Target: \"christmas movies streaming\", \"super bowl streaming\"\n// ============================================\n\nconst pillar7_seasonal: BlogPost[] = [\n  {\n    title: \"Best Christmas Movies to Stream 2025: Holiday Movie Guide\",\n    slug: \"best-christmas-movies-stream-2025\",\n    excerpt: \"Get into the holiday spirit! Complete guide to the best Christmas movies streaming across all platforms in 2025.\",\n    content: `It's the most wonderful time of the year for holiday movies! Here's where to find all your Christmas favorites.\n\n## Classic Christmas Movies\n\n### The Essential Classics\nMovies you watch every year:\n- It's a Wonderful Life (1946)\n- Miracle on 34th Street (1947)\n- A Christmas Story (1983)\n- White Christmas (1954)\n- Home Alone series\n- Elf (2003)\n- National Lampoon's Christmas Vacation\n\n### Where to Watch Classics\n- Amazon Prime: Large classic collection\n- Netflix: Rotating selection\n- Disney+: Disney Christmas specials\n- Peacock: NBC holiday content\n- TCM/Cable: 24/7 holiday programming\n\n## Modern Christmas Favorites\n\n### Comedy\n- The Night Before\n- Office Christmas Party\n- Bad Santa\n- Four Christmases\n- Daddy's Home 2\n\n### Romance\n- The Holiday\n- Love Actually\n- Last Christmas\n- Holidate\n- Single All the Way\n\n### Family\n- The Polar Express\n- Arthur Christmas\n- Klaus\n- The Santa Clause series\n- How the Grinch Stole Christmas\n\n### Action (Yes, They're Christmas Movies!)\n- Die Hard\n- Lethal Weapon\n- Kiss Kiss Bang Bang\n- Iron Man 3\n\n## Streaming Platform Holiday Content\n\n### Netflix\n- Netflix Christmas movie universe\n- International holiday films\n- Animated holiday specials\n- Limited series\n\n### Disney+\n- Mickey's Christmas specials\n- Disney Channel holiday movies\n- Pixar shorts\n- Classic animation\n\n### Amazon Prime\n- Extensive classic library\n- Original holiday content\n- Add-on channel content\n- Free with Prime\n\n### Hallmark Channel (Peacock/Frndly)\n- Countdown to Christmas movies\n- New releases weekly\n- Classic Hallmark originals\n- 24/7 holiday programming\n\n### Max\n- Harry Potter marathon\n- Holiday originals\n- Warner Bros classics\n- Animated specials\n\n## Create the Perfect Movie Marathon\n\n### Classic Day\n1. It's a Wonderful Life (3 hours)\n2. White Christmas (2 hours)\n3. Miracle on 34th Street (1.5 hours)\n4. A Christmas Carol (any version)\n\n### Comedy Day\n1. Elf (1.5 hours)\n2. Home Alone 1 & 2 (3.5 hours)\n3. Christmas Vacation (1.5 hours)\n4. The Santa Clause (1.5 hours)\n\n### Kids Day\n1. The Polar Express\n2. How the Grinch Stole Christmas\n3. Rudolph (animated)\n4. Frosty the Snowman\n5. A Charlie Brown Christmas\n\n### Date Night\n1. The Holiday\n2. Love Actually\n3. While You Were Sleeping\n4. Serendipity\n\n## New Christmas Movies 2025\n\n### Streaming Exclusives\nCheck these platforms for new releases:\n- Netflix: Multiple new originals\n- Disney+: Marvel/Star Wars holiday specials\n- Apple TV+: New family content\n- Amazon: Prime Video exclusives\n\n### Theatrical to Streaming\nWatch for holiday releases hitting streaming:\n- Major studio releases\n- Animated features\n- Family comedies\n- Action blockbusters\n\n## FAQ\n\n**Q: Where can I watch Hallmark Christmas movies?**\nA: Peacock, Frndly TV, or Hallmark Channel app (with cable/live TV subscription).\n\n**Q: Is Die Hard a Christmas movie?**\nA: It takes place at Christmas, so... yes! Available on Disney+ (via 20th Century).\n\n**Q: Best for kids?**\nA: Disney+ has the most comprehensive kid-friendly holiday content.\n\n**Q: Free Christmas movie options?**\nA: Pluto TV, Tubi, and Peacock free tier all have holiday selections.\n\nMake this holiday season magical! Our fully loaded Fire Sticks include all platforms for unlimited Christmas movie access.`,\n    category: \"Seasonal\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best Christmas Movies to Stream 2025 | Holiday Movie Guide\",\n    metaDescription: \"Find the best Christmas movies streaming in 2025. Complete guide to holiday films across Netflix, Disney+, and all platforms.\",\n    keywords: [\"christmas movies streaming\", \"holiday movies 2025\", \"best christmas movies\", \"where to watch christmas movies\", \"holiday streaming guide\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1mo-2d\"]\n  },\n  {\n    title: \"How to Stream the Super Bowl 2025: Complete Guide\",\n    slug: \"stream-super-bowl-2025-guide\",\n    excerpt: \"Don't miss the big game! Complete guide to streaming Super Bowl 2025 on any device, including free options.\",\n    content: `Super Bowl is the biggest sporting event of the year. Here's every way to watch the 2025 Super Bowl.\n\n## Super Bowl 2025 Basics\n\n### Game Information\n- Date: February 2025\n- Network: CBS (rotating annually)\n- Kickoff: ~6:30 PM ET\n- Halftime: Major musical performance\n\n### What You'll Get\n- Pre-game coverage (hours of analysis)\n- The game itself\n- Halftime show\n- Post-game celebration\n- Those famous commercials!\n\n## Free Ways to Watch\n\n### Over-the-Air Antenna\nThe Super Bowl is broadcast free:\n- Get a digital antenna ($20-50)\n- Scan for local CBS affiliate\n- Full HD quality\n- 100% free and legal\n\n### Network Apps (Free with Cable Login)\n- CBS/Paramount+ app\n- May require cable credentials\n- Sometimes free for Super Bowl\n\n### Free Trials\nStart trials right before the game:\n- Paramount+ (7-day trial)\n- YouTube TV (trial available)\n- Hulu + Live TV (trial available)\n\n## Streaming Options\n\n### Paramount+ ($5.99/month)\nOfficial CBS streaming:\n- Full game live\n- Pre and post coverage\n- Mobile and TV apps\n- Free trial available\n\n### YouTube TV ($72.99/month)\nLive TV streaming:\n- CBS included\n- DVR the game\n- Free trial sometimes\n- No contract\n\n### Hulu + Live TV ($76.99/month)\nAll-in-one package:\n- CBS included\n- ESPN for coverage\n- DVR capability\n- Disney+ bundle available\n\n### Fubo TV ($74.99/month)\nSports-focused streaming:\n- CBS included\n- Great for sports fans\n- 4K available (select markets)\n- Free trial available\n\n### DirectTV Stream ($64.99/month)\nAT&T's streaming option:\n- CBS included\n- NFL Network\n- No contract required\n- Cloud DVR\n\n## Watch on Fire Stick\n\n### Setup Steps\n1. Ensure Fire Stick is updated\n2. Download streaming app (Paramount+, YouTube TV, etc.)\n3. Subscribe/sign in\n4. Navigate to CBS or NFL\n5. Enjoy in 4K where available\n\n### Best Fire Stick for Super Bowl\n- Fire Stick 4K Max: Best quality\n- Fire Stick 4K: Great value 4K\n- Fire Stick HD: Budget option (1080p)\n\n## Super Bowl Party Streaming Tips\n\n### Prepare in Advance\n- Test streaming 24 hours before\n- Check internet speed (25+ Mbps)\n- Update all apps\n- Have backup options ready\n\n### Reduce Buffering\n- Use ethernet adapter for stability\n- Close other streaming devices\n- Consider hotspot backup\n- Reboot router day before\n\n### Audio for Groups\n- Connect to soundbar/receiver\n- Increase volume for crowd\n- Consider Bluetooth speakers\n- Test audio before guests arrive\n\n## Alternative Coverage\n\n### Radio Streaming\n- TuneIn Radio app\n- Westwood One broadcast\n- Local radio simulcast\n\n### International\n- NFL Game Pass (international)\n- DAZN (some countries)\n- Sky Sports (UK)\n- TSN (Canada)\n\n## Halftime Show Streaming\n\n### If You Only Want Halftime\n- Usually streams everywhere\n- YouTube clips immediately after\n- Social media live coverage\n- Music apps highlight songs\n\n## FAQ\n\n**Q: Can I really watch for free?**\nA: Yes! Over-the-air antenna is free, and many streaming services offer free trials.\n\n**Q: What internet speed do I need?**\nA: Minimum 10 Mbps for HD, 25+ Mbps for 4K and multiple devices.\n\n**Q: Will there be streaming delays?**\nA: Streaming is typically 30-60 seconds behind cable/antenna. Avoid social media for spoiler-free viewing.\n\n**Q: Best quality stream?**\nA: Paramount+ or YouTube TV with 4K option offer the best quality.\n\nWatch the big game on any screen! Our fully loaded Fire Sticks include all major streaming platforms for Super Bowl access.`,\n    category: \"Seasonal\",\n    featured: false,\n    published: true,\n    metaTitle: \"Stream Super Bowl 2025 | Complete Viewing Guide\",\n    metaDescription: \"Complete guide to streaming Super Bowl 2025. Free options, paid services, and tips for the best viewing experience.\",\n    keywords: [\"stream super bowl\", \"super bowl streaming\", \"watch super bowl online\", \"super bowl 2025\", \"free super bowl stream\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\", \"iptv-1mo-2d\"]\n  },\n  {\n    title: \"Summer Blockbuster Streaming Guide 2025\",\n    slug: \"summer-blockbuster-streaming-guide-2025\",\n    excerpt: \"Can't make it to theaters? Track when summer blockbusters hit streaming and how to watch them at home.\",\n    content: `Summer movie season means blockbusters! Here's when to expect theatrical releases on streaming platforms.\n\n## Understanding Release Windows\n\n### Typical Timeline\n- Week 1-6: Theatrical exclusive\n- Week 7-8: Premium VOD ($20-30 rental)\n- Week 10-12: Standard VOD ($6-7 rental)\n- Week 14-18: Streaming inclusion\n\n### Studio-Specific Patterns\n\n**Disney/Marvel/Pixar**\n- 45-90 days to Disney+\n- Sometimes simultaneous (Premier Access)\n- 4K/HDR quality\n\n**Warner Bros/DC**\n- 45 days to Max\n- Some day-and-date releases\n- Premium quality\n\n**Universal**\n- 17 days to PVOD (theaters meeting threshold)\n- Peacock exclusive 45-60 days\n- Varies by title\n\n**Sony**\n- Netflix deal for post-theatrical\n- 18-month window before Netflix\n- First to Starz then Netflix\n\n**Paramount**\n- 30-45 days to Paramount+\n- Some Mission Impossible exclusives\n- Growing streaming focus\n\n## Summer 2025 Anticipated Releases\n\n### Action/Adventure\n- Marvel sequels\n- DC projects\n- Mission: Impossible films\n- Fast & Furious family\n\n### Animation\n- Pixar originals\n- Illumination releases\n- DreamWorks adventures\n- Disney animation\n\n### Horror/Thriller\n- A24 releases\n- Blumhouse productions\n- Legacy sequels\n- Original concepts\n\n### Comedy\n- R-rated comedies\n- Family comedies\n- Star vehicle films\n- Ensemble pieces\n\n## Watch from Home Strategies\n\n### PVOD (Premium Video On Demand)\nPay $20-30 to watch early:\n- 48-hour rental window\n- 4K quality available\n- Cheaper than theater for groups\n- Apple TV, Amazon, Vudu, Google\n\n### Wait for Streaming\nPatience pays off:\n- Usually 3-4 months wait\n- Included with subscription\n- Unlimited rewatching\n- Often better quality than theater\n\n### Hybrid Approach\n- See must-sees in theater\n- PVOD for event films at home\n- Wait for standard streaming for rest\n\n## Creating Theater Experience at Home\n\n### Visual Setup\n- 65\"+ 4K TV or projector\n- Blackout curtains\n- Calibrated picture settings\n- HDR enabled if available\n\n### Audio Setup\n- Soundbar with subwoofer minimum\n- 5.1 surround ideal\n- Atmos for premium experience\n- Volume at theater levels\n\n### Ambiance\n- Dim lighting\n- Comfortable seating\n- Popcorn and snacks\n- Phones silenced\n\n## FAQ\n\n**Q: When will [specific movie] be streaming?**\nA: Check studio patterns above. Most summer blockbusters stream within 90 days.\n\n**Q: Is PVOD worth $20+?**\nA: For family viewing (4+ people), it's cheaper than theater tickets.\n\n**Q: Best quality for blockbusters?**\nA: Apple TV 4K and Fire Stick 4K Max offer best streaming quality for big movies.\n\nEnjoy summer blockbusters at home! Our fully loaded Fire Sticks offer the ultimate movie experience with 4K quality and all major platforms.`,\n    category: \"Seasonal\",\n    featured: false,\n    published: true,\n    metaTitle: \"Summer Blockbuster Streaming Guide 2025\",\n    metaDescription: \"Track when summer blockbusters hit streaming in 2025. Timeline for theatrical to streaming releases across all platforms.\",\n    keywords: [\"summer movies streaming\", \"blockbuster streaming\", \"when movies stream\", \"summer 2025 movies\", \"theatrical to streaming\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  }\n];\n\n// ============================================\n// PILLAR 8: VPN & PRIVACY (10 posts)\n// Target: \"streaming vpn\", \"privacy streaming\"\n// ============================================\n\nconst pillar8_privacy: BlogPost[] = [\n  {\n    title: \"VPN for Streaming: Complete Guide 2025\",\n    slug: \"vpn-streaming-guide-2025\",\n    excerpt: \"Thinking about using a VPN for streaming? Understand the benefits, risks, and how VPNs work with streaming services.\",\n    content: `VPNs are often discussed for streaming. Here's what you need to know about VPN usage in 2025.\n\n## What is a VPN?\n\n### Basic Explanation\nA Virtual Private Network:\n- Encrypts your internet connection\n- Routes traffic through remote servers\n- Masks your IP address\n- Can change your apparent location\n\n### How VPNs Work\n1. You connect to VPN app\n2. Traffic encrypted on your device\n3. Sent to VPN server (your chosen location)\n4. VPN server accesses internet\n5. Returns data to you encrypted\n\n## VPN for Privacy\n\n### Legitimate Privacy Uses\n- Protect on public Wi-Fi\n- Prevent ISP tracking\n- Secure sensitive activities\n- Avoid targeted advertising\n- Protect from hackers\n\n### Streaming Privacy\n- Hide viewing habits from ISP\n- Prevent throttling\n- Secure hotel/coffee shop streaming\n- Protect payment information\n\n## VPN and Geo-Restrictions\n\n### The Appeal\n- Access different content libraries\n- Watch while traveling\n- Unlock region-locked content\n\n### The Reality\n- Violates most streaming ToS\n- Services actively block VPNs\n- Can result in account suspension\n- Cat-and-mouse game\n\n### What Services Do\n- Block known VPN IP addresses\n- Use location verification\n- Require payment from local region\n- Suspend accounts for violations\n\n## VPN Considerations\n\n### Pros\n- Enhanced privacy\n- Protection on public networks\n- Potential access to more content\n- ISP can't throttle specific services\n\n### Cons\n- Slower connection speeds\n- Monthly subscription cost\n- May not work with all services\n- Account risk if violating ToS\n\n## Alternatives to VPN\n\n### Legal Options for More Content\nInstead of VPN, consider:\n\n**Fully Loaded Fire Stick**\n- Pre-configured streaming access\n- Live TV from multiple regions\n- No VPN complexity\n- Legal and simple\n\n**Multiple Subscriptions**\n- Subscribe to services in your region\n- Rotating services monthly\n- Free trial optimization\n\n**Purchase/Rent Content**\n- Buy individual titles\n- Rent through VOD services\n- No geographic restrictions\n\n## Choosing a VPN (If You Decide To)\n\n### Factors to Consider\n- Speed (critical for streaming)\n- Server locations\n- Streaming compatibility\n- Privacy policy\n- Price\n\n### Common VPN Providers\n- ExpressVPN (premium)\n- NordVPN (popular)\n- Surfshark (budget)\n- CyberGhost (streaming focus)\n- Private Internet Access (privacy focus)\n\n## Fire Stick and VPN\n\n### Installing VPN on Fire Stick\n1. Subscribe to VPN service\n2. Download VPN app from Amazon\n3. Or sideload if not available\n4. Sign in and connect\n5. Use as normal\n\n### Considerations\n- May slow streaming\n- Some apps detect and block\n- Battery/performance impact\n- Extra complexity\n\n## FAQ\n\n**Q: Is using VPN for streaming illegal?**\nA: Generally not illegal, but usually violates streaming service terms of service.\n\n**Q: Will my account get banned?**\nA: Possible. Most services block access rather than banning, but repeated attempts could risk account.\n\n**Q: Do VPNs always work?**\nA: No. Streaming services actively block VPNs, so functionality varies.\n\n**Q: Best VPN for streaming?**\nA: If choosing one, look for fast speeds and streaming-optimized servers. Results vary.\n\nFor reliable streaming without VPN complexity, our fully loaded Fire Sticks include comprehensive content access with simple setup.`,\n    category: \"Privacy\",\n    featured: true,\n    published: true,\n    metaTitle: \"VPN for Streaming Guide 2025 | Complete Overview\",\n    metaDescription: \"Complete guide to using VPN for streaming. Understand benefits, risks, and alternatives for accessing streaming content.\",\n    keywords: [\"vpn streaming\", \"streaming vpn guide\", \"vpn for fire stick\", \"streaming privacy\", \"vpn geo blocking\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Protect Your Privacy While Streaming\",\n    slug: \"protect-privacy-streaming\",\n    excerpt: \"Streaming services collect data about you. Learn how to protect your privacy while enjoying your favorite content.\",\n    content: `Streaming services know a lot about you. Here's how to protect your privacy while still enjoying content.\n\n## What Streaming Services Track\n\n### Viewing Data\n- Everything you watch\n- How long you watch\n- When you pause/skip\n- What you rewatch\n- Ratings and reviews\n\n### Device Information\n- Device type and model\n- Operating system\n- IP address (location)\n- Network information\n- Browser details\n\n### Account Data\n- Payment information\n- Email and contact info\n- Watch history\n- Preferences\n- Profile data\n\n## Why This Matters\n\n### Data Uses\n- Recommendation algorithms\n- Targeted advertising\n- Licensing decisions\n- Content development\n- Third-party sharing\n\n### Privacy Concerns\n- Viewing habits reveal personal interests\n- Data breaches expose information\n- Targeted advertising follows you\n- Profile building across services\n\n## Privacy Protection Strategies\n\n### Account-Level Protection\n\n**Use Separate Email**\n- Create email just for streaming\n- Keeps viewing separate from main email\n- Reduces cross-platform tracking\n\n**Limit Personal Information**\n- Use nickname for profiles\n- Minimal info in account settings\n- Different passwords per service\n- Consider prepaid payment options\n\n**Regular Account Audits**\n- Review connected apps\n- Check sharing settings\n- Download your data periodically\n- Delete old accounts\n\n### Device-Level Protection\n\n**Fire Stick Privacy Settings**\n1. Settings > Preferences > Privacy Settings\n2. Disable Device Usage Data\n3. Disable Collect App Usage Data\n4. Disable Interest-based Ads\n\n**Network Protection**\n- Use secure home Wi-Fi\n- Enable WPA3 encryption\n- Consider router-level protection\n- Be cautious on public Wi-Fi\n\n### Service-Level Protection\n\n**Platform Settings**\nEach service has privacy controls:\n- Netflix: Privacy settings in account\n- Disney+: Profile and data settings\n- Amazon: Advertising preferences\n- YouTube: History and ad settings\n\n**What to Disable**\n- Viewing history sharing\n- Third-party data sharing\n- Personalized advertising\n- Social sharing features\n\n## Fire Stick Specific Privacy\n\n### Disable Data Collection\n1. Settings > Preferences\n2. Privacy Settings\n3. Toggle off:\n   - Device Usage Data\n   - Collect App Usage Data\n   - Interest-based Ads\n\n### Limit Alexa Data\n1. Settings > Preferences\n2. Privacy Settings\n3. Manage Voice History\n4. Delete recordings\n\n### Clear Data Regularly\n- Clear app caches\n- Delete unused apps\n- Review app permissions\n- Factory reset before selling\n\n## Password Security\n\n### Best Practices\n- Unique password per service\n- Use password manager\n- Enable two-factor authentication\n- Never share login credentials\n- Change passwords regularly\n\n### Avoiding Account Sharing Risks\n- Shared accounts share data\n- Others can see your viewing\n- Multiple devices tracked together\n- Consider separate profiles minimum\n\n## FAQ\n\n**Q: Can I completely hide my viewing?**\nA: Not entirely, but you can minimize data collection significantly.\n\n**Q: Do privacy settings affect recommendations?**\nA: Yes, less data means less personalized recommendations.\n\n**Q: Should I worry about streaming privacy?**\nA: Moderate concern is healthy. Take basic precautions without paranoia.\n\n**Q: Is incognito mode helpful?**\nA: Only for web-based streaming. Apps bypass incognito mode.\n\nStream with peace of mind! Our fully loaded Fire Sticks can be configured for maximum privacy while providing excellent content access.`,\n    category: \"Privacy\",\n    featured: false,\n    published: true,\n    metaTitle: \"Protect Privacy While Streaming | Complete Guide\",\n    metaDescription: \"Learn how to protect your privacy while streaming. Tips for Fire Stick settings, account protection, and data security.\",\n    keywords: [\"streaming privacy\", \"protect privacy streaming\", \"fire stick privacy\", \"streaming data collection\", \"private streaming\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  }\n];\n\n// ============================================\n// PILLAR 9: INTERNATIONAL CONTENT (8 posts)\n// Target: \"international streaming\", \"foreign films\", \"subtitles\"\n// ============================================\n\nconst pillar9_international: BlogPost[] = [\n  {\n    title: \"Best International Shows on Streaming 2025\",\n    slug: \"best-international-shows-streaming-2025\",\n    excerpt: \"Discover the best international TV shows from around the world. From Korean dramas to Spanish thrillers, expand your viewing.\",\n    content: `The best TV isn't limited to Hollywood. Here's your guide to incredible international content on streaming.\n\n## Top International Shows by Region\n\n### South Korea (K-Dramas)\nKorean content dominates global streaming:\n- Romance dramas\n- Thriller series\n- Historical epics\n- Reality dating shows\n\n**Where to Watch:**\n- Netflix (largest K-drama library)\n- Viki (specialized platform)\n- Kocowa (Korean content focus)\n- Disney+ (selected titles)\n\n### Spain (Spanish Series)\nSpanish-language content excellence:\n- Money Heist legacy\n- Elite teen drama\n- Thriller mysteries\n- Historical series\n\n**Where to Watch:**\n- Netflix (extensive library)\n- Amazon Prime Video\n- HBO Max/Max\n- Disney+ Star\n\n### United Kingdom\nBritish television excellence:\n- Prestige dramas\n- Procedural mysteries\n- Comedy series\n- Period pieces\n\n**Where to Watch:**\n- BritBox (specialized)\n- BBC iPlayer (UK)\n- Acorn TV (mysteries)\n- Netflix/Amazon (selected)\n\n### France\nFrench storytelling:\n- Crime thrillers\n- Political dramas\n- Romantic series\n- Art house content\n\n**Where to Watch:**\n- Netflix (growing library)\n- Amazon Prime Video\n- Mubi (art house)\n- MHz Choice (specialized)\n\n### Japan\nJapanese entertainment:\n- Anime series\n- Live-action dramas\n- Reality shows\n- Historical content\n\n**Where to Watch:**\n- Crunchyroll (anime)\n- Netflix (broad selection)\n- Viki (dramas)\n- Amazon Prime Video\n\n### Germany\nGerman productions:\n- Crime procedurals\n- Historical dramas\n- Political thrillers\n- Mystery series\n\n**Where to Watch:**\n- Netflix (Dark, other originals)\n- Amazon Prime Video\n- MhZ Choice\n- Topic (European content)\n\n### India\nBollywood and beyond:\n- Epic dramas\n- Crime thrillers\n- Family sagas\n- Regional content\n\n**Where to Watch:**\n- Netflix (growing Indian library)\n- Amazon Prime Video (substantial)\n- Disney+ Hotstar\n- ZEE5\n\n### Scandinavia (Nordic Noir)\nDark, atmospheric storytelling:\n- Crime dramas\n- Psychological thrillers\n- Political intrigue\n- Family mysteries\n\n**Where to Watch:**\n- Netflix (strong selection)\n- Amazon Prime Video\n- Topic (specialized)\n- Viaplay (direct from source)\n\n## Getting Started with International TV\n\n### For Beginners\nStart with accessible shows:\n- English-speaking foreign shows (UK, Australia)\n- Action-heavy shows (less dialogue dependent)\n- Shows with cultural touchpoints\n- Popular hits (social proof)\n\n### Subtitle Tips\n- Keep subtitles at comfortable size\n- Reduce distractions while watching\n- Pause if needed\n- You'll read faster over time\n- Some prefer dubs (that's okay!)\n\n### Dub vs Sub Debate\n**Subtitles (Sub)**\n- Original performances\n- Authentic emotion\n- Better lip sync\n- Cultural authenticity\n\n**Dubbed (Dub)**\n- Easier to follow\n- Good for multitasking\n- Quality has improved\n- Personal preference is valid\n\n## Hidden Gem Discoveries\n\n### How to Find Them\n- Check international sections\n- Follow critics globally\n- Join fan communities\n- Festival award winners\n- \"More Like This\" features\n\n### Platforms for Discovery\n- Mubi (curated art house)\n- Criterion Channel (classic world cinema)\n- Topic (European focus)\n- Netflix's country categories\n\n## FAQ\n\n**Q: Best platform for international content?**\nA: Netflix has the broadest selection. Specialized services offer deeper libraries.\n\n**Q: Will I like subtitles?**\nA: Most people adapt quickly. Give yourself 2-3 episodes to adjust.\n\n**Q: Best starting K-drama?**\nA: Start with widely popular series for accessible entry points.\n\n**Q: Are dubs disrespectful to creators?**\nA: No! Creators want their work seen. Watch however you enjoy most.\n\nExplore global entertainment! Our fully loaded Fire Sticks include access to international content across all major platforms.`,\n    category: \"International\",\n    featured: true,\n    published: true,\n    metaTitle: \"Best International Shows Streaming 2025 | Global TV Guide\",\n    metaDescription: \"Discover the best international TV shows on streaming. Korean dramas, Spanish thrillers, and global content guide.\",\n    keywords: [\"international shows streaming\", \"foreign tv shows\", \"kdrama streaming\", \"international streaming\", \"global tv shows\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-6mo-2d\"]\n  },\n  {\n    title: \"How to Watch Movies with Subtitles: Complete Guide\",\n    slug: \"watch-movies-subtitles-guide\",\n    excerpt: \"New to subtitles? Learn how to enjoy foreign films and shows with our complete subtitle guide.\",\n    content: `Subtitles open up a world of incredible content. Here's how to make the most of subtitle viewing.\n\n## Why Watch with Subtitles?\n\n### Benefits\n- Access to world cinema\n- Original performances preserved\n- Cultural authenticity\n- Language learning opportunity\n- Better dialogue comprehension\n- Accessibility for hearing impaired\n\n### What You're Missing Without\n- Award-winning foreign films\n- K-drama phenomenon\n- European thrillers\n- Anime originals\n- International documentaries\n\n## Getting Comfortable with Subtitles\n\n### The Adjustment Period\n- First few shows feel awkward\n- Reading speed improves quickly\n- Brain adapts to multitasking\n- Usually comfortable after 3-4 shows\n\n### Tips for Beginners\n1. Start with dialogue-light content (action, thriller)\n2. Reduce distractions\n3. Sit closer to screen initially\n4. Take breaks if eyes tire\n5. Don't stress about catching every word\n\n### Optimize Your Setup\n- Larger screen helps\n- Good contrast subtitles\n- Comfortable viewing distance\n- Pause button accessible\n- Quiet environment\n\n## Subtitle Settings\n\n### Netflix\n1. Start playing content\n2. Select dialogue bubble icon\n3. Choose subtitle language\n4. Adjust appearance in Settings\n\n**Customization:**\n- Font size\n- Font color\n- Background opacity\n- Font style\n\n### Disney+\n1. Play content\n2. Click subtitles icon\n3. Select language\n4. Access settings for customization\n\n### Amazon Prime\n1. Play content\n2. Click subtitles/CC\n3. Choose from available options\n4. Subtitle settings in account\n\n### Fire Stick System Level\n1. Settings > Accessibility\n2. Subtitles\n3. Customize appearance\n4. Set default preferences\n\n## Types of Subtitles\n\n### Standard Subtitles\n- Translation of dialogue only\n- Most common for foreign content\n- Focus on spoken words\n\n### Closed Captions (CC)\n- Includes sound descriptions\n- [music playing], [door slams]\n- Designed for hearing impaired\n- More comprehensive\n\n### SDH (Subtitles for Deaf/Hard of Hearing)\n- Combines CC features with subtitle format\n- Speaker identification\n- Sound effect notation\n- Comprehensive accessibility\n\n### Forced Subtitles\n- Only foreign language portions\n- Used when content switches languages\n- Common in multilingual films\n\n## Common Subtitle Issues\n\n### Subtitles Out of Sync\n- Restart the content\n- Update streaming app\n- Clear app cache\n- Try different quality\n- Report the issue\n\n### Missing Subtitles\n- Check if available for language\n- Some content has limited options\n- Try different service\n- Fan subtitles (not official)\n\n### Poor Quality Translation\n- Report to streaming service\n- Try different subtitle track\n- Some languages have multiple options\n- Live with imperfection sometimes\n\n## Language Learning with Subtitles\n\n### Effective Methods\n- Watch with target language subtitles\n- Watch with native + target together\n- Increase difficulty over time\n- Rewatch without subtitles\n\n### Recommended Approach\n1. First watch: Native language subtitles\n2. Second watch: Target language subtitles\n3. Third watch: No subtitles\n4. Note vocabulary and phrases\n\n## FAQ\n\n**Q: Will I ever not need to focus on reading?**\nA: Yes! Experienced subtitle viewers read almost automatically.\n\n**Q: Sub or dub for anime?**\nA: Personal preference. Sub preserves original voice acting; dub is more accessible.\n\n**Q: Best content to start with?**\nA: Try action/thriller genres where visual storytelling carries much of the narrative.\n\n**Q: Why are subtitle timings sometimes off?**\nA: Usually streaming encoding issues. Restart or try different quality setting.\n\nDiscover world cinema! Our fully loaded Fire Sticks include customizable subtitle settings for the perfect viewing experience.`,\n    category: \"International\",\n    featured: false,\n    published: true,\n    metaTitle: \"How to Watch Movies with Subtitles | Complete Guide\",\n    metaDescription: \"New to subtitles? Learn how to enjoy foreign films and international shows with our complete subtitle guide.\",\n    keywords: [\"watch with subtitles\", \"subtitle streaming\", \"foreign film subtitles\", \"subtitle settings\", \"streaming subtitles\"],\n    readTime: \"7 min read\",\n    linkedProductIds: [\"fs-4k\", \"fs-max\"]\n  }\n];\n\n// ============================================\n// PILLAR 10: MORE SPORTS CONTENT (15 posts)\n// Target: F1, NASCAR, MLB, Golf, Tennis, Cricket, Rugby\n// ============================================\n\nconst pillar10_moreSports: BlogPost[] = [\n  {\n    title: \"How to Watch Formula 1 Racing Live Stream 2025\",\n    slug: \"watch-formula-1-f1-live-stream-2025\",\n    excerpt: \"Complete guide to streaming Formula 1 in 2025. Watch every race, qualifying, and practice session from anywhere.\",\n    content: `Formula 1 is more popular than ever. Here's how to catch every race in the 2025 season.\n\n## F1 Streaming Overview\n\n### Official Options by Region\n\n**United States**\n- ESPN (most races included with cable)\n- ESPN+ (select coverage)\n- F1 TV Pro ($79.99/year) - All sessions, no commentary blackouts\n\n**United Kingdom**\n- Sky Sports F1 (primary broadcaster)\n- Channel 4 (highlights, select live races)\n- NOW Sports (streaming Sky)\n\n**Canada**\n- TSN (primary broadcaster)\n- RDS (French coverage)\n- F1 TV Pro available\n\n### F1 TV Pro\nOfficial streaming from Formula 1:\n- Every practice, qualifying, race\n- 20 onboard cameras\n- Full radio communications\n- Multiple commentary options\n- Race replay archive\n- $79.99/year or $10.99/month\n\n## 2025 Race Calendar\n\n### European Races\n- Australian GP (season opener)\n- Bahrain GP\n- Saudi Arabian GP\n- Miami GP\n- Emilia Romagna GP (Italy)\n- Monaco GP\n- Spanish GP\n- Canadian GP\n- And more...\n\n### Time Zone Challenges\n- European races: Morning in Americas\n- Asian races: Late night/early morning\n- Americas races: Afternoon/evening\n\n### Planning Tips\n- Set recording on DVR/cloud\n- Avoid social media for spoilers\n- Watch highlights if time-constrained\n- Join watch parties for late races\n\n## What to Watch\n\n### Race Weekend Schedule\n- **Friday:** Practice 1 & 2 (1 hour each)\n- **Saturday:** Practice 3 + Qualifying\n- **Sunday:** Race (2 hours typically)\n\n### Sprint Weekends\nSelected weekends have sprint format:\n- Friday: Qualifying + Sprint Qualifying\n- Saturday: Sprint Race\n- Sunday: Main Race\n\n### Most Exciting Sessions\n1. Race (obvious)\n2. Qualifying (determines grid)\n3. Final practice (race pace revealed)\n\n## Streaming F1 on Fire Stick\n\n### Options\n- ESPN app (with cable login)\n- F1 TV app (subscription)\n- Sky Sports app (UK)\n- Sling TV with ESPN\n- YouTube TV with ESPN\n\n### Setup Steps\n1. Download preferred app\n2. Subscribe/log in\n3. Navigate to F1 section\n4. Set reminders for races\n5. Enable DVR for replays\n\n## Save Money on F1\n\n### Best Value Options\n- ESPN with cable/streaming package\n- F1 TV Pro yearly subscription\n- Free highlights on YouTube\n\n### Free F1 Content\n- Official F1 YouTube highlights\n- Social media clips\n- Podcast analysis\n- News coverage\n\n## F1 Companion Content\n\n### Documentaries\n- Drive to Survive (Netflix)\n- F1 archive documentaries\n- Team features\n\n### YouTube Channels\n- Official F1 channel\n- Tech analysis channels\n- Driver vlogs\n- Classic race uploads\n\n### Podcasts\n- Official F1 podcast\n- Beyond the Grid\n- Various fan podcasts\n\n## FAQ\n\n**Q: Is F1 TV worth it?**\nA: If you're serious about F1, the onboard cameras and full access make it worthwhile.\n\n**Q: Best for casual fan?**\nA: ESPN with cable/streaming is most cost-effective for US viewers.\n\n**Q: Can I watch old races?**\nA: F1 TV Pro includes complete archive. YouTube has classic races too.\n\nNever miss a lap! Our fully loaded Fire Sticks include live F1 coverage from around the world.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Formula 1 Live Stream 2025 | F1 Racing Guide\",\n    metaDescription: \"Complete guide to streaming F1 in 2025. Watch every race, qualifying, and practice session from any device.\",\n    keywords: [\"f1 live stream\", \"formula 1 streaming\", \"watch f1 online\", \"f1 2025\", \"f1 tv\", \"formula 1 2025 streaming\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Watch MLB Baseball Live Stream 2025\",\n    slug: \"watch-mlb-baseball-live-stream-2025\",\n    excerpt: \"Stream every MLB game in 2025. Complete guide to watching baseball online including free options.\",\n    content: `Baseball is back! Here's how to catch every pitch of the 2025 MLB season.\n\n## MLB Streaming Options\n\n### MLB.TV ($24.99/month or $149.99/year)\nOfficial streaming service:\n- Every out-of-market game\n- Home and away feeds\n- DVR functionality\n- Multi-game viewing\n- Blackout restrictions apply\n\n### ESPN+\n- MLB games included\n- Sunday showcase games\n- Integrated with ESPN app\n- Good supplementary option\n\n### Apple TV+\n- Friday Night Baseball (free for subscribers)\n- High production quality\n- International access\n- No local blackouts\n\n### YouTube\n- Select Sunday games\n- Free to watch\n- Quality broadcasts\n- Limited selection\n\n## Free Ways to Watch\n\n### Over-the-Air\n- Fox Saturday games\n- ABC Sunday games\n- Local team broadcasts\n- Antenna required\n\n### Free Trials\n- MLB.TV free trials\n- Streaming service trials\n- Cable replacement trials\n\n### Team Apps\n- Some teams offer free streaming\n- Usually limited/radio only\n- Check your team's app\n\n## Local Team Access\n\n### The Blackout Problem\nMLB.TV blacks out local games due to cable rights.\n\n### Solutions\n- Cable/satellite subscription\n- YouTube TV, Hulu Live (varies by market)\n- Bally Sports (regional sports network)\n- Fubo TV (some markets)\n\n### Check Your Market\n- Local blackout rules vary\n- Some teams on Apple TV+\n- Regional sports complicated\n\n## MLB Network\n\n### What's Included\n- Live look-ins\n- Analysis shows\n- Classic games\n- Select live games\n\n### How to Get It\n- Cable/satellite packages\n- YouTube TV ($72.99/month)\n- Fubo TV ($74.99/month)\n- MLB.TV doesn't include it\n\n## Best Devices for Baseball\n\n### Fire Stick Advantages\n- All streaming apps available\n- Picture-in-picture for multi-game\n- Low latency for live sports\n- 4K quality on compatible models\n\n### Optimal Settings\n- Enable game mode on TV\n- Use ethernet for stability\n- Close background apps\n- Set quality to highest stable\n\n## 2025 Season Key Dates\n\n### Regular Season\n- Opening Day: Late March\n- All-Star Break: Mid-July\n- Regular season end: Late September\n\n### Postseason\n- Wild Card: Early October\n- Division Series: October\n- Championship Series: October\n- World Series: Late October\n\n## Multi-Screen Viewing\n\n### MLB.TV Mosaic\n- Watch 4 games simultaneously\n- Split screen options\n- Audio selection per game\n- Best for fantasy players\n\n### Fire Stick Options\n- Picture-in-picture\n- Switch between games\n- Alerts for scoring\n\n## FAQ\n\n**Q: Why can't I watch my local team on MLB.TV?**\nA: Blackout restrictions protect local cable rights. You need cable or specific streaming services.\n\n**Q: Best value for casual fan?**\nA: ESPN+ plus national broadcasts covers good amount affordably.\n\n**Q: Can I watch every game?**\nA: Theoretically yes, but requires MLB.TV + local solution + national games.\n\n**Q: Is MLB.TV worth it?**\nA: For out-of-market fans following one team, absolutely. For local fans, less valuable due to blackouts.\n\nWatch every pitch! Our fully loaded Fire Sticks include comprehensive MLB coverage including local and out-of-market games.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch MLB Baseball Live Stream 2025 | Complete Guide\",\n    metaDescription: \"Stream every MLB game in 2025. Complete guide to watching baseball online with free and paid options.\",\n    keywords: [\"mlb live stream\", \"watch baseball online\", \"mlb streaming\", \"baseball streaming 2025\", \"mlb tv\", \"watch mlb online\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-6mo-2d\"]\n  },\n  {\n    title: \"How to Watch Golf Live Stream: PGA Tour, Majors & More\",\n    slug: \"watch-golf-live-stream-pga-tour\",\n    excerpt: \"Complete guide to streaming golf in 2025. Watch PGA Tour, majors, and international golf from anywhere.\",\n    content: `Golf streaming has never been better. Here's how to catch every major tournament and weekly event.\n\n## Golf Streaming Landscape\n\n### PGA Tour\n**Exclusive on ESPN+**\n- PGA Tour Live (featured groups)\n- All weekly events\n- Multiple camera feeds\n- $10.99/month or $109.99/year\n\n### Network Coverage\n- CBS: Weekend tournament rounds\n- NBC: Select events\n- Golf Channel: Weekday coverage\n- ESPN: Select tournaments\n\n## Major Championships\n\n### The Masters (April)\n- ESPN+ (featured groups)\n- CBS (weekend coverage)\n- Masters app (free, limited)\n- Paramount+ (bonus coverage)\n\n### PGA Championship (May)\n- ESPN (cable)\n- ESPN+ (featured groups)\n- CBS (final rounds)\n\n### U.S. Open (June)\n- NBC/USA Network\n- Peacock (streaming)\n- Featured group coverage\n\n### The Open Championship (July)\n- NBC/USA Network\n- Peacock\n- Early coverage weekday mornings\n\n## Other Tours\n\n### LIV Golf\n- YouTube (free)\n- CW Network\n- LIV Golf Plus app\n- Growing broadcast deals\n\n### DP World Tour (European)\n- NBC/Golf Channel (select)\n- Peacock\n- Limited US coverage\n\n### LPGA Tour\n- Golf Channel\n- Peacock\n- CBS (majors)\n- ESPN+\n\n## Free Golf Streaming\n\n### Always Free\n- LIV Golf on YouTube\n- Masters.com (limited)\n- PGA Tour YouTube highlights\n- Social media clips\n\n### Free Trials\n- ESPN+ trial\n- Peacock trial\n- Paramount+ trial\n- YouTube TV trial\n\n## Golf Channel Access\n\n### How to Get It\n- Cable/satellite packages\n- YouTube TV ($72.99/month)\n- Hulu + Live TV ($76.99/month)\n- Fubo TV ($74.99/month)\n- Sling TV ($40/month)\n\n### What It Covers\n- Weekday PGA Tour coverage\n- Pre/post tournament shows\n- Instruction programming\n- Golf documentaries\n- International coverage\n\n## Best Setup for Golf Viewing\n\n### Why Golf is Different\n- Long events (4-6 hours)\n- Multiple groups to follow\n- Quiet atmosphere\n- Course scenery important\n\n### Optimal Experience\n- Large screen for course views\n- Good audio for commentary\n- Multi-screen option helpful\n- DVR for highlights\n\n### Fire Stick Advantage\n- All golf apps available\n- Picture-in-picture option\n- Low latency\n- Quality streaming\n\n## 2025 Key Dates\n\n### Majors\n- Masters: Second week of April\n- PGA Championship: May\n- U.S. Open: June\n- The Open: July\n\n### Other Key Events\n- Players Championship: March\n- Ryder Cup: Odd years\n- FedEx Cup Playoffs: August-September\n\n## Golf Streaming Tips\n\n### Avoid Spoilers\n- Don't check social media\n- Disable notifications\n- Record and watch delayed\n\n### Enhance Experience\n- Follow live leaderboard\n- Use golf tracker apps\n- Join watch parties\n- Fantasy golf leagues\n\n## FAQ\n\n**Q: Best single subscription for golf?**\nA: ESPN+ covers most PGA Tour content affordably. Add Peacock for majors.\n\n**Q: Can I watch golf for free?**\nA: LIV Golf is free on YouTube. Majors have some free streaming options.\n\n**Q: Is Golf Channel necessary?**\nA: Helpful for comprehensive coverage, but ESPN+ covers most tournaments.\n\nNever miss a major! Our fully loaded Fire Sticks include complete golf coverage from all tours and championships.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Golf Live Stream | PGA Tour & Majors Guide 2025\",\n    metaDescription: \"Complete guide to streaming golf in 2025. Watch PGA Tour, majors, and international golf from any device.\",\n    keywords: [\"golf live stream\", \"pga tour streaming\", \"watch golf online\", \"masters streaming\", \"golf streaming 2025\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  },\n  {\n    title: \"How to Watch Tennis Live Stream: Grand Slams & ATP/WTA\",\n    slug: \"watch-tennis-live-stream-grand-slams\",\n    excerpt: \"Stream all Grand Slams and professional tennis. Complete guide to watching ATP, WTA, and major tournaments.\",\n    content: `Tennis streaming offers global access to the best matches. Here's your complete guide to watching live tennis.\n\n## Grand Slam Coverage\n\n### Australian Open (January)\n- ESPN (US broadcast rights)\n- ESPN+ (streaming)\n- Eurosport (Europe)\n- Nine Network (Australia)\n\n### French Open (May-June)\n- NBC/Peacock (US)\n- Tennis Channel\n- Eurosport (Europe)\n- Amazon Prime (UK)\n\n### Wimbledon (June-July)\n- ESPN/ESPN+ (US)\n- BBC (UK, free)\n- TSN (Canada)\n- Nine Network (Australia)\n\n### US Open (August-September)\n- ESPN/ESPN+ (US exclusive)\n- Eurosport (Europe)\n- TSN (Canada)\n\n## Professional Tours\n\n### ATP Tour (Men's)\n- Tennis Channel (extensive)\n- ESPN+ (select events)\n- Amazon Prime (UK ATP Finals)\n- Peacock (select)\n\n### WTA Tour (Women's)\n- Tennis Channel\n- ESPN+\n- Prime Video (select)\n- Bein Sports (international)\n\n## Streaming Services for Tennis\n\n### Tennis Channel Plus\n- Most comprehensive\n- All ATP/WTA events\n- Commercial-free options\n- $109.99/year\n\n### ESPN+ ($10.99/month)\n- Grand Slams (US)\n- Select ATP/WTA\n- Bundled with Disney+/Hulu\n\n### Peacock ($5.99-$11.99/month)\n- French Open\n- Premier League bonus\n- Select tournaments\n\n## Free Tennis Streaming\n\n### Always Free\n- YouTube highlights\n- Tournament apps (limited)\n- BBC iPlayer (Wimbledon, UK)\n- Free trials\n\n### Free Trial Options\n- ESPN+ (Grand Slams)\n- Peacock\n- Tennis Channel trials\n\n## Best for Tennis Fans\n\n### Complete Coverage Package\n- ESPN+ (Grand Slams)\n- Tennis Channel (tour events)\n- = Most comprehensive\n\n### Budget Option\n- ESPN+ only\n- Catches all Grand Slams\n- Some tour coverage\n- Best value\n\n## Watching Tennis on Fire Stick\n\n### Available Apps\n- ESPN\n- Tennis Channel\n- Peacock\n- Prime Video\n- International apps\n\n### Optimize for Tennis\n- Enable low latency mode\n- Use game mode on TV\n- Ethernet for stability\n- High quality setting\n\n## 2025 Key Dates\n\n### Grand Slams\n- Australian Open: January\n- French Open: May-June\n- Wimbledon: June-July\n- US Open: August-September\n\n### Other Majors\n- Indian Wells: March\n- Miami Open: March\n- ATP/WTA Finals: November\n\n## Multi-Match Viewing\n\n### Simultaneous Matches\n- Tennis Channel offers multi-court\n- Switch between courts\n- Follow favorites\n- Bracket tracking\n\n### Fire Stick Tips\n- Picture-in-picture\n- Quick app switching\n- Set match alerts\n- Use Tennis Channel app\n\n## FAQ\n\n**Q: Best single subscription?**\nA: ESPN+ covers all Grand Slams and some tour events affordably.\n\n**Q: Can I watch for free?**\nA: BBC has Wimbledon free (UK). Otherwise, free trials only.\n\n**Q: Tennis Channel vs ESPN+?**\nA: ESPN+ for Grand Slams, Tennis Channel for comprehensive tour coverage.\n\n**Q: Time zone challenges?**\nA: Australian Open overnight (US), others more manageable. DVR recommended.\n\nNever miss match point! Our fully loaded Fire Sticks include complete tennis coverage from all major tournaments.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Tennis Live Stream | Grand Slams & ATP/WTA Guide\",\n    metaDescription: \"Stream all Grand Slams and professional tennis. Complete guide to watching ATP, WTA, and major tournaments online.\",\n    keywords: [\"tennis live stream\", \"watch tennis online\", \"grand slam streaming\", \"atp streaming\", \"wimbledon stream\", \"us open stream\"],\n    readTime: \"8 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-6mo-2d\"]\n  },\n  {\n    title: \"How to Watch Cricket Live Stream Worldwide 2025\",\n    slug: \"watch-cricket-live-stream-worldwide-2025\",\n    excerpt: \"Stream cricket matches from around the world. IPL, World Cup, Ashes, and all major tournaments covered.\",\n    content: `Cricket is one of the world's most-watched sports. Here's how to stream matches from every major competition.\n\n## Major Cricket Competitions\n\n### ICC Events (International Cricket Council)\n- Cricket World Cup\n- T20 World Cup\n- Champions Trophy\n- World Test Championship\n\n### Domestic Leagues\n- IPL (India Premier League)\n- Big Bash (Australia)\n- The Hundred (England)\n- CPL (Caribbean)\n- PSL (Pakistan)\n\n### Bilateral Series\n- The Ashes (England vs Australia)\n- Border-Gavaskar Trophy (India vs Australia)\n- Various test/ODI/T20 series\n\n## Cricket Streaming by Region\n\n### United States\n**Willow TV** - Primary cricket channel\n- All ICC events\n- IPL coverage\n- Bilateral series\n- $9.99/month\n\n**ESPN+** - Growing coverage\n- Some ICC events\n- Select matches\n- Affordable option\n\n### United Kingdom\n**Sky Sports Cricket** - Comprehensive\n- English cricket\n- ICC events\n- India tours\n- Most international\n\n**BT Sport** - Select coverage\n- Some international\n- Ashes rights\n\n**BBC** - Free highlights\n- Women's cricket\n- Select matches\n\n### India\n**Disney+ Hotstar** - Cricket home\n- IPL exclusive\n- ICC events\n- BCCI coverage\n- 299/year basic\n\n**JioTV** - Select matches\n- Free with Jio\n- Some cricket\n\n### Australia\n**Foxtel/Kayo** - Comprehensive\n- Cricket Australia\n- BBL\n- International tours\n\n**Channel 7** - Free to air\n- Test cricket\n- BBL select\n\n## IPL Streaming 2025\n\n### What is IPL?\n- Indian Premier League\n- World's biggest T20 league\n- March-May annually\n- 10 teams, 74 matches\n\n### Where to Watch\n- USA: Willow TV\n- UK: Sky Sports\n- India: Disney+ Hotstar\n- Australia: Kayo\n- Global: Various rights\n\n### IPL Schedule\n- Matches daily during season\n- Evening matches (India time)\n- Afternoon games weekends\n- Playoffs in May\n\n## Test Cricket\n\n### What Makes It Special\n- 5-day format\n- Ultimate test of skill\n- Historic rivalries\n- Traditional cricket\n\n### Major Test Series\n- The Ashes (every 2 years)\n- Border-Gavaskar Trophy\n- Various bilateral series\n- World Test Championship\n\n### Streaming Test Cricket\n- Long format means sessions\n- Day/night tests gaining popularity\n- DVR essential for full matches\n- Highlights widely available\n\n## Cricket Apps for Fire Stick\n\n### Available Options\n- Willow TV\n- ESPN+\n- Disney+ Hotstar (with VPN)\n- Kayo (Australia)\n- Sky Sports\n\n### Setup Tips\n- Subscribe before matches\n- Test stream quality\n- Check time zones\n- Enable DVR\n\n## Time Zone Challenges\n\n### From US Perspective\n- IPL: Early morning/overnight\n- England cricket: Daytime\n- Australia cricket: Overnight\n\n### Solutions\n- DVR/replay features\n- Highlights packages\n- Watch on delay\n- Weekend catch-up\n\n## FAQ\n\n**Q: Best option for US cricket fans?**\nA: Willow TV is most comprehensive. ESPN+ growing but limited.\n\n**Q: Can I watch IPL free?**\nA: Some platforms have free trials. Hotstar has lowest tier. Otherwise paid.\n\n**Q: What about world cups?**\nA: ICC events on multiple platforms. Willow, ESPN+, and regional broadcasters.\n\nStream every ball! Our fully loaded Fire Sticks include cricket coverage from leagues and tournaments worldwide.`,\n    category: \"Sports\",\n    featured: false,\n    published: true,\n    metaTitle: \"Watch Cricket Live Stream 2025 | IPL, World Cup & More\",\n    metaDescription: \"Stream cricket matches from around the world. IPL, World Cup, Ashes, and all major tournaments covered.\",\n    keywords: [\"cricket live stream\", \"watch cricket online\", \"ipl streaming\", \"cricket world cup stream\", \"watch ipl online\", \"cricket streaming 2025\"],\n    readTime: \"9 min read\",\n    linkedProductIds: [\"fs-4k\", \"iptv-1yr-2d\"]\n  }\n];\n\n// Export all posts combined\nexport const allBlogPosts = [\n  ...pillar1_streamingDevices,\n  ...pillar2_sports,\n  ...pillar3_cordCutting,\n  ...pillar4_entertainment,\n  ...pillar5_family,\n  ...pillar6_regional,\n  ...pillar7_seasonal,\n  ...pillar8_privacy,\n  ...pillar9_international,\n  ...pillar10_moreSports\n];\n\n// Seed function\nexport async function seedMassiveBlog() {\n  console.log(\"Starting massive blog seed...\");\n  console.log(`Total posts to insert: ${allBlogPosts.length}`);\n  \n  let successCount = 0;\n  let errorCount = 0;\n  \n  for (const post of allBlogPosts) {\n    try {\n      // Check if post exists\n      const existing = await storage.getBlogPostBySlug(post.slug);\n      if (existing) {\n        console.log(`Skipping existing: ${post.slug}`);\n        continue;\n      }\n      \n      // Calculate read time from content\n      const wordCount = post.content.split(/\\s+/).length;\n      const calculatedReadTime = `${Math.ceil(wordCount / 200)} min read`;\n      \n      await storage.createBlogPost({\n        ...post,\n        readTime: post.readTime || calculatedReadTime,\n        publishedAt: new Date(),\n      });\n      \n      successCount++;\n      console.log(`Created: ${post.slug}`);\n    } catch (error) {\n      errorCount++;\n      console.error(`Error creating ${post.slug}:`, error);\n    }\n  }\n  \n  console.log(`\\nSeed complete!`);\n  console.log(`Success: ${successCount}`);\n  console.log(`Errors: ${errorCount}`);\n  \n  return { successCount, errorCount };\n}\n","path":null,"size_bytes":206709,"size_tokens":null},"client/src/pages/TermsOfService.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft } from \"lucide-react\";\n\nexport default function TermsOfService() {\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    const title = \"Terms of Service | StreamStickPro\";\n    const description = \"Read the Terms of Service for StreamStickPro. Understand our policies on orders, digital delivery, service availability, and user responsibilities.\";\n    const url = \"https://streamstickpro.com/terms\";\n    \n    document.title = title;\n    document.documentElement.classList.remove(\"shadow-theme\");\n    document.documentElement.classList.add(\"dark\");\n    \n    const setMetaTag = (name: string, content: string, isProperty = false) => {\n      const attr = isProperty ? 'property' : 'name';\n      let tag = document.querySelector(`meta[${attr}=\"${name}\"]`);\n      if (!tag) {\n        tag = document.createElement('meta');\n        tag.setAttribute(attr, name);\n        document.head.appendChild(tag);\n      }\n      tag.setAttribute('content', content);\n    };\n    \n    let canonical = document.querySelector('link[rel=\"canonical\"]') as HTMLLinkElement;\n    if (!canonical) {\n      canonical = document.createElement('link');\n      canonical.setAttribute('rel', 'canonical');\n      document.head.appendChild(canonical);\n    }\n    canonical.setAttribute('href', url);\n    \n    setMetaTag('description', description);\n    setMetaTag('og:title', title, true);\n    setMetaTag('og:description', description, true);\n    setMetaTag('og:url', url, true);\n    setMetaTag('og:type', 'website', true);\n    setMetaTag('twitter:title', title);\n    setMetaTag('twitter:description', description);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <nav className=\"border-b border-gray-800 sticky top-0 z-10 bg-gray-900/95 backdrop-blur\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center gap-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setLocation(\"/\")}\n            className=\"text-gray-400 hover:text-white\"\n            data-testid=\"button-back-home\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back\n          </Button>\n          <h1 className=\"text-2xl font-bold\" data-testid=\"heading-terms\">Terms of Service</h1>\n        </div>\n      </nav>\n\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"prose prose-invert max-w-none\" data-testid=\"content-terms\">\n          <p className=\"text-gray-400 mb-8\">Last updated: December 2025</p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">1. Acceptance of Terms</h2>\n          <p className=\"text-gray-300 mb-4\">\n            By accessing and using StreamStickPro's website and services, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">2. Products and Services</h2>\n          <p className=\"text-gray-300 mb-4\">\n            StreamStickPro provides pre-configured streaming devices and IPTV subscription services. Our products are designed for easy setup and come with digital credentials and support.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">3. Orders and Payment</h2>\n          <p className=\"text-gray-300 mb-4\">\n            All orders are subject to acceptance and availability. Prices are displayed in USD. Payment is processed securely through Stripe. Upon successful payment, you will receive order confirmation and product credentials via email.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">4. Digital Delivery</h2>\n          <p className=\"text-gray-300 mb-4\">\n            IPTV credentials and setup instructions are delivered digitally via email within minutes of purchase. Physical Fire Stick devices are shipped separately. Digital products are delivered immediately and cannot be returned once credentials are issued.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">5. User Responsibilities</h2>\n          <p className=\"text-gray-300 mb-4\">\n            You are responsible for maintaining the confidentiality of your account credentials. You agree not to share, resell, or redistribute your subscription credentials to third parties.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">6. Service Availability</h2>\n          <p className=\"text-gray-300 mb-4\">\n            While we strive to provide uninterrupted service, we do not guarantee 100% uptime. Service may be temporarily unavailable due to maintenance, technical issues, or factors beyond our control.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">7. Limitation of Liability</h2>\n          <p className=\"text-gray-300 mb-4\">\n            StreamStickPro shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of our products or services. Our total liability shall not exceed the amount paid for the specific product or service.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">8. Changes to Terms</h2>\n          <p className=\"text-gray-300 mb-4\">\n            We reserve the right to modify these terms at any time. Continued use of our services after changes constitutes acceptance of the new terms.\n          </p>\n\n          <h2 className=\"text-xl font-bold text-white mt-8 mb-4\">9. Contact</h2>\n          <p className=\"text-gray-300 mb-4\">\n            For questions about these Terms of Service, please contact our support team through the website chat or email.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5898,"size_tokens":null},"script/full-sync.ts":{"content":"import { Octokit } from '@octokit/rest';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nlet connectionSettings: any;\n\nasync function getAccessToken() {\n  if (connectionSettings && connectionSettings.settings.expires_at && new Date(connectionSettings.settings.expires_at).getTime() > Date.now()) {\n    return connectionSettings.settings.access_token;\n  }\n  \n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  if (!xReplitToken) {\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  connectionSettings = await fetch(\n    'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=github',\n    {\n      headers: {\n        'Accept': 'application/json',\n        'X_REPLIT_TOKEN': xReplitToken\n      }\n    }\n  ).then(res => res.json()).then(data => data.items?.[0]);\n\n  const accessToken = connectionSettings?.settings?.access_token || connectionSettings.settings?.oauth?.credentials?.access_token;\n\n  if (!connectionSettings || !accessToken) {\n    throw new Error('GitHub not connected');\n  }\n  return accessToken;\n}\n\nasync function getUncachableGitHubClient() {\n  const accessToken = await getAccessToken();\n  return new Octokit({ auth: accessToken });\n}\n\nconst OWNER = 'reloadedfiretvteam-hash';\nconst REPO = 'streamerstickprofinal';\nconst BRANCH = 'clean-main';\n\nconst filesToPush = [\n  // Worker files\n  'worker/index.ts',\n  'worker/db.ts',\n  'worker/storage.ts',\n  'worker/email.ts',\n  'worker/helpers.ts',\n  'worker/routes/products.ts',\n  'worker/routes/checkout.ts',\n  'worker/routes/orders.ts',\n  'worker/routes/admin.ts',\n  'worker/routes/webhook.ts',\n  'worker/routes/visitors.ts',\n  'worker/routes/customers.ts',\n  'worker/routes/trial.ts',\n  'worker/routes/auth.ts',\n  'worker/routes/blog.ts',\n  \n  // Config files\n  'wrangler.toml',\n  'package.json',\n  'tsconfig.json',\n  'vite.config.ts',\n  'vite.config.cloudflare.ts',\n  'tailwind.config.ts',\n  'postcss.config.js',\n  'drizzle.config.ts',\n  \n  // Build scripts\n  'script/build-worker.ts',\n  \n  // Server files\n  'server/index.ts',\n  'server/routes.ts',\n  'server/storage.ts',\n  'server/db.ts',\n  'server/seed-products.ts',\n  'server/seedBlog.ts',\n  'server/webhookHandlers.ts',\n  'server/emailService.ts',\n  'server/stripeClient.ts',\n  'server/stripeClient.cloudflare.ts',\n  'server/resendClient.ts',\n  'server/resendClient.cloudflare.ts',\n  \n  // Shared schema\n  'shared/schema.ts',\n  \n  // Client core files\n  'client/index.html',\n  'client/src/main.tsx',\n  'client/src/App.tsx',\n  'client/src/index.css',\n  \n  // Client pages\n  'client/src/pages/MainStore.tsx',\n  'client/src/pages/ShadowStore.tsx',\n  'client/src/pages/Checkout.tsx',\n  'client/src/pages/Success.tsx',\n  'client/src/pages/AdminPanel.tsx',\n  'client/src/pages/CustomerLogin.tsx',\n  'client/src/pages/CustomerPortal.tsx',\n  'client/src/pages/Blog.tsx',\n  'client/src/pages/BlogPost.tsx',\n  \n  // Client lib\n  'client/src/lib/api.ts',\n  'client/src/lib/store.ts',\n  'client/src/lib/supabase.ts',\n  'client/src/lib/utils.ts',\n];\n\nasync function getFileSha(octokit: Octokit, filePath: string): Promise<string | null> {\n  try {\n    const { data } = await octokit.repos.getContent({\n      owner: OWNER,\n      repo: REPO,\n      path: filePath,\n      ref: BRANCH,\n    });\n    if (!Array.isArray(data) && 'sha' in data) {\n      return data.sha;\n    }\n    return null;\n  } catch (error: any) {\n    if (error.status === 404) {\n      return null;\n    }\n    throw error;\n  }\n}\n\nasync function pushFile(octokit: Octokit, filePath: string) {\n  const fullPath = path.join(process.cwd(), filePath);\n  if (!fs.existsSync(fullPath)) {\n    console.log(`Skipping ${filePath} - file not found`);\n    return;\n  }\n  \n  const content = fs.readFileSync(fullPath);\n  const base64Content = content.toString('base64');\n  \n  const existingSha = await getFileSha(octokit, filePath);\n  \n  console.log(`Pushing ${filePath}...`);\n  \n  try {\n    await octokit.repos.createOrUpdateFileContents({\n      owner: OWNER,\n      repo: REPO,\n      path: filePath,\n      message: `Sync ${filePath} from Replit`,\n      content: base64Content,\n      branch: BRANCH,\n      ...(existingSha && { sha: existingSha }),\n    });\n    console.log(`  Done: ${filePath}`);\n  } catch (error: any) {\n    console.error(`Error pushing ${filePath}: ${error.message}`);\n  }\n}\n\nasync function main() {\n  const octokit = await getUncachableGitHubClient();\n  \n  console.log(`Syncing ${filesToPush.length} files to ${OWNER}/${REPO}@${BRANCH}...`);\n  \n  for (const filePath of filesToPush) {\n    await pushFile(octokit, filePath);\n  }\n  \n  console.log('\\nSync complete! Cloudflare should automatically deploy.');\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":4852,"size_tokens":null},"script/upload-onn-images.ts":{"content":"import { createClient } from '@supabase/supabase-js';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst supabaseUrl = 'https://emlqlmfzqsnqokrqvmcm.supabase.co';\nconst supabaseKey = process.env.SUPABASE_SERVICE_KEY;\n\nif (!supabaseKey) {\n  console.log('SUPABASE_SERVICE_KEY not found, trying VITE_SUPABASE_ANON_KEY...');\n}\n\nconst key = supabaseKey || process.env.VITE_SUPABASE_ANON_KEY;\nif (!key) {\n  console.error('No Supabase key found');\n  process.exit(1);\n}\n\nconst supabase = createClient(supabaseUrl, key);\n\nasync function uploadImage(localPath: string, remoteName: string) {\n  const fullPath = path.join(process.cwd(), localPath);\n  if (!fs.existsSync(fullPath)) {\n    console.log(`File not found: ${fullPath}`);\n    return;\n  }\n  \n  const fileBuffer = fs.readFileSync(fullPath);\n  console.log(`Uploading ${remoteName}...`);\n  \n  const { data, error } = await supabase.storage\n    .from('imiges')\n    .upload(remoteName, fileBuffer, {\n      contentType: 'image/webp',\n      upsert: true\n    });\n    \n  if (error) {\n    console.error(`Error uploading ${remoteName}:`, error.message);\n  } else {\n    console.log(`Uploaded: ${remoteName}`);\n  }\n}\n\nasync function main() {\n  await uploadImage('attached_assets/s-l1600onnbok_1766008738774.webp', 'onn-4k-streaming.webp');\n  await uploadImage('attached_assets/OIPonnbox4k_1766008832103.webp', 'onn-4k-ultra-hd.webp');\n  console.log('Done!');\n}\n\nmain().catch(console.error);\n","path":null,"size_bytes":1436,"size_tokens":null},"client/src/pages/ForgotPassword.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, Mail, CheckCircle, ArrowLeft } from \"lucide-react\";\n\nexport default function ForgotPassword() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  \n  const [isLoading, setIsLoading] = useState(false);\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/forgot-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Failed to send reset email\");\n      }\n\n      setIsEmailSent(true);\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isEmailSent) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n          <CardHeader className=\"text-center\">\n            <CheckCircle className=\"h-12 w-12 text-green-500 mx-auto mb-4\" />\n            <CardTitle className=\"text-xl text-white\">Check Your Email</CardTitle>\n            <CardDescription className=\"text-gray-400\">\n              If an account exists with <span className=\"text-orange-400\">{email}</span>, \n              you will receive a password reset link shortly.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <p className=\"text-sm text-gray-500 text-center\">\n              Didn't receive the email? Check your spam folder or try again.\n            </p>\n            <div className=\"flex flex-col gap-2\">\n              <Button\n                onClick={() => setIsEmailSent(false)}\n                variant=\"outline\"\n                className=\"w-full border-gray-600 text-gray-300 hover:bg-gray-700\"\n                data-testid=\"button-try-again\"\n              >\n                Try Different Email\n              </Button>\n              <Button\n                onClick={() => navigate(\"/customer-login\")}\n                className=\"w-full bg-orange-500 hover:bg-orange-600\"\n                data-testid=\"button-back-to-login\"\n              >\n                Back to Login\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl text-white\">Forgot Password?</CardTitle>\n          <CardDescription className=\"text-gray-400\">\n            Enter your email address and we'll send you a link to reset your password.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\" className=\"text-gray-300\">\n                Email Address\n              </Label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                <Input\n                  id=\"email\"\n                  data-testid=\"input-forgot-email\"\n                  type=\"email\"\n                  placeholder=\"Enter your email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                  required\n                />\n              </div>\n            </div>\n\n            <Button\n              type=\"submit\"\n              data-testid=\"button-send-reset-link\"\n              className=\"w-full bg-orange-500 hover:bg-orange-600\"\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Sending...\n                </>\n              ) : (\n                \"Send Reset Link\"\n              )}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <Button\n              variant=\"link\"\n              className=\"text-gray-400 hover:text-white\"\n              onClick={() => navigate(\"/customer-login\")}\n              data-testid=\"link-back-to-login\"\n            >\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Login\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":5304,"size_tokens":null},"scripts/run-supabase-migration.ts":{"content":"/**\n * Supabase Database Migration Script\n * Runs via GitHub Actions to create/update tables in production Supabase\n * \n * Required environment variable:\n * - SUPABASE_DATABASE_URL: Direct PostgreSQL connection string\n */\n\nimport postgres from 'postgres';\n\nasync function runMigration() {\n  const databaseUrl = process.env.SUPABASE_DATABASE_URL;\n  \n  if (!databaseUrl) {\n    console.error(' SUPABASE_DATABASE_URL environment variable is required');\n    console.error('   Set this in GitHub Secrets with your Supabase connection string');\n    console.error('   Format: postgresql://postgres.[project-ref]:[password]@[host]:5432/postgres');\n    process.exit(1);\n  }\n\n  console.log(' Connecting to Supabase PostgreSQL...');\n  \n  const sql = postgres(databaseUrl, { \n    ssl: 'require',\n    max: 1,\n    idle_timeout: 20\n  });\n\n  try {\n    // Test connection\n    const dbInfo = await sql`SELECT current_database() as db, current_user as user`;\n    console.log(` Connected to database: ${dbInfo[0].db} as ${dbInfo[0].user}`);\n\n    console.log('\\n Creating tables...\\n');\n\n    // Create customers table\n    await sql`\n      CREATE TABLE IF NOT EXISTS customers (\n        id TEXT PRIMARY KEY DEFAULT gen_random_uuid()::text,\n        username TEXT UNIQUE NOT NULL,\n        password TEXT NOT NULL,\n        email TEXT NOT NULL,\n        full_name TEXT,\n        phone TEXT,\n        status TEXT DEFAULT 'active',\n        notes TEXT,\n        total_orders INTEGER DEFAULT 0,\n        last_order_at TIMESTAMPTZ,\n        created_at TIMESTAMPTZ DEFAULT NOW(),\n        updated_at TIMESTAMPTZ DEFAULT NOW()\n      )\n    `;\n    console.log(' customers table');\n\n    await sql`CREATE INDEX IF NOT EXISTS customers_email_idx ON customers (email)`;\n    await sql`CREATE INDEX IF NOT EXISTS customers_status_idx ON customers (status)`;\n    await sql`CREATE INDEX IF NOT EXISTS customers_username_idx ON customers (username)`;\n\n    // Create password_reset_tokens table\n    await sql`\n      CREATE TABLE IF NOT EXISTS password_reset_tokens (\n        id TEXT PRIMARY KEY DEFAULT gen_random_uuid()::text,\n        customer_id TEXT NOT NULL,\n        token TEXT UNIQUE NOT NULL,\n        expires_at TIMESTAMPTZ NOT NULL,\n        used BOOLEAN DEFAULT false,\n        created_at TIMESTAMPTZ DEFAULT NOW()\n      )\n    `;\n    console.log(' password_reset_tokens table');\n\n    await sql`CREATE INDEX IF NOT EXISTS password_reset_customer_idx ON password_reset_tokens (customer_id)`;\n    await sql`CREATE INDEX IF NOT EXISTS password_reset_token_idx ON password_reset_tokens (token)`;\n\n    // Create abandoned_carts table\n    await sql`\n      CREATE TABLE IF NOT EXISTS abandoned_carts (\n        id TEXT PRIMARY KEY DEFAULT gen_random_uuid()::text,\n        email TEXT NOT NULL,\n        customer_name TEXT,\n        cart_items JSONB NOT NULL,\n        total_amount INTEGER NOT NULL,\n        recovery_email_sent BOOLEAN DEFAULT false,\n        recovery_email_sent_at TIMESTAMPTZ,\n        converted BOOLEAN DEFAULT false,\n        converted_order_id TEXT,\n        created_at TIMESTAMPTZ DEFAULT NOW(),\n        updated_at TIMESTAMPTZ DEFAULT NOW()\n      )\n    `;\n    console.log(' abandoned_carts table');\n\n    await sql`CREATE INDEX IF NOT EXISTS abandoned_carts_email_idx ON abandoned_carts (email)`;\n    await sql`CREATE INDEX IF NOT EXISTS abandoned_carts_recovery_idx ON abandoned_carts (recovery_email_sent, converted)`;\n\n    // Add columns to orders table if missing\n    await sql`ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_id TEXT`;\n    await sql`ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_message TEXT`;\n    await sql`ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_phone TEXT`;\n    await sql`CREATE INDEX IF NOT EXISTS orders_customer_id_idx ON orders (customer_id)`;\n    console.log(' orders table columns');\n\n    // Enable RLS with permissive policies\n    const tables = ['customers', 'password_reset_tokens', 'abandoned_carts'];\n    for (const table of tables) {\n      await sql`ALTER TABLE ${sql(table)} ENABLE ROW LEVEL SECURITY`;\n      await sql`\n        DO $$ \n        BEGIN\n          IF NOT EXISTS (SELECT 1 FROM pg_policies WHERE tablename = ${table} AND policyname = 'Allow all access') THEN\n            EXECUTE format('CREATE POLICY \"Allow all access\" ON %I FOR ALL USING (true)', ${table});\n          END IF;\n        END $$\n      `;\n    }\n    console.log(' Row Level Security enabled');\n\n    // Verify table counts\n    console.log('\\n Table verification:');\n    const counts = await sql`\n      SELECT \n        (SELECT count(*)::int FROM customers) as customers,\n        (SELECT count(*)::int FROM password_reset_tokens) as tokens,\n        (SELECT count(*)::int FROM abandoned_carts) as carts,\n        (SELECT count(*)::int FROM orders) as orders\n    `;\n    console.log(`   customers: ${counts[0].customers} rows`);\n    console.log(`   password_reset_tokens: ${counts[0].tokens} rows`);\n    console.log(`   abandoned_carts: ${counts[0].carts} rows`);\n    console.log(`   orders: ${counts[0].orders} rows`);\n\n    await sql.end();\n    console.log('\\n Migration complete!');\n    \n  } catch (error: any) {\n    console.error('\\n Migration failed:', error.message);\n    await sql.end();\n    process.exit(1);\n  }\n}\n\nrunMigration();\n","path":null,"size_bytes":5260,"size_tokens":null},"GITHUB_SECRETS.md":{"content":"# GitHub Secrets Configuration\n\nThis document lists all the secrets required to run StreamStickPro independently via GitHub Actions, deploying to Cloudflare Pages with Supabase as the database.\n\n## Required Secrets\n\nAdd these secrets in your GitHub repository: **Settings  Secrets and variables  Actions  New repository secret**\n\n### Cloudflare (Deployment)\n\n| Secret Name | Description | Where to Find |\n|-------------|-------------|---------------|\n| `CLOUDFLARE_API_TOKEN` | Cloudflare API token with Pages permissions | Cloudflare Dashboard  Profile  API Tokens |\n| `CLOUDFLARE_ACCOUNT_ID` | Your Cloudflare account ID | Cloudflare Dashboard  any domain  Overview  right sidebar |\n\n### Supabase (Database)\n\n| Secret Name | Description | Where to Find |\n|-------------|-------------|---------------|\n| `SUPABASE_DATABASE_URL` | Direct PostgreSQL connection string | Supabase Dashboard  Project Settings  Database  Connection string (URI) |\n| `VITE_SUPABASE_URL` | Supabase project URL | Supabase Dashboard  Project Settings  API  Project URL |\n| `VITE_SUPABASE_ANON_KEY` | Supabase anonymous/public key | Supabase Dashboard  Project Settings  API  anon public key |\n| `SUPABASE_SERVICE_KEY` | Supabase service role key (server-side) | Supabase Dashboard  Project Settings  API  service_role key |\n\n**SUPABASE_DATABASE_URL Format:**\n```\npostgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres\n```\n\n### Stripe (Payments)\n\n| Secret Name | Description | Where to Find |\n|-------------|-------------|---------------|\n| `STRIPE_SECRET_KEY` | Stripe secret API key | Stripe Dashboard  Developers  API Keys |\n| `STRIPE_PUBLISHABLE_KEY` | Stripe publishable key | Stripe Dashboard  Developers  API Keys |\n| `STRIPE_WEBHOOK_SECRET` | Webhook signing secret | Stripe Dashboard  Developers  Webhooks  endpoint  Signing secret |\n\n### Resend (Email)\n\n| Secret Name | Description | Where to Find |\n|-------------|-------------|---------------|\n| `RESEND_API_KEY` | Resend API key for sending emails | Resend Dashboard  API Keys |\n\n### Application Security\n\n| Secret Name | Description | Recommended Value |\n|-------------|-------------|-------------------|\n| `ADMIN_USERNAME` | Admin panel login username | Your choice |\n| `ADMIN_PASSWORD` | Admin panel login password | Strong password (16+ chars) |\n| `SESSION_SECRET` | Session encryption key | Random 32+ character string |\n| `JWT_SECRET` | JWT token signing key | Random 32+ character string |\n\n## Generate Secure Secrets\n\nRun this command to generate random secrets:\n\n```bash\n# Generate random secret\nopenssl rand -base64 32\n```\n\n## Verify Setup\n\nAfter adding all secrets, push to the `clean-main` branch. The GitHub Actions workflow will:\n\n1. Run database migrations on Supabase\n2. Build the application\n3. Deploy to Cloudflare Pages\n4. Sync secrets to Cloudflare Pages environment\n\n## Manual Migration\n\nTo run migrations manually:\n\n1. Go to **Actions** tab in GitHub\n2. Select **Run Database Migration**\n3. Click **Run workflow**\n\n## Architecture\n\n```\nGitHub Repository (clean-main branch)\n    \nGitHub Actions (build + migrate)\n    \n\n                                         \n  Cloudflare Pages       Supabase   \n  (Frontend + API)          (PostgreSQL) \n                                         \n  Custom Domain:                         \n  streamstickpro.com                     \n  secure.streamstickpro.com              \n                                         \n\n```\n\n## No Replit Dependencies\n\nThis system runs entirely on:\n- **GitHub** - Code repository and CI/CD\n- **Cloudflare** - Hosting and edge functions\n- **Supabase** - PostgreSQL database\n- **Stripe** - Payment processing\n- **Resend** - Transactional emails\n\nNo Replit services are used in production.\n","path":null,"size_bytes":4165,"size_tokens":null},"client/src/pages/ResetPassword.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation, useSearch } from \"wouter\";\nimport { apiCall } from \"@/lib/api\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, Lock, CheckCircle, XCircle } from \"lucide-react\";\n\nexport default function ResetPassword() {\n  const [, navigate] = useLocation();\n  const search = useSearch();\n  const { toast } = useToast();\n  \n  const [isLoading, setIsLoading] = useState(false);\n  const [isVerifying, setIsVerifying] = useState(true);\n  const [isValidToken, setIsValidToken] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    newPassword: \"\",\n    confirmPassword: \"\",\n  });\n\n  const token = new URLSearchParams(search).get(\"token\");\n\n  useEffect(() => {\n    if (!token) {\n      setIsVerifying(false);\n      return;\n    }\n\n    const verifyToken = async () => {\n      try {\n        const response = await apiCall(`/api/customer/verify-reset-token?token=${token}`);\n        const data = await response.json();\n        setIsValidToken(data.valid);\n      } catch (error) {\n        setIsValidToken(false);\n      } finally {\n        setIsVerifying(false);\n      }\n    };\n\n    verifyToken();\n  }, [token]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (formData.newPassword !== formData.confirmPassword) {\n      toast({\n        title: \"Password Mismatch\",\n        description: \"Passwords do not match.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (formData.newPassword.length < 6) {\n      toast({\n        title: \"Password Too Short\",\n        description: \"Password must be at least 6 characters.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await apiCall(\"/api/customer/reset-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          token,\n          newPassword: formData.newPassword,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Failed to reset password\");\n      }\n\n      setIsSuccess(true);\n      toast({\n        title: \"Password Reset\",\n        description: \"Your password has been reset successfully.\",\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Reset Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isVerifying) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col items-center gap-4\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\n              <p className=\"text-gray-400\">Verifying reset link...</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!token || !isValidToken) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n          <CardHeader className=\"text-center\">\n            <XCircle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <CardTitle className=\"text-xl text-white\">Invalid or Expired Link</CardTitle>\n            <CardDescription className=\"text-gray-400\">\n              This password reset link is invalid or has expired. Please request a new one.\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button\n              onClick={() => navigate(\"/customer-login\")}\n              className=\"w-full bg-orange-500 hover:bg-orange-600\"\n              data-testid=\"button-back-to-login\"\n            >\n              Back to Login\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (isSuccess) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n          <CardHeader className=\"text-center\">\n            <CheckCircle className=\"h-12 w-12 text-green-500 mx-auto mb-4\" />\n            <CardTitle className=\"text-xl text-white\">Password Reset Successfully</CardTitle>\n            <CardDescription className=\"text-gray-400\">\n              Your password has been updated. You can now log in with your new password.\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button\n              onClick={() => navigate(\"/customer-login\")}\n              className=\"w-full bg-orange-500 hover:bg-orange-600\"\n              data-testid=\"button-go-to-login\"\n            >\n              Go to Login\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md bg-gray-800/50 border-gray-700\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl text-white\">Create New Password</CardTitle>\n          <CardDescription className=\"text-gray-400\">\n            Enter your new password below\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"new-password\" className=\"text-gray-300\">\n                New Password\n              </Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                <Input\n                  id=\"new-password\"\n                  data-testid=\"input-new-password\"\n                  type=\"password\"\n                  placeholder=\"Enter new password (min 6 chars)\"\n                  value={formData.newPassword}\n                  onChange={(e) => setFormData({ ...formData, newPassword: e.target.value })}\n                  className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirm-password\" className=\"text-gray-300\">\n                Confirm Password\n              </Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\n                <Input\n                  id=\"confirm-password\"\n                  data-testid=\"input-confirm-password\"\n                  type=\"password\"\n                  placeholder=\"Confirm new password\"\n                  value={formData.confirmPassword}\n                  onChange={(e) => setFormData({ ...formData, confirmPassword: e.target.value })}\n                  className=\"pl-10 bg-gray-700 border-gray-600 text-white\"\n                  required\n                />\n              </div>\n            </div>\n\n            <Button\n              type=\"submit\"\n              data-testid=\"button-reset-password\"\n              className=\"w-full bg-orange-500 hover:bg-orange-600\"\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Resetting Password...\n                </>\n              ) : (\n                \"Reset Password\"\n              )}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <Button\n              variant=\"link\"\n              className=\"text-gray-400 hover:text-white\"\n              onClick={() => navigate(\"/customer-login\")}\n              data-testid=\"link-back-to-login\"\n            >\n              Back to Login\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":8399,"size_tokens":null},"scripts/add-missing-columns.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nconst SUPABASE_URL = 'https://emlqlmfzqsnqokrqvmcm.supabase.co';\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY!;\n\nasync function addMissingColumns() {\n  console.log('=== ADDING MISSING COLUMNS VIA SUPABASE RPC ===\\n');\n  \n  const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY);\n  \n  // Try the SQL RPC endpoint\n  console.log('Attempting to add columns via RPC...');\n  \n  // Method 1: Try direct SQL via fetch to the SQL API\n  const sqlStatements = `\n    ALTER TABLE public.orders ADD COLUMN IF NOT EXISTS customer_message text;\n    ALTER TABLE public.orders ADD COLUMN IF NOT EXISTS customer_phone text;\n  `;\n  \n  try {\n    const response = await fetch(`${SUPABASE_URL}/rest/v1/rpc/sql`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'apikey': SUPABASE_SERVICE_KEY,\n        'Authorization': `Bearer ${SUPABASE_SERVICE_KEY}`,\n      },\n      body: JSON.stringify({ q: sqlStatements }),\n    });\n    \n    if (response.ok) {\n      console.log(' SQL RPC succeeded!');\n      const result = await response.json();\n      console.log('Result:', result);\n    } else {\n      const errorText = await response.text();\n      console.log('SQL RPC failed:', response.status, errorText);\n      \n      // Try alternative approach - pg_query function\n      console.log('\\nTrying pg_query approach...');\n      const pgResponse = await fetch(`${SUPABASE_URL}/rest/v1/rpc/pg_query`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'apikey': SUPABASE_SERVICE_KEY,\n          'Authorization': `Bearer ${SUPABASE_SERVICE_KEY}`,\n        },\n        body: JSON.stringify({ query: sqlStatements }),\n      });\n      \n      if (pgResponse.ok) {\n        console.log(' pg_query succeeded!');\n      } else {\n        console.log('pg_query failed:', pgResponse.status, await pgResponse.text());\n      }\n    }\n  } catch (error) {\n    console.error('Error:', error);\n  }\n  \n  // Verify columns now exist\n  console.log('\\n=== VERIFICATION ===');\n  const { data, error } = await supabase.from('orders').select('customer_message, customer_phone').limit(1);\n  if (error) {\n    console.log(' Columns still missing:', error.message);\n  } else {\n    console.log(' Columns exist! Orders table is ready.');\n  }\n}\n\naddMissingColumns();\n","path":null,"size_bytes":2382,"size_tokens":null},"scripts/run-migration.ts":{"content":"import postgres from 'postgres';\n\nconst passwords = [\n  'Starluna11$$',\n  'mJZK7p8M0yxRCpo+yqVNQP5I9fab8LZB73kI5hhj417dmh7PQQtByNS8szRSrwJSPXHg1NfQc589D6YQEyWycQ==',\n];\n\nconst connectionConfigs: string[] = [];\nfor (const pw of passwords) {\n  const encodedPw = encodeURIComponent(pw);\n  connectionConfigs.push(`postgresql://postgres.emlqlmfzqsnqokrqvmcm:${encodedPw}@aws-0-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require`);\n  connectionConfigs.push(`postgresql://postgres.emlqlmfzqsnqokrqvmcm:${encodedPw}@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require`);\n}\n\nasync function tryConnection(connString: string): Promise<boolean> {\n  console.log('Trying:', connString.substring(0, 70) + '...');\n  const sql = postgres(connString, { \n    ssl: 'require', \n    connect_timeout: 15,\n    idle_timeout: 5\n  });\n  try {\n    const result = await sql`SELECT current_database() as db`;\n    console.log(' Connected! Database:', result[0].db);\n    \n    await sql`ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_message TEXT`;\n    console.log(' Added customer_message column');\n    \n    await sql`ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_phone TEXT`;\n    console.log(' Added customer_phone column');\n    \n    const cols = await sql`SELECT column_name FROM information_schema.columns WHERE table_name = 'orders' AND column_name IN ('customer_message', 'customer_phone')`;\n    console.log(' Verified columns:', cols.map((c: any) => c.column_name).join(', '));\n    \n    await sql.end();\n    console.log(' Migration complete!');\n    return true;\n  } catch (e: any) {\n    console.log(' Failed:', e.message);\n    try { await sql.end(); } catch {}\n    return false;\n  }\n}\n\nasync function main() {\n  for (const conn of connectionConfigs) {\n    const success = await tryConnection(conn);\n    if (success) {\n      process.exit(0);\n    }\n  }\n  console.log('All connection attempts failed');\n  process.exit(1);\n}\n\nmain();\n","path":null,"size_bytes":1958,"size_tokens":null}},"version":2}